import{g as ko}from"./vendor-react-D380Hx73.js";function So(Nr,ta){for(var Cr=0;Cr<ta.length;Cr++){const xr=ta[Cr];if(typeof xr!="string"&&!Array.isArray(xr)){for(const or in xr)if(or!=="default"&&!(or in Nr)){const $=Object.getOwnPropertyDescriptor(xr,or);$&&Object.defineProperty(Nr,or,$.get?$:{enumerable:!0,get:()=>xr[or]})}}}return Object.freeze(Object.defineProperty(Nr,Symbol.toStringTag,{value:"Module"}))}var mi={exports:{}};(function(Nr,ta){/*! For license information please see plotly-gl2d.min.js.LICENSE.txt */(function(Cr,xr){Nr.exports=xr()})(self,function(){return function(){var Cr={6713:function($,F,m){var L=m(34809),D={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var E in D){var T=E.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");L.addStyleRule(T,D[E])}},14187:function($,F,m){$.exports=m(47908)},38847:function($,F,m){$.exports=m(29698)},67549:function($,F,m){$.exports=m(17430)},66200:function($,F,m){$.exports=m(42849)},13430:function($,F,m){$.exports=m(50453)},53939:function($,F,m){$.exports=m(72892)},58336:function($,F,m){var L=m(67549);L.register([m(44001),m(97281),m(12345),m(53939),m(29117),m(14187),m(66200),m(13430),m(90590),m(38847)]),$.exports=L},29117:function($,F,m){$.exports=m(83910)},12345:function($,F,m){$.exports=m(15186)},44001:function($,F,m){$.exports=m(52378)},90590:function($,F,m){$.exports=m(99855)},97281:function($,F,m){$.exports=m(91450)},11645:function($){$.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50222:function($,F,m){var L=m(11645),D=m(80337),E=m(54826),T=m(78032).templatedArray;m(35081),$.exports=T("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:D({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:L.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:L.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",E.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",E.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",E.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",E.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:D({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},60317:function($,F,m){var L=m(34809),D=m(29714),E=m(3377).draw;function T(M){var b=M._fullLayout;L.filterVisible(b.annotations).forEach(function(a){var t=D.getFromId(M,a.xref),u=D.getFromId(M,a.yref),i=D.getRefType(a.xref),l=D.getRefType(a.yref);a._extremes={},i==="range"&&k(a,t),l==="range"&&k(a,u)})}function k(M,b){var a,t=b._id,u=t.charAt(0),i=M[u],l=M["a"+u],d=M[u+"ref"],v=M["a"+u+"ref"],y=M["_"+u+"padplus"],p=M["_"+u+"padminus"],c={x:1,y:-1}[u]*M[u+"shift"],x=3*M.arrowsize*M.arrowwidth||0,f=x+c,n=x-c,o=3*M.startarrowsize*M.arrowwidth||0,s=o+c,r=o-c;if(v===d){var g=D.findExtremes(b,[b.r2c(i)],{ppadplus:f,ppadminus:n}),e=D.findExtremes(b,[b.r2c(l)],{ppadplus:Math.max(y,s),ppadminus:Math.max(p,r)});a={min:[g.min[0],e.min[0]],max:[g.max[0],e.max[0]]}}else s=l?s+l:s,r=l?r-l:r,a=D.findExtremes(b,[b.r2c(i)],{ppadplus:Math.max(y,f,s),ppadminus:Math.max(p,n,r)});M._extremes[t]=a}$.exports=function(M){var b=M._fullLayout;if(L.filterVisible(b.annotations).length&&M._fullData.length)return L.syncOrAsync([E,T],M)}},6035:function($,F,m){var L=m(34809),D=m(33626),E=m(78032).arrayEditor;function T(M,b){var a,t,u,i,l,d,v,y=M._fullLayout.annotations,p=[],c=[],x=[],f=(b||[]).length;for(a=0;a<y.length;a++)if(i=(u=y[a]).clicktoshow){for(t=0;t<f;t++)if(d=(l=b[t]).xaxis,v=l.yaxis,d._id===u.xref&&v._id===u.yref&&d.d2r(l.x)===k(u._xclick,d)&&v.d2r(l.y)===k(u._yclick,v)){(u.visible?i==="onout"?c:x:p).push(a);break}t===f&&u.visible&&i==="onout"&&c.push(a)}return{on:p,off:c,explicitOff:x}}function k(M,b){return b.type==="log"?b.l2r(M):b.d2r(M)}$.exports={hasClickToShow:function(M,b){var a=T(M,b);return a.on.length>0||a.explicitOff.length>0},onClick:function(M,b){var a,t,u=T(M,b),i=u.on,l=u.off.concat(u.explicitOff),d={},v=M._fullLayout.annotations;if(i.length||l.length){for(a=0;a<i.length;a++)(t=E(M.layout,"annotations",v[i[a]])).modifyItem("visible",!0),L.extendFlat(d,t.getUpdateObj());for(a=0;a<l.length;a++)(t=E(M.layout,"annotations",v[l[a]])).modifyItem("visible",!1),L.extendFlat(d,t.getUpdateObj());return D.call("update",M,{},d)}}}},53271:function($,F,m){var L=m(34809),D=m(78766);$.exports=function(E,T,k,M){M("opacity");var b=M("bgcolor"),a=M("bordercolor"),t=D.opacity(a);M("borderpad");var u=M("borderwidth"),i=M("showarrow");if(M("text",i?" ":k._dfltTitle.annotation),M("textangle"),L.coerceFont(M,"font",k.font),M("width"),M("align"),M("height")&&M("valign"),i){var l,d,v=M("arrowside");v.indexOf("end")!==-1&&(l=M("arrowhead"),d=M("arrowsize")),v.indexOf("start")!==-1&&(M("startarrowhead",l),M("startarrowsize",d)),M("arrowcolor",t?T.bordercolor:D.defaultLine),M("arrowwidth",2*(t&&u||1)),M("standoff"),M("startstandoff")}var y=M("hovertext"),p=k.hoverlabel||{};if(y){var c=M("hoverlabel.bgcolor",p.bgcolor||(D.opacity(b)?D.rgb(b):D.defaultLine)),x=M("hoverlabel.bordercolor",p.bordercolor||D.contrast(c)),f=L.extendFlat({},p.font);f.color||(f.color=x),L.coerceFont(M,"hoverlabel.font",f)}M("captureevents",!!y)}},59741:function($,F,m){var L=m(10721),D=m(8083);$.exports=function(E,T,k,M){T=T||{};var b=k==="log"&&T.type==="linear",a=k==="linear"&&T.type==="log";if(b||a)for(var t,u,i=E._fullLayout.annotations,l=T._id.charAt(0),d=0;d<i.length;d++)t=i[d],u="annotations["+d+"].",t[l+"ref"]===T._id&&v(l),t["a"+l+"ref"]===T._id&&v("a"+l);function v(y){var p=t[y],c=null;c=b?D(p,T.range):Math.pow(10,p),L(c)||(c=null),M(u+y,c)}}},63737:function($,F,m){var L=m(34809),D=m(29714),E=m(59008),T=m(53271),k=m(50222);function M(b,a,t){function u(e,h){return L.coerce(b,a,k,e,h)}var i=u("visible"),l=u("clicktoshow");if(i||l){T(b,a,t,u);for(var d=a.showarrow,v=["x","y"],y=[-10,-30],p={_fullLayout:t},c=0;c<2;c++){var x=v[c],f=D.coerceRef(b,a,p,x,"","paper");if(f!=="paper"&&D.getFromId(p,f)._annIndices.push(a._index),D.coercePosition(a,p,u,f,x,.5),d){var n="a"+x,o=D.coerceRef(b,a,p,n,"pixel",["pixel","paper"]);o!=="pixel"&&o!==f&&(o=a[n]="pixel");var s=o==="pixel"?y[c]:.4;D.coercePosition(a,p,u,o,n,s)}u(x+"anchor"),u(x+"shift")}if(L.noneOrAll(b,a,["x","y"]),d&&L.noneOrAll(b,a,["ax","ay"]),l){var r=u("xclick"),g=u("yclick");a._xclick=r===void 0?a.x:D.cleanPosition(r,p,a.xref),a._yclick=g===void 0?a.y:D.cleanPosition(g,p,a.yref)}}}$.exports=function(b,a){E(b,a,{name:"annotations",handleItemDefaults:M})}},3377:function($,F,m){var L=m(45568),D=m(33626),E=m(44122),T=m(34809),k=T.strTranslate,M=m(29714),b=m(78766),a=m(62203),t=m(32141),u=m(30635),i=m(27983),l=m(14751),d=m(78032).arrayEditor,v=m(23768);function y(x,f){var n=x._fullLayout.annotations[f]||{},o=M.getFromId(x,n.xref),s=M.getFromId(x,n.yref);o&&o.setScale(),s&&s.setScale(),c(x,n,f,!1,o,s)}function p(x,f,n,o,s){var r=s[n],g=s[n+"ref"],e=n.indexOf("y")!==-1,h=M.getRefType(g)==="domain",_=e?o.h:o.w;return x?h?r+(e?-f:f)/x._length:x.p2r(x.r2p(r)+f):r+(e?-f:f)/_}function c(x,f,n,o,s,r){var g,e,h=x._fullLayout,_=x._fullLayout._size,w=x._context.edits;o?(g="annotation-"+o,e=o+".annotations"):(g="annotation",e="annotations");var S=d(x.layout,e,f),O=S.modifyBase,A=S.modifyItem,I=S.getUpdateObj;h._infolayer.selectAll("."+g+'[data-index="'+n+'"]').remove();var B="clip"+h._uid+"_ann"+n;if(f._input&&f.visible!==!1){var C={x:{},y:{}},z=+f.textangle||0,P=h._infolayer.append("g").classed(g,!0).attr("data-index",String(n)).style("opacity",f.opacity),R=P.append("g").classed("annotation-text-g",!0),N=w[f.showarrow?"annotationTail":"annotationPosition"],j=f.captureevents||w.annotationText||N,W=R.append("g").style("pointer-events",j?"all":null).call(i,"pointer").on("click",function(){x._dragging=!1,x.emit("plotly_clickannotation",ie(L.event))});f.hovertext&&W.on("mouseover",function(){var pe=f.hoverlabel,me=pe.font,ke=this.getBoundingClientRect(),ve=x.getBoundingClientRect();t.loneHover({x0:ke.left-ve.left,x1:ke.right-ve.left,y:(ke.top+ke.bottom)/2-ve.top,text:f.hovertext,color:pe.bgcolor,borderColor:pe.bordercolor,fontFamily:me.family,fontSize:me.size,fontColor:me.color,fontWeight:me.weight,fontStyle:me.style,fontVariant:me.variant,fontShadow:me.fontShadow,fontLineposition:me.fontLineposition,fontTextcase:me.fontTextcase},{container:h._hoverlayer.node(),outerContainer:h._paper.node(),gd:x})}).on("mouseout",function(){t.loneUnhover(h._hoverlayer.node())});var Y=f.borderwidth,J=f.borderpad,G=Y+J,H=W.append("rect").attr("class","bg").style("stroke-width",Y+"px").call(b.stroke,f.bordercolor).call(b.fill,f.bgcolor),U=f.width||f.height,Z=h._topclips.selectAll("#"+B).data(U?[0]:[]);Z.enter().append("clipPath").classed("annclip",!0).attr("id",B).append("rect"),Z.exit().remove();var q=f.font,Q=h._meta?T.templateString(f.text,h._meta):f.text,ne=W.append("text").classed("annotation-text",!0).text(Q);w.annotationText?ne.call(u.makeEditable,{delegate:W,gd:x}).call(le).on("edit",function(pe){f.text=pe,this.call(le),A("text",pe),s&&s.autorange&&O(s._name+".autorange",!0),r&&r.autorange&&O(r._name+".autorange",!0),D.call("_guiRelayout",x,I())}):ne.call(le)}else L.selectAll("#"+B).remove();function ie(pe){var me={index:n,annotation:f._input,fullAnnotation:f,event:pe};return o&&(me.subplotId=o),me}function le(pe){return pe.call(a.font,q).attr({"text-anchor":{left:"start",right:"end"}[f.align]||"middle"}),u.convertToTspans(pe,x,fe),pe}function fe(){var pe=ne.selectAll("a");pe.size()===1&&pe.text()===ne.text()&&W.insert("a",":first-child").attr({"xlink:xlink:href":pe.attr("xlink:href"),"xlink:xlink:show":pe.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(H.node());var me=W.select(".annotation-text-math-group"),ke=!me.empty(),ve=a.bBox((ke?me:ne).node()),he=ve.width,de=ve.height,X=f.width||he,ae=f.height||de,K=Math.round(X+2*G),ge=Math.round(ae+2*G);function re(We,Pe){return Pe==="auto"&&(Pe=We<.3333333333333333?"left":We>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Pe]}for(var ue=!1,we=["x","y"],Te=0;Te<we.length;Te++){var ee,se,ce,be,Ee,Se=we[Te],De=f[Se+"ref"]||Se,Ge=f["a"+Se+"ref"],Xe={x:s,y:r}[Se],Ke=(z+(Se==="x"?0:-90))*Math.PI/180,ut=K*Math.cos(Ke),Tt=ge*Math.sin(Ke),je=Math.abs(ut)+Math.abs(Tt),Le=f[Se+"anchor"],$e=f[Se+"shift"]*(Se==="x"?1:-1),st=C[Se],Ot=M.getRefType(De);if(Xe&&Ot!=="domain"){var Je=Xe.r2fraction(f[Se]);(Je<0||Je>1)&&(Ge===De?((Je=Xe.r2fraction(f["a"+Se]))<0||Je>1)&&(ue=!0):ue=!0),ee=Xe._offset+Xe.r2p(f[Se]),be=.5}else{var at=Ot==="domain";Se==="x"?(ce=f[Se],ee=at?Xe._offset+Xe._length*ce:ee=_.l+_.w*ce):(ce=1-f[Se],ee=at?Xe._offset+Xe._length*ce:ee=_.t+_.h*ce),be=f.showarrow?.5:ce}if(f.showarrow){st.head=ee;var gt=f["a"+Se];if(Ee=ut*re(.5,f.xanchor)-Tt*re(.5,f.yanchor),Ge===De){var Oe=M.getRefType(Ge);Oe==="domain"?(Se==="y"&&(gt=1-gt),st.tail=Xe._offset+Xe._length*gt):Oe==="paper"?Se==="y"?(gt=1-gt,st.tail=_.t+_.h*gt):st.tail=_.l+_.w*gt:st.tail=Xe._offset+Xe.r2p(gt),se=Ee}else st.tail=ee+gt,se=Ee+gt;st.text=st.tail+Ee;var Be=h[Se==="x"?"width":"height"];if(De==="paper"&&(st.head=T.constrain(st.head,1,Be-1)),Ge==="pixel"){var it=-Math.max(st.tail-3,st.text),tt=Math.min(st.tail+3,st.text)-Be;it>0?(st.tail+=it,st.text+=it):tt>0&&(st.tail-=tt,st.text-=tt)}st.tail+=$e,st.head+=$e}else se=Ee=je*re(be,Le),st.text=ee+Ee;st.text+=$e,Ee+=$e,se+=$e,f["_"+Se+"padplus"]=je/2+se,f["_"+Se+"padminus"]=je/2-se,f["_"+Se+"size"]=je,f["_"+Se+"shift"]=Ee}if(ue)W.remove();else{var ft=0,pt=0;if(f.align!=="left"&&(ft=(X-he)*(f.align==="center"?.5:1)),f.valign!=="top"&&(pt=(ae-de)*(f.valign==="middle"?.5:1)),ke)me.select("svg").attr({x:G+ft-1,y:G+pt}).call(a.setClipUrl,U?B:null,x);else{var _e=G+pt-ve.top,Ae=G+ft-ve.left;ne.call(u.positionText,Ae,_e).call(a.setClipUrl,U?B:null,x)}Z.select("rect").call(a.setRect,G,G,X,ae),H.call(a.setRect,Y/2,Y/2,K-Y,ge-Y),W.call(a.setTranslate,Math.round(C.x.text-K/2),Math.round(C.y.text-ge/2)),R.attr({transform:"rotate("+z+","+C.x.text+","+C.y.text+")"});var Ve,He=function(We,Pe){P.selectAll(".annotation-arrow-g").remove();var Ue=C.x.head,Ne=C.y.head,Ye=C.x.tail+We,Fe=C.y.tail+Pe,Ze=C.x.text+We,rt=C.y.text+Pe,vt=T.rotationXYMatrix(z,Ze,rt),Lt=T.apply2DTransform(vt),St=T.apply2DTransform2(vt),It=+H.attr("width"),ot=+H.attr("height"),xt=Ze-.5*It,Ut=xt+It,Et=rt-.5*ot,mt=Et+ot,kt=[[xt,Et,xt,mt],[xt,mt,Ut,mt],[Ut,mt,Ut,Et],[Ut,Et,xt,Et]].map(St);if(!kt.reduce(function(ln,gn){return ln^!!T.segmentsIntersect(Ue,Ne,Ue+1e6,Ne+1e6,gn[0],gn[1],gn[2],gn[3])},!1)){kt.forEach(function(ln){var gn=T.segmentsIntersect(Ye,Fe,Ue,Ne,ln[0],ln[1],ln[2],ln[3]);gn&&(Ye=gn.x,Fe=gn.y)});var ht=f.arrowwidth,wt=f.arrowcolor,Wt=f.arrowside,jt=P.append("g").style({opacity:b.opacity(wt)}).classed("annotation-arrow-g",!0),Jt=jt.append("path").attr("d","M"+Ye+","+Fe+"L"+Ue+","+Ne).style("stroke-width",ht+"px").call(b.stroke,b.rgb(wt));if(v(Jt,Wt,f),w.annotationPosition&&Jt.node().parentNode&&!o){var qt=Ue,Xt=Ne;if(f.standoff){var $t=Math.sqrt(Math.pow(Ue-Ye,2)+Math.pow(Ne-Fe,2));qt+=f.standoff*(Ye-Ue)/$t,Xt+=f.standoff*(Fe-Ne)/$t}var pn,An,rn=jt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Ye-qt)+","+(Fe-Xt),transform:k(qt,Xt)}).style("stroke-width",ht+6+"px").call(b.stroke,"rgba(0,0,0,0)").call(b.fill,"rgba(0,0,0,0)");l.init({element:rn.node(),gd:x,prepFn:function(){var ln=a.getTranslate(W);pn=ln.x,An=ln.y,s&&s.autorange&&O(s._name+".autorange",!0),r&&r.autorange&&O(r._name+".autorange",!0)},moveFn:function(ln,gn){var xn=Lt(pn,An),sn=xn[0]+ln,fn=xn[1]+gn;W.call(a.setTranslate,sn,fn),A("x",p(s,ln,"x",_,f)),A("y",p(r,gn,"y",_,f)),f.axref===f.xref&&A("ax",p(s,ln,"ax",_,f)),f.ayref===f.yref&&A("ay",p(r,gn,"ay",_,f)),jt.attr("transform",k(ln,gn)),R.attr({transform:"rotate("+z+","+sn+","+fn+")"})},doneFn:function(){D.call("_guiRelayout",x,I());var ln=document.querySelector(".js-notes-box-panel");ln&&ln.redraw(ln.selectedObj)}})}}};f.showarrow&&He(0,0),N&&l.init({element:W.node(),gd:x,prepFn:function(){Ve=R.attr("transform")},moveFn:function(We,Pe){var Ue="pointer";if(f.showarrow)f.axref===f.xref?A("ax",p(s,We,"ax",_,f)):A("ax",f.ax+We),f.ayref===f.yref?A("ay",p(r,Pe,"ay",_.w,f)):A("ay",f.ay+Pe),He(We,Pe);else{if(o)return;var Ne,Ye;if(s)Ne=p(s,We,"x",_,f);else{var Fe=f._xsize/_.w,Ze=f.x+(f._xshift-f.xshift)/_.w-Fe/2;Ne=l.align(Ze+We/_.w,Fe,0,1,f.xanchor)}if(r)Ye=p(r,Pe,"y",_,f);else{var rt=f._ysize/_.h,vt=f.y-(f._yshift+f.yshift)/_.h-rt/2;Ye=l.align(vt-Pe/_.h,rt,0,1,f.yanchor)}A("x",Ne),A("y",Ye),s&&r||(Ue=l.getCursor(s?.5:Ne,r?.5:Ye,f.xanchor,f.yanchor))}R.attr({transform:k(We,Pe)+Ve}),i(W,Ue)},clickFn:function(We,Pe){f.captureevents&&x.emit("plotly_clickannotation",ie(Pe))},doneFn:function(){i(W),D.call("_guiRelayout",x,I());var We=document.querySelector(".js-notes-box-panel");We&&We.redraw(We.selectedObj)}})}}}$.exports={draw:function(x){var f=x._fullLayout;f._infolayer.selectAll(".annotation").remove();for(var n=0;n<f.annotations.length;n++)f.annotations[n].visible&&y(x,n);return E.previousPromises(x)},drawOne:y,drawRaw:c}},23768:function($,F,m){var L=m(45568),D=m(78766),E=m(11645),T=m(34809),k=T.strScale,M=T.strRotate,b=T.strTranslate;$.exports=function(a,t,u){var i,l,d,v,y=a.node(),p=E[u.arrowhead||0],c=E[u.startarrowhead||0],x=(u.arrowwidth||1)*(u.arrowsize||1),f=(u.arrowwidth||1)*(u.startarrowsize||1),n=t.indexOf("start")>=0,o=t.indexOf("end")>=0,s=p.backoff*x+u.standoff,r=c.backoff*f+u.startstandoff;if(y.nodeName==="line"){i={x:+a.attr("x1"),y:+a.attr("y1")},l={x:+a.attr("x2"),y:+a.attr("y2")};var g=i.x-l.x,e=i.y-l.y;if(v=(d=Math.atan2(e,g))+Math.PI,s&&r&&s+r>Math.sqrt(g*g+e*e))return void P();if(s){if(s*s>g*g+e*e)return void P();var h=s*Math.cos(d),_=s*Math.sin(d);l.x+=h,l.y+=_,a.attr({x2:l.x,y2:l.y})}if(r){if(r*r>g*g+e*e)return void P();var w=r*Math.cos(d),S=r*Math.sin(d);i.x-=w,i.y-=S,a.attr({x1:i.x,y1:i.y})}}else if(y.nodeName==="path"){var O=y.getTotalLength(),A="";if(O<s+r)return void P();var I=y.getPointAtLength(0),B=y.getPointAtLength(.1);d=Math.atan2(I.y-B.y,I.x-B.x),i=y.getPointAtLength(Math.min(r,O)),A="0px,"+r+"px,";var C=y.getPointAtLength(O),z=y.getPointAtLength(O-.1);v=Math.atan2(C.y-z.y,C.x-z.x),l=y.getPointAtLength(Math.max(0,O-s)),A+=O-(A?r+s:s)+"px,"+O+"px",a.style("stroke-dasharray",A)}function P(){a.style("stroke-dasharray","0px,100px")}function R(N,j,W,Y){N.path&&(N.noRotate&&(W=0),L.select(y.parentNode).append("path").attr({class:a.attr("class"),d:N.path,transform:b(j.x,j.y)+M(180*W/Math.PI)+k(Y)}).style({fill:D.rgb(u.arrowcolor),"stroke-width":0}))}n&&R(c,i,d,f),o&&R(p,l,v,x)}},3599:function($,F,m){var L=m(3377),D=m(6035);$.exports={moduleType:"component",name:"annotations",layoutAttributes:m(50222),supplyLayoutDefaults:m(63737),includeBasePlot:m(20706)("annotations"),calcAutorange:m(60317),draw:L.draw,drawOne:L.drawOne,drawRaw:L.drawRaw,hasClickToShow:D.hasClickToShow,onClick:D.onClick,convertCoords:m(59741)}},38239:function($,F,m){var L=m(50222),D=m(13582).overrideAll,E=m(78032).templatedArray;$.exports=D(E("annotation",{visible:L.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:L.xanchor,xshift:L.xshift,yanchor:L.yanchor,yshift:L.yshift,text:L.text,textangle:L.textangle,font:L.font,width:L.width,height:L.height,opacity:L.opacity,align:L.align,valign:L.valign,bgcolor:L.bgcolor,bordercolor:L.bordercolor,borderpad:L.borderpad,borderwidth:L.borderwidth,showarrow:L.showarrow,arrowcolor:L.arrowcolor,arrowhead:L.arrowhead,startarrowhead:L.startarrowhead,arrowside:L.arrowside,arrowsize:L.arrowsize,startarrowsize:L.startarrowsize,arrowwidth:L.arrowwidth,standoff:L.standoff,startstandoff:L.startstandoff,hovertext:L.hovertext,hoverlabel:L.hoverlabel,captureevents:L.captureevents}),"calc","from-root")},47979:function($,F,m){var L=m(34809),D=m(29714);function E(T,k){var M=k.fullSceneLayout.domain,b=k.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};T._xa={},L.extendFlat(T._xa,a),D.setConvert(T._xa),T._xa._offset=b.l+M.x[0]*b.w,T._xa.l2p=function(){return .5*(1+T._pdata[0]/T._pdata[3])*b.w*(M.x[1]-M.x[0])},T._ya={},L.extendFlat(T._ya,a),D.setConvert(T._ya),T._ya._offset=b.t+(1-M.y[1])*b.h,T._ya.l2p=function(){return .5*(1-T._pdata[1]/T._pdata[3])*b.h*(M.y[1]-M.y[0])}}$.exports=function(T){for(var k=T.fullSceneLayout.annotations,M=0;M<k.length;M++)E(k[M],T);T.fullLayout._infolayer.selectAll(".annotation-"+T.id).remove()}},34232:function($,F,m){var L=m(34809),D=m(29714),E=m(59008),T=m(53271),k=m(38239);function M(b,a,t,u){function i(d,v){return L.coerce(b,a,k,d,v)}function l(d){var v=d+"axis",y={_fullLayout:{}};return y._fullLayout[v]=t[v],D.coercePosition(a,y,i,d,d,.5)}i("visible")&&(T(b,a,u.fullLayout,i),l("x"),l("y"),l("z"),L.noneOrAll(b,a,["x","y","z"]),a.xref="x",a.yref="y",a.zref="z",i("xanchor"),i("yanchor"),i("xshift"),i("yshift"),a.showarrow&&(a.axref="pixel",a.ayref="pixel",i("ax",-10),i("ay",-30),L.noneOrAll(b,a,["ax","ay"])))}$.exports=function(b,a,t){E(b,a,{name:"annotations",handleItemDefaults:M,fullLayout:t.fullLayout})}},9756:function($,F,m){var L=m(3377).drawRaw,D=m(25802),E=["x","y","z"];$.exports=function(T){for(var k=T.fullSceneLayout,M=T.dataScale,b=k.annotations,a=0;a<b.length;a++){for(var t=b[a],u=!1,i=0;i<3;i++){var l=E[i],d=t[l],v=k[l+"axis"].r2fraction(d);if(v<0||v>1){u=!0;break}}u?T.fullLayout._infolayer.select(".annotation-"+T.id+'[data-index="'+a+'"]').remove():(t._pdata=D(T.glplot.cameraParams,[k.xaxis.r2l(t.x)*M[0],k.yaxis.r2l(t.y)*M[1],k.zaxis.r2l(t.z)*M[2]]),L(T.graphDiv,t,a,T.id,t._xa,t._ya))}}},83348:function($,F,m){var L=m(33626),D=m(34809);$.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:m(38239)}}},layoutAttributes:m(38239),handleDefaults:m(34232),includeBasePlot:function(E,T){var k=L.subplotsRegistry.gl3d;if(k)for(var M=k.attrRegex,b=Object.keys(E),a=0;a<b.length;a++){var t=b[a];M.test(t)&&(E[t].annotations||[]).length&&(D.pushUnique(T._basePlotModules,k),D.pushUnique(T._subplots.gl3d,t))}},convert:m(47979),draw:m(9756)}},37177:function($,F,m){$.exports=m(24453),m(23428),m(1401),m(72210),m(28569),m(81133),m(78295),m(25512),m(42645),m(62324),m(91662),m(66445),m(50506),m(84756),m(41858),m(57985)},29698:function($,F,m){var L=m(37177),D=m(34809),E=m(63821),T=E.EPOCHJD,k=E.ONEDAY,M={valType:"enumerated",values:D.sortObjectKeys(L.calendars),editType:"calc",dflt:"gregorian"},b=function(x,f,n,o){var s={};return s[n]=M,D.coerce(x,f,s,n,o)},a="##",t={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:a,w:a,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},u={};function i(x){var f=u[x];return f||(u[x]=L.instance(x))}function l(x){return D.extendFlat({},M,{description:x})}function d(x){return"Sets the calendar system to use with `"+x+"` date data."}var v={xcalendar:l(d("x"))},y=D.extendFlat({},v,{ycalendar:l(d("y"))}),p=D.extendFlat({},y,{zcalendar:l(d("z"))}),c=l(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));$.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:y,bar:y,box:y,heatmap:y,contour:y,histogram:y,histogram2d:y,histogram2dcontour:y,scatter3d:p,surface:p,mesh3d:p,scattergl:y,ohlc:v,candlestick:v},layout:{calendar:l(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:c},yaxis:{calendar:c},scene:{xaxis:{calendar:c},yaxis:{calendar:c},zaxis:{calendar:c}},polar:{radialaxis:{calendar:c}}},transforms:{filter:{valuecalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:M,handleDefaults:b,handleTraceDefaults:function(x,f,n,o){for(var s=0;s<n.length;s++)b(x,f,n[s]+"calendar",o.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:i,worldCalFmt:function(x,f,n){for(var o,s,r,g,e,h=Math.floor((f+.05)/k)+T,_=i(n).fromJD(h),w=0;(w=x.indexOf("%",w))!==-1;)(o=x.charAt(w+1))==="0"||o==="-"||o==="_"?(r=3,s=x.charAt(w+2),o==="_"&&(o="-")):(s=o,o="0",r=2),(g=t[s])?(e=g===a?a:_.formatDate(g[o]),x=x.substr(0,w)+e+x.substr(w+r),w+=e.length):w+=r;return x}}},10229:function($,F){F.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],F.defaultLine="#444",F.lightLine="#eee",F.background="#fff",F.borderLine="#BEC8D9",F.lightFraction=90.9090909090909},78766:function($,F,m){var L=m(65657),D=m(10721),E=m(87800).isTypedArray,T=$.exports={},k=m(10229);T.defaults=k.defaults;var M=T.defaultLine=k.defaultLine;T.lightLine=k.lightLine;var b=T.background=k.background;function a(t){if(D(t)||typeof t!="string")return t;var u=t.trim();if(u.substr(0,3)!=="rgb")return t;var i=u.match(/^rgba?\s*\(([^()]*)\)$/);if(!i)return t;var l=i[1].trim().split(/\s*[\s,]\s*/),d=u.charAt(3)==="a"&&l.length===4;if(!d&&l.length!==3)return t;for(var v=0;v<l.length;v++){if(!l[v].length||(l[v]=Number(l[v]),!(l[v]>=0)))return t;if(v===3)l[v]>1&&(l[v]=1);else if(l[v]>=1)return t}var y=Math.round(255*l[0])+", "+Math.round(255*l[1])+", "+Math.round(255*l[2]);return d?"rgba("+y+", "+l[3]+")":"rgb("+y+")"}T.tinyRGB=function(t){var u=t.toRgb();return"rgb("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+")"},T.rgb=function(t){return T.tinyRGB(L(t))},T.opacity=function(t){return t?L(t).getAlpha():0},T.addOpacity=function(t,u){var i=L(t).toRgb();return"rgba("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+", "+u+")"},T.combine=function(t,u){var i=L(t).toRgb();if(i.a===1)return L(t).toRgbString();var l=L(u||b).toRgb(),d=l.a===1?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a},v={r:d.r*(1-i.a)+i.r*i.a,g:d.g*(1-i.a)+i.g*i.a,b:d.b*(1-i.a)+i.b*i.a};return L(v).toRgbString()},T.interpolate=function(t,u,i){var l=L(t).toRgb(),d=L(u).toRgb(),v={r:i*l.r+(1-i)*d.r,g:i*l.g+(1-i)*d.g,b:i*l.b+(1-i)*d.b};return L(v).toRgbString()},T.contrast=function(t,u,i){var l=L(t);return l.getAlpha()!==1&&(l=L(T.combine(t,b))),(l.isDark()?u?l.lighten(u):b:i?l.darken(i):M).toString()},T.stroke=function(t,u){var i=L(u);t.style({stroke:T.tinyRGB(i),"stroke-opacity":i.getAlpha()})},T.fill=function(t,u){var i=L(u);t.style({fill:T.tinyRGB(i),"fill-opacity":i.getAlpha()})},T.clean=function(t){if(t&&typeof t=="object"){var u,i,l,d,v=Object.keys(t);for(u=0;u<v.length;u++)if(d=t[l=v[u]],l.substr(l.length-5)==="color")if(Array.isArray(d))for(i=0;i<d.length;i++)d[i]=a(d[i]);else t[l]=a(d);else if(l.substr(l.length-10)==="colorscale"&&Array.isArray(d))for(i=0;i<d.length;i++)Array.isArray(d[i])&&(d[i][1]=a(d[i][1]));else if(Array.isArray(d)){var y=d[0];if(!Array.isArray(y)&&y&&typeof y=="object")for(i=0;i<d.length;i++)T.clean(d[i])}else d&&typeof d=="object"&&!E(d)&&T.clean(d)}}},25158:function($,F,m){var L=m(25829),D=m(80337),E=m(93049).extendFlat,T=m(13582).overrideAll;$.exports=T({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:L.linecolor,outlinewidth:L.linewidth,bordercolor:L.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:E({},L.ticks,{dflt:""}),ticklabeloverflow:E({},L.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,ticklabelstep:L.ticklabelstep,showticklabels:L.showticklabels,labelalias:L.labelalias,tickfont:D({}),tickangle:L.tickangle,tickformat:L.tickformat,tickformatstops:L.tickformatstops,tickprefix:L.tickprefix,showtickprefix:L.showtickprefix,ticksuffix:L.ticksuffix,showticksuffix:L.showticksuffix,separatethousands:L.separatethousands,exponentformat:L.exponentformat,minexponent:L.minexponent,showexponent:L.showexponent,title:{text:{valType:"string"},font:D({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:D({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},34554:function($){$.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},42097:function($,F,m){var L=m(34809),D=m(78032),E=m(22777),T=m(87433),k=m(12036),M=m(54616),b=m(25158);$.exports=function(a,t,u){var i=D.newContainer(t,"colorbar"),l=a.colorbar||{};function d(A,I){return L.coerce(l,i,b,A,I)}var v=u.margin||{t:0,b:0,l:0,r:0},y=u.width-v.l-v.r,p=u.height-v.t-v.b,c=d("orientation")==="v",x=d("thicknessmode");d("thickness",x==="fraction"?30/(c?y:p):30);var f=d("lenmode");d("len",f==="fraction"?1:c?p:y);var n,o,s,r=d("yref")==="paper",g=d("xref")==="paper",e="left";c?(s="middle",e=g?"left":"right",n=g?1.02:1,o=.5):(s=r?"bottom":"top",e="center",n=.5,o=r?1.02:1),L.coerce(l,i,{x:{valType:"number",min:g?-2:0,max:g?3:1,dflt:n}},"x"),L.coerce(l,i,{y:{valType:"number",min:r?-2:0,max:r?3:1,dflt:o}},"y"),d("xanchor",e),d("xpad"),d("yanchor",s),d("ypad"),L.noneOrAll(l,i,["x","y"]),d("outlinecolor"),d("outlinewidth"),d("bordercolor"),d("borderwidth"),d("bgcolor");var h=L.coerce(l,i,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");d("ticklabeloverflow",h.indexOf("inside")!==-1?"hide past domain":"hide past div"),E(l,i,d,"linear");var _=u.font,w={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:_};h.indexOf("inside")!==-1&&(w.bgColor="black"),M(l,i,d,"linear",w),k(l,i,d,"linear",w),T(l,i,d,"linear",w),d("title.text",u._dfltTitle.colorbar);var S=i.showticklabels?i.tickfont:_,O=L.extendFlat({},_,{family:S.family,size:L.bigFont(S.size)});L.coerceFont(d,"title.font",O),d("title.side",c?"top":"right")}},5881:function($,F,m){var L=m(45568),D=m(65657),E=m(44122),T=m(33626),k=m(29714),M=m(14751),b=m(34809),a=b.strTranslate,t=m(93049).extendFlat,u=m(27983),i=m(62203),l=m(78766),d=m(17240),v=m(30635),y=m(65477).flipScale,p=m(97655),c=m(40957),x=m(25829),f=m(4530),n=f.LINE_SPACING,o=f.FROM_TL,s=f.FROM_BR,r=m(34554).cn;$.exports={draw:function(g){var e=g._fullLayout._infolayer.selectAll("g."+r.colorbar).data(function(h){var _,w,S,O,A=h._fullLayout,I=h.calcdata,B=[];function C(U){return t(U,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function z(){typeof O.calc=="function"?O.calc(h,S,_):(_._fillgradient=w.reversescale?y(w.colorscale):w.colorscale,_._zrange=[w[O.min],w[O.max]])}for(var P=0;P<I.length;P++){var R=I[P];if((S=R[0].trace)._module){var N=S._module.colorbar;if(S.visible===!0&&N)for(var j=Array.isArray(N),W=j?N:[N],Y=0;Y<W.length;Y++){var J=(O=W[Y]).container;(w=J?S[J]:S)&&w.showscale&&((_=C(w.colorbar))._id="cb"+S.uid+(j&&J?"-"+J:""),_._traceIndex=S.index,_._propPrefix=(J?J+".":"")+"colorbar.",_._meta=S._meta,z(),B.push(_))}}}for(var G in A._colorAxes)if((w=A[G]).showscale){var H=A._colorAxes[G];(_=C(w.colorbar))._id="cb"+G,_._propPrefix=G+".colorbar.",_._meta=A._meta,O={min:"cmin",max:"cmax"},H[0]!=="heatmap"&&(S=H[1],O.calc=S._module.colorbar.calc),z(),B.push(_)}return B}(g),function(h){return h._id});e.enter().append("g").attr("class",function(h){return h._id}).classed(r.colorbar,!0),e.each(function(h){var _=L.select(this);b.ensureSingle(_,"rect",r.cbbg),b.ensureSingle(_,"g",r.cbfills),b.ensureSingle(_,"g",r.cblines),b.ensureSingle(_,"g",r.cbaxis,function(S){S.classed(r.crisp,!0)}),b.ensureSingle(_,"g",r.cbtitleunshift,function(S){S.append("g").classed(r.cbtitle,!0)}),b.ensureSingle(_,"rect",r.cboutline);var w=function(S,O,A){var I=O.orientation==="v",B=O.len,C=O.lenmode,z=O.thickness,P=O.thicknessmode,R=O.outlinewidth,N=O.borderwidth,j=O.bgcolor,W=O.xanchor,Y=O.yanchor,J=O.xpad,G=O.ypad,H=O.x,U=I?O.y:1-O.y,Z=O.yref==="paper",q=O.xref==="paper",Q=A._fullLayout,ne=Q._size,ie=O._fillcolor,le=O._line,fe=O.title,pe=fe.side,me=O._zrange||L.extent((typeof ie=="function"?ie:le.color).domain()),ke=typeof le.color=="function"?le.color:function(){return le.color},ve=typeof ie=="function"?ie:function(){return ie},he=O._levels,de=function(Oe,Be,it){var tt,ft,pt=Be._levels,_e=[],Ae=[],Ve=pt.end+pt.size/100,He=pt.size,We=1.001*it[0]-.001*it[1],Pe=1.001*it[1]-.001*it[0];for(ft=0;ft<1e5&&(tt=pt.start+ft*He,!(He>0?tt>=Ve:tt<=Ve));ft++)tt>We&&tt<Pe&&_e.push(tt);if(Be._fillgradient)Ae=[0];else if(typeof Be._fillcolor=="function"){var Ue=Be._filllevels;if(Ue)for(Ve=Ue.end+Ue.size/100,He=Ue.size,ft=0;ft<1e5&&(tt=Ue.start+ft*He,!(He>0?tt>=Ve:tt<=Ve));ft++)tt>it[0]&&tt<it[1]&&Ae.push(tt);else(Ae=_e.map(function(Ne){return Ne-pt.size/2})).push(Ae[Ae.length-1]+pt.size)}else Be._fillcolor&&typeof Be._fillcolor=="string"&&(Ae=[0]);return pt.size<0&&(_e.reverse(),Ae.reverse()),{line:_e,fill:Ae}}(0,O,me),X=de.fill,ae=de.line,K=Math.round(z*(P==="fraction"?I?ne.w:ne.h:1)),ge=K/(I?ne.w:ne.h),re=Math.round(B*(C==="fraction"?I?ne.h:ne.w:1)),ue=re/(I?ne.h:ne.w),we=q?ne.w:A._fullLayout.width,Te=Z?ne.h:A._fullLayout.height,ee=Math.round(I?H*we+J:U*Te+G),se={center:.5,right:1}[W]||0,ce={top:1,middle:.5}[Y]||0,be=I?H-se*ge:U-ce*ge,Ee=I?U-ce*ue:H-se*ue,Se=Math.round(I?Te*(1-Ee):we*Ee);O._lenFrac=ue,O._thickFrac=ge,O._uFrac=be,O._vFrac=Ee;var De=O._axis=function(Oe,Be,it){var tt=Oe._fullLayout,ft=Be.orientation==="v",pt={type:"linear",range:it,tickmode:Be.tickmode,nticks:Be.nticks,tick0:Be.tick0,dtick:Be.dtick,tickvals:Be.tickvals,ticktext:Be.ticktext,ticks:Be.ticks,ticklen:Be.ticklen,tickwidth:Be.tickwidth,tickcolor:Be.tickcolor,showticklabels:Be.showticklabels,labelalias:Be.labelalias,ticklabelposition:Be.ticklabelposition,ticklabeloverflow:Be.ticklabeloverflow,ticklabelstep:Be.ticklabelstep,tickfont:Be.tickfont,tickangle:Be.tickangle,tickformat:Be.tickformat,exponentformat:Be.exponentformat,minexponent:Be.minexponent,separatethousands:Be.separatethousands,showexponent:Be.showexponent,showtickprefix:Be.showtickprefix,tickprefix:Be.tickprefix,showticksuffix:Be.showticksuffix,ticksuffix:Be.ticksuffix,title:Be.title,showline:!0,anchor:"free",side:ft?"right":"bottom",position:1},_e=ft?"y":"x",Ae={type:"linear",_id:_e+Be._id},Ve={letter:_e,font:tt.font,noAutotickangles:_e==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:tt.calendar};function He(We,Pe){return b.coerce(pt,Ae,x,We,Pe)}return p(pt,Ae,He,Ve,tt),c(pt,Ae,He,Ve),Ae}(A,O,me);De.position=ge+(I?H+J/ne.w:U+G/ne.h);var Ge=["top","bottom"].indexOf(pe)!==-1;if(I&&Ge&&(De.title.side=pe,De.titlex=H+J/ne.w,De.titley=Ee+(fe.side==="top"?ue-G/ne.h:G/ne.h)),I||Ge||(De.title.side=pe,De.titley=U+G/ne.h,De.titlex=Ee+J/ne.w),le.color&&O.tickmode==="auto"){De.tickmode="linear",De.tick0=he.start;var Xe=he.size,Ke=b.constrain(re/50,4,15)+1,ut=(me[1]-me[0])/((O.nticks||Ke)*Xe);if(ut>1){var Tt=Math.pow(10,Math.floor(Math.log(ut)/Math.LN10));Xe*=Tt*b.roundUp(ut/Tt,[2,5,10]),(Math.abs(he.start)/he.size+1e-6)%1<2e-6&&(De.tick0=0)}De.dtick=Xe}De.domain=I?[Ee+G/ne.h,Ee+ue-G/ne.h]:[Ee+J/ne.w,Ee+ue-J/ne.w],De.setScale(),S.attr("transform",a(Math.round(ne.l),Math.round(ne.t)));var je,Le=S.select("."+r.cbtitleunshift).attr("transform",a(-Math.round(ne.l),-Math.round(ne.t))),$e=De.ticklabelposition,st=De.title.font.size,Ot=S.select("."+r.cbaxis),Je=0,at=0;function gt(Oe,Be){var it={propContainer:De,propName:O._propPrefix+"title",traceIndex:O._traceIndex,_meta:O._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:S.select("."+r.cbtitle)},tt=Oe.charAt(0)==="h"?Oe.substr(1):"h"+Oe;S.selectAll("."+tt+",."+tt+"-math-group").remove(),d.draw(A,Oe,t(it,Be||{}))}return b.syncOrAsync([E.previousPromises,function(){var Oe,Be;(I&&Ge||!I&&!Ge)&&(pe==="top"&&(Oe=J+ne.l+we*H,Be=G+ne.t+Te*(1-Ee-ue)+3+.75*st),pe==="bottom"&&(Oe=J+ne.l+we*H,Be=G+ne.t+Te*(1-Ee)-3-.25*st),pe==="right"&&(Be=G+ne.t+Te*U+3+.75*st,Oe=J+ne.l+we*Ee),gt(De._id+"title",{attributes:{x:Oe,y:Be,"text-anchor":I?"start":"middle"}}))},function(){if(!I&&!Ge||I&&Ge){var Oe,Be=S.select("."+r.cbtitle),it=Be.select("text"),tt=[-R/2,R/2],ft=Be.select(".h"+De._id+"title-math-group").node(),pt=15.6;if(it.node()&&(pt=parseInt(it.node().style.fontSize,10)*n),ft?(Oe=i.bBox(ft),at=Oe.width,(Je=Oe.height)>pt&&(tt[1]-=(Je-pt)/2)):it.node()&&!it.classed(r.jsPlaceholder)&&(Oe=i.bBox(it.node()),at=Oe.width,Je=Oe.height),I){if(Je){if(Je+=5,pe==="top")De.domain[1]-=Je/ne.h,tt[1]*=-1;else{De.domain[0]+=Je/ne.h;var _e=v.lineCount(it);tt[1]+=(1-_e)*pt}Be.attr("transform",a(tt[0],tt[1])),De.setScale()}}else at&&(pe==="right"&&(De.domain[0]+=(at+st/2)/ne.w),Be.attr("transform",a(tt[0],tt[1])),De.setScale())}S.selectAll("."+r.cbfills+",."+r.cblines).attr("transform",I?a(0,Math.round(ne.h*(1-De.domain[1]))):a(Math.round(ne.w*De.domain[0]),0)),Ot.attr("transform",I?a(0,Math.round(-ne.t)):a(Math.round(-ne.l),0));var Ae=S.select("."+r.cbfills).selectAll("rect."+r.cbfill).attr("style","").data(X);Ae.enter().append("rect").classed(r.cbfill,!0).attr("style",""),Ae.exit().remove();var Ve=me.map(De.c2p).map(Math.round).sort(function(Ne,Ye){return Ne-Ye});Ae.each(function(Ne,Ye){var Fe=[Ye===0?me[0]:(X[Ye]+X[Ye-1])/2,Ye===X.length-1?me[1]:(X[Ye]+X[Ye+1])/2].map(De.c2p).map(Math.round);I&&(Fe[1]=b.constrain(Fe[1]+(Fe[1]>Fe[0])?1:-1,Ve[0],Ve[1]));var Ze=L.select(this).attr(I?"x":"y",ee).attr(I?"y":"x",L.min(Fe)).attr(I?"width":"height",Math.max(K,2)).attr(I?"height":"width",Math.max(L.max(Fe)-L.min(Fe),2));if(O._fillgradient)i.gradient(Ze,A,O._id,I?"vertical":"horizontalreversed",O._fillgradient,"fill");else{var rt=ve(Ne).replace("e-","");Ze.attr("fill",D(rt).toHexString())}});var He=S.select("."+r.cblines).selectAll("path."+r.cbline).data(le.color&&le.width?ae:[]);He.enter().append("path").classed(r.cbline,!0),He.exit().remove(),He.each(function(Ne){var Ye=ee,Fe=Math.round(De.c2p(Ne))+le.width/2%1;L.select(this).attr("d","M"+(I?Ye+","+Fe:Fe+","+Ye)+(I?"h":"v")+K).call(i.lineGroupStyle,le.width,ke(Ne),le.dash)}),Ot.selectAll("g."+De._id+"tick,path").remove();var We=ee+K+(R||0)/2-(O.ticks==="outside"?1:0),Pe=k.calcTicks(De),Ue=k.getTickSigns(De)[2];return k.drawTicks(A,De,{vals:De.ticks==="inside"?k.clipEnds(De,Pe):Pe,layer:Ot,path:k.makeTickPath(De,We,Ue),transFn:k.makeTransTickFn(De)}),k.drawLabels(A,De,{vals:Pe,layer:Ot,transFn:k.makeTransTickLabelFn(De),labelFns:k.makeLabelFns(De,We)})},function(){if(I&&!Ge||!I&&Ge){var Oe,Be,it=De.position||0,tt=De._offset+De._length/2;if(pe==="right")Be=tt,Oe=ne.l+we*it+10+st*(De.showticklabels?1:.5);else if(Oe=tt,pe==="bottom"&&(Be=ne.t+Te*it+10+($e.indexOf("inside")===-1?De.tickfont.size:0)+(De.ticks!=="intside"&&O.ticklen||0)),pe==="top"){var ft=fe.text.split("<br>").length;Be=ne.t+Te*it+10-K-n*st*ft}gt((I?"h":"v")+De._id+"title",{avoid:{selection:L.select(A).selectAll("g."+De._id+"tick"),side:pe,offsetTop:I?0:ne.t,offsetLeft:I?ne.l:0,maxShift:I?Q.width:Q.height},attributes:{x:Oe,y:Be,"text-anchor":"middle"},transform:{rotate:I?-90:0,offset:0}})}},E.previousPromises,function(){var Oe,Be=K+R/2;$e.indexOf("inside")===-1&&(Oe=i.bBox(Ot.node()),Be+=I?Oe.width:Oe.height),je=Le.select("text");var it=0,tt=I&&pe==="top",ft=!I&&pe==="right",pt=0;if(je.node()&&!je.classed(r.jsPlaceholder)){var _e,Ae=Le.select(".h"+De._id+"title-math-group").node();Ae&&(I&&Ge||!I&&!Ge)?(it=(Oe=i.bBox(Ae)).width,_e=Oe.height):(it=(Oe=i.bBox(Le.node())).right-ne.l-(I?ee:Se),_e=Oe.bottom-ne.t-(I?Se:ee),I||pe!=="top"||(Be+=Oe.height,pt=Oe.height)),ft&&(je.attr("transform",a(it/2+st/2,0)),it*=2),Be=Math.max(Be,I?it:_e)}var Ve=2*(I?J:G)+Be+N+R/2,He=0;!I&&fe.text&&Y==="bottom"&&U<=0&&(Ve+=He=Ve/2,pt+=He),Q._hColorbarMoveTitle=He,Q._hColorbarMoveCBTitle=pt;var We=N+R,Pe=(I?ee:Se)-We/2-(I?J:0),Ue=(I?Se:ee)-(I?re:G+pt-He);S.select("."+r.cbbg).attr("x",Pe).attr("y",Ue).attr(I?"width":"height",Math.max(Ve-He,2)).attr(I?"height":"width",Math.max(re+We,2)).call(l.fill,j).call(l.stroke,O.bordercolor).style("stroke-width",N);var Ne=ft?Math.max(it-10,0):0;S.selectAll("."+r.cboutline).attr("x",(I?ee:Se+J)+Ne).attr("y",(I?Se+G-re:ee)+(tt?Je:0)).attr(I?"width":"height",Math.max(K,2)).attr(I?"height":"width",Math.max(re-(I?2*G+Je:2*J+Ne),2)).call(l.stroke,O.outlinecolor).style({fill:"none","stroke-width":R});var Ye=I?se*Ve:0,Fe=I?0:(1-ce)*Ve-pt;if(Ye=q?ne.l-Ye:-Ye,Fe=Z?ne.t-Fe:-Fe,S.attr("transform",a(Ye,Fe)),!I&&(N||D(j).getAlpha()&&!D.equals(Q.paper_bgcolor,j))){var Ze=Ot.selectAll("text"),rt=Ze[0].length,vt=S.select("."+r.cbbg).node(),Lt=i.bBox(vt),St=i.getTranslate(S);Ze.each(function(Wt,jt){var Jt=rt-1;if(jt===0||jt===Jt){var qt,Xt=i.bBox(this),$t=i.getTranslate(this);if(jt===Jt){var pn=Xt.right+$t.x;(qt=Lt.right+St.x+Se-N-2+H-pn)>0&&(qt=0)}else if(jt===0){var An=Xt.left+$t.x;(qt=Lt.left+St.x+Se+N+2-An)<0&&(qt=0)}qt&&(rt<3?this.setAttribute("transform","translate("+qt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var It={},ot=o[W],xt=s[W],Ut=o[Y],Et=s[Y],mt=Ve-K;I?(C==="pixels"?(It.y=U,It.t=re*Ut,It.b=re*Et):(It.t=It.b=0,It.yt=U+B*Ut,It.yb=U-B*Et),P==="pixels"?(It.x=H,It.l=Ve*ot,It.r=Ve*xt):(It.l=mt*ot,It.r=mt*xt,It.xl=H-z*ot,It.xr=H+z*xt)):(C==="pixels"?(It.x=H,It.l=re*ot,It.r=re*xt):(It.l=It.r=0,It.xl=H+B*ot,It.xr=H-B*xt),P==="pixels"?(It.y=1-U,It.t=Ve*Ut,It.b=Ve*Et):(It.t=mt*Ut,It.b=mt*Et,It.yt=U-z*Ut,It.yb=U+z*Et));var kt=O.y<.5?"b":"t",ht=O.x<.5?"l":"r";A._fullLayout._reservedMargin[O._id]={};var wt={r:Q.width-Pe-Ye,l:Pe+It.r,b:Q.height-Ue-Fe,t:Ue+It.b};q&&Z?E.autoMargin(A,O._id,It):q?A._fullLayout._reservedMargin[O._id][kt]=wt[kt]:Z||I?A._fullLayout._reservedMargin[O._id][ht]=wt[ht]:A._fullLayout._reservedMargin[O._id][kt]=wt[kt]}],A)}(_,h,g);w&&w.then&&(g._promises||[]).push(w),g._context.edits.colorbarPosition&&function(S,O,A){var I,B,C,z=O.orientation==="v",P=A._fullLayout._size;M.init({element:S.node(),gd:A,prepFn:function(){I=S.attr("transform"),u(S)},moveFn:function(R,N){S.attr("transform",I+a(R,N)),B=M.align((z?O._uFrac:O._vFrac)+R/P.w,z?O._thickFrac:O._lenFrac,0,1,O.xanchor),C=M.align((z?O._vFrac:1-O._uFrac)-N/P.h,z?O._lenFrac:O._thickFrac,0,1,O.yanchor);var j=M.getCursor(B,C,O.xanchor,O.yanchor);u(S,j)},doneFn:function(){if(u(S),B!==void 0&&C!==void 0){var R={};R[O._propPrefix+"x"]=B,R[O._propPrefix+"y"]=C,O._traceIndex!==void 0?T.call("_guiRestyle",A,R,O._traceIndex):T.call("_guiRelayout",A,R)}}})}(_,h,g)}),e.exit().each(function(h){E.autoMargin(g,h._id)}).remove(),e.order()}}},91362:function($,F,m){var L=m(34809);$.exports=function(D){return L.isPlainObject(D.colorbar)}},96919:function($,F,m){$.exports={moduleType:"component",name:"colorbar",attributes:m(25158),supplyDefaults:m(42097),draw:m(5881).draw,hasColorbar:m(91362)}},87163:function($,F,m){var L=m(25158),D=m(90694).counter,E=m(62994),T=m(19017).scales;function k(M){return"`"+M+"`"}E(T),$.exports=function(M,b){M=M||"";var a,t=(b=b||{}).cLetter||"c",u=("onlyIfNumerical"in b&&b.onlyIfNumerical,"noScale"in b?b.noScale:M==="marker.line"),i="showScaleDflt"in b?b.showScaleDflt:t==="z",l=typeof b.colorscaleDflt=="string"?T[b.colorscaleDflt]:null,d=b.editTypeOverride||"",v=M?M+".":"";"colorAttr"in b?(a=b.colorAttr,b.colorAttr):k(v+(a={z:"z",c:"color"}[t]));var y=t+"auto",p=t+"min",c=t+"max",x=t+"mid",f={};f[p]=f[c]=void 0;var n={};n[y]=!1;var o={};return a==="color"&&(o.color={valType:"color",arrayOk:!0,editType:d||"style"},b.anim&&(o.color.anim=!0)),o[y]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:f},o[p]={valType:"number",dflt:null,editType:d||"plot",impliedEdits:n},o[c]={valType:"number",dflt:null,editType:d||"plot",impliedEdits:n},o[x]={valType:"number",dflt:null,editType:"calc",impliedEdits:f},o.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},o.autocolorscale={valType:"boolean",dflt:b.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},o.reversescale={valType:"boolean",dflt:!1,editType:"plot"},u||(o.showscale={valType:"boolean",dflt:i,editType:"calc"},o.colorbar=L),b.noColorAxis||(o.coloraxis={valType:"subplotid",regex:D("coloraxis"),dflt:null,editType:"calc"}),o}},28379:function($,F,m){var L=m(10721),D=m(34809),E=m(65477).extractOpts;$.exports=function(T,k,M){var b,a=T._fullLayout,t=M.vals,u=M.containerStr,i=u?D.nestedProperty(k,u).get():k,l=E(i),d=l.auto!==!1,v=l.min,y=l.max,p=l.mid,c=function(){return D.aggNums(Math.min,null,t)},x=function(){return D.aggNums(Math.max,null,t)};v===void 0?v=c():d&&(v=i._colorAx&&L(v)?Math.min(v,c()):c()),y===void 0?y=x():d&&(y=i._colorAx&&L(y)?Math.max(y,x()):x()),d&&p!==void 0&&(y-p>p-v?v=p-(y-p):y-p<p-v&&(y=p+(p-v))),v===y&&(v-=.5,y+=.5),l._sync("min",v),l._sync("max",y),l.autocolorscale&&(b=v*y<0?a.colorscale.diverging:v>=0?a.colorscale.sequential:a.colorscale.sequentialminus,l._sync("colorscale",b))}},67623:function($,F,m){var L=m(34809),D=m(65477).hasColorscale,E=m(65477).extractOpts;$.exports=function(T,k){function M(d,v){var y=d["_"+v];y!==void 0&&(d[v]=y)}function b(d,v){var y=v.container?L.nestedProperty(d,v.container).get():d;if(y)if(y.coloraxis)y._colorAx=k[y.coloraxis];else{var p=E(y),c=p.auto;(c||p.min===void 0)&&M(y,v.min),(c||p.max===void 0)&&M(y,v.max),p.autocolorscale&&M(y,"colorscale")}}for(var a=0;a<T.length;a++){var t=T[a],u=t._module.colorbar;if(u)if(Array.isArray(u))for(var i=0;i<u.length;i++)b(t,u[i]);else b(t,u);D(t,"marker.line")&&b(t,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in k._colorAxes)b(k[l],{min:"cmin",max:"cmax"})}},39356:function($,F,m){var L=m(10721),D=m(34809),E=m(91362),T=m(42097),k=m(19017).isValid,M=m(33626).traceIs;function b(a,t){var u=t.slice(0,t.length-1);return t?D.nestedProperty(a,u).get()||{}:a}$.exports=function a(t,u,i,l,d){var v=d.prefix,y=d.cLetter,p="_module"in u,c=b(t,v),x=b(u,v),f=b(u._template||{},v)||{},n=function(){return delete t.coloraxis,delete u.coloraxis,a(t,u,i,l,d)};if(p){var o=i._colorAxes||{},s=l(v+"coloraxis");if(s){var r=M(u,"contour")&&D.nestedProperty(u,"contours.coloring").get()||"heatmap",g=o[s];return void(g?(g[2].push(n),g[0]!==r&&(g[0]=!1,D.warn(["Ignoring coloraxis:",s,"setting","as it is linked to incompatible colorscales."].join(" ")))):o[s]=[r,u,[n]])}}var e=c[y+"min"],h=c[y+"max"],_=L(e)&&L(h)&&e<h;l(v+y+"auto",!_)?l(v+y+"mid"):(l(v+y+"min"),l(v+y+"max"));var w,S,O=c.colorscale,A=f.colorscale;O!==void 0&&(w=!k(O)),A!==void 0&&(w=!k(A)),l(v+"autocolorscale",w),l(v+"colorscale"),l(v+"reversescale"),v!=="marker.line."&&(v&&p&&(S=E(c)),l(v+"showscale",S)&&(v&&f&&(x._template=f),T(c,x,i)))}},65477:function($,F,m){var L=m(45568),D=m(65657),E=m(10721),T=m(34809),k=m(78766),M=m(19017).isValid,b=["showscale","autocolorscale","colorscale","reversescale","colorbar"],a=["min","max","mid","auto"];function t(v){var y,p,c,x=v._colorAx,f=x||v,n={};for(p=0;p<b.length;p++)n[c=b[p]]=f[c];if(x)for(y="c",p=0;p<a.length;p++)n[c=a[p]]=f["c"+c];else{var o;for(p=0;p<a.length;p++)((o="c"+(c=a[p]))in f||(o="z"+c)in f)&&(n[c]=f[o]);y=o.charAt(0)}return n._sync=function(s,r){var g=a.indexOf(s)!==-1?y+s:s;f[g]=f["_"+g]=r},n}function u(v){for(var y=t(v),p=y.min,c=y.max,x=y.reversescale?i(y.colorscale):y.colorscale,f=x.length,n=new Array(f),o=new Array(f),s=0;s<f;s++){var r=x[s];n[s]=p+r[0]*(c-p),o[s]=r[1]}return{domain:n,range:o}}function i(v){for(var y=v.length,p=new Array(y),c=y-1,x=0;c>=0;c--,x++){var f=v[c];p[x]=[1-f[0],f[1]]}return p}function l(v,y){y=y||{};for(var p=v.domain,c=v.range,x=c.length,f=new Array(x),n=0;n<x;n++){var o=D(c[n]).toRgb();f[n]=[o.r,o.g,o.b,o.a]}var s,r=L.scale.linear().domain(p).range(f).clamp(!0),g=y.noNumericCheck,e=y.returnArray;return(s=g&&e?r:g?function(h){return d(r(h))}:e?function(h){return E(h)?r(h):D(h).isValid()?h:k.defaultLine}:function(h){return E(h)?d(r(h)):D(h).isValid()?h:k.defaultLine}).domain=r.domain,s.range=function(){return c},s}function d(v){var y={r:v[0],g:v[1],b:v[2],a:v[3]};return D(y).toRgbString()}$.exports={hasColorscale:function(v,y,p){var c=y?T.nestedProperty(v,y).get()||{}:v,x=c[p||"color"];x&&x._inputArray&&(x=x._inputArray);var f=!1;if(T.isArrayOrTypedArray(x)){for(var n=0;n<x.length;n++)if(E(x[n])){f=!0;break}}return T.isPlainObject(c)&&(f||c.showscale===!0||E(c.cmin)&&E(c.cmax)||M(c.colorscale)||T.isPlainObject(c.colorbar))},extractOpts:t,extractScale:u,flipScale:i,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:function(v,y){return l(u(v),y)}}},88856:function($,F,m){var L=m(19017),D=m(65477);$.exports={moduleType:"component",name:"colorscale",attributes:m(87163),layoutAttributes:m(56978),supplyLayoutDefaults:m(64613),handleDefaults:m(39356),crossTraceDefaults:m(67623),calc:m(28379),scales:L.scales,defaultScale:L.defaultScale,getScale:L.get,isValidScale:L.isValid,hasColorscale:D.hasColorscale,extractOpts:D.extractOpts,extractScale:D.extractScale,flipScale:D.flipScale,makeColorScaleFunc:D.makeColorScaleFunc,makeColorScaleFuncFromTrace:D.makeColorScaleFuncFromTrace}},56978:function($,F,m){var L=m(93049).extendFlat,D=m(87163),E=m(19017).scales;$.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:E.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:E.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:E.RdBu,editType:"calc"}},coloraxis:L({_isSubplotObj:!0,editType:"calc"},D("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},64613:function($,F,m){var L=m(34809),D=m(78032),E=m(56978),T=m(39356);$.exports=function(k,M){function b(y,p){return L.coerce(k,M,E,y,p)}b("colorscale.sequential"),b("colorscale.sequentialminus"),b("colorscale.diverging");var a,t,u=M._colorAxes;function i(y,p){return L.coerce(a,t,E.coloraxis,y,p)}for(var l in u){var d=u[l];if(d[0])a=k[l]||{},(t=D.newContainer(M,l,"coloraxis"))._name=l,T(a,t,M,i,{prefix:"",cLetter:"c"});else{for(var v=0;v<d[2].length;v++)d[2][v]();delete M._colorAxes[l]}}}},19017:function($,F,m){var L=m(65657),D={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},E=D.RdBu;function T(k){var M=0;if(!Array.isArray(k)||k.length<2||!k[0]||!k[k.length-1]||+k[0][0]!=0||+k[k.length-1][0]!=1)return!1;for(var b=0;b<k.length;b++){var a=k[b];if(a.length!==2||+a[0]<M||!L(a[1]).isValid())return!1;M=+a[0]}return!0}$.exports={scales:D,defaultScale:E,get:function(k,M){if(M||(M=E),!k)return M;function b(){try{k=D[k]||JSON.parse(k)}catch{k=M}}return typeof k=="string"&&(b(),typeof k=="string"&&b()),T(k)?k:M},isValid:function(k){return D[k]!==void 0||T(k)}}},53770:function($){$.exports=function(F,m,L,D,E){var T=(F-L)/(D-L),k=T+m/(D-L),M=(T+k)/2;return E==="left"||E==="bottom"?T:E==="center"||E==="middle"?M:E==="right"||E==="top"?k:T<.6666666666666666-M?T:k>1.3333333333333333-M?k:M}},4001:function($,F,m){var L=m(34809),D=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];$.exports=function(E,T,k,M){return E=k==="left"?0:k==="center"?1:k==="right"?2:L.constrain(Math.floor(3*E),0,2),T=M==="bottom"?0:M==="middle"?1:M==="top"?2:L.constrain(Math.floor(3*T),0,2),D[T][E]}},70414:function($,F){F.selectMode=function(m){return m==="lasso"||m==="select"},F.drawMode=function(m){return m==="drawclosedpath"||m==="drawopenpath"||m==="drawline"||m==="drawrect"||m==="drawcircle"},F.openMode=function(m){return m==="drawline"||m==="drawopenpath"},F.rectMode=function(m){return m==="select"||m==="drawline"||m==="drawrect"||m==="drawcircle"},F.freeMode=function(m){return m==="lasso"||m==="drawclosedpath"||m==="drawopenpath"},F.selectingOrDrawing=function(m){return F.freeMode(m)||F.rectMode(m)}},14751:function($,F,m){var L=m(44039),D=m(39784),E=m(74043),T=m(34809).removeElement,k=m(54826),M=$.exports={};M.align=m(53770),M.getCursor=m(4001);var b=m(60148);function a(){var u=document.createElement("div");u.className="dragcover";var i=u.style;return i.position="fixed",i.left=0,i.right=0,i.top=0,i.bottom=0,i.zIndex=999999999,i.background="none",document.body.appendChild(u),u}function t(u){return L(u.changedTouches?u.changedTouches[0]:u,document.body)}M.unhover=b.wrapped,M.unhoverRaw=b.raw,M.init=function(u){var i,l,d,v,y,p,c,x,f=u.gd,n=1,o=f._context.doubleClickDelay,s=u.element;f._mouseDownTime||(f._mouseDownTime=0),s.style.pointerEvents="all",s.onmousedown=g,E?(s._ontouchstart&&s.removeEventListener("touchstart",s._ontouchstart),s._ontouchstart=g,s.addEventListener("touchstart",g,{passive:!1})):s.ontouchstart=g;var r=u.clampFn||function(_,w,S){return Math.abs(_)<S&&(_=0),Math.abs(w)<S&&(w=0),[_,w]};function g(_){f._dragged=!1,f._dragging=!0;var w=t(_);i=w[0],l=w[1],c=_.target,p=_,x=_.buttons===2||_.ctrlKey,_.clientX===void 0&&_.clientY===void 0&&(_.clientX=i,_.clientY=l),(d=new Date().getTime())-f._mouseDownTime<o?n+=1:(n=1,f._mouseDownTime=d),u.prepFn&&u.prepFn(_,i,l),D&&!x?(y=a()).style.cursor=window.getComputedStyle(s).cursor:D||(y=document,v=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(s).cursor),document.addEventListener("mouseup",h),document.addEventListener("touchend",h),u.dragmode!==!1&&(_.preventDefault(),document.addEventListener("mousemove",e),document.addEventListener("touchmove",e,{passive:!1}))}function e(_){_.preventDefault();var w=t(_),S=u.minDrag||k.MINDRAG,O=r(w[0]-i,w[1]-l,S),A=O[0],I=O[1];(A||I)&&(f._dragged=!0,M.unhover(f,_)),f._dragged&&u.moveFn&&!x&&(f._dragdata={element:s,dx:A,dy:I},u.moveFn(A,I))}function h(_){if(delete f._dragdata,u.dragmode!==!1&&(_.preventDefault(),document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e)),document.removeEventListener("mouseup",h),document.removeEventListener("touchend",h),D?T(y):v&&(y.documentElement.style.cursor=v,v=null),f._dragging){if(f._dragging=!1,new Date().getTime()-f._mouseDownTime>o&&(n=Math.max(n-1,1)),f._dragged)u.doneFn&&u.doneFn();else if(u.clickFn&&u.clickFn(n,p),!x){var w;try{w=new MouseEvent("click",_)}catch{var S=t(_);(w=document.createEvent("MouseEvents")).initMouseEvent("click",_.bubbles,_.cancelable,_.view,_.detail,_.screenX,_.screenY,S[0],S[1],_.ctrlKey,_.altKey,_.shiftKey,_.metaKey,_.button,_.relatedTarget)}c.dispatchEvent(w)}f._dragging=!1,f._dragged=!1}else f._dragged=!1}},M.coverSlip=a},60148:function($,F,m){var L=m(68596),D=m(64025),E=m(95425).getGraphDiv,T=m(85988),k=$.exports={};k.wrapped=function(M,b,a){(M=E(M))._fullLayout&&D.clear(M._fullLayout._uid+T.HOVERID),k.raw(M,b,a)},k.raw=function(M,b){var a=M._fullLayout,t=M._hoverdata;b||(b={}),b.target&&!M._dragged&&L.triggerHandler(M,"plotly_beforehover",b)===!1||(a._hoverlayer.selectAll("g").remove(),a._hoverlayer.selectAll("line").remove(),a._hoverlayer.selectAll("circle").remove(),M._hoverdata=void 0,b.target&&t&&M.emit("plotly_unhover",{event:b,points:t}))}},94850:function($,F){F.T={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},F.k={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},62203:function($,F,m){var L=m(45568),D=m(34809),E=D.numberFormat,T=m(10721),k=m(65657),M=m(33626),b=m(78766),a=m(88856),t=D.strTranslate,u=m(30635),i=m(62972),l=m(4530).LINE_SPACING,d=m(20438).DESELECTDIM,v=m(64726),y=m(92527),p=m(36040).appendArrayPointValue,c=$.exports={};function x(ve){return ve==="none"?void 0:ve}c.font=function(ve,he){var de=he.variant,X=he.style,ae=he.weight,K=he.color,ge=he.size,re=he.family,ue=he.shadow,we=he.lineposition,Te=he.textcase;re&&ve.style("font-family",re),ge+1&&ve.style("font-size",ge+"px"),K&&ve.call(b.fill,K),ae&&ve.style("font-weight",ae),X&&ve.style("font-style",X),de&&ve.style("font-variant",de),Te&&ve.style("text-transform",x(function(ee){return f[ee]}(Te))),ue&&ve.style("text-shadow",ue==="auto"?u.makeTextShadow(b.contrast(K)):x(ue)),we&&ve.style("text-decoration-line",x(function(ee){return ee.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}(we)))};var f={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function n(ve,he,de,X){var ae=he.fillpattern,K=he.fillgradient,ge=ae&&c.getPatternAttr(ae.shape,0,"");if(ge){var re=c.getPatternAttr(ae.bgcolor,0,null),ue=c.getPatternAttr(ae.fgcolor,0,null),we=ae.fgopacity,Te=c.getPatternAttr(ae.size,0,8),ee=c.getPatternAttr(ae.solidity,0,.3),se=he.uid;c.pattern(ve,"point",de,se,ge,Te,ee,void 0,ae.fillmode,re,ue,we)}else if(K&&K.type!=="none"){var ce,be,Ee=K.type,Se="scatterfill-"+he.uid;X&&(Se="legendfill-"+he.uid),X||K.start===void 0&&K.stop===void 0?(Ee==="horizontal"&&(Ee+="reversed"),ve.call(c.gradient,de,Se,Ee,K.colorscale,"fill")):(Ee==="horizontal"?(ce={x:K.start,y:0},be={x:K.stop,y:0}):Ee==="vertical"&&(ce={x:0,y:K.start},be={x:0,y:K.stop}),ce.x=he._xA.c2p(ce.x===void 0?he._extremes.x.min[0].val:ce.x,!0),ce.y=he._yA.c2p(ce.y===void 0?he._extremes.y.min[0].val:ce.y,!0),be.x=he._xA.c2p(be.x===void 0?he._extremes.x.max[0].val:be.x,!0),be.y=he._yA.c2p(be.y===void 0?he._extremes.y.max[0].val:be.y,!0),ve.call(h,de,Se,"linear",K.colorscale,"fill",ce,be,!0,!1))}else he.fillcolor&&ve.call(b.fill,he.fillcolor)}c.setPosition=function(ve,he,de){ve.attr("x",he).attr("y",de)},c.setSize=function(ve,he,de){ve.attr("width",he).attr("height",de)},c.setRect=function(ve,he,de,X,ae){ve.call(c.setPosition,he,de).call(c.setSize,X,ae)},c.translatePoint=function(ve,he,de,X){var ae=de.c2p(ve.x),K=X.c2p(ve.y);return!!(T(ae)&&T(K)&&he.node())&&(he.node().nodeName==="text"?he.attr("x",ae).attr("y",K):he.attr("transform",t(ae,K)),!0)},c.translatePoints=function(ve,he,de){ve.each(function(X){var ae=L.select(this);c.translatePoint(X,ae,he,de)})},c.hideOutsideRangePoint=function(ve,he,de,X,ae,K){he.attr("display",de.isPtWithinRange(ve,ae)&&X.isPtWithinRange(ve,K)?null:"none")},c.hideOutsideRangePoints=function(ve,he){if(he._hasClipOnAxisFalse){var de=he.xaxis,X=he.yaxis;ve.each(function(ae){var K=ae[0].trace,ge=K.xcalendar,re=K.ycalendar,ue=M.traceIs(K,"bar-like")?".bartext":".point,.textpoint";ve.selectAll(ue).each(function(we){c.hideOutsideRangePoint(we,L.select(this),de,X,ge,re)})})}},c.crispRound=function(ve,he,de){return he&&T(he)?ve._context.staticPlot?he:he<1?1:Math.round(he):de||0},c.singleLineStyle=function(ve,he,de,X,ae){he.style("fill","none");var K=(((ve||[])[0]||{}).trace||{}).line||{},ge=de||K.width||0,re=ae||K.dash||"";b.stroke(he,X||K.color),c.dashLine(he,re,ge)},c.lineGroupStyle=function(ve,he,de,X){ve.style("fill","none").each(function(ae){var K=(((ae||[])[0]||{}).trace||{}).line||{},ge=he||K.width||0,re=X||K.dash||"";L.select(this).call(b.stroke,de||K.color).call(c.dashLine,re,ge)})},c.dashLine=function(ve,he,de){de=+de||0,he=c.dashStyle(he,de),ve.style({"stroke-dasharray":he,"stroke-width":de+"px"})},c.dashStyle=function(ve,he){he=+he||1;var de=Math.max(he,3);return ve==="solid"?ve="":ve==="dot"?ve=de+"px,"+de+"px":ve==="dash"?ve=3*de+"px,"+3*de+"px":ve==="longdash"?ve=5*de+"px,"+5*de+"px":ve==="dashdot"?ve=3*de+"px,"+de+"px,"+de+"px,"+de+"px":ve==="longdashdot"&&(ve=5*de+"px,"+2*de+"px,"+de+"px,"+2*de+"px"),ve},c.singleFillStyle=function(ve,he){var de=L.select(ve.node());n(ve,((de.data()[0]||[])[0]||{}).trace||{},he,!1)},c.fillGroupStyle=function(ve,he,de){ve.style("stroke-width",0).each(function(X){var ae=L.select(this);X[0].trace&&n(ae,X[0].trace,he,de)})};var o=m(38882);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(o).forEach(function(ve){var he=o[ve],de=he.n;c.symbolList.push(de,String(de),ve,de+100,String(de+100),ve+"-open"),c.symbolNames[de]=ve,c.symbolFuncs[de]=he.f,c.symbolBackOffs[de]=he.backoff||0,he.needLine&&(c.symbolNeedLines[de]=!0),he.noDot?c.symbolNoDot[de]=!0:c.symbolList.push(de+200,String(de+200),ve+"-dot",de+300,String(de+300),ve+"-open-dot"),he.noFill&&(c.symbolNoFill[de]=!0)});var s=c.symbolNames.length;function r(ve,he,de,X){var ae=ve%100;return c.symbolFuncs[ae](he,de,X)+(ve>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}c.symbolNumber=function(ve){if(T(ve))ve=+ve;else if(typeof ve=="string"){var he=0;ve.indexOf("-open")>0&&(he=100,ve=ve.replace("-open","")),ve.indexOf("-dot")>0&&(he+=200,ve=ve.replace("-dot","")),(ve=c.symbolNames.indexOf(ve))>=0&&(ve+=he)}return ve%100>=s||ve>=400?0:Math.floor(Math.max(ve,0))};var g=E("~f"),e={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function h(ve,he,de,X,ae,K,ge,re,ue,we){var Te,ee=ae.length;X==="linear"?Te={node:"linearGradient",attrs:{x1:ge.x,y1:ge.y,x2:re.x,y2:re.y,gradientUnits:ue?"userSpaceOnUse":"objectBoundingBox"},reversed:we}:X==="radial"&&(Te={node:"radialGradient",reversed:we});for(var se=new Array(ee),ce=0;ce<ee;ce++)Te.reversed?se[ee-1-ce]=[g(100*(1-ae[ce][0])),ae[ce][1]]:se[ce]=[g(100*ae[ce][0]),ae[ce][1]];var be=he._fullLayout,Ee="g"+be._uid+"-"+de,Se=be._defs.select(".gradients").selectAll("#"+Ee).data([X+se.join(";")],D.identity);Se.exit().remove(),Se.enter().append(Te.node).each(function(){var De=L.select(this);Te.attrs&&De.attr(Te.attrs),De.attr("id",Ee);var Ge=De.selectAll("stop").data(se);Ge.exit().remove(),Ge.enter().append("stop"),Ge.each(function(Xe){var Ke=k(Xe[1]);L.select(this).attr({offset:Xe[0]+"%","stop-color":b.tinyRGB(Ke),"stop-opacity":Ke.getAlpha()})})}),ve.style(K,Y(Ee,he)).style(K+"-opacity",null),ve.classed("gradient_filled",!0)}c.gradient=function(ve,he,de,X,ae,K){var ge=e[X];return h(ve,he,de,ge.type,ae,K,ge.start,ge.stop,!1,ge.reversed)},c.pattern=function(ve,he,de,X,ae,K,ge,re,ue,we,Te,ee){var se=he==="legend";re&&(ue==="overlay"?(we=re,Te=b.contrast(we)):(we=void 0,Te=re));var ce,be,Ee,Se,De,Ge,Xe,Ke,ut,Tt=de._fullLayout,je="p"+Tt._uid+"-"+X,Le={},$e=k(Te),st=b.tinyRGB($e),Ot=ee*$e.getAlpha();switch(ae){case"/":ce=K*Math.sqrt(2),be=K*Math.sqrt(2),Ge="path",Le={d:Ee="M-"+ce/4+","+be/4+"l"+ce/2+",-"+be/2+"M0,"+be+"L"+ce+",0M"+ce/4*3+","+be/4*5+"l"+ce/2+",-"+be/2,opacity:Ot,stroke:st,"stroke-width":(Se=ge*K)+"px"};break;case"\\":ce=K*Math.sqrt(2),be=K*Math.sqrt(2),Ge="path",Le={d:Ee="M"+ce/4*3+",-"+be/4+"l"+ce/2+","+be/2+"M0,0L"+ce+","+be+"M-"+ce/4+","+be/4*3+"l"+ce/2+","+be/2,opacity:Ot,stroke:st,"stroke-width":(Se=ge*K)+"px"};break;case"x":ce=K*Math.sqrt(2),be=K*Math.sqrt(2),Ee="M-"+ce/4+","+be/4+"l"+ce/2+",-"+be/2+"M0,"+be+"L"+ce+",0M"+ce/4*3+","+be/4*5+"l"+ce/2+",-"+be/2+"M"+ce/4*3+",-"+be/4+"l"+ce/2+","+be/2+"M0,0L"+ce+","+be+"M-"+ce/4+","+be/4*3+"l"+ce/2+","+be/2,Se=K-K*Math.sqrt(1-ge),Ge="path",Le={d:Ee,opacity:Ot,stroke:st,"stroke-width":Se+"px"};break;case"|":Ge="path",Ge="path",Le={d:Ee="M"+(ce=K)/2+",0L"+ce/2+","+(be=K),opacity:Ot,stroke:st,"stroke-width":(Se=ge*K)+"px"};break;case"-":Ge="path",Ge="path",Le={d:Ee="M0,"+(be=K)/2+"L"+(ce=K)+","+be/2,opacity:Ot,stroke:st,"stroke-width":(Se=ge*K)+"px"};break;case"+":Ge="path",Ee="M"+(ce=K)/2+",0L"+ce/2+","+(be=K)+"M0,"+be/2+"L"+ce+","+be/2,Se=K-K*Math.sqrt(1-ge),Ge="path",Le={d:Ee,opacity:Ot,stroke:st,"stroke-width":Se+"px"};break;case".":ce=K,be=K,ge<Math.PI/4?De=Math.sqrt(ge*K*K/Math.PI):(Xe=ge,Ke=Math.PI/4,De=(ut=K/2)+(K/Math.sqrt(2)-ut)*(Xe-Ke)/(1-Ke)),Ge="circle",Le={cx:ce/2,cy:be/2,r:De,opacity:Ot,fill:st}}var Je=[ae||"noSh",we||"noBg",Te||"noFg",K,ge].join(";"),at=Tt._defs.select(".patterns").selectAll("#"+je).data([Je],D.identity);at.exit().remove(),at.enter().append("pattern").each(function(){var gt=L.select(this);if(gt.attr({id:je,width:ce+"px",height:be+"px",patternUnits:"userSpaceOnUse",patternTransform:se?"scale(0.8)":""}),we){var Oe=k(we),Be=b.tinyRGB(Oe),it=Oe.getAlpha(),tt=gt.selectAll("rect").data([0]);tt.exit().remove(),tt.enter().append("rect").attr({width:ce+"px",height:be+"px",fill:Be,"fill-opacity":it})}var ft=gt.selectAll(Ge).data([0]);ft.exit().remove(),ft.enter().append(Ge).attr(Le)}),ve.style("fill",Y(je,de)).style("fill-opacity",null),ve.classed("pattern_filled",!0)},c.initGradients=function(ve){var he=ve._fullLayout;D.ensureSingle(he._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),L.select(ve).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(ve){var he=ve._fullLayout;D.ensureSingle(he._defs,"g","patterns").selectAll("pattern").remove(),L.select(ve).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(ve,he,de){return ve&&D.isArrayOrTypedArray(ve)?he<ve.length?ve[he]:de:ve},c.pointStyle=function(ve,he,de,X){if(ve.size()){var ae=c.makePointStyleFns(he);ve.each(function(K){c.singlePointStyle(K,L.select(this),he,ae,de,X)})}},c.singlePointStyle=function(ve,he,de,X,ae,K){var ge=de.marker,re=ge.line;if(K&&K.i>=0&&ve.i===void 0&&(ve.i=K.i),he.style("opacity",X.selectedOpacityFn?X.selectedOpacityFn(ve):ve.mo===void 0?ge.opacity:ve.mo),X.ms2mrc){var ue;ue=ve.ms==="various"||ge.size==="various"?3:X.ms2mrc(ve.ms),ve.mrc=ue,X.selectedSizeFn&&(ue=ve.mrc=X.selectedSizeFn(ve));var we=c.symbolNumber(ve.mx||ge.symbol)||0;ve.om=we%200>=100;var Te=ke(ve,de),ee=H(ve,de);he.attr("d",r(we,ue,Te,ee))}var se,ce,be,Ee=!1;if(ve.so)be=re.outlierwidth,ce=re.outliercolor,se=ge.outliercolor;else{var Se=(re||{}).width;be=(ve.mlw+1||Se+1||(ve.trace?(ve.trace.marker.line||{}).width:0)+1)-1||0,ce="mlc"in ve?ve.mlcc=X.lineScale(ve.mlc):D.isArrayOrTypedArray(re.color)?b.defaultLine:re.color,D.isArrayOrTypedArray(ge.color)&&(se=b.defaultLine,Ee=!0),se="mc"in ve?ve.mcc=X.markerScale(ve.mc):ge.color||ge.colors||"rgba(0,0,0,0)",X.selectedColorFn&&(se=X.selectedColorFn(ve))}if(ve.om)he.call(b.stroke,se).style({"stroke-width":(be||1)+"px",fill:"none"});else{he.style("stroke-width",(ve.isBlank?0:be)+"px");var De=ge.gradient,Ge=ve.mgt;Ge?Ee=!0:Ge=De&&De.type,D.isArrayOrTypedArray(Ge)&&(Ge=Ge[0],e[Ge]||(Ge=0));var Xe=ge.pattern,Ke=Xe&&c.getPatternAttr(Xe.shape,ve.i,"");if(Ge&&Ge!=="none"){var ut=ve.mgc;ut?Ee=!0:ut=De.color;var Tt=de.uid;Ee&&(Tt+="-"+ve.i),c.gradient(he,ae,Tt,Ge,[[0,ut],[1,se]],"fill")}else if(Ke){var je=!1,Le=Xe.fgcolor;!Le&&K&&K.color&&(Le=K.color,je=!0);var $e=c.getPatternAttr(Le,ve.i,K&&K.color||null),st=c.getPatternAttr(Xe.bgcolor,ve.i,null),Ot=Xe.fgopacity,Je=c.getPatternAttr(Xe.size,ve.i,8),at=c.getPatternAttr(Xe.solidity,ve.i,.3);je=je||ve.mcc||D.isArrayOrTypedArray(Xe.shape)||D.isArrayOrTypedArray(Xe.bgcolor)||D.isArrayOrTypedArray(Xe.fgcolor)||D.isArrayOrTypedArray(Xe.size)||D.isArrayOrTypedArray(Xe.solidity);var gt=de.uid;je&&(gt+="-"+ve.i),c.pattern(he,"point",ae,gt,Ke,Je,at,ve.mcc,Xe.fillmode,st,$e,Ot)}else D.isArrayOrTypedArray(se)?b.fill(he,se[ve.i]):b.fill(he,se);be&&b.stroke(he,ce)}},c.makePointStyleFns=function(ve){var he={},de=ve.marker;return he.markerScale=c.tryColorscale(de,""),he.lineScale=c.tryColorscale(de,"line"),M.traceIs(ve,"symbols")&&(he.ms2mrc=v.isBubble(ve)?y(ve):function(){return(de.size||6)/2}),ve.selectedpoints&&D.extendFlat(he,c.makeSelectedPointStyleFns(ve)),he},c.makeSelectedPointStyleFns=function(ve){var he={},de=ve.selected||{},X=ve.unselected||{},ae=ve.marker||{},K=de.marker||{},ge=X.marker||{},re=ae.opacity,ue=K.opacity,we=ge.opacity,Te=ue!==void 0,ee=we!==void 0;(D.isArrayOrTypedArray(re)||Te||ee)&&(he.selectedOpacityFn=function(Ke){var ut=Ke.mo===void 0?ae.opacity:Ke.mo;return Ke.selected?Te?ue:ut:ee?we:d*ut});var se=ae.color,ce=K.color,be=ge.color;(ce||be)&&(he.selectedColorFn=function(Ke){var ut=Ke.mcc||se;return Ke.selected?ce||ut:be||ut});var Ee=ae.size,Se=K.size,De=ge.size,Ge=Se!==void 0,Xe=De!==void 0;return M.traceIs(ve,"symbols")&&(Ge||Xe)&&(he.selectedSizeFn=function(Ke){var ut=Ke.mrc||Ee/2;return Ke.selected?Ge?Se/2:ut:Xe?De/2:ut}),he},c.makeSelectedTextStyleFns=function(ve){var he={},de=ve.selected||{},X=ve.unselected||{},ae=ve.textfont||{},K=de.textfont||{},ge=X.textfont||{},re=ae.color,ue=K.color,we=ge.color;return he.selectedTextColorFn=function(Te){var ee=Te.tc||re;return Te.selected?ue||ee:we||(ue?ee:b.addOpacity(ee,d))},he},c.selectedPointStyle=function(ve,he){if(ve.size()&&he.selectedpoints){var de=c.makeSelectedPointStyleFns(he),X=he.marker||{},ae=[];de.selectedOpacityFn&&ae.push(function(K,ge){K.style("opacity",de.selectedOpacityFn(ge))}),de.selectedColorFn&&ae.push(function(K,ge){b.fill(K,de.selectedColorFn(ge))}),de.selectedSizeFn&&ae.push(function(K,ge){var re=ge.mx||X.symbol||0,ue=de.selectedSizeFn(ge);K.attr("d",r(c.symbolNumber(re),ue,ke(ge,he),H(ge,he))),ge.mrc2=ue}),ae.length&&ve.each(function(K){for(var ge=L.select(this),re=0;re<ae.length;re++)ae[re](ge,K)})}},c.tryColorscale=function(ve,he){var de=he?D.nestedProperty(ve,he).get():ve;if(de){var X=de.color;if((de.colorscale||de._colorAx)&&D.isArrayOrTypedArray(X))return a.makeColorScaleFuncFromTrace(de)}return D.identity};var _,w,S={start:1,end:-1,middle:0,bottom:1,top:-1};function O(ve,he,de,X,ae){var K=L.select(ve.node().parentNode),ge=he.indexOf("top")!==-1?"top":he.indexOf("bottom")!==-1?"bottom":"middle",re=he.indexOf("left")!==-1?"end":he.indexOf("right")!==-1?"start":"middle",ue=X?X/.8+1:0,we=(u.lineCount(ve)-1)*l+1,Te=S[re]*ue,ee=.75*de+S[ge]*ue+(S[ge]-1)*we*de/2;ve.attr("text-anchor",re),ae||K.attr("transform",t(Te,ee))}function A(ve,he){var de=ve.ts||he.textfont.size;return T(de)&&de>0?de:0}function I(ve,he,de){return de&&(ve=N(ve)),he?C(ve[1]):B(ve[0])}function B(ve){var he=L.round(ve,2);return _=he,he}function C(ve){var he=L.round(ve,2);return w=he,he}function z(ve,he,de,X){var ae=ve[0]-he[0],K=ve[1]-he[1],ge=de[0]-he[0],re=de[1]-he[1],ue=Math.pow(ae*ae+K*K,.25),we=Math.pow(ge*ge+re*re,.25),Te=(we*we*ae-ue*ue*ge)*X,ee=(we*we*K-ue*ue*re)*X,se=3*we*(ue+we),ce=3*ue*(ue+we);return[[B(he[0]+(se&&Te/se)),C(he[1]+(se&&ee/se))],[B(he[0]-(ce&&Te/ce)),C(he[1]-(ce&&ee/ce))]]}c.textPointStyle=function(ve,he,de){if(ve.size()){var X;if(he.selectedpoints){var ae=c.makeSelectedTextStyleFns(he);X=ae.selectedTextColorFn}var K=he.texttemplate,ge=de._fullLayout;ve.each(function(re){var ue=L.select(this),we=K?D.extractOption(re,he,"txt","texttemplate"):D.extractOption(re,he,"tx","text");if(we||we===0){if(K){var Te=he._module.formatLabels,ee=Te?Te(re,he,ge):{},se={};p(se,he,re.i);var ce=he._meta||{};we=D.texttemplateString(we,ee,ge._d3locale,se,re,ce)}var be=re.tp||he.textposition,Ee=A(re,he),Se=X?X(re):re.tc||he.textfont.color;ue.call(c.font,{family:re.tf||he.textfont.family,weight:re.tw||he.textfont.weight,style:re.ty||he.textfont.style,variant:re.tv||he.textfont.variant,textcase:re.tC||he.textfont.textcase,lineposition:re.tE||he.textfont.lineposition,shadow:re.tS||he.textfont.shadow,size:Ee,color:Se}).text(we).call(u.convertToTspans,de).call(O,be,Ee,re.mrc)}else ue.remove()})}},c.selectedTextStyle=function(ve,he){if(ve.size()&&he.selectedpoints){var de=c.makeSelectedTextStyleFns(he);ve.each(function(X){var ae=L.select(this),K=de.selectedTextColorFn(X),ge=X.tp||he.textposition,re=A(X,he);b.fill(ae,K);var ue=M.traceIs(he,"bar-like");O(ae,ge,re,X.mrc2||X.mrc,ue)})}},c.smoothopen=function(ve,he){if(ve.length<3)return"M"+ve.join("L");var de,X="M"+ve[0],ae=[];for(de=1;de<ve.length-1;de++)ae.push(z(ve[de-1],ve[de],ve[de+1],he));for(X+="Q"+ae[0][0]+" "+ve[1],de=2;de<ve.length-1;de++)X+="C"+ae[de-2][1]+" "+ae[de-1][0]+" "+ve[de];return X+"Q"+ae[ve.length-3][1]+" "+ve[ve.length-1]},c.smoothclosed=function(ve,he){if(ve.length<3)return"M"+ve.join("L")+"Z";var de,X="M"+ve[0],ae=ve.length-1,K=[z(ve[ae],ve[0],ve[1],he)];for(de=1;de<ae;de++)K.push(z(ve[de-1],ve[de],ve[de+1],he));for(K.push(z(ve[ae-1],ve[ae],ve[0],he)),de=1;de<=ae;de++)X+="C"+K[de-1][1]+" "+K[de][0]+" "+ve[de];return X+"C"+K[ae][1]+" "+K[0][0]+" "+ve[0]+"Z"};var P={hv:function(ve,he,de){return"H"+B(he[0])+"V"+I(he,1,de)},vh:function(ve,he,de){return"V"+C(he[1])+"H"+I(he,0,de)},hvh:function(ve,he,de){return"H"+B((ve[0]+he[0])/2)+"V"+C(he[1])+"H"+I(he,0,de)},vhv:function(ve,he,de){return"V"+C((ve[1]+he[1])/2)+"H"+B(he[0])+"V"+I(he,1,de)}},R=function(ve,he,de){return"L"+I(he,0,de)+","+I(he,1,de)};function N(ve,he){var de=ve.backoff,X=ve.trace,ae=ve.d,K=ve.i;if(de&&X&&X.marker&&X.marker.angle%360==0&&X.line&&X.line.shape!=="spline"){var ge=D.isArrayOrTypedArray(de),re=ve,ue=he?he[0]:_||0,we=he?he[1]:w||0,Te=re[0],ee=re[1],se=Te-ue,ce=ee-we,be=Math.atan2(ce,se),Ee=ge?de[K]:de;if(Ee==="auto"){var Se=re.i;X.type==="scatter"&&Se--;var De=re.marker,Ge=De.symbol;D.isArrayOrTypedArray(Ge)&&(Ge=Ge[Se]);var Xe=De.size;D.isArrayOrTypedArray(Xe)&&(Xe=Xe[Se]),Ee=De?c.symbolBackOffs[c.symbolNumber(Ge)]*Xe:0,Ee+=c.getMarkerStandoff(ae[Se],X)||0}var Ke=Te-Ee*Math.cos(be),ut=ee-Ee*Math.sin(be);(Ke<=Te&&Ke>=ue||Ke>=Te&&Ke<=ue)&&(ut<=ee&&ut>=we||ut>=ee&&ut<=we)&&(ve=[Ke,ut])}return ve}c.steps=function(ve){var he=P[ve]||R;return function(de){for(var X="M"+B(de[0][0])+","+C(de[0][1]),ae=de.length,K=1;K<ae;K++)X+=he(de[K-1],de[K],K===ae-1);return X}},c.applyBackoff=N,c.makeTester=function(){var ve=D.ensureSingleById(L.select("body"),"svg","js-plotly-tester",function(de){de.attr(i.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),he=D.ensureSingle(ve,"path","js-reference-point",function(de){de.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=ve,c.testref=he},c.savedBBoxes={};var j=0;function W(ve){var he=ve.getAttribute("data-unformatted");if(he!==null)return he+ve.getAttribute("data-math")+ve.getAttribute("text-anchor")+ve.getAttribute("style")}function Y(ve,he){if(!ve)return null;var de=he._context,X=de._exportedPlot?"":de._baseUrl||"";return X?"url('"+X+"#"+ve+"')":"url(#"+ve+")"}c.bBox=function(ve,he,de){var X,ae,K;if(de||(de=W(ve)),de){if(X=c.savedBBoxes[de])return D.extendFlat({},X)}else if(ve.childNodes.length===1){var ge=ve.childNodes[0];if(de=W(ge)){var re=+ge.getAttribute("x")||0,ue=+ge.getAttribute("y")||0,we=ge.getAttribute("transform");if(!we){var Te=c.bBox(ge,!1,de);return re&&(Te.left+=re,Te.right+=re),ue&&(Te.top+=ue,Te.bottom+=ue),Te}if(de+="~"+re+"~"+ue+"~"+we,X=c.savedBBoxes[de])return D.extendFlat({},X)}}he?ae=ve:(K=c.tester.node(),ae=ve.cloneNode(!0),K.appendChild(ae)),L.select(ae).attr("transform",null).call(u.positionText,0,0);var ee=ae.getBoundingClientRect(),se=c.testref.node().getBoundingClientRect();he||K.removeChild(ae);var ce={height:ee.height,width:ee.width,left:ee.left-se.left,top:ee.top-se.top,right:ee.right-se.left,bottom:ee.bottom-se.top};return j>=1e4&&(c.savedBBoxes={},j=0),de&&(c.savedBBoxes[de]=ce),j++,D.extendFlat({},ce)},c.setClipUrl=function(ve,he,de){ve.attr("clip-path",Y(he,de))},c.getTranslate=function(ve){var he=(ve[ve.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(de,X,ae){return[X,ae].join(" ")}).split(" ");return{x:+he[0]||0,y:+he[1]||0}},c.setTranslate=function(ve,he,de){var X=ve.attr?"attr":"getAttribute",ae=ve.attr?"attr":"setAttribute",K=ve[X]("transform")||"";return he=he||0,de=de||0,K=K.replace(/(\btranslate\(.*?\);?)/,"").trim(),K=(K+=t(he,de)).trim(),ve[ae]("transform",K),K},c.getScale=function(ve){var he=(ve[ve.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(de,X,ae){return[X,ae].join(" ")}).split(" ");return{x:+he[0]||1,y:+he[1]||1}},c.setScale=function(ve,he,de){var X=ve.attr?"attr":"getAttribute",ae=ve.attr?"attr":"setAttribute",K=ve[X]("transform")||"";return he=he||1,de=de||1,K=K.replace(/(\bscale\(.*?\);?)/,"").trim(),K=(K+="scale("+he+","+de+")").trim(),ve[ae]("transform",K),K};var J=/\s*sc.*/;c.setPointGroupScale=function(ve,he,de){if(he=he||1,de=de||1,ve){var X=he===1&&de===1?"":"scale("+he+","+de+")";ve.each(function(){var ae=(this.getAttribute("transform")||"").replace(J,"");ae=(ae+=X).trim(),this.setAttribute("transform",ae)})}};var G=/translate\([^)]*\)\s*$/;function H(ve,he){var de;return ve&&(de=ve.mf),de===void 0&&(de=he.marker&&he.marker.standoff||0),he._geo||he._xA?de:-de}c.setTextPointsScale=function(ve,he,de){ve&&ve.each(function(){var X,ae=L.select(this),K=ae.select("text");if(K.node()){var ge=parseFloat(K.attr("x")||0),re=parseFloat(K.attr("y")||0),ue=(ae.attr("transform")||"").match(G);X=he===1&&de===1?[]:[t(ge,re),"scale("+he+","+de+")",t(-ge,-re)],ue&&X.push(ue),ae.attr("transform",X.join(""))}})},c.getMarkerStandoff=H;var U,Z,q,Q,ne,ie,le=Math.atan2,fe=Math.cos,pe=Math.sin;function me(ve,he){var de=he[0],X=he[1];return[de*fe(ve)-X*pe(ve),de*pe(ve)+X*fe(ve)]}function ke(ve,he){var de,X,ae=ve.ma;ae===void 0&&((ae=he.marker.angle)&&!D.isArrayOrTypedArray(ae)||(ae=0));var K=he.marker.angleref;if(K==="previous"||K==="north"){if(he._geo){var ge=he._geo.project(ve.lonlat);de=ge[0],X=ge[1]}else{var re=he._xA,ue=he._yA;if(!re||!ue)return 90;de=re.c2p(ve.x),X=ue.c2p(ve.y)}if(he._geo){var we,Te=ve.lonlat[0],ee=ve.lonlat[1],se=he._geo.project([Te,ee+1e-5]),ce=he._geo.project([Te+1e-5,ee]),be=le(ce[1]-X,ce[0]-de),Ee=le(se[1]-X,se[0]-de);if(K==="north")we=ae/180*Math.PI;else if(K==="previous"){var Se=Te/180*Math.PI,De=ee/180*Math.PI,Ge=U/180*Math.PI,Xe=Z/180*Math.PI,Ke=Ge-Se,ut=fe(Xe)*pe(Ke),Tt=pe(Xe)*fe(De)-fe(Xe)*pe(De)*fe(Ke);we=-le(ut,Tt)-Math.PI,U=Te,Z=ee}var je=me(be,[fe(we),0]),Le=me(Ee,[pe(we),0]);ae=le(je[1]+Le[1],je[0]+Le[0])/Math.PI*180,K!=="previous"||ie===he.uid&&ve.i===ne+1||(ae=null)}if(K==="previous"&&!he._geo)if(ie===he.uid&&ve.i===ne+1&&T(de)&&T(X)){var $e=de-q,st=X-Q,Ot=he.line&&he.line.shape||"",Je=Ot.slice(Ot.length-1);Je==="h"&&(st=0),Je==="v"&&($e=0),ae+=le(st,$e)/Math.PI*180+90}else ae=null}return q=de,Q=X,ne=ve.i,ie=he.uid,ae}c.getMarkerAngle=ke},38882:function($,F,m){var L,D,E,T,k=m(26953),M=m(45568).round,b="M0,0Z",a=Math.sqrt(2),t=Math.sqrt(3),u=Math.PI,i=Math.cos,l=Math.sin;function d(y){return y===null}function v(y,p,c){if(!(y&&y%360!=0||p))return c;if(E===y&&T===p&&L===c)return D;function x(A,I){var B=i(A),C=l(A),z=I[0],P=I[1]+(p||0);return[z*B-P*C,z*C+P*B]}E=y,T=p,L=c;for(var f=y/180*u,n=0,o=0,s=k(c),r="",g=0;g<s.length;g++){var e=s[g],h=e[0],_=n,w=o;if(h==="M"||h==="L")n=+e[1],o=+e[2];else if(h==="m"||h==="l")n+=+e[1],o+=+e[2];else if(h==="H")n=+e[1];else if(h==="h")n+=+e[1];else if(h==="V")o=+e[1];else if(h==="v")o+=+e[1];else if(h==="A"){n=+e[1],o=+e[2];var S=x(f,[+e[6],+e[7]]);e[6]=S[0],e[7]=S[1],e[3]=+e[3]+y}h!=="H"&&h!=="V"||(h="L"),h!=="h"&&h!=="v"||(h="l"),h!=="m"&&h!=="l"||(n-=_,o-=w);var O=x(f,[n,o]);h!=="H"&&h!=="V"||(h="L"),h!=="M"&&h!=="L"&&h!=="m"&&h!=="l"||(e[1]=O[0],e[2]=O[1]),e[0]=h,r+=e[0]+e.slice(1).join(",")}return D=r,r}$.exports={circle:{n:0,f:function(y,p,c){if(d(p))return b;var x=M(y,2),f="M"+x+",0A"+x+","+x+" 0 1,1 0,-"+x+"A"+x+","+x+" 0 0,1 "+x+",0Z";return c?v(p,c,f):f}},square:{n:1,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M"+x+","+x+"H-"+x+"V-"+x+"H"+x+"Z")}},diamond:{n:2,f:function(y,p,c){if(d(p))return b;var x=M(1.3*y,2);return v(p,c,"M"+x+",0L0,"+x+"L-"+x+",0L0,-"+x+"Z")}},cross:{n:3,f:function(y,p,c){if(d(p))return b;var x=M(.4*y,2),f=M(1.2*y,2);return v(p,c,"M"+f+","+x+"H"+x+"V"+f+"H-"+x+"V"+x+"H-"+f+"V-"+x+"H-"+x+"V-"+f+"H"+x+"V-"+x+"H"+f+"Z")}},x:{n:4,f:function(y,p,c){if(d(p))return b;var x=M(.8*y/a,2),f="l"+x+","+x,n="l"+x+",-"+x,o="l-"+x+",-"+x,s="l-"+x+","+x;return v(p,c,"M0,"+x+f+n+o+n+o+s+o+s+f+s+f+"Z")}},"triangle-up":{n:5,f:function(y,p,c){if(d(p))return b;var x=M(2*y/t,2);return v(p,c,"M-"+x+","+M(y/2,2)+"H"+x+"L0,-"+M(y,2)+"Z")}},"triangle-down":{n:6,f:function(y,p,c){if(d(p))return b;var x=M(2*y/t,2);return v(p,c,"M-"+x+",-"+M(y/2,2)+"H"+x+"L0,"+M(y,2)+"Z")}},"triangle-left":{n:7,f:function(y,p,c){if(d(p))return b;var x=M(2*y/t,2);return v(p,c,"M"+M(y/2,2)+",-"+x+"V"+x+"L-"+M(y,2)+",0Z")}},"triangle-right":{n:8,f:function(y,p,c){if(d(p))return b;var x=M(2*y/t,2);return v(p,c,"M-"+M(y/2,2)+",-"+x+"V"+x+"L"+M(y,2)+",0Z")}},"triangle-ne":{n:9,f:function(y,p,c){if(d(p))return b;var x=M(.6*y,2),f=M(1.2*y,2);return v(p,c,"M-"+f+",-"+x+"H"+x+"V"+f+"Z")}},"triangle-se":{n:10,f:function(y,p,c){if(d(p))return b;var x=M(.6*y,2),f=M(1.2*y,2);return v(p,c,"M"+x+",-"+f+"V"+x+"H-"+f+"Z")}},"triangle-sw":{n:11,f:function(y,p,c){if(d(p))return b;var x=M(.6*y,2),f=M(1.2*y,2);return v(p,c,"M"+f+","+x+"H-"+x+"V-"+f+"Z")}},"triangle-nw":{n:12,f:function(y,p,c){if(d(p))return b;var x=M(.6*y,2),f=M(1.2*y,2);return v(p,c,"M-"+x+","+f+"V-"+x+"H"+f+"Z")}},pentagon:{n:13,f:function(y,p,c){if(d(p))return b;var x=M(.951*y,2),f=M(.588*y,2),n=M(-y,2),o=M(-.309*y,2);return v(p,c,"M"+x+","+o+"L"+f+","+M(.809*y,2)+"H-"+f+"L-"+x+","+o+"L0,"+n+"Z")}},hexagon:{n:14,f:function(y,p,c){if(d(p))return b;var x=M(y,2),f=M(y/2,2),n=M(y*t/2,2);return v(p,c,"M"+n+",-"+f+"V"+f+"L0,"+x+"L-"+n+","+f+"V-"+f+"L0,-"+x+"Z")}},hexagon2:{n:15,f:function(y,p,c){if(d(p))return b;var x=M(y,2),f=M(y/2,2),n=M(y*t/2,2);return v(p,c,"M-"+f+","+n+"H"+f+"L"+x+",0L"+f+",-"+n+"H-"+f+"L-"+x+",0Z")}},octagon:{n:16,f:function(y,p,c){if(d(p))return b;var x=M(.924*y,2),f=M(.383*y,2);return v(p,c,"M-"+f+",-"+x+"H"+f+"L"+x+",-"+f+"V"+f+"L"+f+","+x+"H-"+f+"L-"+x+","+f+"V-"+f+"Z")}},star:{n:17,f:function(y,p,c){if(d(p))return b;var x=1.4*y,f=M(.225*x,2),n=M(.951*x,2),o=M(.363*x,2),s=M(.588*x,2),r=M(-x,2),g=M(-.309*x,2),e=M(.118*x,2),h=M(.809*x,2);return v(p,c,"M"+f+","+g+"H"+n+"L"+o+","+e+"L"+s+","+h+"L0,"+M(.382*x,2)+"L-"+s+","+h+"L-"+o+","+e+"L-"+n+","+g+"H-"+f+"L0,"+r+"Z")}},hexagram:{n:18,f:function(y,p,c){if(d(p))return b;var x=M(.66*y,2),f=M(.38*y,2),n=M(.76*y,2);return v(p,c,"M-"+n+",0l-"+f+",-"+x+"h"+n+"l"+f+",-"+x+"l"+f+","+x+"h"+n+"l-"+f+","+x+"l"+f+","+x+"h-"+n+"l-"+f+","+x+"l-"+f+",-"+x+"h-"+n+"Z")}},"star-triangle-up":{n:19,f:function(y,p,c){if(d(p))return b;var x=M(y*t*.8,2),f=M(.8*y,2),n=M(1.6*y,2),o=M(4*y,2),s="A "+o+","+o+" 0 0 1 ";return v(p,c,"M-"+x+","+f+s+x+","+f+s+"0,-"+n+s+"-"+x+","+f+"Z")}},"star-triangle-down":{n:20,f:function(y,p,c){if(d(p))return b;var x=M(y*t*.8,2),f=M(.8*y,2),n=M(1.6*y,2),o=M(4*y,2),s="A "+o+","+o+" 0 0 1 ";return v(p,c,"M"+x+",-"+f+s+"-"+x+",-"+f+s+"0,"+n+s+x+",-"+f+"Z")}},"star-square":{n:21,f:function(y,p,c){if(d(p))return b;var x=M(1.1*y,2),f=M(2*y,2),n="A "+f+","+f+" 0 0 1 ";return v(p,c,"M-"+x+",-"+x+n+"-"+x+","+x+n+x+","+x+n+x+",-"+x+n+"-"+x+",-"+x+"Z")}},"star-diamond":{n:22,f:function(y,p,c){if(d(p))return b;var x=M(1.4*y,2),f=M(1.9*y,2),n="A "+f+","+f+" 0 0 1 ";return v(p,c,"M-"+x+",0"+n+"0,"+x+n+x+",0"+n+"0,-"+x+n+"-"+x+",0Z")}},"diamond-tall":{n:23,f:function(y,p,c){if(d(p))return b;var x=M(.7*y,2),f=M(1.4*y,2);return v(p,c,"M0,"+f+"L"+x+",0L0,-"+f+"L-"+x+",0Z")}},"diamond-wide":{n:24,f:function(y,p,c){if(d(p))return b;var x=M(1.4*y,2),f=M(.7*y,2);return v(p,c,"M0,"+f+"L"+x+",0L0,-"+f+"L-"+x+",0Z")}},hourglass:{n:25,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M"+x+","+x+"H-"+x+"L"+x+",-"+x+"H-"+x+"Z")},noDot:!0},bowtie:{n:26,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M"+x+","+x+"V-"+x+"L-"+x+","+x+"V-"+x+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M0,"+x+"V-"+x+"M"+x+",0H-"+x+"M"+x+",0A"+x+","+x+" 0 1,1 0,-"+x+"A"+x+","+x+" 0 0,1 "+x+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,p,c){if(d(p))return b;var x=M(y,2),f=M(y/a,2);return v(p,c,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f+"M"+x+",0A"+x+","+x+" 0 1,1 0,-"+x+"A"+x+","+x+" 0 0,1 "+x+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M0,"+x+"V-"+x+"M"+x+",0H-"+x+"M"+x+","+x+"H-"+x+"V-"+x+"H"+x+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M"+x+","+x+"L-"+x+",-"+x+"M"+x+",-"+x+"L-"+x+","+x+"M"+x+","+x+"H-"+x+"V-"+x+"H"+x+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,p,c){if(d(p))return b;var x=M(1.3*y,2);return v(p,c,"M"+x+",0L0,"+x+"L-"+x+",0L0,-"+x+"ZM0,-"+x+"V"+x+"M-"+x+",0H"+x)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,p,c){if(d(p))return b;var x=M(1.3*y,2),f=M(.65*y,2);return v(p,c,"M"+x+",0L0,"+x+"L-"+x+",0L0,-"+x+"ZM-"+f+",-"+f+"L"+f+","+f+"M-"+f+","+f+"L"+f+",-"+f)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,p,c){if(d(p))return b;var x=M(1.4*y,2);return v(p,c,"M0,"+x+"V-"+x+"M"+x+",0H-"+x)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M"+x+","+x+"L-"+x+",-"+x+"M"+x+",-"+x+"L-"+x+","+x)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,p,c){if(d(p))return b;var x=M(1.2*y,2),f=M(.85*y,2);return v(p,c,"M0,"+x+"V-"+x+"M"+x+",0H-"+x+"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,p,c){if(d(p))return b;var x=M(y/2,2),f=M(y,2);return v(p,c,"M"+x+","+f+"V-"+f+"M"+(x-f)+",-"+f+"V"+f+"M"+f+","+x+"H-"+f+"M-"+f+","+(x-f)+"H"+f)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,p,c){if(d(p))return b;var x=M(1.2*y,2),f=M(1.6*y,2),n=M(.8*y,2);return v(p,c,"M-"+x+","+n+"L0,0M"+x+","+n+"L0,0M0,-"+f+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,p,c){if(d(p))return b;var x=M(1.2*y,2),f=M(1.6*y,2),n=M(.8*y,2);return v(p,c,"M-"+x+",-"+n+"L0,0M"+x+",-"+n+"L0,0M0,"+f+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,p,c){if(d(p))return b;var x=M(1.2*y,2),f=M(1.6*y,2),n=M(.8*y,2);return v(p,c,"M"+n+","+x+"L0,0M"+n+",-"+x+"L0,0M-"+f+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,p,c){if(d(p))return b;var x=M(1.2*y,2),f=M(1.6*y,2),n=M(.8*y,2);return v(p,c,"M-"+n+","+x+"L0,0M-"+n+",-"+x+"L0,0M"+f+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,p,c){if(d(p))return b;var x=M(1.4*y,2);return v(p,c,"M"+x+",0H-"+x)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,p,c){if(d(p))return b;var x=M(1.4*y,2);return v(p,c,"M0,"+x+"V-"+x)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M"+x+",-"+x+"L-"+x+","+x)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M"+x+","+x+"L-"+x+",-"+x)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M0,0L-"+x+","+M(2*y,2)+"H"+x+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M0,0L-"+x+",-"+M(2*y,2)+"H"+x+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,p,c){if(d(p))return b;var x=M(2*y,2),f=M(y,2);return v(p,c,"M0,0L"+x+",-"+f+"V"+f+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,p,c){if(d(p))return b;var x=M(2*y,2),f=M(y,2);return v(p,c,"M0,0L-"+x+",-"+f+"V"+f+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M-"+x+",0H"+x+"M0,0L-"+x+","+M(2*y,2)+"H"+x+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,p,c){if(d(p))return b;var x=M(y,2);return v(p,c,"M-"+x+",0H"+x+"M0,0L-"+x+",-"+M(2*y,2)+"H"+x+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,p,c){if(d(p))return b;var x=M(2*y,2),f=M(y,2);return v(p,c,"M0,-"+f+"V"+f+"M0,0L"+x+",-"+f+"V"+f+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,p,c){if(d(p))return b;var x=M(2*y,2),f=M(y,2);return v(p,c,"M0,-"+f+"V"+f+"M0,0L-"+x+",-"+f+"V"+f+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,p,c){if(d(p))return b;var x=u/2.5,f=2*y*i(x),n=2*y*l(x);return v(p,c,"M0,0L"+-f+","+n+"L"+f+","+n+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,p,c){if(d(p))return b;var x=u/4,f=2*y*i(x),n=2*y*l(x);return v(p,c,"M0,0L"+-f+","+n+"A "+2*y+","+2*y+" 0 0 1 "+f+","+n+"Z")},backoff:.4,noDot:!0}}},75568:function($){$.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},352:function($,F,m){var L=m(10721),D=m(33626),E=m(29714),T=m(34809),k=m(25589);function M(b,a,t,u){var i=a["error_"+u]||{},l=[];if(i.visible&&["linear","log"].indexOf(t.type)!==-1){for(var d=k(i),v=0;v<b.length;v++){var y=b[v],p=y.i;if(p===void 0)p=v;else if(p===null)continue;var c=y[u];if(L(t.c2l(c))){var x=d(c,p);if(L(x[0])&&L(x[1])){var f=y[u+"s"]=c-x[0],n=y[u+"h"]=c+x[1];l.push(f,n)}}}var o=t._id,s=a._extremes[o],r=E.findExtremes(t,l,T.extendFlat({tozero:s.opts.tozero},{padded:!0}));s.min=s.min.concat(r.min),s.max=s.max.concat(r.max)}}$.exports=function(b){for(var a=b.calcdata,t=0;t<a.length;t++){var u=a[t],i=u[0].trace;if(i.visible===!0&&D.traceIs(i,"errorBarsOK")){var l=E.getFromId(b,i.xaxis),d=E.getFromId(b,i.yaxis);M(u,i,l,"x"),M(u,i,d,"y")}}}},25589:function($){function F(m,L){return m==="percent"?function(D){return Math.abs(D*L/100)}:m==="constant"?function(){return Math.abs(L)}:m==="sqrt"?function(D){return Math.sqrt(Math.abs(D))}:void 0}$.exports=function(m){var L=m.type,D=m.symmetric;if(L==="data"){var E=m.array||[];if(D)return function(b,a){var t=+E[a];return[t,t]};var T=m.arrayminus||[];return function(b,a){var t=+E[a],u=+T[a];return isNaN(t)&&isNaN(u)?[NaN,NaN]:[u||0,t||0]}}var k=F(L,m.value),M=F(L,m.valueminus);return D||m.valueminus===void 0?function(b){var a=k(b);return[a,a]}:function(b){return[M(b),k(b)]}}},5543:function($,F,m){var L=m(10721),D=m(33626),E=m(34809),T=m(78032),k=m(75568);$.exports=function(M,b,a,t){var u="error_"+t.axis,i=T.newContainer(b,u),l=M[u]||{};function d(c,x){return E.coerce(l,i,k,c,x)}if(d("visible",l.array!==void 0||l.value!==void 0||l.type==="sqrt")!==!1){var v=d("type","array"in l?"data":"percent"),y=!0;v!=="sqrt"&&(y=d("symmetric",!((v==="data"?"arrayminus":"valueminus")in l))),v==="data"?(d("array"),d("traceref"),y||(d("arrayminus"),d("tracerefminus"))):v!=="percent"&&v!=="constant"||(d("value"),y||d("valueminus"));var p="copy_"+t.inherit+"style";t.inherit&&(b["error_"+t.inherit]||{}).visible&&d(p,!(l.color||L(l.thickness)||L(l.width))),t.inherit&&i[p]||(d("color",a),d("thickness"),d("width",D.traceIs(b,"gl3d")?0:4))}}},77901:function($,F,m){var L=m(34809),D=m(13582).overrideAll,E=m(75568),T={error_x:L.extendFlat({},E),error_y:L.extendFlat({},E)};delete T.error_x.copy_zstyle,delete T.error_y.copy_zstyle,delete T.error_y.copy_ystyle;var k={error_x:L.extendFlat({},E),error_y:L.extendFlat({},E),error_z:L.extendFlat({},E)};delete k.error_x.copy_ystyle,delete k.error_y.copy_ystyle,delete k.error_z.copy_ystyle,delete k.error_z.copy_zstyle,$.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:T,bar:T,histogram:T,scatter3d:D(k,"calc","nested"),scattergl:D(T,"calc","nested")}},supplyDefaults:m(5543),calc:m(352),makeComputeError:m(25589),plot:m(42130),style:m(22800),hoverInfo:function(M,b,a){(b.error_y||{}).visible&&(a.yerr=M.yh-M.y,b.error_y.symmetric||(a.yerrneg=M.y-M.ys)),(b.error_x||{}).visible&&(a.xerr=M.xh-M.x,b.error_x.symmetric||(a.xerrneg=M.x-M.xs))}}},42130:function($,F,m){var L=m(45568),D=m(10721),E=m(62203),T=m(64726);$.exports=function(k,M,b,a){var t=b.xaxis,u=b.yaxis,i=a&&a.duration>0,l=k._context.staticPlot;M.each(function(d){var v,y=d[0].trace,p=y.error_x||{},c=y.error_y||{};y.ids&&(v=function(o){return o.id});var x=T.hasMarkers(y)&&y.marker.maxdisplayed>0;c.visible||p.visible||(d=[]);var f=L.select(this).selectAll("g.errorbar").data(d,v);if(f.exit().remove(),d.length){p.visible||f.selectAll("path.xerror").remove(),c.visible||f.selectAll("path.yerror").remove(),f.style("opacity",1);var n=f.enter().append("g").classed("errorbar",!0);i&&n.style("opacity",0).transition().duration(a.duration).style("opacity",1),E.setClipUrl(f,b.layerClipId,k),f.each(function(o){var s=L.select(this),r=function(S,O,A){var I={x:O.c2p(S.x),y:A.c2p(S.y)};return S.yh!==void 0&&(I.yh=A.c2p(S.yh),I.ys=A.c2p(S.ys),D(I.ys)||(I.noYS=!0,I.ys=A.c2p(S.ys,!0))),S.xh!==void 0&&(I.xh=O.c2p(S.xh),I.xs=O.c2p(S.xs),D(I.xs)||(I.noXS=!0,I.xs=O.c2p(S.xs,!0))),I}(o,t,u);if(!x||o.vis){var g,e=s.select("path.yerror");if(c.visible&&D(r.x)&&D(r.yh)&&D(r.ys)){var h=c.width;g="M"+(r.x-h)+","+r.yh+"h"+2*h+"m-"+h+",0V"+r.ys,r.noYS||(g+="m-"+h+",0h"+2*h),e.size()?i&&(e=e.transition().duration(a.duration).ease(a.easing)):e=s.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("yerror",!0),e.attr("d",g)}else e.remove();var _=s.select("path.xerror");if(p.visible&&D(r.y)&&D(r.xh)&&D(r.xs)){var w=(p.copy_ystyle?c:p).width;g="M"+r.xh+","+(r.y-w)+"v"+2*w+"m0,-"+w+"H"+r.xs,r.noXS||(g+="m0,-"+w+"v"+2*w),_.size()?i&&(_=_.transition().duration(a.duration).ease(a.easing)):_=s.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("xerror",!0),_.attr("d",g)}else _.remove()}})}})}},22800:function($,F,m){var L=m(45568),D=m(78766);$.exports=function(E){E.each(function(T){var k=T[0].trace,M=k.error_y||{},b=k.error_x||{},a=L.select(this);a.selectAll("path.yerror").style("stroke-width",M.thickness+"px").call(D.stroke,M.color),b.copy_ystyle&&(b=M),a.selectAll("path.xerror").style("stroke-width",b.thickness+"px").call(D.stroke,b.color)})}},70192:function($,F,m){var L=m(80337),D=m(6811).hoverlabel,E=m(93049).extendFlat;$.exports={hoverlabel:{bgcolor:E({},D.bgcolor,{arrayOk:!0}),bordercolor:E({},D.bordercolor,{arrayOk:!0}),font:L({arrayOk:!0,editType:"none"}),align:E({},D.align,{arrayOk:!0}),namelength:E({},D.namelength,{arrayOk:!0}),editType:"none"}}},83552:function($,F,m){var L=m(34809),D=m(33626);function E(T,k,M,b){b=b||L.identity,Array.isArray(T)&&(k[0][M]=b(T))}$.exports=function(T){var k=T.calcdata,M=T._fullLayout;function b(l){return function(d){return L.coerceHoverinfo({hoverinfo:d},{_module:l._module},M)}}for(var a=0;a<k.length;a++){var t=k[a],u=t[0].trace;if(!D.traceIs(u,"pie-like")){var i=D.traceIs(u,"2dMap")?E:L.fillArray;i(u.hoverinfo,t,"hi",b(u)),u.hovertemplate&&i(u.hovertemplate,t,"ht"),u.hoverlabel&&(i(u.hoverlabel.bgcolor,t,"hbg"),i(u.hoverlabel.bordercolor,t,"hbc"),i(u.hoverlabel.font.size,t,"hts"),i(u.hoverlabel.font.color,t,"htc"),i(u.hoverlabel.font.family,t,"htf"),i(u.hoverlabel.font.weight,t,"htw"),i(u.hoverlabel.font.style,t,"hty"),i(u.hoverlabel.font.variant,t,"htv"),i(u.hoverlabel.namelength,t,"hnl"),i(u.hoverlabel.align,t,"hta"))}}}},94225:function($,F,m){var L=m(33626),D=m(38103).hover;$.exports=function(E,T,k){var M=L.getComponentMethod("annotations","onClick")(E,E._hoverdata);function b(){E.emit("plotly_click",{points:E._hoverdata,event:T})}k!==void 0&&D(E,T,k,!0),E._hoverdata&&T&&T.target&&(M&&M.then?M.then(b):b(),T.stopImmediatePropagation&&T.stopImmediatePropagation())}},85988:function($){$.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},3239:function($,F,m){var L=m(34809),D=m(70192),E=m(26430);$.exports=function(T,k,M,b){var a=L.extendFlat({},b.hoverlabel);k.hovertemplate&&(a.namelength=-1),E(T,k,function(t,u){return L.coerce(T,k,D,t,u)},a)}},36040:function($,F,m){var L=m(34809);F.getSubplot=function(b){return b.subplot||b.xaxis+b.yaxis||b.geo},F.isTraceInSubplots=function(b,a){if(b.type==="splom"){for(var t=b.xaxes||[],u=b.yaxes||[],i=0;i<t.length;i++)for(var l=0;l<u.length;l++)if(a.indexOf(t[i]+u[l])!==-1)return!0;return!1}return a.indexOf(F.getSubplot(b))!==-1},F.flat=function(b,a){for(var t=new Array(b.length),u=0;u<b.length;u++)t[u]=a;return t},F.p2c=function(b,a){for(var t=new Array(b.length),u=0;u<b.length;u++)t[u]=b[u].p2c(a);return t},F.getDistanceFunction=function(b,a,t,u){return b==="closest"?u||F.quadrature(a,t):b.charAt(0)==="x"?a:t},F.getClosest=function(b,a,t){if(t.index!==!1)t.index>=0&&t.index<b.length?t.distance=0:t.index=!1;else for(var u=0;u<b.length;u++){var i=a(b[u]);i<=t.distance&&(t.index=u,t.distance=i)}return t},F.inbox=function(b,a,t){return b*a<0||b===0?t:1/0},F.quadrature=function(b,a){return function(t){var u=b(t),i=a(t);return Math.sqrt(u*u+i*i)}},F.makeEventData=function(b,a,t){var u="index"in b?b.index:b.pointNumber,i={data:a._input,fullData:a,curveNumber:a.index,pointNumber:u};if(a._indexToPoints){var l=a._indexToPoints[u];l.length===1?i.pointIndex=l[0]:i.pointIndices=l}else i.pointIndex=u;return a._module.eventData?i=a._module.eventData(i,b,a,t,u):("xVal"in b?i.x=b.xVal:"x"in b&&(i.x=b.x),"yVal"in b?i.y=b.yVal:"y"in b&&(i.y=b.y),b.xa&&(i.xaxis=b.xa),b.ya&&(i.yaxis=b.ya),b.zLabelVal!==void 0&&(i.z=b.zLabelVal)),F.appendArrayPointValue(i,a,u),i},F.appendArrayPointValue=function(b,a,t){var u=a._arrayAttrs;if(u)for(var i=0;i<u.length;i++){var l=u[i],d=E(l);if(b[d]===void 0){var v=T(L.nestedProperty(a,l).get(),t);v!==void 0&&(b[d]=v)}}},F.appendArrayMultiPointValues=function(b,a,t){var u=a._arrayAttrs;if(u)for(var i=0;i<u.length;i++){var l=u[i],d=E(l);if(b[d]===void 0){for(var v=L.nestedProperty(a,l).get(),y=new Array(t.length),p=0;p<t.length;p++)y[p]=T(v,t[p]);b[d]=y}}};var D={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function E(b){return D[b]||b}function T(b,a){return Array.isArray(a)?Array.isArray(b)&&Array.isArray(b[a[0]])?b[a[0]][a[1]]:void 0:b[a]}var k={x:!0,y:!0},M={"x unified":!0,"y unified":!0};F.isUnifiedHover=function(b){return typeof b=="string"&&!!M[b]},F.isXYhover=function(b){return typeof b=="string"&&!!k[b]}},38103:function($,F,m){var L=m(45568),D=m(10721),E=m(65657),T=m(34809),k=T.pushUnique,M=T.strTranslate,b=T.strRotate,a=m(68596),t=m(30635),u=m(93134),i=m(62203),l=m(78766),d=m(14751),v=m(29714),y=m(54826).zindexSeparator,p=m(33626),c=m(36040),x=m(85988),f=m(73970),n=m(6134),o=x.YANGLE,s=Math.PI*o/180,r=1/Math.sin(s),g=Math.cos(s),e=Math.sin(s),h=x.HOVERARROWSIZE,_=x.HOVERTEXTPAD,w={box:!0,ohlc:!0,violin:!0,candlestick:!0},S={scatter:!0,scattergl:!0,splom:!0};function O(U,Z){return U.distance-Z.distance}function A(U){return[U.trace.index,U.index,U.x0,U.y0,U.name,U.attr,U.xa?U.xa._id:"",U.ya?U.ya._id:""].join(",")}F.hover=function(U,Z,q,Q){U=T.getGraphDiv(U);var ne=Z.target;T.throttle(U._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){(function(ie,le,fe,pe,me){fe||(fe="xy"),typeof fe=="string"&&(fe=fe.split(y)[0]);var ke,ve,he,de=Array.isArray(fe)?fe:[fe],X=ie._fullLayout,ae=X.hoversubplots,K=X._plots||[],ge=K[fe],re=X._has("cartesian"),ue=le.hovermode||X.hovermode,we=(ue||"").charAt(0)==="x",Te=(ue||"").charAt(0)==="y";if(re&&(we||Te)&&ae==="axis"){for(var ee=de.length,se=0;se<ee;se++)if(K[ke=de[se]]){ve=v.getFromId(ie,ke,"x"),he=v.getFromId(ie,ke,"y");var ce=(we?ve:he)._subplotsWith;if(ce&&ce.length)for(var be=0;be<ce.length;be++)k(de,ce[be])}}if(ge&&ae!=="single"){var Ee=ge.overlays.map(function(nt){return nt.id});de=de.concat(Ee)}for(var Se=de.length,De=new Array(Se),Ge=new Array(Se),Xe=!1,Ke=0;Ke<Se;Ke++)if(K[ke=de[Ke]])Xe=!0,De[Ke]=K[ke].xaxis,Ge[Ke]=K[ke].yaxis;else{if(!X[ke]||!X[ke]._subplot)return void T.warn("Unrecognized subplot: "+ke);var ut=X[ke]._subplot;De[Ke]=ut.xaxis,Ge[Ke]=ut.yaxis}if(ue&&!Xe&&(ue="closest"),["x","y","closest","x unified","y unified"].indexOf(ue)===-1||!ie.calcdata||ie.querySelector(".zoombox")||ie._dragging)return d.unhoverRaw(ie,le);var Tt=X.hoverdistance;Tt===-1&&(Tt=1/0);var je=X.spikedistance;je===-1&&(je=1/0);var Le,$e,st,Ot,Je,at,gt,Oe,Be,it,tt,ft,pt,_e=[],Ae=[],Ve={hLinePoint:null,vLinePoint:null},He=!1;if(Array.isArray(le))for(ue="array",st=0;st<le.length;st++)(Je=ie.calcdata[le[st].curveNumber||0])&&(at=Je[0].trace,Je[0].trace.hoverinfo!=="skip"&&(Ae.push(Je),at.orientation==="h"&&(He=!0)));else{var We,Pe,Ue=ie.calcdata.slice();for(Ue.sort(function(nt,_t){return(nt[0].trace.zorder||0)-(_t[0].trace.zorder||0)}),Ot=0;Ot<Ue.length;Ot++)Je=Ue[Ot],(at=Je[0].trace).hoverinfo!=="skip"&&c.isTraceInSubplots(at,de)&&(Ae.push(Je),at.orientation==="h"&&(He=!0));if(me){if(a.triggerHandler(ie,"plotly_beforehover",le)===!1)return;var Ne=me.getBoundingClientRect();We=le.clientX-Ne.left,Pe=le.clientY-Ne.top,X._calcInverseTransform(ie);var Ye=T.apply3DTransform(X._invTransform)(We,Pe);if(We=Ye[0],Pe=Ye[1],We<0||We>De[0]._length||Pe<0||Pe>Ge[0]._length)return d.unhoverRaw(ie,le)}else We="xpx"in le?le.xpx:De[0]._length/2,Pe="ypx"in le?le.ypx:Ge[0]._length/2;if(le.pointerX=We+De[0]._offset,le.pointerY=Pe+Ge[0]._offset,Le="xval"in le?c.flat(de,le.xval):c.p2c(De,We),$e="yval"in le?c.flat(de,le.yval):c.p2c(Ge,Pe),!D(Le[0])||!D($e[0]))return T.warn("Fx.hover failed",le,ie),d.unhoverRaw(ie,le)}var Fe=1/0;function Ze(nt,_t){for(Ot=0;Ot<Ae.length;Ot++)if((Je=Ae[Ot])&&Je[0]&&Je[0].trace&&(at=Je[0].trace).visible===!0&&at._length!==0&&["carpet","contourcarpet"].indexOf(at._module.name)===-1){if(Be=ue,c.isUnifiedHover(Be)&&(Be=Be.charAt(0)),at.type==="splom"?gt=de[Oe=0]:(gt=c.getSubplot(at),Oe=de.indexOf(gt)),ft={cd:Je,trace:at,xa:De[Oe],ya:Ge[Oe],maxHoverDistance:Tt,maxSpikeDistance:je,index:!1,distance:Math.min(Fe,Tt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:l.defaultLine,name:at.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},X[gt]&&(ft.subplot=X[gt]._subplot),X._splomScenes&&X._splomScenes[at.uid]&&(ft.scene=X._splomScenes[at.uid]),Be==="array"){var zt=le[Ot];"pointNumber"in zt?(ft.index=zt.pointNumber,Be="closest"):(Be="","xval"in zt&&(it=zt.xval,Be="x"),"yval"in zt&&(tt=zt.yval,Be=Be?"closest":"y"))}else nt!==void 0&&_t!==void 0?(it=nt,tt=_t):(it=Le[Oe],tt=$e[Oe]);if(pt=_e.length,Tt!==0)if(at._module&&at._module.hoverPoints){var Bt=at._module.hoverPoints(ft,it,tt,Be,{finiteRange:!0,hoverLayer:X._hoverlayer,hoversubplots:ae,gd:ie});if(Bt)for(var Vt,Nt=0;Nt<Bt.length;Nt++)Vt=Bt[Nt],D(Vt.x0)&&D(Vt.y0)&&_e.push(R(Vt,ue))}else T.log("Unrecognized trace type in hover:",at);if(ue==="closest"&&_e.length>pt&&(_e.splice(0,pt),Fe=_e[0].distance),re&&je!==0&&_e.length===0){ft.distance=je,ft.index=!1;var Mt=at._module.hoverPoints(ft,it,tt,"closest",{hoverLayer:X._hoverlayer});if(Mt&&(Mt=Mt.filter(function(Qt){return Qt.spikeDistance<=je})),Mt&&Mt.length){var lt,Qe=Mt.filter(function(Qt){return Qt.xa.showspikes&&Qt.xa.spikesnap!=="hovered data"});if(Qe.length){var bt=Qe[0];D(bt.x0)&&D(bt.y0)&&(lt=vt(bt),(!Ve.vLinePoint||Ve.vLinePoint.spikeDistance>lt.spikeDistance)&&(Ve.vLinePoint=lt))}var Gt=Mt.filter(function(Qt){return Qt.ya.showspikes&&Qt.ya.spikesnap!=="hovered data"});if(Gt.length){var en=Gt[0];D(en.x0)&&D(en.y0)&&(lt=vt(en),(!Ve.hLinePoint||Ve.hLinePoint.spikeDistance>lt.spikeDistance)&&(Ve.hLinePoint=lt))}}}}}function rt(nt,_t,zt){for(var Bt,Vt=null,Nt=1/0,Mt=0;Mt<nt.length;Mt++)ve&&ve._id!==nt[Mt].xa._id||he&&he._id!==nt[Mt].ya._id||(Bt=nt[Mt].spikeDistance,zt&&Mt===0&&(Bt=-1/0),Bt<=Nt&&Bt<=_t&&(Vt=nt[Mt],Nt=Bt));return Vt}function vt(nt){return nt?{xa:nt.xa,ya:nt.ya,x:nt.xSpike!==void 0?nt.xSpike:(nt.x0+nt.x1)/2,y:nt.ySpike!==void 0?nt.ySpike:(nt.y0+nt.y1)/2,distance:nt.distance,spikeDistance:nt.spikeDistance,curveNumber:nt.trace.index,color:nt.color,pointNumber:nt.index}:null}Ze();var Lt={fullLayout:X,container:X._hoverlayer,event:le};ie._spikepoints;var St={vLinePoint:Ve.vLinePoint,hLinePoint:Ve.hLinePoint};ie._spikepoints=St;var It=function(){var nt=_e.filter(function(zt){return ve&&ve._id===zt.xa._id&&he&&he._id===zt.ya._id}),_t=_e.filter(function(zt){return!(ve&&ve._id===zt.xa._id&&he&&he._id===zt.ya._id)});nt.sort(O),_t.sort(O),_e=function(zt,Bt){for(var Vt=Bt.charAt(0),Nt=[],Mt=[],lt=[],Qe=0;Qe<zt.length;Qe++){var bt=zt[Qe];p.traceIs(bt.trace,"bar-like")||p.traceIs(bt.trace,"box-violin")?lt.push(bt):bt.trace[Vt+"period"]?Mt.push(bt):Nt.push(bt)}return Nt.concat(Mt).concat(lt)}(_e=nt.concat(_t),ue)};It();var ot=ue.charAt(0),xt=(ot==="x"||ot==="y")&&_e[0]&&S[_e[0].trace.type];if(re&&je!==0&&_e.length!==0){var Ut=rt(_e.filter(function(nt){return nt.ya.showspikes}),je,xt);Ve.hLinePoint=vt(Ut);var Et=rt(_e.filter(function(nt){return nt.xa.showspikes}),je,xt);Ve.vLinePoint=vt(Et)}if(_e.length===0){var mt=d.unhoverRaw(ie,le);return!re||Ve.hLinePoint===null&&Ve.vLinePoint===null||N(ie,Ve,Lt),mt}if(re&&j()&&N(ie,Ve,Lt),c.isXYhover(Be)&&_e[0].length!==0&&_e[0].trace.type!=="splom"){var kt=_e[0],ht=(_e=w[kt.trace.type]?_e.filter(function(nt){return nt.trace.index===kt.trace.index}):[kt]).length;Ze(Y("x",kt,X),Y("y",kt,X));var wt,Wt=[],jt={},Jt=0,qt=function(nt){var _t=w[nt.trace.type]?A(nt):nt.trace.index;if(jt[_t]){var zt=jt[_t]-1,Bt=Wt[zt];zt>0&&Math.abs(nt.distance)<Math.abs(Bt.distance)&&(Wt[zt]=nt)}else Jt++,jt[_t]=Jt,Wt.push(nt)};for(wt=0;wt<ht;wt++)qt(_e[wt]);for(wt=_e.length-1;wt>ht-1;wt--)qt(_e[wt]);_e=Wt,It()}var Xt=ie._hoverdata,$t=[],pn=J(ie),An=G(ie);for(st=0;st<_e.length;st++){var rn=_e[st],ln=c.makeEventData(rn,rn.trace,rn.cd);if(rn.hovertemplate!==!1){var gn=!1;rn.cd[rn.index]&&rn.cd[rn.index].ht&&(gn=rn.cd[rn.index].ht),rn.hovertemplate=gn||rn.trace.hovertemplate||!1}if(rn.xa&&rn.ya){var xn=rn.x0+rn.xa._offset,sn=rn.x1+rn.xa._offset,fn=rn.y0+rn.ya._offset,bn=rn.y1+rn.ya._offset,wn=Math.min(xn,sn),Sn=Math.max(xn,sn),kn=Math.min(fn,bn),Ln=Math.max(fn,bn);ln.bbox={x0:wn+An,x1:Sn+An,y0:kn+pn,y1:Ln+pn}}rn.eventData=[ln],$t.push(ln)}ie._hoverdata=$t;var zn=ue==="y"&&(Ae.length>1||_e.length>1)||ue==="closest"&&He&&_e.length>1,jn=l.combine(X.plot_bgcolor||l.background,X.paper_bgcolor),dt=B(_e,{gd:ie,hovermode:ue,rotateLabels:zn,bgColor:jn,container:X._hoverlayer,outerContainer:X._paper.node(),commonLabelOpts:X.hoverlabel,hoverdistance:X.hoverdistance}),Zt=dt.hoverLabels;if(c.isUnifiedHover(ue)||(function(nt,_t,zt,Bt){var Vt,Nt,Mt,lt,Qe,bt,Gt,en=_t?"xa":"ya",Qt=_t?"ya":"xa",Kt=0,on=1,an=nt.size(),dn=new Array(an),cn=0,hn=Bt.minX,mn=Bt.maxX,Fn=Bt.minY,Rn=Bt.maxY,un=function(In){return In*zt._invScaleX},Mn=function(In){return In*zt._invScaleY};function Pn(In){var rr=In[0],pr=In[In.length-1];if(Nt=rr.pmin-rr.pos-rr.dp+rr.size,Mt=pr.pos+pr.dp+pr.size-rr.pmax,Nt>.01){for(Qe=In.length-1;Qe>=0;Qe--)In[Qe].dp+=Nt;Vt=!1}if(!(Mt<.01)){if(Nt<-.01){for(Qe=In.length-1;Qe>=0;Qe--)In[Qe].dp-=Mt;Vt=!1}if(Vt){var tr=0;for(lt=0;lt<In.length;lt++)(bt=In[lt]).pos+bt.dp+bt.size>rr.pmax&&tr++;for(lt=In.length-1;lt>=0&&!(tr<=0);lt--)(bt=In[lt]).pos>rr.pmax-1&&(bt.del=!0,tr--);for(lt=0;lt<In.length&&!(tr<=0);lt++)if((bt=In[lt]).pos<rr.pmin+1)for(bt.del=!0,tr--,Mt=2*bt.size,Qe=In.length-1;Qe>=0;Qe--)In[Qe].dp-=Mt;for(lt=In.length-1;lt>=0&&!(tr<=0);lt--)(bt=In[lt]).pos+bt.dp+bt.size>rr.pmax&&(bt.del=!0,tr--)}}}for(nt.each(function(In){var rr=In[en],pr=In[Qt],tr=rr._id.charAt(0)==="x",Lr=rr.range;cn===0&&Lr&&Lr[0]>Lr[1]!==tr&&(on=-1);var Ir=0,cr=tr?zt.width:zt.height;if(zt.hovermode==="x"||zt.hovermode==="y"){var Sr,Tr,Rr=z(In,_t),_r=In.anchor,Dr=_r==="end"?-1:1;if(_r==="middle")Tr=(Sr=In.crossPos+(tr?Mn(Rr.y-In.by/2):un(In.bx/2+In.tx2width/2)))+(tr?Mn(In.by):un(In.bx));else if(tr)Tr=(Sr=In.crossPos+Mn(h+Rr.y)-Mn(In.by/2-h))+Mn(In.by);else{var Fr=un(Dr*h+Rr.x),Hr=Fr+un(Dr*In.bx);Sr=In.crossPos+Math.min(Fr,Hr),Tr=In.crossPos+Math.max(Fr,Hr)}tr?Fn!==void 0&&Rn!==void 0&&Math.min(Tr,Rn)-Math.max(Sr,Fn)>1&&(pr.side==="left"?(Ir=pr._mainLinePosition,cr=zt.width):cr=pr._mainLinePosition):hn!==void 0&&mn!==void 0&&Math.min(Tr,mn)-Math.max(Sr,hn)>1&&(pr.side==="top"?(Ir=pr._mainLinePosition,cr=zt.height):cr=pr._mainLinePosition)}dn[cn++]=[{datum:In,traceIndex:In.trace.index,dp:0,pos:In.pos,posref:In.posref,size:In.by*(tr?r:1)/2,pmin:Ir,pmax:cr}]}),dn.sort(function(In,rr){return In[0].posref-rr[0].posref||on*(rr[0].traceIndex-In[0].traceIndex)});!Vt&&Kt<=an;){for(Kt++,Vt=!0,lt=0;lt<dn.length-1;){var Vn=dn[lt],qn=dn[lt+1],Xn=Vn[Vn.length-1],lr=qn[0];if((Nt=Xn.pos+Xn.dp+Xn.size-lr.pos-lr.dp+lr.size)>.01){for(Qe=qn.length-1;Qe>=0;Qe--)qn[Qe].dp+=Nt;for(Vn.push.apply(Vn,qn),dn.splice(lt+1,1),Gt=0,Qe=Vn.length-1;Qe>=0;Qe--)Gt+=Vn[Qe].dp;for(Mt=Gt/Vn.length,Qe=Vn.length-1;Qe>=0;Qe--)Vn[Qe].dp-=Mt;Vt=!1}else lt++}dn.forEach(Pn)}for(lt=dn.length-1;lt>=0;lt--){var er=dn[lt];for(Qe=er.length-1;Qe>=0;Qe--){var Zn=er[Qe],br=Zn.datum;br.offset=Zn.dp,br.del=Zn.del}}}(Zt,zn,X,dt.commonLabelBoundingBox),P(Zt,zn,X._invScaleX,X._invScaleY)),me&&me.tagName){var qe=p.getComponentMethod("annotations","hasClickToShow")(ie,$t);u(L.select(me),qe?"pointer":"")}me&&!pe&&function(nt,_t,zt){if(!zt||zt.length!==nt._hoverdata.length)return!0;for(var Bt=zt.length-1;Bt>=0;Bt--){var Vt=zt[Bt],Nt=nt._hoverdata[Bt];if(Vt.curveNumber!==Nt.curveNumber||String(Vt.pointNumber)!==String(Nt.pointNumber)||String(Vt.pointNumbers)!==String(Nt.pointNumbers))return!0}return!1}(ie,0,Xt)&&(Xt&&ie.emit("plotly_unhover",{event:le,points:Xt}),ie.emit("plotly_hover",{event:le,points:ie._hoverdata,xaxes:De,yaxes:Ge,xvals:Le,yvals:$e}))})(U,Z,q,Q,ne)})},F.loneHover=function(U,Z){var q=!0;Array.isArray(U)||(q=!1,U=[U]);var Q=Z.gd,ne=J(Q),ie=G(Q),le=B(U.map(function(me){var ke=me._x0||me.x0||me.x||0,ve=me._x1||me.x1||me.x||0,he=me._y0||me.y0||me.y||0,de=me._y1||me.y1||me.y||0,X=me.eventData;if(X){var ae=Math.min(ke,ve),K=Math.max(ke,ve),ge=Math.min(he,de),re=Math.max(he,de),ue=me.trace;if(p.traceIs(ue,"gl3d")){var we=Q._fullLayout[ue.scene]._scene.container,Te=we.offsetLeft,ee=we.offsetTop;ae+=Te,K+=Te,ge+=ee,re+=ee}X.bbox={x0:ae+ie,x1:K+ie,y0:ge+ne,y1:re+ne},Z.inOut_bbox&&Z.inOut_bbox.push(X.bbox)}else X=!1;return{color:me.color||l.defaultLine,x0:me.x0||me.x||0,x1:me.x1||me.x||0,y0:me.y0||me.y||0,y1:me.y1||me.y||0,xLabel:me.xLabel,yLabel:me.yLabel,zLabel:me.zLabel,text:me.text,name:me.name,idealAlign:me.idealAlign,borderColor:me.borderColor,fontFamily:me.fontFamily,fontSize:me.fontSize,fontColor:me.fontColor,fontWeight:me.fontWeight,fontStyle:me.fontStyle,fontVariant:me.fontVariant,nameLength:me.nameLength,textAlign:me.textAlign,trace:me.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:me.hovertemplate||!1,hovertemplateLabels:me.hovertemplateLabels||!1,eventData:X}}),{gd:Q,hovermode:"closest",rotateLabels:!1,bgColor:Z.bgColor||l.background,container:L.select(Z.container),outerContainer:Z.outerContainer||Z.container}).hoverLabels,fe=0,pe=0;return le.sort(function(me,ke){return me.y0-ke.y0}).each(function(me,ke){var ve=me.y0-me.by/2;me.offset=ve-5<fe?fe-ve+5:0,fe=ve+me.by+me.offset,ke===Z.anchorIndex&&(pe=me.offset)}).each(function(me){me.offset-=pe}),P(le,!1,Q._fullLayout._invScaleX,Q._fullLayout._invScaleY),q?le:le.node()};var I=/<extra>([\s\S]*)<\/extra>/;function B(U,Z){var q=Z.gd,Q=q._fullLayout,ne=Z.hovermode,ie=Z.rotateLabels,le=Z.bgColor,fe=Z.container,pe=Z.outerContainer,me=Z.commonLabelOpts||{};if(U.length===0)return[[]];var ke=Z.fontFamily||x.HOVERFONT,ve=Z.fontSize||x.HOVERFONTSIZE,he=Z.fontWeight||Q.font.weight,de=Z.fontStyle||Q.font.style,X=Z.fontVariant||Q.font.variant,ae=Z.fontTextcase||Q.font.textcase,K=Z.fontLineposition||Q.font.lineposition,ge=Z.fontShadow||Q.font.shadow,re=U[0],ue=re.xa,we=re.ya,Te=ne.charAt(0),ee=Te+"Label",se=re[ee];if(se===void 0&&ue.type==="multicategory")for(var ce=0;ce<U.length&&(se=U[ce][ee])===void 0;ce++);var be=H(q,pe),Ee=be.top,Se=be.width,De=be.height,Ge=se!==void 0&&re.distance<=Z.hoverdistance&&(ne==="x"||ne==="y");if(Ge){var Xe,Ke,ut=!0;for(Xe=0;Xe<U.length;Xe++)if(ut&&U[Xe].zLabel===void 0&&(ut=!1),Ke=U[Xe].hoverinfo||U[Xe].trace.hoverinfo){var Tt=Array.isArray(Ke)?Ke:Ke.split("+");if(Tt.indexOf("all")===-1&&Tt.indexOf(ne)===-1){Ge=!1;break}}ut&&(Ge=!1)}var je=fe.selectAll("g.axistext").data(Ge?[0]:[]);je.enter().append("g").classed("axistext",!0),je.exit().remove();var Le={minX:0,maxX:0,minY:0,maxY:0};if(je.each(function(){var xt=L.select(this),Ut=T.ensureSingle(xt,"path","",function(Sn){Sn.style({"stroke-width":"1px"})}),Et=T.ensureSingle(xt,"text","",function(Sn){Sn.attr("data-notex",1)}),mt=me.bgcolor||l.defaultLine,kt=me.bordercolor||l.contrast(mt),ht=l.contrast(mt),wt=me.font,Wt={weight:wt.weight||he,style:wt.style||de,variant:wt.variant||X,textcase:wt.textcase||ae,lineposition:wt.lineposition||K,shadow:wt.shadow||ge,family:wt.family||ke,size:wt.size||ve,color:wt.color||ht};Ut.style({fill:mt,stroke:kt}),Et.text(se).call(i.font,Wt).call(t.positionText,0,0).call(t.convertToTspans,q),xt.attr("transform","");var jt,Jt,qt=H(q,Et.node());if(ne==="x"){var Xt=ue.side==="top"?"-":"";Et.attr("text-anchor","middle").call(t.positionText,0,ue.side==="top"?Ee-qt.bottom-h-_:Ee-qt.top+h+_),jt=ue._offset+(re.x0+re.x1)/2,Jt=we._offset+(ue.side==="top"?0:we._length);var $t=qt.width/2+_,pn=jt;jt<$t?pn=$t:jt>Q.width-$t&&(pn=Q.width-$t),Ut.attr("d","M"+(jt-pn)+",0L"+(jt-pn+h)+","+Xt+h+"H"+$t+"v"+Xt+(2*_+qt.height)+"H"+-$t+"V"+Xt+h+"H"+(jt-pn-h)+"Z"),jt=pn,Le.minX=jt-$t,Le.maxX=jt+$t,ue.side==="top"?(Le.minY=Jt-(2*_+qt.height),Le.maxY=Jt-_):(Le.minY=Jt+_,Le.maxY=Jt+(2*_+qt.height))}else{var An,rn,ln;we.side==="right"?(An="start",rn=1,ln="",jt=ue._offset+ue._length):(An="end",rn=-1,ln="-",jt=ue._offset),Jt=we._offset+(re.y0+re.y1)/2,Et.attr("text-anchor",An),Ut.attr("d","M0,0L"+ln+h+","+h+"V"+(_+qt.height/2)+"h"+ln+(2*_+qt.width)+"V-"+(_+qt.height/2)+"H"+ln+h+"V-"+h+"Z"),Le.minY=Jt-(_+qt.height/2),Le.maxY=Jt+(_+qt.height/2),we.side==="right"?(Le.minX=jt+h,Le.maxX=jt+h+(2*_+qt.width)):(Le.minX=jt-h-(2*_+qt.width),Le.maxX=jt-h);var gn,xn=qt.height/2,sn=Ee-qt.top-xn,fn="clip"+Q._uid+"commonlabel"+we._id;if(jt<qt.width+2*_+h){gn="M-"+(h+_)+"-"+xn+"h-"+(qt.width-_)+"V"+xn+"h"+(qt.width-_)+"Z";var bn=qt.width-jt+_;t.positionText(Et,bn,sn),An==="end"&&Et.selectAll("tspan").each(function(){var Sn=L.select(this),kn=i.tester.append("text").text(Sn.text()).call(i.font,Wt),Ln=H(q,kn.node());Math.round(Ln.width)<Math.round(qt.width)&&Sn.attr("x",bn-Ln.width),kn.remove()})}else t.positionText(Et,rn*(_+h),sn),gn=null;var wn=Q._topclips.selectAll("#"+fn).data(gn?[0]:[]);wn.enter().append("clipPath").attr("id",fn).append("path"),wn.exit().remove(),wn.select("path").attr("d",gn),i.setClipUrl(Et,gn?fn:null,q)}xt.attr("transform",M(jt,Jt))}),c.isUnifiedHover(ne)){fe.selectAll("g.hovertext").remove();var $e=U.filter(function(xt){return xt.hoverinfo!=="none"});if($e.length===0)return[];var st=Q.hoverlabel,Ot=st.font,Je={showlegend:!0,legend:{title:{text:se,font:Ot},font:Ot,bgcolor:st.bgcolor,bordercolor:st.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:Q.legend?Q.legend.traceorder:void 0,orientation:"v"}},at={font:Ot};f(Je,at,q._fullData);var gt=at.legend;gt.entries=[];for(var Oe=0;Oe<$e.length;Oe++){var Be=$e[Oe];if(Be.hoverinfo!=="none"){var it=C(Be,!0,ne,Q,se),tt=it[0],ft=it[1];Be.name=ft,Be.text=ft!==""?ft+" : "+tt:tt;var pt=Be.cd[Be.index];pt&&(pt.mc&&(Be.mc=pt.mc),pt.mcc&&(Be.mc=pt.mcc),pt.mlc&&(Be.mlc=pt.mlc),pt.mlcc&&(Be.mlc=pt.mlcc),pt.mlw&&(Be.mlw=pt.mlw),pt.mrc&&(Be.mrc=pt.mrc),pt.dir&&(Be.dir=pt.dir)),Be._distinct=!0,gt.entries.push([Be])}}gt.entries.sort(function(xt,Ut){return xt[0].trace.index-Ut[0].trace.index}),gt.layer=fe,gt._inHover=!0,gt._groupTitleFont=st.grouptitlefont,n(q,gt);var _e,Ae,Ve,He,We=fe.select("g.legend"),Pe=H(q,We.node()),Ue=Pe.width+2*_,Ne=Pe.height+2*_,Ye=$e[0],Fe=(Ye.x0+Ye.x1)/2,Ze=(Ye.y0+Ye.y1)/2,rt=!(p.traceIs(Ye.trace,"bar-like")||p.traceIs(Ye.trace,"box-violin"));Te==="y"?rt?(Ae=Ze-_,_e=Ze+_):(Ae=Math.min.apply(null,$e.map(function(xt){return Math.min(xt.y0,xt.y1)})),_e=Math.max.apply(null,$e.map(function(xt){return Math.max(xt.y0,xt.y1)}))):Ae=_e=T.mean($e.map(function(xt){return(xt.y0+xt.y1)/2}))-Ne/2,Te==="x"?rt?(Ve=Fe+_,He=Fe-_):(Ve=Math.max.apply(null,$e.map(function(xt){return Math.max(xt.x0,xt.x1)})),He=Math.min.apply(null,$e.map(function(xt){return Math.min(xt.x0,xt.x1)}))):Ve=He=T.mean($e.map(function(xt){return(xt.x0+xt.x1)/2}))-Ue/2;var vt,Lt,St=ue._offset,It=we._offset;return He+=St-Ue,Ae+=It-Ne,vt=(Ve+=St)+Ue<Se&&Ve>=0?Ve:He+Ue<Se&&He>=0?He:St+Ue<Se?St:Ve-Fe<Fe-He+Ue?Se-Ue:0,vt+=_,Lt=(_e+=It)+Ne<De&&_e>=0?_e:Ae+Ne<De&&Ae>=0?Ae:It+Ne<De?It:_e-Ze<Ze-Ae+Ne?De-Ne:0,Lt+=_,We.attr("transform",M(vt-1,Lt-1)),We}var ot=fe.selectAll("g.hovertext").data(U,function(xt){return A(xt)});return ot.enter().append("g").classed("hovertext",!0).each(function(){var xt=L.select(this);xt.append("rect").call(l.fill,l.addOpacity(le,.8)),xt.append("text").classed("name",!0),xt.append("path").style("stroke-width","1px"),xt.append("text").classed("nums",!0).call(i.font,{weight:he,style:de,variant:X,textcase:ae,lineposition:K,shadow:ge,family:ke,size:ve})}),ot.exit().remove(),ot.each(function(xt){var Ut=L.select(this).attr("transform",""),Et=xt.color;Array.isArray(Et)&&(Et=Et[xt.eventData[0].pointNumber]);var mt=xt.bgcolor||Et,kt=l.combine(l.opacity(mt)?mt:l.defaultLine,le),ht=l.combine(l.opacity(Et)?Et:l.defaultLine,le),wt=xt.borderColor||l.contrast(kt),Wt=C(xt,Ge,ne,Q,se,Ut),jt=Wt[0],Jt=Wt[1],qt=Ut.select("text.nums").call(i.font,{family:xt.fontFamily||ke,size:xt.fontSize||ve,color:xt.fontColor||wt,weight:xt.fontWeight||he,style:xt.fontStyle||de,variant:xt.fontVariant||X,textcase:xt.fontTextcase||ae,lineposition:xt.fontLineposition||K,shadow:xt.fontShadow||ge}).text(jt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,q),Xt=Ut.select("text.name"),$t=0,pn=0;if(Jt&&Jt!==jt){Xt.call(i.font,{family:xt.fontFamily||ke,size:xt.fontSize||ve,color:ht,weight:xt.fontWeight||he,style:xt.fontStyle||de,variant:xt.fontVariant||X,textcase:xt.fontTextcase||ae,lineposition:xt.fontLineposition||K,shadow:xt.fontShadow||ge}).text(Jt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,q);var An=H(q,Xt.node());$t=An.width+2*_,pn=An.height+2*_}else Xt.remove(),Ut.select("rect").remove();Ut.select("path").style({fill:kt,stroke:wt});var rn=xt.xa._offset+(xt.x0+xt.x1)/2,ln=xt.ya._offset+(xt.y0+xt.y1)/2,gn=Math.abs(xt.x1-xt.x0),xn=Math.abs(xt.y1-xt.y0),sn=H(q,qt.node()),fn=sn.width/Q._invScaleX,bn=sn.height/Q._invScaleY;xt.ty0=(Ee-sn.top)/Q._invScaleY,xt.bx=fn+2*_,xt.by=Math.max(bn+2*_,pn),xt.anchor="start",xt.txwidth=fn,xt.tx2width=$t,xt.offset=0;var wn,Sn,kn=(fn+h+_+$t)*Q._invScaleX;if(ie)xt.pos=rn,wn=ln+xn/2+kn<=De,Sn=ln-xn/2-kn>=0,xt.idealAlign!=="top"&&wn||!Sn?wn?(ln+=xn/2,xt.anchor="start"):xt.anchor="middle":(ln-=xn/2,xt.anchor="end"),xt.crossPos=ln;else{if(xt.pos=ln,wn=rn+gn/2+kn<=Se,Sn=rn-gn/2-kn>=0,xt.idealAlign!=="left"&&wn||!Sn)if(wn)rn+=gn/2,xt.anchor="start";else{xt.anchor="middle";var Ln=kn/2,zn=rn+Ln-Se,jn=rn-Ln;zn>0&&(rn-=zn),jn<0&&(rn+=-jn)}else rn-=gn/2,xt.anchor="end";xt.crossPos=rn}qt.attr("text-anchor",xt.anchor),$t&&Xt.attr("text-anchor",xt.anchor),Ut.attr("transform",M(rn,ln)+(ie?b(o):""))}),{hoverLabels:ot,commonLabelBoundingBox:Le}}function C(U,Z,q,Q,ne,ie){var le="",fe="";U.nameOverride!==void 0&&(U.name=U.nameOverride),U.name&&(U.trace._meta&&(U.name=T.templateString(U.name,U.trace._meta)),le=W(U.name,U.nameLength));var pe=q.charAt(0),me=pe==="x"?"y":"x";U.zLabel!==void 0?(U.xLabel!==void 0&&(fe+="x: "+U.xLabel+"<br>"),U.yLabel!==void 0&&(fe+="y: "+U.yLabel+"<br>"),U.trace.type!=="choropleth"&&U.trace.type!=="choroplethmapbox"&&U.trace.type!=="choroplethmap"&&(fe+=(fe?"z: ":"")+U.zLabel)):Z&&U[pe+"Label"]===ne?fe=U[me+"Label"]||"":U.xLabel===void 0?U.yLabel!==void 0&&U.trace.type!=="scattercarpet"&&(fe=U.yLabel):fe=U.yLabel===void 0?U.xLabel:"("+U.xLabel+", "+U.yLabel+")",!U.text&&U.text!==0||Array.isArray(U.text)||(fe+=(fe?"<br>":"")+U.text),U.extraText!==void 0&&(fe+=(fe?"<br>":"")+U.extraText),ie&&fe===""&&!U.hovertemplate&&(le===""&&ie.remove(),fe=le);var ke=U.hovertemplate||!1;if(ke){var ve=U.hovertemplateLabels||U;U[pe+"Label"]!==ne&&(ve[pe+"other"]=ve[pe+"Val"],ve[pe+"otherLabel"]=ve[pe+"Label"]),fe=(fe=T.hovertemplateString(ke,ve,Q._d3locale,U.eventData[0]||{},U.trace._meta)).replace(I,function(he,de){return le=W(de,U.nameLength),""})}return[fe,le]}function z(U,Z){var q=0,Q=U.offset;return Z&&(Q*=-e,q=U.offset*g),{x:q,y:Q}}function P(U,Z,q,Q){var ne=function(le){return le*q},ie=function(le){return le*Q};U.each(function(le){var fe=L.select(this);if(le.del)return fe.remove();var pe,me,ke,ve,he=fe.select("text.nums"),de=le.anchor,X=de==="end"?-1:1,ae=(ve=(ke=(me={start:1,end:-1,middle:0}[(pe=le).anchor])*(h+_))+me*(pe.txwidth+_),pe.anchor==="middle"&&(ke-=pe.tx2width/2,ve+=pe.txwidth/2+_),{alignShift:me,textShiftX:ke,text2ShiftX:ve}),K=z(le,Z),ge=K.x,re=K.y,ue=de==="middle";fe.select("path").attr("d",ue?"M-"+ne(le.bx/2+le.tx2width/2)+","+ie(re-le.by/2)+"h"+ne(le.bx)+"v"+ie(le.by)+"h-"+ne(le.bx)+"Z":"M0,0L"+ne(X*h+ge)+","+ie(h+re)+"v"+ie(le.by/2-h)+"h"+ne(X*le.bx)+"v-"+ie(le.by)+"H"+ne(X*h+ge)+"V"+ie(re-h)+"Z");var we=ge+ae.textShiftX,Te=re+le.ty0-le.by/2+_,ee=le.textAlign||"auto";ee!=="auto"&&(ee==="left"&&de!=="start"?(he.attr("text-anchor","start"),we=ue?-le.bx/2-le.tx2width/2+_:-le.bx-_):ee==="right"&&de!=="end"&&(he.attr("text-anchor","end"),we=ue?le.bx/2-le.tx2width/2-_:le.bx+_)),he.call(t.positionText,ne(we),ie(Te)),le.tx2width&&(fe.select("text.name").call(t.positionText,ne(ae.text2ShiftX+ae.alignShift*_+ge),ie(re+le.ty0-le.by/2+_)),fe.select("rect").call(i.setRect,ne(ae.text2ShiftX+(ae.alignShift-1)*le.tx2width/2+ge),ie(re-le.by/2-1),ne(le.tx2width),ie(le.by+2)))})}function R(U,Z){var q=U.index,Q=U.trace||{},ne=U.cd[0],ie=U.cd[q]||{};function le(he){return he||D(he)&&he===0}var fe=Array.isArray(q)?function(he,de){var X=T.castOption(ne,q,he);return le(X)?X:T.extractOption({},Q,"",de)}:function(he,de){return T.extractOption(ie,Q,he,de)};function pe(he,de,X){var ae=fe(de,X);le(ae)&&(U[he]=ae)}if(pe("hoverinfo","hi","hoverinfo"),pe("bgcolor","hbg","hoverlabel.bgcolor"),pe("borderColor","hbc","hoverlabel.bordercolor"),pe("fontFamily","htf","hoverlabel.font.family"),pe("fontSize","hts","hoverlabel.font.size"),pe("fontColor","htc","hoverlabel.font.color"),pe("fontWeight","htw","hoverlabel.font.weight"),pe("fontStyle","hty","hoverlabel.font.style"),pe("fontVariant","htv","hoverlabel.font.variant"),pe("nameLength","hnl","hoverlabel.namelength"),pe("textAlign","hta","hoverlabel.align"),U.posref=Z==="y"||Z==="closest"&&Q.orientation==="h"?U.xa._offset+(U.x0+U.x1)/2:U.ya._offset+(U.y0+U.y1)/2,U.x0=T.constrain(U.x0,0,U.xa._length),U.x1=T.constrain(U.x1,0,U.xa._length),U.y0=T.constrain(U.y0,0,U.ya._length),U.y1=T.constrain(U.y1,0,U.ya._length),U.xLabelVal!==void 0&&(U.xLabel="xLabel"in U?U.xLabel:v.hoverLabelText(U.xa,U.xLabelVal,Q.xhoverformat),U.xVal=U.xa.c2d(U.xLabelVal)),U.yLabelVal!==void 0&&(U.yLabel="yLabel"in U?U.yLabel:v.hoverLabelText(U.ya,U.yLabelVal,Q.yhoverformat),U.yVal=U.ya.c2d(U.yLabelVal)),U.zLabelVal!==void 0&&U.zLabel===void 0&&(U.zLabel=String(U.zLabelVal)),!(isNaN(U.xerr)||U.xa.type==="log"&&U.xerr<=0)){var me=v.tickText(U.xa,U.xa.c2l(U.xerr),"hover").text;U.xerrneg!==void 0?U.xLabel+=" +"+me+" / -"+v.tickText(U.xa,U.xa.c2l(U.xerrneg),"hover").text:U.xLabel+="  "+me,Z==="x"&&(U.distance+=1)}if(!(isNaN(U.yerr)||U.ya.type==="log"&&U.yerr<=0)){var ke=v.tickText(U.ya,U.ya.c2l(U.yerr),"hover").text;U.yerrneg!==void 0?U.yLabel+=" +"+ke+" / -"+v.tickText(U.ya,U.ya.c2l(U.yerrneg),"hover").text:U.yLabel+="  "+ke,Z==="y"&&(U.distance+=1)}var ve=U.hoverinfo||U.trace.hoverinfo;return ve&&ve!=="all"&&((ve=Array.isArray(ve)?ve:ve.split("+")).indexOf("x")===-1&&(U.xLabel=void 0),ve.indexOf("y")===-1&&(U.yLabel=void 0),ve.indexOf("z")===-1&&(U.zLabel=void 0),ve.indexOf("text")===-1&&(U.text=void 0),ve.indexOf("name")===-1&&(U.name=void 0)),U}function N(U,Z,q){var Q,ne,ie=q.container,le=q.fullLayout,fe=le._size,pe=q.event,me=!!Z.hLinePoint,ke=!!Z.vLinePoint;if(ie.selectAll(".spikeline").remove(),ke||me){var ve=l.combine(le.plot_bgcolor,le.paper_bgcolor);if(me){var he,de,X=Z.hLinePoint;Q=X&&X.xa,(ne=X&&X.ya).spikesnap==="cursor"?(he=pe.pointerX,de=pe.pointerY):(he=Q._offset+X.x,de=ne._offset+X.y);var ae,K,ge=E.readability(X.color,ve)<1.5?l.contrast(ve):X.color,re=ne.spikemode,ue=ne.spikethickness,we=ne.spikecolor||ge,Te=v.getPxPosition(U,ne);if(re.indexOf("toaxis")!==-1||re.indexOf("across")!==-1){if(re.indexOf("toaxis")!==-1&&(ae=Te,K=he),re.indexOf("across")!==-1){var ee=ne._counterDomainMin,se=ne._counterDomainMax;ne.anchor==="free"&&(ee=Math.min(ee,ne.position),se=Math.max(se,ne.position)),ae=fe.l+ee*fe.w,K=fe.l+se*fe.w}ie.insert("line",":first-child").attr({x1:ae,x2:K,y1:de,y2:de,"stroke-width":ue,stroke:we,"stroke-dasharray":i.dashStyle(ne.spikedash,ue)}).classed("spikeline",!0).classed("crisp",!0),ie.insert("line",":first-child").attr({x1:ae,x2:K,y1:de,y2:de,"stroke-width":ue+2,stroke:ve}).classed("spikeline",!0).classed("crisp",!0)}re.indexOf("marker")!==-1&&ie.insert("circle",":first-child").attr({cx:Te+(ne.side!=="right"?ue:-ue),cy:de,r:ue,fill:we}).classed("spikeline",!0)}if(ke){var ce,be,Ee=Z.vLinePoint;Q=Ee&&Ee.xa,ne=Ee&&Ee.ya,Q.spikesnap==="cursor"?(ce=pe.pointerX,be=pe.pointerY):(ce=Q._offset+Ee.x,be=ne._offset+Ee.y);var Se,De,Ge=E.readability(Ee.color,ve)<1.5?l.contrast(ve):Ee.color,Xe=Q.spikemode,Ke=Q.spikethickness,ut=Q.spikecolor||Ge,Tt=v.getPxPosition(U,Q);if(Xe.indexOf("toaxis")!==-1||Xe.indexOf("across")!==-1){if(Xe.indexOf("toaxis")!==-1&&(Se=Tt,De=be),Xe.indexOf("across")!==-1){var je=Q._counterDomainMin,Le=Q._counterDomainMax;Q.anchor==="free"&&(je=Math.min(je,Q.position),Le=Math.max(Le,Q.position)),Se=fe.t+(1-Le)*fe.h,De=fe.t+(1-je)*fe.h}ie.insert("line",":first-child").attr({x1:ce,x2:ce,y1:Se,y2:De,"stroke-width":Ke,stroke:ut,"stroke-dasharray":i.dashStyle(Q.spikedash,Ke)}).classed("spikeline",!0).classed("crisp",!0),ie.insert("line",":first-child").attr({x1:ce,x2:ce,y1:Se,y2:De,"stroke-width":Ke+2,stroke:ve}).classed("spikeline",!0).classed("crisp",!0)}Xe.indexOf("marker")!==-1&&ie.insert("circle",":first-child").attr({cx:ce,cy:Tt-(Q.side!=="top"?Ke:-Ke),r:Ke,fill:ut}).classed("spikeline",!0)}}}function j(U,Z){return!0}function W(U,Z){return t.plainText(U||"",{len:Z,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function Y(U,Z,q){var Q=Z[U+"a"],ne=Z[U+"Val"],ie=Z.cd[0];if(Q.type==="category"||Q.type==="multicategory")ne=Q._categoriesMap[ne];else if(Q.type==="date"){var le=Z.trace[U+"periodalignment"];if(le){var fe=Z.cd[Z.index],pe=fe[U+"Start"];pe===void 0&&(pe=fe[U]);var me=fe[U+"End"];me===void 0&&(me=fe[U]);var ke=me-pe;le==="end"?ne+=ke:le==="middle"&&(ne+=ke/2)}ne=Q.d2c(ne)}return ie&&ie.t&&ie.t.posLetter===Q._id&&(q.boxmode!=="group"&&q.violinmode!=="group"||(ne+=ie.t.dPos)),ne}function J(U){return U.offsetTop+U.clientTop}function G(U){return U.offsetLeft+U.clientLeft}function H(U,Z){var q=U._fullLayout,Q=Z.getBoundingClientRect(),ne=Q.left,ie=Q.top,le=ne+Q.width,fe=ie+Q.height,pe=T.apply3DTransform(q._invTransform)(ne,ie),me=T.apply3DTransform(q._invTransform)(le,fe),ke=pe[0],ve=pe[1],he=me[0],de=me[1];return{x:ke,y:ve,width:he-ke,height:de-ve,top:Math.min(ve,de),left:Math.min(ke,he),right:Math.max(ke,he),bottom:Math.max(ve,de)}}},26430:function($,F,m){var L=m(34809),D=m(78766),E=m(36040).isUnifiedHover;$.exports=function(T,k,M,b){b=b||{};var a=k.legend;function t(u){b.font[u]||(b.font[u]=a?k.legend.font[u]:k.font[u])}k&&E(k.hovermode)&&(b.font||(b.font={}),t("size"),t("family"),t("color"),t("weight"),t("style"),t("variant"),a?(b.bgcolor||(b.bgcolor=D.combine(k.legend.bgcolor,k.paper_bgcolor)),b.bordercolor||(b.bordercolor=k.legend.bordercolor)):b.bgcolor||(b.bgcolor=k.paper_bgcolor)),M("hoverlabel.bgcolor",b.bgcolor),M("hoverlabel.bordercolor",b.bordercolor),M("hoverlabel.namelength",b.namelength),L.coerceFont(M,"hoverlabel.font",b.font),M("hoverlabel.align",b.align)}},45265:function($,F,m){var L=m(34809),D=m(6811);$.exports=function(E,T){function k(M,b){return T[M]!==void 0?T[M]:L.coerce(E,T,D,M,b)}return k("clickmode"),k("hoversubplots"),k("hovermode")}},32141:function($,F,m){var L=m(45568),D=m(34809),E=m(14751),T=m(36040),k=m(6811),M=m(38103);$.exports={moduleType:"component",name:"fx",constants:m(85988),schema:{layout:k},attributes:m(70192),layoutAttributes:k,supplyLayoutGlobalDefaults:m(5358),supplyDefaults:m(3239),supplyLayoutDefaults:m(8412),calc:m(83552),getDistanceFunction:T.getDistanceFunction,getClosest:T.getClosest,inbox:T.inbox,quadrature:T.quadrature,appendArrayPointValue:T.appendArrayPointValue,castHoverOption:function(b,a,t){return D.castOption(b,a,"hoverlabel."+t)},castHoverinfo:function(b,a,t){return D.castOption(b,t,"hoverinfo",function(u){return D.coerceHoverinfo({hoverinfo:u},{_module:b._module},a)})},hover:M.hover,unhover:E.unhover,loneHover:M.loneHover,loneUnhover:function(b){var a=D.isD3Selection(b)?b:L.select(b);a.selectAll("g.hovertext").remove(),a.selectAll(".spikeline").remove()},click:m(94225)}},6811:function($,F,m){var L=m(85988),D=m(80337),E=D({editType:"none"});E.family.dflt=L.HOVERFONT,E.size.dflt=L.HOVERFONTSIZE,$.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:E,grouptitlefont:D({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},8412:function($,F,m){var L=m(34809),D=m(6811),E=m(45265),T=m(26430);$.exports=function(k,M){function b(l,d){return L.coerce(k,M,D,l,d)}E(k,M)&&(b("hoverdistance"),b("spikedistance")),b("dragmode")==="select"&&b("selectdirection");var a=M._has("mapbox"),t=M._has("map"),u=M._has("geo"),i=M._basePlotModules.length;M.dragmode==="zoom"&&((a||t||u)&&i===1||(a||t)&&u&&i===2)&&(M.dragmode="pan"),T(k,M,b),L.coerceFont(b,"hoverlabel.grouptitlefont",M.hoverlabel.font)}},5358:function($,F,m){var L=m(34809),D=m(26430),E=m(6811);$.exports=function(T,k){D(T,k,function(M,b){return L.coerce(T,k,E,M,b)})}},83595:function($,F,m){var L=m(34809),D=m(90694).counter,E=m(13792).u,T=m(54826).idRegex,k=m(78032),M={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[D("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[T.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[T.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:E({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function b(u,i,l){var d=i[l+"axes"],v=Object.keys((u._splomAxes||{})[l]||{});return Array.isArray(d)?d:v.length?v:void 0}function a(u,i,l,d,v,y){var p=i(u+"gap",l),c=i("domain."+u);i(u+"side",d);for(var x=new Array(v),f=c[0],n=(c[1]-f)/(v-p),o=n*(1-p),s=0;s<v;s++){var r=f+n*s;x[y?v-1-s:s]=[r,r+o]}return x}function t(u,i,l,d,v){var y,p=new Array(l);function c(x,f){i.indexOf(f)!==-1&&d[f]===void 0?(p[x]=f,d[f]=x):p[x]=""}if(Array.isArray(u))for(y=0;y<l;y++)c(y,u[y]);else for(c(0,v),y=1;y<l;y++)c(y,v+(y+1));return p}$.exports={moduleType:"component",name:"grid",schema:{layout:{grid:M}},layoutAttributes:M,sizeDefaults:function(u,i){var l=u.grid||{},d=b(i,l,"x"),v=b(i,l,"y");if(u.grid||d||v){var y,p,c=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),x=Array.isArray(d),f=Array.isArray(v),n=x&&d!==l.xaxes&&f&&v!==l.yaxes;c?(y=l.subplots.length,p=l.subplots[0].length):(f&&(y=v.length),x&&(p=d.length));var o=k.newContainer(i,"grid"),s=S("rows",y),r=S("columns",p);if(s*r>1){c||x||f||S("pattern")==="independent"&&(c=!0),o._hasSubplotGrid=c;var g,e,h=S("roworder")==="top to bottom",_=c?.2:.1,w=c?.3:.1;n&&i._splomGridDflt&&(g=i._splomGridDflt.xside,e=i._splomGridDflt.yside),o._domains={x:a("x",S,_,g,r),y:a("y",S,w,e,s,h)}}else delete i.grid}function S(O,A){return L.coerce(l,o,M,O,A)}},contentDefaults:function(u,i){var l=i.grid;if(l&&l._domains){var d,v,y,p,c,x,f,n=u.grid||{},o=i._subplots,s=l._hasSubplotGrid,r=l.rows,g=l.columns,e=l.pattern==="independent",h=l._axisMap={};if(s){var _=n.subplots||[];x=l.subplots=new Array(r);var w=1;for(d=0;d<r;d++){var S=x[d]=new Array(g),O=_[d]||[];for(v=0;v<g;v++)if(e?(c=w===1?"xy":"x"+w+"y"+w,w++):c=O[v],S[v]="",o.cartesian.indexOf(c)!==-1){if(f=c.indexOf("y"),y=c.slice(0,f),p=c.slice(f),h[y]!==void 0&&h[y]!==v||h[p]!==void 0&&h[p]!==d)continue;S[v]=c,h[y]=v,h[p]=d}}}else{var A=b(i,n,"x"),I=b(i,n,"y");l.xaxes=t(A,o.xaxis,g,h,"x"),l.yaxes=t(I,o.yaxis,r,h,"y")}var B=l._anchors={},C=l.roworder==="top to bottom";for(var z in h){var P,R,N,j=z.charAt(0),W=l[j+"side"];if(W.length<8)B[z]="free";else if(j==="x"){if(W.charAt(0)==="t"===C?(P=0,R=1,N=r):(P=r-1,R=-1,N=-1),s){var Y=h[z];for(d=P;d!==N;d+=R)if((c=x[d][Y])&&(f=c.indexOf("y"),c.slice(0,f)===z)){B[z]=c.slice(f);break}}else for(d=P;d!==N;d+=R)if(p=l.yaxes[d],o.cartesian.indexOf(z+p)!==-1){B[z]=p;break}}else if(W.charAt(0)==="l"?(P=0,R=1,N=g):(P=g-1,R=-1,N=-1),s){var J=h[z];for(d=P;d!==N;d+=R)if((c=x[J][d])&&(f=c.indexOf("y"),c.slice(f)===z)){B[z]=c.slice(0,f);break}}else for(d=P;d!==N;d+=R)if(y=l.xaxes[d],o.cartesian.indexOf(y+z)!==-1){B[z]=y;break}}}}}},37260:function($,F,m){var L=m(54826),D=m(78032).templatedArray;m(35081),$.exports=D("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",L.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",L.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},89443:function($,F,m){var L=m(10721),D=m(8083);$.exports=function(E,T,k,M){T=T||{};var b=k==="log"&&T.type==="linear",a=k==="linear"&&T.type==="log";if(b||a){for(var t,u,i=E._fullLayout.images,l=T._id.charAt(0),d=0;d<i.length;d++)if(u="images["+d+"].",(t=i[d])[l+"ref"]===T._id){var v=t[l],y=t["size"+l],p=null,c=null;if(b){p=D(v,T.range);var x=y/Math.pow(10,p)/2;c=2*Math.log(x+Math.sqrt(1+x*x))/Math.LN10}else c=(p=Math.pow(10,v))*(Math.pow(10,y/2)-Math.pow(10,-y/2));L(p)?L(c)||(c=null):(p=null,c=null),M(u+l,p),M(u+"size"+l,c)}}}},507:function($,F,m){var L=m(34809),D=m(29714),E=m(59008),T=m(37260);function k(M,b,a){function t(p,c){return L.coerce(M,b,T,p,c)}var u=t("source");if(!t("visible",!!u))return b;t("layer"),t("xanchor"),t("yanchor"),t("sizex"),t("sizey"),t("sizing"),t("opacity");for(var i={_fullLayout:a},l=["x","y"],d=0;d<2;d++){var v=l[d],y=D.coerceRef(M,b,i,v,"paper",void 0);y!=="paper"&&D.getFromId(i,y)._imgIndices.push(b._index),D.coercePosition(b,i,t,y,v,0)}return b}$.exports=function(M,b){E(M,b,{name:"images",handleItemDefaults:k})}},32211:function($,F,m){var L=m(45568),D=m(62203),E=m(29714),T=m(5975),k=m(62972);$.exports=function(M){var b,a,t=M._fullLayout,u=[],i={},l=[];for(a=0;a<t.images.length;a++){var d=t.images[a];if(d.visible)if(d.layer==="below"&&d.xref!=="paper"&&d.yref!=="paper"){b=T.ref2id(d.xref)+T.ref2id(d.yref);var v=t._plots[b];if(!v){l.push(d);continue}v.mainplot&&(b=v.mainplot.id),i[b]||(i[b]=[]),i[b].push(d)}else d.layer==="above"?u.push(d):l.push(d)}var y={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},p={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function c(g){var e=L.select(this);if(this._imgSrc!==g.source)if(e.attr("xmlns",k.svg),g.source&&g.source.slice(0,5)==="data:")e.attr("xlink:href",g.source),this._imgSrc=g.source;else{var h=new Promise((function(_){var w=new Image;function S(){e.remove(),_()}this.img=w,w.setAttribute("crossOrigin","anonymous"),w.onerror=S,w.onload=function(){var O=document.createElement("canvas");O.width=this.width,O.height=this.height,O.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var A=O.toDataURL("image/png");e.attr("xlink:href",A),_()},e.on("error",S),w.src=g.source,this._imgSrc=g.source}).bind(this));M._promises.push(h)}}function x(g){var e,h,_=L.select(this),w=E.getFromId(M,g.xref),S=E.getFromId(M,g.yref),O=E.getRefType(g.xref)==="domain",A=E.getRefType(g.yref)==="domain",I=t._size;e=w!==void 0?typeof g.xref=="string"&&O?w._length*g.sizex:Math.abs(w.l2p(g.sizex)-w.l2p(0)):g.sizex*I.w,h=S!==void 0?typeof g.yref=="string"&&A?S._length*g.sizey:Math.abs(S.l2p(g.sizey)-S.l2p(0)):g.sizey*I.h;var B,C,z=e*y[g.xanchor].offset,P=h*p[g.yanchor].offset,R=y[g.xanchor].sizing+p[g.yanchor].sizing;switch(B=w!==void 0?typeof g.xref=="string"&&O?w._length*g.x+w._offset:w.r2p(g.x)+w._offset:g.x*I.w+I.l,B+=z,C=S!==void 0?typeof g.yref=="string"&&A?S._length*(1-g.y)+S._offset:S.r2p(g.y)+S._offset:I.h-g.y*I.h+I.t,C+=P,g.sizing){case"fill":R+=" slice";break;case"stretch":R="none"}_.attr({x:B,y:C,width:e,height:h,preserveAspectRatio:R,opacity:g.opacity});var N=(w&&E.getRefType(g.xref)!=="domain"?w._id:"")+(S&&E.getRefType(g.yref)!=="domain"?S._id:"");D.setClipUrl(_,N?"clip"+t._uid+N:null,M)}var f=t._imageLowerLayer.selectAll("image").data(l),n=t._imageUpperLayer.selectAll("image").data(u);f.enter().append("image"),n.enter().append("image"),f.exit().remove(),n.exit().remove(),f.each(function(g){c.bind(this)(g),x.bind(this)(g)}),n.each(function(g){c.bind(this)(g),x.bind(this)(g)});var o=Object.keys(t._plots);for(a=0;a<o.length;a++){b=o[a];var s=t._plots[b];if(s.imagelayer){var r=s.imagelayer.selectAll("image").data(i[b]||[]);r.enter().append("image"),r.exit().remove(),r.each(function(g){c.bind(this)(g),x.bind(this)(g)})}}}},15553:function($,F,m){$.exports={moduleType:"component",name:"images",layoutAttributes:m(37260),supplyLayoutDefaults:m(507),includeBasePlot:m(20706)("images"),draw:m(32211),convertCoords:m(89443)}},86405:function($,F,m){var L=m(80337),D=m(10229);$.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:D.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:L({editType:"legend"}),grouptitlefont:L({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:L({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},72783:function($){$.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},73970:function($,F,m){var L=m(33626),D=m(34809),E=m(78032),T=m(9829),k=m(86405),M=m(6704),b=m(57599);function a(t,u,i,l){var d=u[t]||{},v=E.newContainer(i,t);function y(R,N){return D.coerce(d,v,k,R,N)}var p=D.coerceFont(y,"font",i.font);if(y("bgcolor",i.paper_bgcolor),y("bordercolor"),y("visible")){for(var c,x=function(R,N){var j=c._input,W=c;return D.coerce(j,W,T,R,N)},f=i.font||{},n=D.coerceFont(y,"grouptitlefont",f,{overrideDflt:{size:Math.round(1.1*f.size)}}),o=0,s=!1,r="normal",g=(i.shapes||[]).filter(function(R){return R.showlegend}),e=l.concat(g).filter(function(R){return t===(R.legend||"legend")}),h=0;h<e.length;h++)if((c=e[h]).visible){var _=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(o++,c.showlegend&&(s=!0,(!_&&L.traceIs(c,"pie-like")||c._input.showlegend===!0)&&o++),D.coerceFont(x,"legendgrouptitle.font",n)),(!_&&L.traceIs(c,"bar")&&i.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(r=b.isGrouped({traceorder:r})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(r=b.isReversed({traceorder:r})?"reversed+grouped":"grouped")}var w=D.coerce(u,i,M,"showlegend",s&&o>(t==="legend"?1:0));if(w===!1&&(i[t]=void 0),(w!==!1||d.uirevision)&&(y("uirevision",i.uirevision),w!==!1)){y("borderwidth");var S,O,A,I=y("orientation")==="h",B=y("yref")==="paper",C=y("xref")==="paper",z="left";if(I?(S=0,L.getComponentMethod("rangeslider","isVisible")(u.xaxis)?B?(O=1.1,A="bottom"):(O=1,A="top"):B?(O=-.1,A="top"):(O=0,A="bottom")):(O=1,A="auto",C?S=1.02:(S=1,z="right")),D.coerce(d,v,{x:{valType:"number",editType:"legend",min:C?-2:0,max:C?3:1,dflt:S}},"x"),D.coerce(d,v,{y:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:O}},"y"),y("traceorder",r),b.isGrouped(i[t])&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("indentation"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("xanchor",z),y("yanchor",A),y("valign"),D.noneOrAll(d,v,["x","y"]),y("title.text")){y("title.side",I?"left":"top");var P=D.extendFlat({},p,{size:D.bigFont(p.size)});D.coerceFont(y,"title.font",P)}}}}$.exports=function(t,u,i){var l,d=i.slice(),v=u.shapes;if(v)for(l=0;l<v.length;l++){var y=v[l];if(y.showlegend){var p={_input:y._input,visible:y.visible,showlegend:y.showlegend,legend:y.legend};d.push(p)}}var c=["legend"];for(l=0;l<d.length;l++)D.pushUnique(c,d[l].legend);for(u._legends=[],l=0;l<c.length;l++){var x=c[l];a(x,t,u,d),u[x]&&u[x].visible&&(u[x]._id=x),u._legends.push(x)}}},6134:function($,F,m){var L=m(45568),D=m(34809),E=m(44122),T=m(33626),k=m(68596),M=m(14751),b=m(62203),a=m(78766),t=m(30635),u=m(22165),i=m(72783),l=m(4530),d=l.LINE_SPACING,v=l.FROM_TL,y=l.FROM_BR,p=m(851),c=m(14375),x=m(57599),f=1,n=/^legend[0-9]*$/;function o(A,I){var B,C,z=I||{},P=A._fullLayout,R=O(z),N=z._inHover;if(N?(C=z.layer,B="hover"):(C=P._infolayer,B=R),C){var j;if(B+=P._uid,A._legendMouseDownTime||(A._legendMouseDownTime=0),N){if(!z.entries)return;j=p(z.entries,z)}else{for(var W=(A.calcdata||[]).slice(),Y=P.shapes,J=0;J<Y.length;J++){var G=Y[J];if(G.showlegend){var H={_isShape:!0,_fullInput:G,index:G._index,name:G.name||G.label.text||"shape "+G._index,legend:G.legend,legendgroup:G.legendgroup,legendgrouptitle:G.legendgrouptitle,legendrank:G.legendrank,legendwidth:G.legendwidth,showlegend:G.showlegend,visible:G.visible,opacity:G.opacity,mode:G.type==="line"?"lines":"markers",line:G.line,marker:{line:G.line,color:G.fillcolor,size:12,symbol:G.type==="rect"?"square":G.type==="circle"?"circle":"hexagon2"}};W.push([{trace:H}])}}j=P.showlegend&&p(W,z,P._legends.length>1)}var U=P.hiddenlabels||[];if(!(N||P.showlegend&&j.length))return C.selectAll("."+R).remove(),P._topdefs.select("#"+B).remove(),E.autoMargin(A,R);var Z=D.ensureSingle(C,"g",R,function(ke){N||ke.attr("pointer-events","all")}),q=D.ensureSingleById(P._topdefs,"clipPath",B,function(ke){ke.append("rect")}),Q=D.ensureSingle(Z,"rect","bg",function(ke){ke.attr("shape-rendering","crispEdges")});Q.call(a.stroke,z.bordercolor).call(a.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px");var ne,ie=D.ensureSingle(Z,"g","scrollbox"),le=z.title;z._titleWidth=0,z._titleHeight=0,le.text?((ne=D.ensureSingle(ie,"text",R+"titletext")).attr("text-anchor","start").call(b.font,le.font).text(le.text),_(ne,ie,A,z,f)):ie.selectAll("."+R+"titletext").remove();var fe=D.ensureSingle(Z,"rect","scrollbar",function(ke){ke.attr(i.scrollBarEnterAttrs).call(a.fill,i.scrollBarColor)}),pe=ie.selectAll("g.groups").data(j);pe.enter().append("g").attr("class","groups"),pe.exit().remove();var me=pe.selectAll("g.traces").data(D.identity);me.enter().append("g").attr("class","traces"),me.exit().remove(),me.style("opacity",function(ke){var ve=ke[0].trace;return T.traceIs(ve,"pie-like")?U.indexOf(ke[0].label)!==-1?.5:1:ve.visible==="legendonly"?.5:1}).each(function(){L.select(this).call(g,A,z)}).call(c,A,z).each(function(){N||L.select(this).call(h,A,R)}),D.syncOrAsync([E.previousPromises,function(){return function(ke,ve,he,de){var X=ke._fullLayout,ae=O(de);de||(de=X[ae]);var K=X._size,ge=x.isVertical(de),re=x.isGrouped(de),ue=de.entrywidthmode==="fraction",we=de.borderwidth,Te=2*we,ee=i.itemGap,se=de.indentation+de.itemwidth+2*ee,ce=2*(we+ee),be=S(de),Ee=de.y<0||de.y===0&&be==="top",Se=de.y>1||de.y===1&&be==="bottom",De=de.tracegroupgap,Ge={};de._maxHeight=Math.max(Ee||Se?X.height/2:K.h,30);var Xe=0;de._width=0,de._height=0;var Ke=function(He){var We=0,Pe=0,Ue=He.title.side;return Ue&&(Ue.indexOf("left")!==-1&&(We=He._titleWidth),Ue.indexOf("top")!==-1&&(Pe=He._titleHeight)),[We,Pe]}(de);if(ge)he.each(function(He){var We=He[0].height;b.setTranslate(this,we+Ke[0],we+Ke[1]+de._height+We/2+ee),de._height+=We,de._width=Math.max(de._width,He[0].width)}),Xe=se+de._width,de._width+=ee+se+Te,de._height+=ce,re&&(ve.each(function(He,We){b.setTranslate(this,0,We*de.tracegroupgap)}),de._height+=(de._lgroupsLength-1)*de.tracegroupgap);else{var ut=w(de),Tt=de.x<0||de.x===0&&ut==="right",je=de.x>1||de.x===1&&ut==="left",Le=Se||Ee,$e=X.width/2;de._maxWidth=Math.max(Tt?Le&&ut==="left"?K.l+K.w:$e:je?Le&&ut==="right"?K.r+K.w:$e:K.w,2*se);var st=0,Ot=0;he.each(function(He){var We=s(He,de,se);st=Math.max(st,We),Ot+=We}),Xe=null;var Je=0;if(re){var at=0,gt=0,Oe=0;ve.each(function(){var He=0,We=0;L.select(this).selectAll("g.traces").each(function(Ue){var Ne=s(Ue,de,se),Ye=Ue[0].height;b.setTranslate(this,Ke[0],Ke[1]+we+ee+Ye/2+We),We+=Ye,He=Math.max(He,Ne),Ge[Ue[0].trace.legendgroup]=He});var Pe=He+ee;gt>0&&Pe+we+gt>de._maxWidth?(Je=Math.max(Je,gt),gt=0,Oe+=at+De,at=We):at=Math.max(at,We),b.setTranslate(this,gt,Oe),gt+=Pe}),de._width=Math.max(Je,gt)+we,de._height=Oe+at+ce}else{var Be=he.size(),it=Ot+Te+(Be-1)*ee<de._maxWidth,tt=0,ft=0,pt=0,_e=0;he.each(function(He){var We=He[0].height,Pe=s(He,de,se),Ue=it?Pe:st;ue||(Ue+=ee),Ue+we+ft-ee>=de._maxWidth&&(Je=Math.max(Je,_e),ft=0,pt+=tt,de._height+=tt,tt=0),b.setTranslate(this,Ke[0]+we+ft,Ke[1]+we+pt+We/2+ee),_e=ft+Pe+ee,ft+=Ue,tt=Math.max(tt,We)}),it?(de._width=ft+Te,de._height=tt+ce):(de._width=Math.max(Je,_e)+Te,de._height+=tt+ce)}}de._width=Math.ceil(Math.max(de._width+Ke[0],de._titleWidth+2*(we+i.titlePad))),de._height=Math.ceil(Math.max(de._height+Ke[1],de._titleHeight+2*(we+i.itemGap))),de._effHeight=Math.min(de._height,de._maxHeight);var Ae=ke._context.edits,Ve=Ae.legendText||Ae.legendPosition;he.each(function(He){var We=L.select(this).select("."+ae+"toggle"),Pe=He[0].height,Ue=He[0].trace.legendgroup,Ne=s(He,de,se);re&&Ue!==""&&(Ne=Ge[Ue]);var Ye=Ve?se:Xe||Ne;ge||ue||(Ye+=ee/2),b.setRect(We,0,-Pe/2,Ye,Pe)})}(A,pe,me,z)},function(){var ke,ve,he,de,X=P._size,ae=z.borderwidth,K=z.xref==="paper",ge=z.yref==="paper";if(le.text&&function(Le,$e,st){if($e.title.side==="top center"||$e.title.side==="top right"){var Ot=$e.title.font.size*d,Je=0,at=Le.node(),gt=b.bBox(at).width;$e.title.side==="top center"?Je=.5*($e._width-2*st-2*i.titlePad-gt):$e.title.side==="top right"&&(Je=$e._width-2*st-2*i.titlePad-gt),t.positionText(Le,st+i.titlePad+Je,st+Ot)}}(ne,z,ae),!N){var re,ue;re=K?X.l+X.w*z.x-v[w(z)]*z._width:P.width*z.x-v[w(z)]*z._width,ue=ge?X.t+X.h*(1-z.y)-v[S(z)]*z._effHeight:P.height*(1-z.y)-v[S(z)]*z._effHeight;var we=function(Le,$e,st,Ot){var Je=Le._fullLayout,at=Je[$e],gt=w(at),Oe=S(at),Be=at.xref==="paper",it=at.yref==="paper";Le._fullLayout._reservedMargin[$e]={};var tt=at.y<.5?"b":"t",ft=at.x<.5?"l":"r",pt={r:Je.width-st,l:st+at._width,b:Je.height-Ot,t:Ot+at._effHeight};if(Be&&it)return E.autoMargin(Le,$e,{x:at.x,y:at.y,l:at._width*v[gt],r:at._width*y[gt],b:at._effHeight*y[Oe],t:at._effHeight*v[Oe]});Be?Le._fullLayout._reservedMargin[$e][tt]=pt[tt]:it||at.orientation==="v"?Le._fullLayout._reservedMargin[$e][ft]=pt[ft]:Le._fullLayout._reservedMargin[$e][tt]=pt[tt]}(A,R,re,ue);if(we)return;if(P.margin.autoexpand){var Te=re,ee=ue;re=K?D.constrain(re,0,P.width-z._width):Te,ue=ge?D.constrain(ue,0,P.height-z._effHeight):ee,re!==Te&&D.log("Constrain "+R+".x to make legend fit inside graph"),ue!==ee&&D.log("Constrain "+R+".y to make legend fit inside graph")}b.setTranslate(Z,re,ue)}if(fe.on(".drag",null),Z.on("wheel",null),N||z._height<=z._maxHeight||A._context.staticPlot){var se=z._effHeight;N&&(se=z._height),Q.attr({width:z._width-ae,height:se-ae,x:ae/2,y:ae/2}),b.setTranslate(ie,0,0),q.select("rect").attr({width:z._width-2*ae,height:se-2*ae,x:ae,y:ae}),b.setClipUrl(ie,B,A),b.setRect(fe,0,0,0,0),delete z._scrollY}else{var ce,be,Ee,Se=Math.max(i.scrollBarMinHeight,z._effHeight*z._effHeight/z._height),De=z._effHeight-Se-2*i.scrollBarMargin,Ge=z._height-z._effHeight,Xe=De/Ge,Ke=Math.min(z._scrollY||0,Ge);Q.attr({width:z._width-2*ae+i.scrollBarWidth+i.scrollBarMargin,height:z._effHeight-ae,x:ae/2,y:ae/2}),q.select("rect").attr({width:z._width-2*ae+i.scrollBarWidth+i.scrollBarMargin,height:z._effHeight-2*ae,x:ae,y:ae+Ke}),b.setClipUrl(ie,B,A),je(Ke,Se,Xe),Z.on("wheel",function(){je(Ke=D.constrain(z._scrollY+L.event.deltaY/De*Ge,0,Ge),Se,Xe),Ke!==0&&Ke!==Ge&&L.event.preventDefault()});var ut=L.behavior.drag().on("dragstart",function(){var Le=L.event.sourceEvent;ce=Le.type==="touchstart"?Le.changedTouches[0].clientY:Le.clientY,Ee=Ke}).on("drag",function(){var Le=L.event.sourceEvent;Le.buttons===2||Le.ctrlKey||(be=Le.type==="touchmove"?Le.changedTouches[0].clientY:Le.clientY,Ke=function($e,st,Ot){var Je=(Ot-st)/Xe+$e;return D.constrain(Je,0,Ge)}(Ee,ce,be),je(Ke,Se,Xe))});fe.call(ut);var Tt=L.behavior.drag().on("dragstart",function(){var Le=L.event.sourceEvent;Le.type==="touchstart"&&(ce=Le.changedTouches[0].clientY,Ee=Ke)}).on("drag",function(){var Le=L.event.sourceEvent;Le.type==="touchmove"&&(be=Le.changedTouches[0].clientY,Ke=function($e,st,Ot){var Je=(st-Ot)/Xe+$e;return D.constrain(Je,0,Ge)}(Ee,ce,be),je(Ke,Se,Xe))});ie.call(Tt)}function je(Le,$e,st){z._scrollY=A._fullLayout[R]._scrollY=Le,b.setTranslate(ie,0,-Le),b.setRect(fe,z._width,i.scrollBarMargin+Le*st,i.scrollBarWidth,$e),q.select("rect").attr("y",ae+Le)}A._context.edits.legendPosition&&(Z.classed("cursor-move",!0),M.init({element:Z.node(),gd:A,prepFn:function(Le){if(Le.target!==fe.node()){var $e=b.getTranslate(Z);he=$e.x,de=$e.y}},moveFn:function(Le,$e){if(he!==void 0&&de!==void 0){var st=he+Le,Ot=de+$e;b.setTranslate(Z,st,Ot),ke=M.align(st,z._width,X.l,X.l+X.w,z.xanchor),ve=M.align(Ot+z._height,-z._height,X.t+X.h,X.t,z.yanchor)}},doneFn:function(){if(ke!==void 0&&ve!==void 0){var Le={};Le[R+".x"]=ke,Le[R+".y"]=ve,T.call("_guiRelayout",A,Le)}},clickFn:function(Le,$e){var st=C.selectAll("g.traces").filter(function(){var Ot=this.getBoundingClientRect();return $e.clientX>=Ot.left&&$e.clientX<=Ot.right&&$e.clientY>=Ot.top&&$e.clientY<=Ot.bottom});st.size()>0&&r(A,Z,st,Le,$e)}}))}],A)}}function s(A,I,B){var C=A[0],z=C.width,P=I.entrywidthmode,R=C.trace.legendwidth||I.entrywidth;return P==="fraction"?I._maxWidth*R:B+(R||z)}function r(A,I,B,C,z){var P=B.data()[0][0].trace,R={event:z,node:B.node(),curveNumber:P.index,expandedIndex:P._expandedIndex,data:A.data,layout:A.layout,frames:A._transitionData._frames,config:A._context,fullData:A._fullData,fullLayout:A._fullLayout};P._group&&(R.group=P._group),T.traceIs(P,"pie-like")&&(R.label=B.datum()[0].label);var N=k.triggerHandler(A,"plotly_legendclick",R);if(C===1){if(N===!1)return;I._clickTimeout=setTimeout(function(){A._fullLayout&&u(B,A,C)},A._context.doubleClickDelay)}else C===2&&(I._clickTimeout&&clearTimeout(I._clickTimeout),A._legendMouseDownTime=0,k.triggerHandler(A,"plotly_legenddoubleclick",R)!==!1&&N!==!1&&u(B,A,C))}function g(A,I,B){var C,z,P=O(B),R=A.data()[0][0],N=R.trace,j=T.traceIs(N,"pie-like"),W=!B._inHover&&I._context.edits.legendText&&!j,Y=B._maxNameLength;R.groupTitle?(C=R.groupTitle.text,z=R.groupTitle.font):(z=B.font,B.entries?C=R.text:(C=j?R.label:N.name,N._meta&&(C=D.templateString(C,N._meta))));var J=D.ensureSingle(A,"text",P+"text");J.attr("text-anchor","start").call(b.font,z).text(W?e(C,Y):C);var G=B.indentation+B.itemwidth+2*i.itemGap;t.positionText(J,G,0),W?J.call(t.makeEditable,{gd:I,text:C}).call(_,A,I,B).on("edit",function(H){this.text(e(H,Y)).call(_,A,I,B);var U=R.trace._fullInput||{},Z={};if(T.hasTransform(U,"groupby")){var q=T.getTransformIndices(U,"groupby"),Q=q[q.length-1],ne=D.keyedContainer(U,"transforms["+Q+"].styles","target","value.name");ne.set(R.trace._group,H),Z=ne.constructUpdate()}else Z.name=H;return U._isShape?T.call("_guiRelayout",I,"shapes["+N.index+"].name",Z.name):T.call("_guiRestyle",I,Z,N.index)}):_(J,A,I,B)}function e(A,I){var B=Math.max(4,I);if(A&&A.trim().length>=B/2)return A;for(var C=B-(A=A||"").length;C>0;C--)A+=" ";return A}function h(A,I,B){var C,z=I._context.doubleClickDelay,P=1,R=D.ensureSingle(A,"rect",B+"toggle",function(N){I._context.staticPlot||N.style("cursor","pointer").attr("pointer-events","all"),N.call(a.fill,"rgba(0,0,0,0)")});I._context.staticPlot||(R.on("mousedown",function(){(C=new Date().getTime())-I._legendMouseDownTime<z?P+=1:(P=1,I._legendMouseDownTime=C)}),R.on("mouseup",function(){if(!I._dragged&&!I._editing){var N=I._fullLayout[B];new Date().getTime()-I._legendMouseDownTime>z&&(P=Math.max(P-1,1)),r(I,N,A,P,L.event)}}))}function _(A,I,B,C,z){C._inHover&&A.attr("data-notex",!0),t.convertToTspans(A,B,function(){(function(P,R,N,j){var W=P.data()[0][0];if(N._inHover||!W||W.trace.showlegend){var Y=P.select("g[class*=math-group]"),J=Y.node(),G=O(N);N||(N=R._fullLayout[G]);var H,U,Z=N.borderwidth,q=(j===f?N.title.font:W.groupTitle?W.groupTitle.font:N.font).size*d;if(J){var Q=b.bBox(J);H=Q.height,U=Q.width,j===f?b.setTranslate(Y,Z,Z+.75*H):b.setTranslate(Y,0,.25*H)}else{var ne="."+G+(j===f?"title":"")+"text",ie=P.select(ne),le=t.lineCount(ie),fe=ie.node();if(H=q*le,U=fe?b.bBox(fe).width:0,j===f)N.title.side==="left"&&(U+=2*i.itemGap),t.positionText(ie,Z+i.titlePad,Z+q);else{var pe=2*i.itemGap+N.indentation+N.itemwidth;W.groupTitle&&(pe=i.itemGap,U-=N.indentation+N.itemwidth),t.positionText(ie,pe,-q*((le-1)/2-.3))}}j===f?(N._titleWidth=U,N._titleHeight=H):(W.lineHeight=q,W.height=Math.max(H,16)+3,W.width=U)}else P.remove()})(I,B,C,z)})}function w(A){return D.isRightAnchor(A)?"right":D.isCenterAnchor(A)?"center":"left"}function S(A){return D.isBottomAnchor(A)?"bottom":D.isMiddleAnchor(A)?"middle":"top"}function O(A){return A._id||"legend"}$.exports=function(A,I){if(I)o(A,I);else{var B=A._fullLayout,C=B._legends;B._infolayer.selectAll('[class^="legend"]').each(function(){var R=L.select(this),N=R.attr("class").split(" ")[0];N.match(n)&&C.indexOf(N)===-1&&R.remove()});for(var z=0;z<C.length;z++){var P=C[z];o(A,A._fullLayout[P])}}}},851:function($,F,m){var L=m(33626),D=m(57599);$.exports=function(E,T,k){var M,b,a=T._inHover,t=D.isGrouped(T),u=D.isReversed(T),i={},l=[],d=!1,v={},y=0,p=0;function c(C,z,P){if(T.visible!==!1&&(!k||C===T._id))if(z!==""&&D.isGrouped(T))l.indexOf(z)===-1?(l.push(z),d=!0,i[z]=[P]):i[z].push(P);else{var R="~~i"+y;l.push(R),i[R]=[P],y++}}for(M=0;M<E.length;M++){var x=E[M],f=x[0],n=f.trace,o=n.legend,s=n.legendgroup;if(a||n.visible&&n.showlegend)if(L.traceIs(n,"pie-like"))for(v[s]||(v[s]={}),b=0;b<x.length;b++){var r=x[b].label;v[s][r]||(c(o,s,{label:r,color:x[b].color,i:x[b].i,trace:n,pts:x[b].pts}),v[s][r]=!0,p=Math.max(p,(r||"").length))}else c(o,s,f),p=Math.max(p,(n.name||"").length)}if(!l.length)return[];var g=!d||!t,e=[];for(M=0;M<l.length;M++){var h=i[l[M]];g?e.push(h[0]):e.push(h)}for(g&&(e=[e]),M=0;M<e.length;M++){var _=1/0;for(b=0;b<e[M].length;b++){var w=e[M][b].trace.legendrank;_>w&&(_=w)}e[M][0]._groupMinRank=_,e[M][0]._preGroupSort=M}var S=function(C,z){return C.trace.legendrank-z.trace.legendrank||C._preSort-z._preSort};for(e.forEach(function(C,z){C[0]._preGroupSort=z}),e.sort(function(C,z){return C[0]._groupMinRank-z[0]._groupMinRank||C[0]._preGroupSort-z[0]._preGroupSort}),M=0;M<e.length;M++){e[M].forEach(function(C,z){C._preSort=z}),e[M].sort(S);var O=e[M][0].trace,A=null;for(b=0;b<e[M].length;b++){var I=e[M][b].trace.legendgrouptitle;if(I&&I.text){A=I,a&&(I.font=T._groupTitleFont);break}}if(u&&e[M].reverse(),A){var B=!1;for(b=0;b<e[M].length;b++)if(L.traceIs(e[M][b].trace,"pie-like")){B=!0;break}e[M].unshift({i:-1,groupTitle:A,noClick:B,trace:{showlegend:O.showlegend,legendgroup:O.legendgroup,visible:T.groupclick==="toggleitem"||O.visible}})}for(b=0;b<e[M].length;b++)e[M][b]=[e[M][b]]}return T._lgroupsLength=e.length,T._maxNameLength=p,e}},22165:function($,F,m){var L=m(33626),D=m(34809),E=D.pushUnique,T=!0;$.exports=function(k,M,b){var a=M._fullLayout;if(!M._dragged&&!M._editing){var t,u=a.legend.itemclick,i=a.legend.itemdoubleclick,l=a.legend.groupclick;if(b===1&&u==="toggle"&&i==="toggleothers"&&T&&M.data&&M._context.showTips&&D.notifier(D._(M,"Double-click on legend to isolate one trace"),"long"),T=!1,b===1?t=u:b===2&&(t=i),t){var d=l==="togglegroup",v=a.hiddenlabels?a.hiddenlabels.slice():[],y=k.data()[0][0];if(!y.groupTitle||!y.noClick){var p=M._fullData,c=(a.shapes||[]).filter(function(ve){return ve.showlegend}),x=p.concat(c),f=y.trace;f._isShape&&(f=f._fullInput);var n,o,s,r,g,e=f.legendgroup,h={},_=[],w=[],S=[],O=(a.shapes||[]).map(function(ve){return ve._input}),A=!1,I=f.legend,B=f._fullInput;if(B&&B._isShape||!L.traceIs(f,"pie-like")){var C,z=e&&e.length,P=[];if(z)for(n=0;n<x.length;n++)(C=x[n]).visible&&C.legendgroup===e&&P.push(n);if(t==="toggle"){var R;switch(f.visible){case!0:R="legendonly";break;case!1:R=!1;break;case"legendonly":R=!0}if(z)if(d)for(n=0;n<x.length;n++){var N=x[n];N.visible!==!1&&N.legendgroup===e&&ke(N,R)}else ke(f,R);else ke(f,R)}else if(t==="toggleothers"){var j,W,Y,J,G=!0;for(n=0;n<x.length;n++)if(j=(J=x[n])===f,W=J.showlegend!==!0,!(j||W||z&&J.legendgroup===e||J.legend!==I||J.visible!==!0||L.traceIs(J,"notLegendIsolatable"))){G=!1;break}for(n=0;n<x.length;n++)if((J=x[n]).visible!==!1&&J.legend===I&&!L.traceIs(J,"notLegendIsolatable"))switch(f.visible){case"legendonly":ke(J,!0);break;case!0:Y=!!G||"legendonly",j=J===f,W=J.showlegend!==!0&&!J.legendgroup,ke(J,!!(j||z&&J.legendgroup===e||W)||Y)}}for(n=0;n<w.length;n++)if(s=w[n]){var H=s.constructUpdate(),U=Object.keys(H);for(o=0;o<U.length;o++)r=U[o],(h[r]=h[r]||[])[S[n]]=H[r]}for(g=Object.keys(h),n=0;n<g.length;n++)for(r=g[n],o=0;o<_.length;o++)h[r].hasOwnProperty(o)||(h[r][o]=void 0);A?L.call("_guiUpdate",M,h,{shapes:O},_):L.call("_guiRestyle",M,h,_)}else{var Z=y.label,q=v.indexOf(Z);if(t==="toggle")q===-1?v.push(Z):v.splice(q,1);else if(t==="toggleothers"){var Q=q!==-1,ne=[];for(n=0;n<M.calcdata.length;n++){var ie=M.calcdata[n];for(o=0;o<ie.length;o++){var le=ie[o].label;I===ie[0].trace.legend&&Z!==le&&(v.indexOf(le)===-1&&(Q=!0),E(v,le),ne.push(le))}}if(!Q)for(var fe=0;fe<ne.length;fe++){var pe=v.indexOf(ne[fe]);pe!==-1&&v.splice(pe,1)}}L.call("_guiRelayout",M,"hiddenlabels",v)}}}}function me(ve,he){var de=_.indexOf(ve),X=h.visible;return X||(X=h.visible=[]),_.indexOf(ve)===-1&&(_.push(ve),de=_.length-1),X[de]=he,de}function ke(ve,he){if(!y.groupTitle||d){var de,X=ve._fullInput||ve,ae=X._isShape,K=X.index;if(K===void 0&&(K=X._index),L.hasTransform(X,"groupby")){var ge=w[K];if(!ge){var re=L.getTransformIndices(X,"groupby"),ue=re[re.length-1];ge=D.keyedContainer(X,"transforms["+ue+"].styles","target","value.visible"),w[K]=ge}var we=ge.get(ve._group);we===void 0&&(we=!0),we!==!1&&ge.set(ve._group,he),S[K]=me(K,X.visible!==!1)}else{var Te=X.visible!==!1&&he;ae?(de=Te,O[K].visible=de,A=!0):me(K,Te)}}}}},57599:function($,F){F.isGrouped=function(m){return(m.traceorder||"").indexOf("grouped")!==-1},F.isVertical=function(m){return m.orientation!=="h"},F.isReversed=function(m){return(m.traceorder||"").indexOf("reversed")!==-1}},82494:function($,F,m){$.exports={moduleType:"component",name:"legend",layoutAttributes:m(86405),supplyLayoutDefaults:m(73970),draw:m(6134),style:m(14375)}},14375:function($,F,m){var L=m(45568),D=m(33626),E=m(34809),T=E.strTranslate,k=m(62203),M=m(78766),b=m(65477).extractOpts,a=m(64726),t=m(32891),u=m(37252).castOption,i=m(72783);function l(y,p){return(p?"radial":"horizontal")+(y?"":"reversed")}function d(y){var p=y[0].trace,c=p.contours,x=a.hasLines(p),f=a.hasMarkers(p),n=p.visible&&p.fill&&p.fill!=="none",o=!1,s=!1;if(c){var r=c.coloring;r==="lines"?o=!0:x=r==="none"||r==="heatmap"||c.showlines,c.type==="constraint"?n=c._operation!=="=":r!=="fill"&&r!=="heatmap"||(s=!0)}return{showMarker:f,showLine:x,showFill:n,showGradientLine:o,showGradientFill:s,anyLine:x||o,anyFill:n||s}}function v(y,p,c){return y&&E.isArrayOrTypedArray(y)?p:y>c?c:y}$.exports=function(y,p,c){var x=p._fullLayout;c||(c=x.legend);var f=c.itemsizing==="constant",n=c.itemwidth,o=(n+2*i.itemGap)/2,s=T(o,0),r=function(h,_,w,S){var O;if(h+1)O=h;else{if(!(_&&_.width>0))return 0;O=_.width}return f?S:Math.min(O,w)};function g(h,_,w){var S=h[0].trace,O=S.marker||{},A=O.line||{},I=O.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",B=w?S.visible&&S.type===w:D.traceIs(S,"bar"),C=L.select(_).select("g.legendpoints").selectAll("path.legend"+w).data(B?[h]:[]);C.enter().append("path").classed("legend"+w,!0).attr("d",I).attr("transform",s),C.exit().remove(),C.each(function(z){var P=L.select(this),R=z[0],N=r(R.mlw,O.line,5,2);P.style("stroke-width",N+"px");var j=R.mcc;if(!c._inHover&&"mc"in R){var W=b(O),Y=W.mid;Y===void 0&&(Y=(W.max+W.min)/2),j=k.tryColorscale(O,"")(Y)}var J=j||R.mc||O.color,G=O.pattern,H=G&&k.getPatternAttr(G.shape,0,"");if(H){var U=k.getPatternAttr(G.bgcolor,0,null),Z=k.getPatternAttr(G.fgcolor,0,null),q=G.fgopacity,Q=v(G.size,8,10),ne=v(G.solidity,.5,1),ie="legend-"+S.uid;P.call(k.pattern,"legend",p,ie,H,Q,ne,j,G.fillmode,U,Z,q)}else P.call(M.fill,J);N&&M.stroke(P,R.mlc||A.color)})}function e(h,_,w){var S=h[0],O=S.trace,A=w?O.visible&&O.type===w:D.traceIs(O,w),I=L.select(_).select("g.legendpoints").selectAll("path.legend"+w).data(A?[h]:[]);if(I.enter().append("path").classed("legend"+w,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",s),I.exit().remove(),I.size()){var B=O.marker||{},C=r(u(B.line.width,S.pts),B.line,5,2),z="pieLike",P=E.minExtend(O,{marker:{line:{width:C}}},z),R=E.minExtend(S,{trace:P},z);t(I,R,P,p)}}y.each(function(h){var _=L.select(this),w=E.ensureSingle(_,"g","layers");w.style("opacity",h[0].trace.opacity);var S=c.indentation,O=c.valign,A=h[0].lineHeight,I=h[0].height;if(O==="middle"&&S===0||!A||!I)w.attr("transform",null);else{var B={top:1,bottom:-1}[O]*(.5*(A-I+3))||0,C=c.indentation;w.attr("transform",T(C,B))}w.selectAll("g.legendfill").data([h]).enter().append("g").classed("legendfill",!0),w.selectAll("g.legendlines").data([h]).enter().append("g").classed("legendlines",!0);var z=w.selectAll("g.legendsymbols").data([h]);z.enter().append("g").classed("legendsymbols",!0),z.selectAll("g.legendpoints").data([h]).enter().append("g").classed("legendpoints",!0)}).each(function(h){var _,w=h[0].trace,S=[];if(w.visible)switch(w.type){case"histogram2d":case"heatmap":S=[["M-15,-2V4H15V-2Z"]],_=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":S=[["M-6,-6V6H6V-6Z"]],_=!0;break;case"densitymapbox":case"densitymap":S=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],_="radial";break;case"cone":S=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],_=!1;break;case"streamtube":S=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],_=!1;break;case"surface":S=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],_=!0;break;case"mesh3d":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],_=!1;break;case"volume":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],_=!0;break;case"isosurface":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],_=!1}var O=L.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(S);O.enter().append("path").classed("legend3dandfriends",!0).attr("transform",s).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(A,I){var B,C=L.select(this),z=b(w),P=z.colorscale,R=z.reversescale;if(P){if(!_){var N=P.length;B=I===0?P[R?N-1:0][1]:I===1?P[R?0:N-1][1]:P[Math.floor((N-1)/2)][1]}}else{var j=w.vertexcolor||w.facecolor||w.color;B=E.isArrayOrTypedArray(j)?j[I]||j[0]:j}C.attr("d",A[0]),B?C.call(M.fill,B):C.call(function(W){if(W.size()){var Y="legendfill-"+w.uid;k.gradient(W,p,Y,l(R,_==="radial"),P,"fill")}})})}).each(function(h){var _=h[0].trace,w=_.type==="waterfall";if(h[0]._distinct&&w){var S=h[0].trace[h[0].dir].marker;return h[0].mc=S.color,h[0].mlw=S.line.width,h[0].mlc=S.line.color,g(h,this,"waterfall")}var O=[];_.visible&&w&&(O=h[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var A=L.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(O);A.enter().append("path").classed("legendwaterfall",!0).attr("transform",s).style("stroke-miterlimit",1),A.exit().remove(),A.each(function(I){var B=L.select(this),C=_[I[0]].marker,z=r(void 0,C.line,5,2);B.attr("d",I[1]).style("stroke-width",z+"px").call(M.fill,C.color),z&&B.call(M.stroke,C.line.color)})}).each(function(h){g(h,this,"funnel")}).each(function(h){g(h,this)}).each(function(h){var _=h[0].trace,w=L.select(this).select("g.legendpoints").selectAll("path.legendbox").data(_.visible&&D.traceIs(_,"box-violin")?[h]:[]);w.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",s),w.exit().remove(),w.each(function(){var S=L.select(this);if(_.boxpoints!=="all"&&_.points!=="all"||M.opacity(_.fillcolor)!==0||M.opacity((_.line||{}).color)!==0){var O=r(void 0,_.line,5,2);S.style("stroke-width",O+"px").call(M.fill,_.fillcolor),O&&M.stroke(S,_.line.color)}else{var A=E.minExtend(_,{marker:{size:f?12:E.constrain(_.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});w.call(k.pointStyle,A,p)}})}).each(function(h){e(h,this,"funnelarea")}).each(function(h){e(h,this,"pie")}).each(function(h){var _,w,S=d(h),O=S.showFill,A=S.showLine,I=S.showGradientLine,B=S.showGradientFill,C=S.anyFill,z=S.anyLine,P=h[0],R=P.trace,N=b(R),j=N.colorscale,W=N.reversescale,Y=a.hasMarkers(R)||!C?"M5,0":z?"M5,-2":"M5,-3",J=L.select(this),G=J.select(".legendfill").selectAll("path").data(O||B?[h]:[]);if(G.enter().append("path").classed("js-fill",!0),G.exit().remove(),G.attr("d",Y+"h"+n+"v6h-"+n+"z").call(function(Z){if(Z.size())if(O)k.fillGroupStyle(Z,p,!0);else{var q="legendfill-"+R.uid;k.gradient(Z,p,q,l(W),j,"fill")}}),A||I){var H=r(void 0,R.line,10,5);w=E.minExtend(R,{line:{width:H}}),_=[E.minExtend(P,{trace:w})]}var U=J.select(".legendlines").selectAll("path").data(A||I?[_]:[]);U.enter().append("path").classed("js-line",!0),U.exit().remove(),U.attr("d",Y+(I?"l"+n+",0.0001":"h"+n)).call(A?k.lineGroupStyle:function(Z){if(Z.size()){var q="legendline-"+R.uid;k.lineGroupStyle(Z),k.gradient(Z,p,q,l(W),j,"stroke")}})}).each(function(h){var _,w,S=d(h),O=S.anyFill,A=S.anyLine,I=S.showLine,B=S.showMarker,C=h[0],z=C.trace,P=!B&&!A&&!O&&a.hasText(z);function R(U,Z,q,Q){var ne=E.nestedProperty(z,U).get(),ie=E.isArrayOrTypedArray(ne)&&Z?Z(ne):ne;if(f&&ie&&Q!==void 0&&(ie=Q),q){if(ie<q[0])return q[0];if(ie>q[1])return q[1]}return ie}function N(U){return C._distinct&&C.index&&U[C.index]?U[C.index]:U[0]}if(B||P||I){var j={},W={};if(B){j.mc=R("marker.color",N),j.mx=R("marker.symbol",N),j.mo=R("marker.opacity",E.mean,[.2,1]),j.mlc=R("marker.line.color",N),j.mlw=R("marker.line.width",E.mean,[0,5],2),W.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Y=R("marker.size",E.mean,[2,16],12);j.ms=Y,W.marker.size=Y}I&&(W.line={width:R("line.width",N,[0,10],5)}),P&&(j.tx="Aa",j.tp=R("textposition",N),j.ts=10,j.tc=R("textfont.color",N),j.tf=R("textfont.family",N),j.tw=R("textfont.weight",N),j.ty=R("textfont.style",N),j.tv=R("textfont.variant",N),j.tC=R("textfont.textcase",N),j.tE=R("textfont.lineposition",N),j.tS=R("textfont.shadow",N)),_=[E.minExtend(C,j)],(w=E.minExtend(z,W)).selectedpoints=null,w.texttemplate=null}var J=L.select(this).select("g.legendpoints"),G=J.selectAll("path.scatterpts").data(B?_:[]);G.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",s),G.exit().remove(),G.call(k.pointStyle,w,p),B&&(_[0].mrc=3);var H=J.selectAll("g.pointtext").data(P?_:[]);H.enter().append("g").classed("pointtext",!0).append("text").attr("transform",s),H.exit().remove(),H.selectAll("text").call(k.textPointStyle,w,p)}).each(function(h){var _=h[0].trace,w=L.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(_.visible&&_.type==="candlestick"?[h,h]:[]);w.enter().append("path").classed("legendcandle",!0).attr("d",function(S,O){return O?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",s).style("stroke-miterlimit",1),w.exit().remove(),w.each(function(S,O){var A=L.select(this),I=_[O?"increasing":"decreasing"],B=r(void 0,I.line,5,2);A.style("stroke-width",B+"px").call(M.fill,I.fillcolor),B&&M.stroke(A,I.line.color)})}).each(function(h){var _=h[0].trace,w=L.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(_.visible&&_.type==="ohlc"?[h,h]:[]);w.enter().append("path").classed("legendohlc",!0).attr("d",function(S,O){return O?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",s).style("stroke-miterlimit",1),w.exit().remove(),w.each(function(S,O){var A=L.select(this),I=_[O?"increasing":"decreasing"],B=r(void 0,I.line,5,2);A.style("fill","none").call(k.dashLine,I.line.dash,B),B&&M.stroke(A,I.line.color)})})}},50308:function($,F,m){m(87632),$.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},5832:function($,F,m){var L=m(33626),D=m(44122),E=m(5975),T=m(35188),k=m(28231).eraseActiveShape,M=m(34809),b=M._,a=$.exports={};function t(n,o){var s,r,g=o.currentTarget,e=g.getAttribute("data-attr"),h=g.getAttribute("data-val")||!0,_=n._fullLayout,w={},S=E.list(n,null,!0),O=_._cartesianSpikesEnabled;if(e==="zoom"){var A,I=h==="in"?.5:2,B=(1+I)/2,C=(1-I)/2;for(r=0;r<S.length;r++)if(!(s=S[r]).fixedrange)if(A=s._name,h==="auto")w[A+".autorange"]=!0;else if(h==="reset")s._rangeInitial0===void 0&&s._rangeInitial1===void 0?w[A+".autorange"]=!0:s._rangeInitial0===void 0?(w[A+".autorange"]=s._autorangeInitial,w[A+".range"]=[null,s._rangeInitial1]):s._rangeInitial1===void 0?(w[A+".range"]=[s._rangeInitial0,null],w[A+".autorange"]=s._autorangeInitial):w[A+".range"]=[s._rangeInitial0,s._rangeInitial1],s._showSpikeInitial!==void 0&&(w[A+".showspikes"]=s._showSpikeInitial,O!=="on"||s._showSpikeInitial||(O="off"));else{var z=[s.r2l(s.range[0]),s.r2l(s.range[1])],P=[B*z[0]+C*z[1],B*z[1]+C*z[0]];w[A+".range[0]"]=s.l2r(P[0]),w[A+".range[1]"]=s.l2r(P[1])}}else e!=="hovermode"||h!=="x"&&h!=="y"||(h=_._isHoriz?"y":"x",g.setAttribute("data-val",h)),w[e]=h;_._cartesianSpikesEnabled=O,L.call("_guiRelayout",n,w)}function u(n,o){for(var s=o.currentTarget,r=s.getAttribute("data-attr"),g=s.getAttribute("data-val")||!0,e=n._fullLayout._subplots.gl3d||[],h={},_=r.split("."),w=0;w<e.length;w++)h[e[w]+"."+_[1]]=g;var S=g==="pan"?g:"zoom";h.dragmode=S,L.call("_guiRelayout",n,h)}function i(n,o){for(var s=o.currentTarget.getAttribute("data-attr"),r=s==="resetLastSave",g=s==="resetDefault",e=n._fullLayout,h=e._subplots.gl3d||[],_={},w=0;w<h.length;w++){var S,O=h[w],A=O+".camera",I=O+".aspectratio",B=O+".aspectmode",C=e[O]._scene;r?(_[A+".up"]=C.viewInitial.up,_[A+".eye"]=C.viewInitial.eye,_[A+".center"]=C.viewInitial.center,S=!0):g&&(_[A+".up"]=null,_[A+".eye"]=null,_[A+".center"]=null,S=!0),S&&(_[I+".x"]=C.viewInitial.aspectratio.x,_[I+".y"]=C.viewInitial.aspectratio.y,_[I+".z"]=C.viewInitial.aspectratio.z,_[B]=C.viewInitial.aspectmode)}L.call("_guiRelayout",n,_)}function l(n,o){var s=o.currentTarget,r=s._previousVal,g=n._fullLayout,e=g._subplots.gl3d||[],h=["xaxis","yaxis","zaxis"],_={},w={};if(r)w=r,s._previousVal=null;else{for(var S=0;S<e.length;S++){var O=e[S],A=g[O],I=O+".hovermode";_[I]=A.hovermode,w[I]=!1;for(var B=0;B<3;B++){var C=h[B],z=O+"."+C+".showspikes";w[z]=!1,_[z]=A[C].showspikes}}s._previousVal=_}return w}function d(n,o){for(var s=o.currentTarget,r=s.getAttribute("data-attr"),g=s.getAttribute("data-val")||!0,e=n._fullLayout,h=e._subplots.geo||[],_=0;_<h.length;_++){var w=h[_],S=e[w];if(r==="zoom"){var O=S.projection.scale,A=g==="in"?2*O:.5*O;L.call("_guiRelayout",n,w+".projection.scale",A)}}r==="reset"&&f(n,"geo")}function v(n){var o=n._fullLayout;return!o.hovermode&&(o._has("cartesian")?o._isHoriz?"y":"x":"closest")}function y(n){var o=v(n);L.call("_guiRelayout",n,"hovermode",o)}function p(n,o){x(n,o,"mapbox")}function c(n,o){x(n,o,"map")}function x(n,o,s){for(var r=o.currentTarget.getAttribute("data-val"),g=n._fullLayout,e=g._subplots[s]||[],h={},_=0;_<e.length;_++){var w=e[_],S=g[w].zoom,O=r==="in"?1.05*S:S/1.05;h[w+".zoom"]=O}L.call("_guiRelayout",n,h)}function f(n,o){for(var s=n._fullLayout,r=s._subplots[o]||[],g={},e=0;e<r.length;e++)for(var h=r[e],_=s[h]._subplot.viewInitial,w=Object.keys(_),S=0;S<w.length;S++){var O=w[S];g[h+"."+O]=_[O]}L.call("_guiRelayout",n,g)}a.toImage={name:"toImage",title:function(n){var o=(n._context.toImageButtonOptions||{}).format||"png";return b(n,o==="png"?"Download plot as a png":"Download plot")},icon:T.camera,click:function(n){var o=n._context.toImageButtonOptions,s={format:o.format||"png"};M.notifier(b(n,"Taking snapshot - this may take a few seconds"),"long"),s.format!=="svg"&&M.isIE()&&(M.notifier(b(n,"IE only supports svg.  Changing format to svg."),"long"),s.format="svg"),["filename","width","height","scale"].forEach(function(r){r in o&&(s[r]=o[r])}),L.call("downloadImage",n,s).then(function(r){M.notifier(b(n,"Snapshot succeeded")+" - "+r,"long")}).catch(function(){M.notifier(b(n,"Sorry, there was a problem downloading your snapshot!"),"long")})}},a.sendDataToCloud={name:"sendDataToCloud",title:function(n){return b(n,"Edit in Chart Studio")},icon:T.disk,click:function(n){D.sendDataToCloud(n)}},a.editInChartStudio={name:"editInChartStudio",title:function(n){return b(n,"Edit in Chart Studio")},icon:T.pencil,click:function(n){D.sendDataToCloud(n)}},a.zoom2d={name:"zoom2d",_cat:"zoom",title:function(n){return b(n,"Zoom")},attr:"dragmode",val:"zoom",icon:T.zoombox,click:t},a.pan2d={name:"pan2d",_cat:"pan",title:function(n){return b(n,"Pan")},attr:"dragmode",val:"pan",icon:T.pan,click:t},a.select2d={name:"select2d",_cat:"select",title:function(n){return b(n,"Box Select")},attr:"dragmode",val:"select",icon:T.selectbox,click:t},a.lasso2d={name:"lasso2d",_cat:"lasso",title:function(n){return b(n,"Lasso Select")},attr:"dragmode",val:"lasso",icon:T.lasso,click:t},a.drawclosedpath={name:"drawclosedpath",title:function(n){return b(n,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:T.drawclosedpath,click:t},a.drawopenpath={name:"drawopenpath",title:function(n){return b(n,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:T.drawopenpath,click:t},a.drawline={name:"drawline",title:function(n){return b(n,"Draw line")},attr:"dragmode",val:"drawline",icon:T.drawline,click:t},a.drawrect={name:"drawrect",title:function(n){return b(n,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:T.drawrect,click:t},a.drawcircle={name:"drawcircle",title:function(n){return b(n,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:T.drawcircle,click:t},a.eraseshape={name:"eraseshape",title:function(n){return b(n,"Erase active shape")},icon:T.eraseshape,click:k},a.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(n){return b(n,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:t},a.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(n){return b(n,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:t},a.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(n){return b(n,"Autoscale")},attr:"zoom",val:"auto",icon:T.autoscale,click:t},a.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(n){return b(n,"Reset axes")},attr:"zoom",val:"reset",icon:T.home,click:t},a.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(n){return b(n,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:T.tooltip_basic,gravity:"ne",click:t},a.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(n){return b(n,"Compare data on hover")},attr:"hovermode",val:function(n){return n._fullLayout._isHoriz?"y":"x"},icon:T.tooltip_compare,gravity:"ne",click:t},a.zoom3d={name:"zoom3d",_cat:"zoom",title:function(n){return b(n,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:T.zoombox,click:u},a.pan3d={name:"pan3d",_cat:"pan",title:function(n){return b(n,"Pan")},attr:"scene.dragmode",val:"pan",icon:T.pan,click:u},a.orbitRotation={name:"orbitRotation",title:function(n){return b(n,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:T["3d_rotate"],click:u},a.tableRotation={name:"tableRotation",title:function(n){return b(n,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:T["z-axis"],click:u},a.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(n){return b(n,"Reset camera to default")},attr:"resetDefault",icon:T.home,click:i},a.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(n){return b(n,"Reset camera to last save")},attr:"resetLastSave",icon:T.movie,click:i},a.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(n){return b(n,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:function(n,o){var s=l(n,o);L.call("_guiRelayout",n,s)}},a.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(n){return b(n,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:d},a.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(n){return b(n,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:d},a.resetGeo={name:"resetGeo",_cat:"reset",title:function(n){return b(n,"Reset")},attr:"reset",val:null,icon:T.autoscale,click:d},a.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(n){return b(n,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:y},a.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(n){return b(n,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:y},a.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(n){return b(n,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:T.tooltip_basic,gravity:"ne",click:y},a.resetViewSankey={name:"resetSankeyGroup",title:function(n){return b(n,"Reset view")},icon:T.home,click:function(n){for(var o={"node.groups":[],"node.x":[],"node.y":[]},s=0;s<n._fullData.length;s++){var r=n._fullData[s]._viewInitial;o["node.groups"].push(r.node.groups.slice()),o["node.x"].push(r.node.x.slice()),o["node.y"].push(r.node.y.slice())}L.call("restyle",n,o)}},a.toggleHover={name:"toggleHover",title:function(n){return b(n,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:function(n,o){var s=l(n,o);s.hovermode=v(n),L.call("_guiRelayout",n,s)}},a.resetViews={name:"resetViews",title:function(n){return b(n,"Reset views")},icon:T.home,click:function(n,o){var s=o.currentTarget;s.setAttribute("data-attr","zoom"),s.setAttribute("data-val","reset"),t(n,o),s.setAttribute("data-attr","resetLastSave"),i(n,o),f(n,"geo"),f(n,"mapbox"),f(n,"map")}},a.toggleSpikelines={name:"toggleSpikelines",title:function(n){return b(n,"Toggle Spike Lines")},icon:T.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(n){var o=n._fullLayout,s=o._cartesianSpikesEnabled;o._cartesianSpikesEnabled=s==="on"?"off":"on",L.call("_guiRelayout",n,function(r){for(var g=r._fullLayout._cartesianSpikesEnabled==="on",e=E.list(r,null,!0),h={},_=0;_<e.length;_++){var w=e[_];h[w._name+".showspikes"]=!!g||w._showSpikeInitial}return h}(n))}},a.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(n){return b(n,"Reset view")},attr:"reset",icon:T.home,click:function(n){f(n,"mapbox")}},a.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(n){return b(n,"Reset view")},attr:"reset",icon:T.home,click:function(n){f(n,"map")}},a.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(n){return b(n,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:p},a.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(n){return b(n,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:c},a.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(n){return b(n,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:p},a.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(n){return b(n,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:c}},87632:function($,F,m){var L=m(5832),D=Object.keys(L),E=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],T=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(E),k=[];D.forEach(function(M){(function(b){if(T.indexOf(b._cat||b.name)===-1){var a=b.name,t=(b._cat||b.name).toLowerCase();k.indexOf(a)===-1&&k.push(a),k.indexOf(t)===-1&&k.push(t)}})(L[M])}),k.sort(),$.exports={DRAW_MODES:E,backButtons:T,foreButtons:k}},17683:function($,F,m){var L=m(34809),D=m(78766),E=m(78032),T=m(50308);$.exports=function(k,M){var b=k.modebar||{},a=E.newContainer(M,"modebar");function t(i,l){return L.coerce(b,a,T,i,l)}t("orientation"),t("bgcolor",D.addOpacity(M.paper_bgcolor,.5));var u=D.contrast(D.rgb(M.modebar.bgcolor));t("color",D.addOpacity(u,.3)),t("activecolor",D.addOpacity(u,.7)),t("uirevision",M.uirevision),t("add"),t("remove")}},95433:function($,F,m){$.exports={moduleType:"component",name:"modebar",layoutAttributes:m(50308),supplyLayoutDefaults:m(17683),manage:m(75442)}},75442:function($,F,m){var L=m(5975),D=m(64726),E=m(33626),T=m(36040).isUnifiedHover,k=m(85393),M=m(5832),b=m(87632).DRAW_MODES,a=m(34809).extendDeep;$.exports=function(t){var u=t._fullLayout,i=t._context,l=u._modeBar;if(i.displayModeBar||i.watermark){if(!Array.isArray(i.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(i.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d,v=i.modeBarButtons;d=Array.isArray(v)&&v.length?function(y){for(var p=a([],y),c=0;c<p.length;c++)for(var x=p[c],f=0;f<x.length;f++){var n=x[f];if(typeof n=="string"){if(M[n]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));p[c][f]=M[n]}}return p}(v):!i.displayModeBar&&i.watermark?[]:function(y){var p=y._fullLayout,c=y._fullData,x=y._context;function f(ie,le){if(typeof le=="string"){if(le.toLowerCase()===ie.toLowerCase())return!0}else{var fe=le.name,pe=le._cat||le.name;if(fe===ie||pe===ie.toLowerCase())return!0}return!1}var n=p.modebar.add;typeof n=="string"&&(n=[n]);var o=p.modebar.remove;typeof o=="string"&&(o=[o]);var s=x.modeBarButtonsToAdd.concat(n.filter(function(ie){for(var le=0;le<x.modeBarButtonsToRemove.length;le++)if(f(ie,x.modeBarButtonsToRemove[le]))return!1;return!0})),r=x.modeBarButtonsToRemove.concat(o.filter(function(ie){for(var le=0;le<x.modeBarButtonsToAdd.length;le++)if(f(ie,x.modeBarButtonsToAdd[le]))return!1;return!0})),g=p._has("cartesian"),e=p._has("gl3d"),h=p._has("geo"),_=p._has("pie"),w=p._has("funnelarea"),S=p._has("gl2d"),O=p._has("ternary"),A=p._has("mapbox"),I=p._has("map"),B=p._has("polar"),C=p._has("smith"),z=p._has("sankey"),P=function(ie){for(var le=L.list({_fullLayout:ie},null,!0),fe=0;fe<le.length;fe++)if(!le[fe].fixedrange)return!1;return!0}(p),R=T(p.hovermode),N=[];function j(ie){if(ie.length){for(var le=[],fe=0;fe<ie.length;fe++){for(var pe=ie[fe],me=M[pe],ke=me.name.toLowerCase(),ve=(me._cat||me.name).toLowerCase(),he=!1,de=0;de<r.length;de++){var X=r[de].toLowerCase();if(X===ke||X===ve){he=!0;break}}he||le.push(M[pe])}N.push(le)}}var W=["toImage"];x.showEditInChartStudio?W.push("editInChartStudio"):x.showSendToCloud&&W.push("sendDataToCloud"),j(W);var Y=[],J=[],G=[],H=[];(g||S||_||w||O)+h+e+A+I+B+C>1?(J=["toggleHover"],G=["resetViews"]):h?(Y=["zoomInGeo","zoomOutGeo"],J=["hoverClosestGeo"],G=["resetGeo"]):e?(J=["hoverClosest3d"],G=["resetCameraDefault3d","resetCameraLastSave3d"]):A?(Y=["zoomInMapbox","zoomOutMapbox"],J=["toggleHover"],G=["resetViewMapbox"]):I?(Y=["zoomInMap","zoomOutMap"],J=["toggleHover"],G=["resetViewMap"]):S?J=["hoverClosestGl2d"]:_?J=["hoverClosestPie"]:z?(J=["hoverClosestCartesian","hoverCompareCartesian"],G=["resetViewSankey"]):J=["toggleHover"],g&&J.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(function(ie){for(var le=0;le<ie.length;le++)if(!E.traceIs(ie[le],"noHover"))return!1;return!0}(c)||R)&&(J=[]),!g&&!S||P||(Y=["zoomIn2d","zoomOut2d","autoScale2d"],G[0]!=="resetViews"&&(G=["resetScale2d"])),e?H=["zoom3d","pan3d","orbitRotation","tableRotation"]:(g||S)&&!P||O?H=["zoom2d","pan2d"]:A||I||h?H=["pan2d"]:B&&(H=["zoom2d"]),function(ie){for(var le=!1,fe=0;fe<ie.length&&!le;fe++){var pe=ie[fe];pe._module&&pe._module.selectPoints&&(E.traceIs(pe,"scatter-like")?(D.hasMarkers(pe)||D.hasText(pe))&&(le=!0):E.traceIs(pe,"box-violin")&&pe.boxpoints!=="all"&&pe.points!=="all"||(le=!0))}return le}(c)&&H.push("select2d","lasso2d");var U=[],Z=function(ie){U.indexOf(ie)===-1&&J.indexOf(ie)!==-1&&U.push(ie)};if(Array.isArray(s)){for(var q=[],Q=0;Q<s.length;Q++){var ne=s[Q];typeof ne=="string"?(ne=ne.toLowerCase(),b.indexOf(ne)!==-1?(p._has("mapbox")||p._has("map")||p._has("cartesian"))&&H.push(ne):ne==="togglespikelines"?Z("toggleSpikelines"):ne==="togglehover"?Z("toggleHover"):ne==="hovercompare"?Z("hoverCompareCartesian"):ne==="hoverclosest"?(Z("hoverClosestCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie")):ne==="v1hovermode"&&(Z("hoverClosestCartesian"),Z("hoverCompareCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie"))):q.push(ne)}s=q}return j(H),j(Y.concat(G)),j(U),function(ie,le){if(le.length)if(Array.isArray(le[0]))for(var fe=0;fe<le.length;fe++)ie.push(le[fe]);else ie.push(le);return ie}(N,s)}(t),l?l.update(t,d):u._modeBar=k(t,d)}else l&&(l.destroy(),delete u._modeBar)}},85393:function($,F,m){var L=m(45568),D=m(10721),E=m(34809),T=m(35188),k=m(29697).version,M=new DOMParser;function b(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}var a=b.prototype;a.update=function(t,u){this.graphInfo=t;var i=this.graphInfo._context,l=this.graphInfo._fullLayout,d="modebar-"+l._uid;this.element.setAttribute("id",d),this._uid=d,this.element.className="modebar",i.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",u=u.reverse());var v=l.modebar,y=i.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";E.deleteRelatedStyleRule(d),E.addRelatedStyleRule(d,y+"#"+d+" .modebar-group","background-color: "+v.bgcolor),E.addRelatedStyleRule(d,"#"+d+" .modebar-btn .icon path","fill: "+v.color),E.addRelatedStyleRule(d,"#"+d+" .modebar-btn:hover .icon path","fill: "+v.activecolor),E.addRelatedStyleRule(d,"#"+d+" .modebar-btn.active .icon path","fill: "+v.activecolor);var p=!this.hasButtons(u),c=this.hasLogo!==i.displaylogo,x=this.locale!==i.locale;if(this.locale=i.locale,(p||c||x)&&(this.removeAllButtons(),this.updateButtons(u),i.watermark||i.displaylogo)){var f=this.getLogo();i.watermark&&(f.className=f.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton()},a.updateButtons=function(t){var u=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(i){var l=u.createGroup();i.forEach(function(d){var v=d.name;if(!v)throw new Error("must provide button 'name' in button config");if(u.buttonsNames.indexOf(v)!==-1)throw new Error("button name '"+v+"' is taken");u.buttonsNames.push(v);var y=u.createButton(d);u.buttonElements.push(y),l.appendChild(y)}),u.element.appendChild(l)})},a.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},a.createButton=function(t){var u=this,i=document.createElement("a");i.setAttribute("rel","tooltip"),i.className="modebar-btn";var l=t.title;l===void 0?l=t.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&i.setAttribute("data-title",l),t.attr!==void 0&&i.setAttribute("data-attr",t.attr);var d=t.val;if(d!==void 0&&(typeof d=="function"&&(d=d(this.graphInfo)),i.setAttribute("data-val",d)),typeof t.click!="function")throw new Error("must provide button 'click' function in button config");i.addEventListener("click",function(y){t.click(u.graphInfo,y),u.updateActiveButton(y.currentTarget)}),i.setAttribute("data-toggle",t.toggle||!1),t.toggle&&L.select(i).classed("active",!0);var v=t.icon;return typeof v=="function"?i.appendChild(v()):i.appendChild(this.createIcon(v||T.question)),i.setAttribute("data-gravity",t.gravity||"n"),i},a.createIcon=function(t){var u,i=D(t.height)?Number(t.height):t.ascent-t.descent,l="http://www.w3.org/2000/svg";if(t.path){(u=document.createElementNS(l,"svg")).setAttribute("viewBox",[0,0,t.width,i].join(" ")),u.setAttribute("class","icon");var d=document.createElementNS(l,"path");d.setAttribute("d",t.path),t.transform?d.setAttribute("transform",t.transform):t.ascent!==void 0&&d.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),u.appendChild(d)}return t.svg&&(u=M.parseFromString(t.svg,"application/xml").childNodes[0]),u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},a.updateActiveButton=function(t){var u=this.graphInfo._fullLayout,i=t!==void 0?t.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var d=l.getAttribute("data-val")||!0,v=l.getAttribute("data-attr"),y=l.getAttribute("data-toggle")==="true",p=L.select(l);if(y)v===i&&p.classed("active",!p.classed("active"));else{var c=v===null?v:E.nestedProperty(u,v).get();p.classed("active",c===d)}})},a.hasButtons=function(t){var u=this.buttons;if(!u||t.length!==u.length)return!1;for(var i=0;i<t.length;++i){if(t[i].length!==u[i].length)return!1;for(var l=0;l<t[i].length;l++)if(t[i][l].name!==u[i][l].name)return!1}return!0},a.getLogo=function(){var t=this.createGroup(),u=document.createElement("a");return u.href="https://plotly.com/",u.target="_blank",u.setAttribute("data-title",E._(this.graphInfo,"Produced with Plotly.js")+" (v"+k+")"),u.className="modebar-btn plotlyjsicon modebar-btn--logo",u.appendChild(this.createIcon(T.newplotlylogo)),t.appendChild(u),t},a.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},a.destroy=function(){E.removeElement(this.container.querySelector(".modebar")),E.deleteRelatedStyleRule(this._uid)},$.exports=function(t,u){var i=t._fullLayout,l=new b({graphInfo:t,container:i._modebardiv.node(),buttons:u});return i._privateplot&&L.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}},91032:function($,F,m){var L=m(80337),D=m(10229),E=(0,m(78032).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});$.exports={visible:{valType:"boolean",editType:"plot"},buttons:E,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:L({editType:"plot"}),bgcolor:{valType:"color",dflt:D.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:D.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},68508:function($){$.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},86255:function($,F,m){var L=m(34809),D=m(78766),E=m(78032),T=m(59008),k=m(91032),M=m(68508);function b(a,t,u,i){var l=i.calendar;function d(y,p){return L.coerce(a,t,k.buttons,y,p)}if(d("visible")){var v=d("step");v!=="all"&&(!l||l==="gregorian"||v!=="month"&&v!=="year"?d("stepmode"):t.stepmode="backward",d("count")),d("label")}}$.exports=function(a,t,u,i,l){var d=a.rangeselector||{},v=E.newContainer(t,"rangeselector");function y(x,f){return L.coerce(d,v,k,x,f)}if(y("visible",T(d,v,{name:"buttons",handleItemDefaults:b,calendar:l}).length>0)){var p=function(x,f,n){for(var o=n.filter(function(e){return f[e].anchor===x._id}),s=0,r=0;r<o.length;r++){var g=f[o[r]].domain;g&&(s=Math.max(g[1],s))}return[x.domain[0],s+M.yPad]}(t,u,i);y("x",p[0]),y("y",p[1]),L.noneOrAll(a,t,["x","y"]),y("xanchor"),y("yanchor"),L.coerceFont(y,"font",u.font);var c=y("bgcolor");y("activecolor",D.contrast(c,M.lightAmount,M.darkAmount)),y("bordercolor"),y("borderwidth")}}},45431:function($,F,m){var L=m(45568),D=m(33626),E=m(44122),T=m(78766),k=m(62203),M=m(34809),b=M.strTranslate,a=m(30635),t=m(5975),u=m(4530),i=u.LINE_SPACING,l=u.FROM_TL,d=u.FROM_BR,v=m(68508),y=m(16383);function p(f){return f._id}function c(f,n,o){var s=M.ensureSingle(f,"rect","selector-rect",function(r){r.attr("shape-rendering","crispEdges")});s.attr({rx:v.rx,ry:v.ry}),s.call(T.stroke,n.bordercolor).call(T.fill,function(r,g){return g._isActive||g._isHovered?r.activecolor:r.bgcolor}(n,o)).style("stroke-width",n.borderwidth+"px")}function x(f,n,o,s){var r,g;M.ensureSingle(f,"text","selector-text",function(e){e.attr("text-anchor","middle")}).call(k.font,n.font).text((r=o,g=s._fullLayout._meta,r.label?g?M.templateString(r.label,g):r.label:r.step==="all"?"all":r.count+r.step.charAt(0))).call(function(e){a.convertToTspans(e,s)})}$.exports=function(f){var n=f._fullLayout._infolayer.selectAll(".rangeselector").data(function(o){for(var s=t.list(o,"x",!0),r=[],g=0;g<s.length;g++){var e=s[g];e.rangeselector&&e.rangeselector.visible&&r.push(e)}return r}(f),p);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(o){var s=L.select(this),r=o,g=r.rangeselector,e=s.selectAll("g.button").data(M.filterVisible(g.buttons));e.enter().append("g").classed("button",!0),e.exit().remove(),e.each(function(h){var _=L.select(this),w=y(r,h);h._isActive=function(S,O,A){if(O.step==="all")return S.autorange===!0;var I=Object.keys(A);return S.range[0]===A[I[0]]&&S.range[1]===A[I[1]]}(r,h,w),_.call(c,g,h),_.call(x,g,h,f),_.on("click",function(){f._dragged||D.call("_guiRelayout",f,w)}),_.on("mouseover",function(){h._isHovered=!0,_.call(c,g,h)}),_.on("mouseout",function(){h._isHovered=!1,_.call(c,g,h)})}),function(h,_,w,S,O){var A=0,I=0,B=w.borderwidth;_.each(function(){var j=L.select(this).select(".selector-text"),W=w.font.size*i,Y=Math.max(W*a.lineCount(j),16)+3;I=Math.max(I,Y)}),_.each(function(){var j=L.select(this),W=j.select(".selector-rect"),Y=j.select(".selector-text"),J=Y.node()&&k.bBox(Y.node()).width,G=w.font.size*i,H=a.lineCount(Y),U=Math.max(J+10,v.minButtonWidth);j.attr("transform",b(B+A,B)),W.attr({x:0,y:0,width:U,height:I}),a.positionText(Y,U/2,I/2-(H-1)*G/2+3),A+=U+5});var C=h._fullLayout._size,z=C.l+C.w*w.x,P=C.t+C.h*(1-w.y),R="left";M.isRightAnchor(w)&&(z-=A,R="right"),M.isCenterAnchor(w)&&(z-=A/2,R="center");var N="top";M.isBottomAnchor(w)&&(P-=I,N="bottom"),M.isMiddleAnchor(w)&&(P-=I/2,N="middle"),A=Math.ceil(A),I=Math.ceil(I),z=Math.round(z),P=Math.round(P),E.autoMargin(h,S+"-range-selector",{x:w.x,y:w.y,l:A*l[R],r:A*d[R],b:I*d[N],t:I*l[N]}),O.attr("transform",b(z,P))}(f,e,g,r._name,s)})}},16383:function($,F,m){var L=m(50936),D=m(34809).titleCase;$.exports=function(E,T){var k=E._name,M={};if(T.step==="all")M[k+".autorange"]=!0;else{var b=function(a,t){var u,i=a.range,l=new Date(a.r2l(i[1])),d=t.step,v=L["utc"+D(d)],y=t.count;switch(t.stepmode){case"backward":u=a.l2r(+v.offset(l,-y));break;case"todate":var p=v.offset(l,-y);u=a.l2r(+v.ceil(p))}return[u,i[1]]}(E,T);M[k+".range[0]"]=b[0],M[k+".range[1]"]=b[1]}return M}},44453:function($,F,m){$.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:m(91032)}}},layoutAttributes:m(91032),handleDefaults:m(86255),draw:m(45431)}},63608:function($,F,m){var L=m(10229);$.exports={bgcolor:{valType:"color",dflt:L.background,editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},46223:function($,F,m){var L=m(5975).list,D=m(32919).getAutoRange,E=m(20604);$.exports=function(T){for(var k=L(T,"x",!0),M=0;M<k.length;M++){var b=k[M],a=b[E.name];a&&a.visible&&a.autorange&&(a._input.autorange=!0,a._input.range=a.range=D(T,b))}}},20604:function($){$.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},41295:function($,F,m){var L=m(34809),D=m(78032),E=m(5975),T=m(63608),k=m(66249);$.exports=function(M,b,a){var t=M[a],u=b[a];if(t.rangeslider||b._requestRangeslider[u._id]){L.isPlainObject(t.rangeslider)||(t.rangeslider={});var i,l,d=t.rangeslider,v=D.newContainer(u,"rangeslider");if(s("visible")){s("bgcolor",b.plot_bgcolor),s("bordercolor"),s("borderwidth"),s("thickness"),s("autorange",!u.isValidRange(d.range)),s("range");var y=b._subplots;if(y)for(var p=y.cartesian.filter(function(g){return g.substr(0,g.indexOf("y"))===E.name2id(a)}).map(function(g){return g.substr(g.indexOf("y"),g.length)}),c=L.simpleMap(p,E.id2name),x=0;x<c.length;x++){var f=c[x];i=d[f]||{},l=D.newContainer(v,f,"yaxis");var n,o=b[f];i.range&&o.isValidRange(i.range)&&(n="fixed"),r("rangemode",n)!=="match"&&r("range",o.range.slice())}v._input=d}}function s(g,e){return L.coerce(d,v,T,g,e)}function r(g,e){return L.coerce(i,l,k,g,e)}}},88887:function($,F,m){var L=m(45568),D=m(33626),E=m(44122),T=m(34809),k=T.strTranslate,M=m(62203),b=m(78766),a=m(17240),t=m(37703),u=m(5975),i=m(14751),l=m(27983),d=m(20604);function v(o){return typeof o.clientX=="number"?o.clientX:o.touches&&o.touches.length>0?o.touches[0].clientX:0}function y(o,s,r,g){var e=T.ensureSingle(o,"rect",d.bgClassName,function(S){S.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),h=g.borderwidth%2==0?g.borderwidth:g.borderwidth-1,_=-g._offsetShift,w=M.crispRound(s,g.borderwidth);e.attr({width:g._width+h,height:g._height+h,transform:k(_,_),"stroke-width":w}).call(b.stroke,g.bordercolor).call(b.fill,g.bgcolor)}function p(o,s,r,g){var e=s._fullLayout;T.ensureSingleById(e._topdefs,"clipPath",g._clipId,function(h){h.append("rect").attr({x:0,y:0})}).select("rect").attr({width:g._width,height:g._height})}function c(o,s,r,g){var e,h=s.calcdata,_=o.selectAll("g."+d.rangePlotClassName).data(r._subplotsWith,T.identity);_.enter().append("g").attr("class",function(w){return d.rangePlotClassName+" "+w}).call(M.setClipUrl,g._clipId,s),_.order(),_.exit().remove(),_.each(function(w,S){var O=L.select(this),A=S===0,I=u.getFromId(s,w,"y"),B=I._name,C=g[B],z={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:g.range.slice(),calendar:r.calendar},width:g._width,height:g._height,margin:{t:0,b:0,l:0,r:0}},_context:s._context};r.rangebreaks&&(z.layout.xaxis.rangebreaks=r.rangebreaks),z.layout[B]={type:I.type,domain:[0,1],range:C.rangemode!=="match"?C.range.slice():I.range.slice(),calendar:I.calendar},I.rangebreaks&&(z.layout[B].rangebreaks=I.rangebreaks),E.supplyDefaults(z);var P=z._fullLayout.xaxis,R=z._fullLayout[B];P.clearCalc(),P.setScale(),R.clearCalc(),R.setScale();var N={id:w,plotgroup:O,xaxis:P,yaxis:R,isRangePlot:!0};A?e=N:(N.mainplot="xy",N.mainplotinfo=e),t.rangePlot(s,N,function(j,W){for(var Y=[],J=0;J<j.length;J++){var G=j[J],H=G[0].trace;H.xaxis+H.yaxis===W&&Y.push(G)}return Y}(h,w))})}function x(o,s,r,g,e){T.ensureSingle(o,"rect",d.maskMinClassName,function(h){h.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",g._height).call(b.fill,d.maskColor),T.ensureSingle(o,"rect",d.maskMaxClassName,function(h){h.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",g._height).call(b.fill,d.maskColor),e.rangemode!=="match"&&(T.ensureSingle(o,"rect",d.maskMinOppAxisClassName,function(h){h.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",g._width).call(b.fill,d.maskOppAxisColor),T.ensureSingle(o,"rect",d.maskMaxOppAxisClassName,function(h){h.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",g._width).style("border-top",d.maskOppBorder).call(b.fill,d.maskOppAxisColor))}function f(o,s,r,g){s._context.staticPlot||T.ensureSingle(o,"rect",d.slideBoxClassName,function(e){e.attr({y:0,cursor:d.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:g._height,fill:d.slideBoxFill})}function n(o,s,r,g){var e=T.ensureSingle(o,"g",d.grabberMinClassName),h=T.ensureSingle(o,"g",d.grabberMaxClassName),_={x:0,width:d.handleWidth,rx:d.handleRadius,fill:b.background,stroke:b.defaultLine,"stroke-width":d.handleStrokeWidth,"shape-rendering":"crispEdges"},w={y:Math.round(g._height/4),height:Math.round(g._height/2)};T.ensureSingle(e,"rect",d.handleMinClassName,function(O){O.attr(_)}).attr(w),T.ensureSingle(h,"rect",d.handleMaxClassName,function(O){O.attr(_)}).attr(w);var S={width:d.grabAreaWidth,x:0,y:0,fill:d.grabAreaFill,cursor:s._context.staticPlot?void 0:d.grabAreaCursor};T.ensureSingle(e,"rect",d.grabAreaMinClassName,function(O){O.attr(S)}).attr("height",g._height),T.ensureSingle(h,"rect",d.grabAreaMaxClassName,function(O){O.attr(S)}).attr("height",g._height)}$.exports=function(o){for(var s=o._fullLayout,r=s._rangeSliderData,g=0;g<r.length;g++){var e=r[g][d.name];e._clipId=e._id+"-"+s._uid}var h=s._infolayer.selectAll("g."+d.containerClassName).data(r,function(_){return _._name});h.exit().each(function(_){var w=_[d.name];s._topdefs.select("#"+w._clipId).remove()}).remove(),r.length!==0&&(h.enter().append("g").classed(d.containerClassName,!0).attr("pointer-events","all"),h.each(function(_){var w=L.select(this),S=_[d.name],O=s[u.id2name(_.anchor)],A=S[u.id2name(_.anchor)];if(S.range){var I,B=T.simpleMap(S.range,_.r2l),C=T.simpleMap(_.range,_.r2l);I=C[0]<C[1]?[Math.min(B[0],C[0]),Math.max(B[1],C[1])]:[Math.max(B[0],C[0]),Math.min(B[1],C[1])],S.range=S._input.range=T.simpleMap(I,_.l2r)}_.cleanRange("rangeslider.range");var z=s._size,P=_.domain;S._width=z.w*(P[1]-P[0]);var R=Math.round(z.l+z.w*P[0]),N=Math.round(z.t+z.h*(1-_._counterDomainMin)+(_.side==="bottom"?_._depth:0)+S._offsetShift+d.extraPad);w.attr("transform",k(R,N)),S._rl=T.simpleMap(S.range,_.r2l);var j=S._rl[0],W=S._rl[1],Y=W-j;if(S.p2d=function(ie){return ie/S._width*Y+j},S.d2p=function(ie){return(ie-j)/Y*S._width},_.rangebreaks){var J=_.locateBreaks(j,W);if(J.length){var G,H,U=0;for(G=0;G<J.length;G++)U+=(H=J[G]).max-H.min;var Z=S._width/(W-j-U),q=[-Z*j];for(G=0;G<J.length;G++)H=J[G],q.push(q[q.length-1]-Z*(H.max-H.min));for(S.d2p=function(ie){for(var le=q[0],fe=0;fe<J.length;fe++){var pe=J[fe];if(ie>=pe.max)le=q[fe+1];else if(ie<pe.min)break}return le+Z*ie},G=0;G<J.length;G++)(H=J[G]).pmin=S.d2p(H.min),H.pmax=S.d2p(H.max);S.p2d=function(ie){for(var le=q[0],fe=0;fe<J.length;fe++){var pe=J[fe];if(ie>=pe.pmax)le=q[fe+1];else if(ie<pe.pmin)break}return(ie-le)/Z}}}if(A.rangemode!=="match"){var Q=O.r2l(A.range[0]),ne=O.r2l(A.range[1])-Q;S.d2pOppAxis=function(ie){return(ie-Q)/ne*S._height}}w.call(y,o,_,S).call(p,o,_,S).call(c,o,_,S).call(x,o,_,S,A).call(f,o,_,S).call(n,o,_,S),function(ie,le,fe,pe){if(!le._context.staticPlot){var me=ie.select("rect."+d.slideBoxClassName).node(),ke=ie.select("rect."+d.grabAreaMinClassName).node(),ve=ie.select("rect."+d.grabAreaMaxClassName).node();ie.on("mousedown",he),ie.on("touchstart",he)}function he(){var de=L.event,X=de.target,ae=v(de),K=ae-ie.node().getBoundingClientRect().left,ge=pe.d2p(fe._rl[0]),re=pe.d2p(fe._rl[1]),ue=i.coverSlip();function we(ee){var se,ce,be,Ee=+v(ee)-ae;switch(X){case me:if(be="ew-resize",ge+Ee>fe._length||re+Ee<0)return;se=ge+Ee,ce=re+Ee;break;case ke:if(be="col-resize",ge+Ee>fe._length)return;se=ge+Ee,ce=re;break;case ve:if(be="col-resize",re+Ee<0)return;se=ge,ce=re+Ee;break;default:be="ew-resize",se=K,ce=K+Ee}if(ce<se){var Se=ce;ce=se,se=Se}pe._pixelMin=se,pe._pixelMax=ce,l(L.select(ue),be),function(De,Ge,Xe,Ke){function ut(Le){return Xe.l2r(T.constrain(Le,Ke._rl[0],Ke._rl[1]))}var Tt=ut(Ke.p2d(Ke._pixelMin)),je=ut(Ke.p2d(Ke._pixelMax));window.requestAnimationFrame(function(){D.call("_guiRelayout",Ge,Xe._name+".range",[Tt,je])})}(0,le,fe,pe)}function Te(){ue.removeEventListener("mousemove",we),ue.removeEventListener("mouseup",Te),this.removeEventListener("touchmove",we),this.removeEventListener("touchend",Te),T.removeElement(ue)}this.addEventListener("touchmove",we),this.addEventListener("touchend",Te),ue.addEventListener("mousemove",we),ue.addEventListener("mouseup",Te)}}(w,o,_,S),function(ie,le,fe,pe,me,ke){var ve=d.handleWidth/2;function he(ee){return T.constrain(ee,0,pe._width)}function de(ee){return T.constrain(ee,0,pe._height)}function X(ee){return T.constrain(ee,-ve,pe._width+ve)}var ae=he(pe.d2p(fe._rl[0])),K=he(pe.d2p(fe._rl[1]));if(ie.select("rect."+d.slideBoxClassName).attr("x",ae).attr("width",K-ae),ie.select("rect."+d.maskMinClassName).attr("width",ae),ie.select("rect."+d.maskMaxClassName).attr("x",K).attr("width",pe._width-K),ke.rangemode!=="match"){var ge=pe._height-de(pe.d2pOppAxis(me._rl[1])),re=pe._height-de(pe.d2pOppAxis(me._rl[0]));ie.select("rect."+d.maskMinOppAxisClassName).attr("x",ae).attr("height",ge).attr("width",K-ae),ie.select("rect."+d.maskMaxOppAxisClassName).attr("x",ae).attr("y",re).attr("height",pe._height-re).attr("width",K-ae),ie.select("rect."+d.slideBoxClassName).attr("y",ge).attr("height",re-ge)}var ue=.5,we=Math.round(X(ae-ve))-ue,Te=Math.round(X(K-ve))+ue;ie.select("g."+d.grabberMinClassName).attr("transform",k(we,ue)),ie.select("g."+d.grabberMaxClassName).attr("transform",k(Te,ue))}(w,0,_,S,O,A),_.side==="bottom"&&a.draw(o,_._id+"title",{propContainer:_,propName:_._name+".title",placeholder:s._dfltTitle.x,attributes:{x:_._offset+_._length/2,y:N+S._height+S._offsetShift+10+1.5*_.title.font.size,"text-anchor":"middle"}})}))}},80400:function($,F,m){var L=m(5975),D=m(30635),E=m(20604),T=m(4530).LINE_SPACING,k=E.name;function M(b){var a=b&&b[k];return a&&a.visible}F.isVisible=M,F.makeData=function(b){var a=L.list({_fullLayout:b},"x",!0),t=b.margin,u=[];if(!b._has("gl2d"))for(var i=0;i<a.length;i++){var l=a[i];if(M(l)){u.push(l);var d=l[k];d._id=k+l._id,d._height=(b.height-t.b-t.t)*d.thickness,d._offsetShift=Math.floor(d.borderwidth/2)}}b._rangeSliderData=u},F.autoMarginOpts=function(b,a){var t=b._fullLayout,u=a[k],i=a._id.charAt(0),l=0,d=0;return a.side==="bottom"&&(l=a._depth,a.title.text!==t._dfltTitle[i]&&(d=1.5*a.title.font.size+10+u._offsetShift,d+=(a.title.text.match(D.BR_TAG_ALL)||[]).length*a.title.font.size*T)),{x:0,y:a._counterDomainMin,l:0,r:0,t:0,b:u._height+l+Math.max(t.margin.b,d),pad:E.extraPad+2*u._offsetShift}}},55429:function($,F,m){var L=m(34809),D=m(63608),E=m(66249),T=m(80400);$.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:L.extendFlat({},D,{yaxis:E})}}},layoutAttributes:m(63608),handleDefaults:m(41295),calcAutorange:m(46223),draw:m(88887),isVisible:T.isVisible,makeData:T.makeData,autoMarginOpts:T.autoMarginOpts}},66249:function($){$.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},4327:function($,F,m){var L=m(50222),D=m(36640).line,E=m(94850).T,T=m(93049).extendFlat,k=m(13582).overrideAll,M=m(78032).templatedArray;m(35081),$.exports=k(M("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:T({},L.xref,{}),yref:T({},L.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:D.color,width:T({},D.width,{min:1,dflt:1}),dash:T({},E,{dflt:"dot"})}}),"arraydraw","from-root")},78865:function($){$.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},2272:function($,F,m){var L=m(34809),D=m(29714),E=m(59008),T=m(4327),k=m(49728);function M(b,a,t){function u(_,w){return L.coerce(b,a,T,_,w)}var i=u("path"),l=u("type",i?"path":"rect")!=="path";l&&delete a.path,u("opacity"),u("line.color"),u("line.width"),u("line.dash");for(var d=["x","y"],v=0;v<2;v++){var y,p,c,x=d[v],f={_fullLayout:t},n=D.coerceRef(b,a,f,x);if((y=D.getFromId(f,n))._selectionIndices.push(a._index),c=k.rangeToShapePosition(y),p=k.shapePositionToRange(y),l){var o=x+"0",s=x+"1",r=b[o],g=b[s];b[o]=p(b[o],!0),b[s]=p(b[s],!0),D.coercePosition(a,f,u,n,o),D.coercePosition(a,f,u,n,s);var e=a[o],h=a[s];e!==void 0&&h!==void 0&&(a[o]=c(e),a[s]=c(h),b[o]=r,b[s]=g)}}l&&L.noneOrAll(b,a,["x0","x1","y0","y1"])}$.exports=function(b,a){E(b,a,{name:"selections",handleItemDefaults:M});for(var t=a.selections,u=0;u<t.length;u++){var i=t[u];i&&i.path===void 0&&(i.x0!==void 0&&i.x1!==void 0&&i.y0!==void 0&&i.y1!==void 0||(a.selections[u]=null))}}},7028:function($,F,m){var L=m(81055).readPaths,D=m(561),E=m(78534).clearOutlineControllers,T=m(78766),k=m(62203),M=m(78032).arrayEditor,b=m(49728),a=b.getPathString;function t(v){var y=v._fullLayout;for(var p in E(v),y._selectionLayer.selectAll("path").remove(),y._plots){var c=y._plots[p].selectionLayer;c&&c.selectAll("path").remove()}for(var x=0;x<y.selections.length;x++)i(v,x)}function u(v){return v._context.editSelection}function i(v,y){v._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+y+'"]').remove();var p=b.makeSelectionsOptionsAndPlotinfo(v,y),c=p.options,x=p.plotinfo;c._input&&function(f){var n=a(v,c),o={"data-index":y,"fill-rule":"evenodd",d:n},s=c.opacity,r="rgba(0,0,0,0)",g=c.line.color||T.contrast(v._fullLayout.plot_bgcolor),e=c.line.width,h=c.line.dash;e||(e=5,h="solid");var _=u(v)&&v._fullLayout._activeSelectionIndex===y;_&&(r=v._fullLayout.activeselection.fillcolor,s=v._fullLayout.activeselection.opacity);for(var w=[],S=1;S>=0;S--){var O=f.append("path").attr(o).style("opacity",S?.1:s).call(T.stroke,g).call(T.fill,r).call(k.dashLine,S?"solid":h,S?4+e:e);if(l(O,v,c),_){var A=M(v.layout,"selections",c);O.style({cursor:"move"});var I={element:O.node(),plotinfo:x,gd:v,editHelpers:A,isActiveSelection:!0},B=L(n,v);D(B,O,I)}else O.style("pointer-events",S?"all":"none");w[S]=O}var C=w[0];w[1].node().addEventListener("click",function(){return function(z,P){if(u(z)){var R=+P.node().getAttribute("data-index");if(R>=0){if(R===z._fullLayout._activeSelectionIndex)return void d(z);z._fullLayout._activeSelectionIndex=R,z._fullLayout._deactivateSelection=d,t(z)}}}(v,C)})}(v._fullLayout._selectionLayer)}function l(v,y,p){var c=p.xref+p.yref;k.setClipUrl(v,"clip"+y._fullLayout._uid+c,y)}function d(v){u(v)&&v._fullLayout._activeSelectionIndex>=0&&(E(v),delete v._fullLayout._activeSelectionIndex,t(v))}$.exports={draw:t,drawOne:i,activateLastSelection:function(v){if(u(v)){var y=v._fullLayout.selections.length-1;v._fullLayout._activeSelectionIndex=y,v._fullLayout._deactivateSelection=d,t(v)}}}},52307:function($,F,m){var L=m(94850).T,D=m(93049).extendFlat;$.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:D({},L,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},43028:function($){$.exports=function(F,m,L){L("newselection.mode"),L("newselection.line.width")&&(L("newselection.line.color"),L("newselection.line.dash")),L("activeselection.fillcolor"),L("activeselection.opacity")}},51817:function($,F,m){var L=m(70414).selectMode,D=m(78534).clearOutline,E=m(81055),T=E.readPaths,k=E.writePaths,M=E.fixDatesForPaths;$.exports=function(b,a){if(b.length){var t=b[0][0];if(t){var u=t.getAttribute("d"),i=a.gd,l=i._fullLayout.newselection,d=a.plotinfo,v=d.xaxis,y=d.yaxis,p=a.isActiveSelection,c=a.dragmode,x=(i.layout||{}).selections||[];if(!L(c)&&p!==void 0){var f=i._fullLayout._activeSelectionIndex;if(f<x.length)switch(i._fullLayout.selections[f].type){case"rect":c="select";break;case"path":c="lasso"}}var n,o=T(u,i,d,p),s={xref:v._id,yref:y._id,opacity:l.opacity,line:{color:l.line.color,width:l.line.width,dash:l.line.dash}};o.length===1&&(n=o[0]),n&&n.length===5&&c==="select"?(s.type="rect",s.x0=n[0][1],s.y0=n[0][2],s.x1=n[2][1],s.y1=n[2][2]):(s.type="path",v&&y&&M(o,v,y),s.path=k(o),n=null),D(i);for(var r=a.editHelpers,g=(r||{}).modifyItem,e=[],h=0;h<x.length;h++){var _=i._fullLayout.selections[h];if(_){if(e[h]=_._input,p!==void 0&&h===i._fullLayout._activeSelectionIndex){var w=s;switch(_.type){case"rect":g("x0",w.x0),g("x1",w.x1),g("y0",w.y0),g("y1",w.y1);break;case"path":g("path",w.path)}}}else e[h]=_}return p===void 0?(e.push(s),e):r?r.getUpdateObj():{}}}}},49801:function($,F,m){var L=m(34809).strTranslate;function D(E,T){switch(E.type){case"log":return E.p2d(T);case"date":return E.p2r(T,0,E.calendar);default:return E.p2r(T)}}$.exports={p2r:D,r2p:function(E,T){switch(E.type){case"log":return E.d2p(T);case"date":return E.r2p(T,0,E.calendar);default:return E.r2p(T)}},axValue:function(E){var T=E._id.charAt(0)==="y"?1:0;return function(k){return D(E,k[T])}},getTransform:function(E){return L(E.xaxis._offset,E.yaxis._offset)}}},44844:function($,F,m){var L=m(7028),D=m(88666);$.exports={moduleType:"component",name:"selections",layoutAttributes:m(4327),supplyLayoutDefaults:m(2272),supplyDrawNewSelectionDefaults:m(43028),includeBasePlot:m(20706)("selections"),draw:L.draw,drawOne:L.drawOne,reselect:D.reselect,prepSelect:D.prepSelect,clearOutline:D.clearOutline,clearSelectionsCache:D.clearSelectionsCache,selectOnClick:D.selectOnClick}},88666:function($,F,m){var L=m(11516),D=m(52773),E=m(33626),T=m(62203).dashStyle,k=m(78766),M=m(32141),b=m(36040).makeEventData,a=m(70414),t=a.freeMode,u=a.rectMode,i=a.drawMode,l=a.openMode,d=a.selectMode,v=m(49728),y=m(2956),p=m(561),c=m(78534).clearOutline,x=m(81055),f=x.handleEllipse,n=x.readPaths,o=m(87562).newShapes,s=m(51817),r=m(7028).activateLastSelection,g=m(34809),e=g.sorterAsc,h=m(80899),_=m(64025),w=m(5975).getFromId,S=m(34823),O=m(71817).redrawReglTraces,A=m(78865),I=A.MINSELECT,B=h.filter,C=h.tester,z=m(49801),P=z.p2r,R=z.axValue,N=z.getTransform;function j(we){return we.subplot!==void 0}function W(we,Te,ee,se,ce,be,Ee){var Se,De,Ge,Xe,Ke,ut,Tt,je,Le,$e=Te._hoverdata,st=Te._fullLayout.clickmode.indexOf("event")>-1,Ot=[];if(function(Be){return Be&&Array.isArray(Be)&&Be[0].hoverOnBox!==!0}($e)){H(we,Te,be);var Je=function(Be,it){var tt,ft,pt=Be[0],_e=-1,Ae=[];for(ft=0;ft<it.length;ft++)if(tt=it[ft],pt.fullData._expandedIndex===tt.cd[0].trace._expandedIndex){if(pt.hoverOnBox===!0)break;pt.pointNumber!==void 0?_e=pt.pointNumber:pt.binNumber!==void 0&&(_e=pt.binNumber,Ae=pt.pointNumbers);break}return{pointNumber:_e,pointNumbers:Ae,searchInfo:tt}}($e,Se=q(Te,ee,se,ce));if(Je.pointNumbers.length>0?function(Be,it){var tt,ft,pt,_e=[];for(pt=0;pt<Be.length;pt++)(tt=Be[pt]).cd[0].trace.selectedpoints&&tt.cd[0].trace.selectedpoints.length>0&&_e.push(tt);if(_e.length===1&&_e[0]===it.searchInfo&&(ft=it.searchInfo.cd[0].trace).selectedpoints.length===it.pointNumbers.length){for(pt=0;pt<it.pointNumbers.length;pt++)if(ft.selectedpoints.indexOf(it.pointNumbers[pt])<0)return!1;return!0}return!1}(Se,Je):function(Be){var it,tt,ft=0;for(tt=0;tt<Be.length;tt++)if((it=Be[tt].cd[0].trace).selectedpoints&&(it.selectedpoints.length>1||(ft+=it.selectedpoints.length)>1))return!1;return ft===1}(Se)&&(ut=ne(Je))){for(Ee&&Ee.remove(),Le=0;Le<Se.length;Le++)(De=Se[Le])._module.selectPoints(De,!1);ie(Te,Se),U(be),st&&ue(Te)}else{for(Tt=we.shiftKey&&(ut!==void 0?ut:ne(Je)),Ge=function(Be,it,tt){return{pointNumber:Be,searchInfo:it,subtract:!!tt}}(Je.pointNumber,Je.searchInfo,Tt),Xe=G(be.selectionDefs.concat([Ge])),Le=0;Le<Se.length;Le++)if(Ke=fe(Se[Le]._module.selectPoints(Se[Le],Xe),Se[Le]),Ot.length)for(var at=0;at<Ke.length;at++)Ot.push(Ke[at]);else Ot=Ke;if(ie(Te,Se,je={points:Ot}),Ge&&be&&be.selectionDefs.push(Ge),Ee){var gt=be.mergedPolygons,Oe=l(be.dragmode);p(pe(gt,Oe),Ee,be)}st&&re(Te,je)}}}function Y(we){return"pointNumber"in we&&"searchInfo"in we}function J(we){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Te,ee,se,ce){var be=we.searchInfo.cd[0].trace._expandedIndex;return ce.cd[0].trace._expandedIndex===be&&se===we.pointNumber},isRect:!1,degenerate:!1,subtract:!!we.subtract}}function G(we){if(we.length){for(var Te=[],ee=Y(we[0])?0:we[0][0][0],se=ee,ce=Y(we[0])?0:we[0][0][1],be=ce,Ee=0;Ee<we.length;Ee++)if(Y(we[Ee]))Te.push(J(we[Ee]));else{var Se=C(we[Ee]);Se.subtract=!!we[Ee].subtract,Te.push(Se),ee=Math.min(ee,Se.xmin),se=Math.max(se,Se.xmax),ce=Math.min(ce,Se.ymin),be=Math.max(be,Se.ymax)}return{xmin:ee,xmax:se,ymin:ce,ymax:be,pts:[],contains:function(De,Ge,Xe,Ke){for(var ut=!1,Tt=0;Tt<Te.length;Tt++)Te[Tt].contains(De,Ge,Xe,Ke)&&(ut=!Te[Tt].subtract);return ut},isRect:!1,degenerate:!1}}}function H(we,Te,ee){var se=Te._fullLayout,ce=ee.plotinfo,be=ee.dragmode,Ee=se._lastSelectedSubplot&&se._lastSelectedSubplot===ce.id,Se=(we.shiftKey||we.altKey)&&!(i(be)&&l(be));Ee&&Se&&ce.selection&&ce.selection.selectionDefs&&!ee.selectionDefs?(ee.selectionDefs=ce.selection.selectionDefs,ee.mergedPolygons=ce.selection.mergedPolygons):Se&&ce.selection||U(ee),Ee||(c(Te),se._lastSelectedSubplot=ce.id)}function U(we,Te){var ee=we.dragmode,se=we.plotinfo,ce=we.gd;(function(Ke){return Ke._fullLayout._activeShapeIndex>=0})(ce)&&ce._fullLayout._deactivateShape(ce),function(Ke){return Ke._fullLayout._activeSelectionIndex>=0}(ce)&&ce._fullLayout._deactivateSelection(ce);var be=ce._fullLayout._zoomlayer,Ee=i(ee),Se=d(ee);if(Ee||Se){var De,Ge,Xe=be.selectAll(".select-outline-"+se.id);Xe&&ce._fullLayout._outlining&&(Ee&&(De=o(Xe,we)),De&&E.call("_guiRelayout",ce,{shapes:De}),Se&&!j(we)&&(Ge=s(Xe,we)),Ge&&(ce._fullLayout._noEmitSelectedAtStart=!0,E.call("_guiRelayout",ce,{selections:Ge}).then(function(){Te&&r(ce)})),ce._fullLayout._outlining=!1)}se.selection={},se.selection.selectionDefs=we.selectionDefs=[],se.selection.mergedPolygons=we.mergedPolygons=[]}function Z(we){return we._id}function q(we,Te,ee,se){if(!we.calcdata)return[];var ce,be,Ee,Se=[],De=Te.map(Z),Ge=ee.map(Z);for(Ee=0;Ee<we.calcdata.length;Ee++)if((be=(ce=we.calcdata[Ee])[0].trace).visible===!0&&be._module&&be._module.selectPoints)if(!j({subplot:se})||be.subplot!==se&&be.geo!==se)if(be.type==="splom"){if(be._xaxes[De[0]]&&be._yaxes[Ge[0]]){var Xe=Q(be._module,ce,Te[0],ee[0]);Xe.scene=we._fullLayout._splomScenes[be.uid],Se.push(Xe)}}else if(be.type==="sankey"){var Ke=Q(be._module,ce,Te[0],ee[0]);Se.push(Ke)}else{if(!(De.indexOf(be.xaxis)!==-1||be._xA&&be._xA.overlaying)||!(Ge.indexOf(be.yaxis)!==-1||be._yA&&be._yA.overlaying))continue;Se.push(Q(be._module,ce,w(we,be.xaxis),w(we,be.yaxis)))}else Se.push(Q(be._module,ce,Te[0],ee[0]));return Se}function Q(we,Te,ee,se){return{_module:we,cd:Te,xaxis:ee,yaxis:se}}function ne(we){var Te=we.searchInfo.cd[0].trace,ee=we.pointNumber,se=we.pointNumbers,ce=se.length>0?se[0]:ee;return!!Te.selectedpoints&&Te.selectedpoints.indexOf(ce)>-1}function ie(we,Te,ee){var se,ce;for(se=0;se<Te.length;se++){var be=Te[se].cd[0].trace._fullInput,Ee=we._fullLayout._tracePreGUI[be.uid]||{};Ee.selectedpoints===void 0&&(Ee.selectedpoints=be._input.selectedpoints||null)}if(ee){var Se=ee.points||[];for(se=0;se<Te.length;se++)(ce=Te[se].cd[0].trace)._input.selectedpoints=ce._fullInput.selectedpoints=[],ce._fullInput!==ce&&(ce.selectedpoints=[]);for(var De=0;De<Se.length;De++){var Ge=Se[De],Xe=Ge.data,Ke=Ge.fullData,ut=Ge.pointIndex,Tt=Ge.pointIndices;Tt?([].push.apply(Xe.selectedpoints,Tt),ce._fullInput!==ce&&[].push.apply(Ke.selectedpoints,Tt)):(Xe.selectedpoints.push(ut),ce._fullInput!==ce&&Ke.selectedpoints.push(ut))}}else for(se=0;se<Te.length;se++)delete(ce=Te[se].cd[0].trace).selectedpoints,delete ce._input.selectedpoints,ce._fullInput!==ce&&delete ce._fullInput.selectedpoints;(function(je,Le){for(var $e=!1,st=0;st<Le.length;st++){var Ot=Le[st],Je=Ot.cd;E.traceIs(Je[0].trace,"regl")&&($e=!0);var at=Ot._module,gt=at.styleOnSelect||at.style;gt&&(gt(je,Je,Je[0].node3),Je[0].nodeRangePlot3&&gt(je,Je,Je[0].nodeRangePlot3))}$e&&(S(je),O(je))})(we,Te)}function le(we,Te,ee){for(var se=(ee?L.difference:L.union)({regions:we},{regions:[Te]}).regions.reverse(),ce=0;ce<se.length;ce++){var be=se[ce];be.subtract=X(be,se.slice(0,ce))}return se}function fe(we,Te){if(Array.isArray(we))for(var ee=Te.cd,se=Te.cd[0].trace,ce=0;ce<we.length;ce++)we[ce]=b(we[ce],se,ee);return we}function pe(we,Te){for(var ee=[],se=0;se<we.length;se++){ee[se]=[];for(var ce=0;ce<we[se].length;ce++){ee[se][ce]=[],ee[se][ce][0]=ce?"L":"M";for(var be=0;be<we[se][ce].length;be++)ee[se][ce].push(we[se][ce][be])}Te||ee[se].push(["Z",ee[se][0][1],ee[se][0][2]])}return ee}function me(we,Te){for(var ee,se,ce=[],be=[],Ee=0;Ee<Te.length;Ee++){var Se=Te[Ee];se=Se._module.selectPoints(Se,we),be.push(se),ee=fe(se,Se),ce=ce.concat(ee)}return ce}function ke(we,Te,ee,se,ce){var be,Ee,Se,De=!!se;ce&&(be=ce.plotinfo,Ee=ce.xaxes[0]._id,Se=ce.yaxes[0]._id);var Ge=[],Xe=[],Ke=de(we),ut=we._fullLayout;if(be){var Tt=ut._zoomlayer,je=ut.dragmode,Le=i(je),$e=d(je);if(Le||$e){var st=w(we,Ee,"x"),Ot=w(we,Se,"y");if(st&&Ot){var Je=Tt.selectAll(".select-outline-"+be.id);if(Je&&we._fullLayout._outlining&&Je.length){for(var at=Je[0][0].getAttribute("d"),gt=n(at,we,be),Oe=[],Be=0;Be<gt.length;Be++){for(var it=gt[Be],tt=[],ft=0;ft<it.length;ft++)tt.push([ae(st,it[ft][1]),ae(Ot,it[ft][2])]);tt.xref=Ee,tt.yref=Se,tt.subtract=X(tt,Oe),Oe.push(tt)}Ke=Ke.concat(Oe)}}}}var pt=Ee&&Se?[Ee+Se]:ut._subplots.cartesian;(function(Jt){var qt=Jt.calcdata;if(qt)for(var Xt=0;Xt<qt.length;Xt++){var $t=qt[Xt][0].trace,pn=Jt._fullLayout._splomScenes;if(pn){var An=pn[$t.uid];An&&(An.selectBatch=[])}}})(we);for(var _e={},Ae=0;Ae<pt.length;Ae++){var Ve=pt[Ae],He=Ve.indexOf("y"),We=Ve.slice(0,He),Pe=Ve.slice(He),Ue=Ee&&Se?ee:void 0;if(Ue=he(Ke,We,Pe,Ue)){var Ne=se;if(!De){var Ye=w(we,We,"x"),Fe=w(we,Pe,"y");Ne=q(we,[Ye],[Fe],Ve);for(var Ze=0;Ze<Ne.length;Ze++){var rt=Ne[Ze],vt=rt.cd[0],Lt=vt.trace;if(rt._module.name==="scattergl"&&!vt.t.xpx){var St=Lt.x,It=Lt.y,ot=Lt._length;vt.t.xpx=[],vt.t.ypx=[];for(var xt=0;xt<ot;xt++)vt.t.xpx[xt]=Ye.c2p(St[xt]),vt.t.ypx[xt]=Fe.c2p(It[xt])}rt._module.name==="splom"&&(_e[Lt.uid]||(_e[Lt.uid]=!0))}}var Ut=me(Ue,Ne);Ge=Ge.concat(Ut),Xe=Xe.concat(Ne)}}var Et={points:Ge};ie(we,Xe,Et);var mt=ut.clickmode.indexOf("event")>-1&&Te;if(!be&&Te){var kt=de(we,!0);if(kt.length){var ht=kt[0].xref,wt=kt[0].yref;if(ht&&wt){var Wt=K(kt);ge([w(we,ht,"x"),w(we,wt,"y")])(Et,Wt)}}we._fullLayout._noEmitSelectedAtStart?we._fullLayout._noEmitSelectedAtStart=!1:mt&&re(we,Et),ut._reselect=!1}if(!be&&ut._deselect){var jt=ut._deselect;(function(Jt,qt,Xt){for(var $t=0;$t<Xt.length;$t++){var pn=Xt[$t];if(pn.xaxis&&pn.xaxis._id===Jt&&pn.yaxis&&pn.yaxis._id===qt)return!0}return!1})(Ee=jt.xref,Se=jt.yref,Xe)||ve(we,Ee,Se,se),mt&&(Et.points.length?re(we,Et):ue(we)),ut._deselect=!1}return{eventData:Et,selectionTesters:ee}}function ve(we,Te,ee,se){se=q(we,[w(we,Te,"x")],[w(we,ee,"y")],Te+ee);for(var ce=0;ce<se.length;ce++){var be=se[ce];be._module.selectPoints(be,!1)}ie(we,se)}function he(we,Te,ee,se){for(var ce,be=0;be<we.length;be++){var Ee=we[be];Te===Ee.xref&&ee===Ee.yref&&(ce?se=G(ce=le(ce,Ee,!!Ee.subtract)):(ce=[Ee],se=C(Ee)))}return se}function de(we,Te){for(var ee=[],se=we._fullLayout,ce=se.selections,be=ce.length,Ee=0;Ee<be;Ee++)if(!Te||Ee===se._activeSelectionIndex){var Se=ce[Ee];if(Se){var De,Ge,Xe,Ke,ut,Tt=Se.xref,je=Se.yref,Le=w(we,Tt,"x"),$e=w(we,je,"y");if(Se.type==="rect"){ut=[];var st=ae(Le,Se.x0),Ot=ae(Le,Se.x1),Je=ae($e,Se.y0),at=ae($e,Se.y1);ut=[[st,Je],[st,at],[Ot,at],[Ot,Je]],De=Math.min(st,Ot),Ge=Math.max(st,Ot),Xe=Math.min(Je,at),Ke=Math.max(Je,at),ut.xmin=De,ut.xmax=Ge,ut.ymin=Xe,ut.ymax=Ke,ut.xref=Tt,ut.yref=je,ut.subtract=!1,ut.isRect=!0,ee.push(ut)}else if(Se.type==="path")for(var gt=Se.path.split("Z"),Oe=[],Be=0;Be<gt.length;Be++){var it=gt[Be];if(it){it+="Z";var tt=v.extractPathCoords(it,y.paramIsX,"raw"),ft=v.extractPathCoords(it,y.paramIsY,"raw");De=1/0,Ge=-1/0,Xe=1/0,Ke=-1/0,ut=[];for(var pt=0;pt<tt.length;pt++){var _e=ae(Le,tt[pt]),Ae=ae($e,ft[pt]);ut.push([_e,Ae]),De=Math.min(_e,De),Ge=Math.max(_e,Ge),Xe=Math.min(Ae,Xe),Ke=Math.max(Ae,Ke)}ut.xmin=De,ut.xmax=Ge,ut.ymin=Xe,ut.ymax=Ke,ut.xref=Tt,ut.yref=je,ut.subtract=X(ut,Oe),Oe.push(ut),ee.push(ut)}}}}return ee}function X(we,Te){for(var ee=!1,se=0;se<Te.length;se++)for(var ce=Te[se],be=0;be<we.length;be++)if(D(we[be],ce)){ee=!ee;break}return ee}function ae(we,Te){return we.type==="date"&&(Te=Te.replace("_"," ")),we.type==="log"?we.c2p(Te):we.r2p(Te,null,we.calendar)}function K(we){for(var Te=we.length,ee=[],se=0;se<Te;se++){var ce=we[se];ee=(ee=ee.concat(ce)).concat([ce[0]])}return(be=ee).isRect=be.length===5&&be[0][0]===be[4][0]&&be[0][1]===be[4][1]&&be[0][0]===be[1][0]&&be[2][0]===be[3][0]&&be[0][1]===be[3][1]&&be[1][1]===be[2][1]||be[0][1]===be[1][1]&&be[2][1]===be[3][1]&&be[0][0]===be[3][0]&&be[1][0]===be[2][0],be.isRect&&(be.xmin=Math.min(be[0][0],be[2][0]),be.xmax=Math.max(be[0][0],be[2][0]),be.ymin=Math.min(be[0][1],be[2][1]),be.ymax=Math.max(be[0][1],be[2][1])),be;var be}function ge(we){return function(Te,ee){for(var se,ce,be=0;be<we.length;be++){var Ee=we[be],Se=Ee._id,De=Se.charAt(0);if(ee.isRect){se||(se={});var Ge=ee[De+"min"],Xe=ee[De+"max"];Ge!==void 0&&Xe!==void 0&&(se[Se]=[P(Ee,Ge),P(Ee,Xe)].sort(e))}else ce||(ce={}),ce[Se]=ee.map(R(Ee))}se&&(Te.range=se),ce&&(Te.lassoPoints=ce)}}function re(we,Te){Te&&(Te.selections=(we.layout||{}).selections||[]),we.emit("plotly_selected",Te)}function ue(we){we.emit("plotly_deselect",null)}$.exports={reselect:ke,prepSelect:function(we,Te,ee,se,ce){var be=!j(se),Ee=t(ce),Se=u(ce),De=l(ce),Ge=i(ce),Xe=d(ce),Ke=ce==="drawcircle",ut=ce==="drawline"||Ke,Tt=se.gd,je=Tt._fullLayout,Le=Xe&&je.newselection.mode==="immediate"&&be,$e=je._zoomlayer,st=se.element.getBoundingClientRect(),Ot=se.plotinfo,Je=N(Ot),at=Te-st.left,gt=ee-st.top;je._calcInverseTransform(Tt);var Oe=g.apply3DTransform(je._invTransform)(at,gt);at=Oe[0],gt=Oe[1];var Be,it,tt,ft,pt,_e,Ae,Ve=je._invScaleX,He=je._invScaleY,We=at,Pe=gt,Ue="M"+at+","+gt,Ne=se.xaxes[0],Ye=se.yaxes[0],Fe=Ne._length,Ze=Ye._length,rt=we.altKey&&!(i(ce)&&De);H(we,Tt,se),Ee&&(Be=B([[at,gt]],A.BENDPX));var vt=$e.selectAll("path.select-outline-"+Ot.id).data([1]),Lt=Ge?je.newshape:je.newselection;Ge&&(se.hasText=Lt.label.text||Lt.label.texttemplate);var St=Ge&&!De?Lt.fillcolor:"rgba(0,0,0,0)",It=Lt.line.color||(be?k.contrast(Tt._fullLayout.plot_bgcolor):"#7f7f7f");vt.enter().append("path").attr("class","select-outline select-outline-"+Ot.id).style({opacity:Ge?Lt.opacity/2:1,"stroke-dasharray":T(Lt.line.dash,Lt.line.width),"stroke-width":Lt.line.width+"px","shape-rendering":"crispEdges"}).call(k.stroke,It).call(k.fill,St).attr("fill-rule","evenodd").classed("cursor-move",!!Ge).attr("transform",Je).attr("d",Ue+"Z");var ot=$e.append("path").attr("class","zoombox-corners").style({fill:k.background,stroke:k.defaultLine,"stroke-width":1}).attr("transform",Je).attr("d","M0,0Z");if(Ge&&se.hasText){var xt=$e.select(".label-temp");xt.empty()&&(xt=$e.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Ut=je._uid+A.SELECTID,Et=[],mt=q(Tt,se.xaxes,se.yaxes,se.subplot);Le&&!we.shiftKey&&(se._clearSubplotSelections=function(){if(be){var ht=Ne._id,wt=Ye._id;ve(Tt,ht,wt,mt);for(var Wt=(Tt.layout||{}).selections||[],jt=[],Jt=!1,qt=0;qt<Wt.length;qt++){var Xt=je.selections[qt];Xt.xref!==ht||Xt.yref!==wt?jt.push(Wt[qt]):Jt=!0}Jt&&(Tt._fullLayout._noEmitSelectedAtStart=!0,E.call("_guiRelayout",Tt,{selections:jt}))}});var kt=function(ht){return ht.plotinfo.fillRangeItems||ge(ht.xaxes.concat(ht.yaxes))}(se);se.moveFn=function(ht,wt){se._clearSubplotSelections&&(se._clearSubplotSelections(),se._clearSubplotSelections=void 0),We=Math.max(0,Math.min(Fe,Ve*ht+at)),Pe=Math.max(0,Math.min(Ze,He*wt+gt));var Wt=Math.abs(We-at),jt=Math.abs(Pe-gt);if(Se){var Jt,qt,Xt;if(Xe){var $t=je.selectdirection;switch(Jt=$t==="any"?jt<Math.min(.6*Wt,I)?"h":Wt<Math.min(.6*jt,I)?"v":"d":$t){case"h":qt=Ke?Ze/2:0,Xt=Ze;break;case"v":qt=Ke?Fe/2:0,Xt=Fe}}if(Ge)switch(je.newshape.drawdirection){case"vertical":Jt="h",qt=Ke?Ze/2:0,Xt=Ze;break;case"horizontal":Jt="v",qt=Ke?Fe/2:0,Xt=Fe;break;case"ortho":Wt<jt?(Jt="h",qt=gt,Xt=Pe):(Jt="v",qt=at,Xt=We);break;default:Jt="d"}Jt==="h"?((ft=ut?f(Ke,[We,qt],[We,Xt]):[[at,qt],[at,Xt],[We,Xt],[We,qt]]).xmin=ut?We:Math.min(at,We),ft.xmax=ut?We:Math.max(at,We),ft.ymin=Math.min(qt,Xt),ft.ymax=Math.max(qt,Xt),ot.attr("d","M"+ft.xmin+","+(gt-I)+"h-4v"+2*I+"h4ZM"+(ft.xmax-1)+","+(gt-I)+"h4v"+2*I+"h-4Z")):Jt==="v"?((ft=ut?f(Ke,[qt,Pe],[Xt,Pe]):[[qt,gt],[qt,Pe],[Xt,Pe],[Xt,gt]]).xmin=Math.min(qt,Xt),ft.xmax=Math.max(qt,Xt),ft.ymin=ut?Pe:Math.min(gt,Pe),ft.ymax=ut?Pe:Math.max(gt,Pe),ot.attr("d","M"+(at-I)+","+ft.ymin+"v-4h"+2*I+"v4ZM"+(at-I)+","+(ft.ymax-1)+"v4h"+2*I+"v-4Z")):Jt==="d"&&((ft=ut?f(Ke,[at,gt],[We,Pe]):[[at,gt],[at,Pe],[We,Pe],[We,gt]]).xmin=Math.min(at,We),ft.xmax=Math.max(at,We),ft.ymin=Math.min(gt,Pe),ft.ymax=Math.max(gt,Pe),ot.attr("d","M0,0Z"))}else Ee&&(Be.addPt([We,Pe]),ft=Be.filtered);if(se.selectionDefs&&se.selectionDefs.length?(tt=le(se.mergedPolygons,ft,rt),ft.subtract=rt,it=G(se.selectionDefs.concat([ft]))):(tt=[ft],it=C(ft)),p(pe(tt,De),vt,se),Xe){var pn,An=ke(Tt,!1),rn=An.eventData?An.eventData.points.slice():[];An=ke(Tt,!1,it,mt,se),it=An.selectionTesters,Ae=An.eventData,pn=Be?Be.filtered:K(tt),_.throttle(Ut,A.SELECTDELAY,function(){for(var ln=(Et=me(it,mt)).slice(),gn=0;gn<rn.length;gn++){for(var xn=rn[gn],sn=!1,fn=0;fn<ln.length;fn++)if(ln[fn].curveNumber===xn.curveNumber&&ln[fn].pointNumber===xn.pointNumber){sn=!0;break}sn||ln.push(xn)}ln.length&&(Ae||(Ae={}),Ae.points=ln),kt(Ae,pn),function(bn,wn){bn.emit("plotly_selecting",wn)}(Tt,Ae)})}},se.clickFn=function(ht,wt){if(ot.remove(),Tt._fullLayout._activeShapeIndex>=0)Tt._fullLayout._deactivateShape(Tt);else if(!Ge){var Wt=je.clickmode;_.done(Ut).then(function(){if(_.clear(Ut),ht===2){for(vt.remove(),pt=0;pt<mt.length;pt++)(_e=mt[pt])._module.selectPoints(_e,!1);if(ie(Tt,mt),U(se),ue(Tt),mt.length){var jt=mt[0].xaxis,Jt=mt[0].yaxis;if(jt&&Jt){for(var qt=[],Xt=Tt._fullLayout.selections,$t=0;$t<Xt.length;$t++){var pn=Xt[$t];pn&&(pn.xref===jt._id&&pn.yref===Jt._id||qt.push(pn))}qt.length<Xt.length&&(Tt._fullLayout._noEmitSelectedAtStart=!0,E.call("_guiRelayout",Tt,{selections:qt}))}}}else Wt.indexOf("select")>-1&&W(wt,Tt,se.xaxes,se.yaxes,se.subplot,se,vt),Wt==="event"&&re(Tt,void 0);M.click(Tt,wt,Ot.id)}).catch(g.error)}},se.doneFn=function(){ot.remove(),_.done(Ut).then(function(){_.clear(Ut),!Le&&ft&&se.selectionDefs&&(ft.subtract=rt,se.selectionDefs.push(ft),se.mergedPolygons.length=0,[].push.apply(se.mergedPolygons,tt)),(Le||Ge)&&U(se,Le),se.doneFnCompleted&&se.doneFnCompleted(Et),Xe&&re(Tt,Ae)}).catch(g.error)}},clearOutline:c,clearSelectionsCache:U,selectOnClick:W}},43144:function($,F,m){var L=m(50222),D=m(80337),E=m(36640).line,T=m(94850).T,k=m(93049).extendFlat,M=m(78032).templatedArray,b=(m(35081),m(9829)),a=m(3208).LF,t=m(41235);$.exports=M("shape",{visible:k({},b.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:k({},b.legend,{editType:"calc+arraydraw"}),legendgroup:k({},b.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:k({},b.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:D({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:k({},b.legendrank,{editType:"calc+arraydraw"}),legendwidth:k({},b.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:k({},L.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:k({},L.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:k({},E.color,{editType:"arraydraw"}),width:k({},E.width,{editType:"calc+arraydraw"}),dash:k({},T,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:a({},{keys:Object.keys(t)}),font:D({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},44959:function($,F,m){var L=m(34809),D=m(29714),E=m(2956),T=m(49728);function k(t){return b(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function M(t){return b(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function b(t,u,i,l,d,v){var y=t/2,p=v;if(u==="pixel"){var c=d?T.extractPathCoords(d,v?E.paramIsY:E.paramIsX):[i,l],x=L.aggNums(Math.max,null,c),f=L.aggNums(Math.min,null,c),n=f<0?Math.abs(f)+y:y,o=x>0?x+y:y;return{ppad:y,ppadplus:p?n:o,ppadminus:p?o:n}}return{ppad:y}}function a(t,u,i){var l,d,v=t._id.charAt(0)==="x"?"x":"y",y=t.type==="category"||t.type==="multicategory",p=0,c=0,x=y?t.r2c:t.d2c;if(u[v+"sizemode"]==="scaled"?(l=u[v+"0"],d=u[v+"1"],y&&(p=u[v+"0shift"],c=u[v+"1shift"])):(l=u[v+"anchor"],d=u[v+"anchor"]),l!==void 0)return[x(l)+p,x(d)+c];if(u.path){var f,n,o,s,r=1/0,g=-1/0,e=u.path.match(E.segmentRE);for(t.type==="date"&&(x=T.decodeDate(x)),f=0;f<e.length;f++)(n=i[e[f].charAt(0)].drawn)!==void 0&&(!(o=e[f].substr(1).match(E.paramRE))||o.length<n||((s=x(o[n]))<r&&(r=s),s>g&&(g=s)));return g>=r?[r,g]:void 0}}$.exports=function(t){var u=t._fullLayout,i=L.filterVisible(u.shapes);if(i.length&&t._fullData.length)for(var l=0;l<i.length;l++){var d,v,y=i[l];y._extremes={};var p=D.getRefType(y.xref),c=D.getRefType(y.yref);y.xref!=="paper"&&p!=="domain"&&(v=a(d=D.getFromId(t,y.xref),y,E.paramIsX))&&(y._extremes[d._id]=D.findExtremes(d,v,k(y))),y.yref!=="paper"&&c!=="domain"&&(v=a(d=D.getFromId(t,y.yref),y,E.paramIsY))&&(y._extremes[d._id]=D.findExtremes(d,v,M(y)))}}},2956:function($){$.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},74367:function($,F,m){var L=m(34809),D=m(29714),E=m(59008),T=m(43144),k=m(49728);function M(b,a,t){function u(z,P){return L.coerce(b,a,T,z,P)}if(a._isShape=!0,u("visible")){u("showlegend")&&(u("legend"),u("legendwidth"),u("legendgroup"),u("legendgrouptitle.text"),L.coerceFont(u,"legendgrouptitle.font"),u("legendrank"));var i=u("path"),l=u("type",i?"path":"rect"),d=l!=="path";d&&delete a.path,u("editable"),u("layer"),u("opacity"),u("fillcolor"),u("fillrule"),u("line.width")&&(u("line.color"),u("line.dash"));for(var v=u("xsizemode"),y=u("ysizemode"),p=["x","y"],c=0;c<2;c++){var x,f,n,o=p[c],s=o+"anchor",r=o==="x"?v:y,g={_fullLayout:t},e=D.coerceRef(b,a,g,o,void 0,"paper");if(D.getRefType(e)==="range"?((x=D.getFromId(g,e))._shapeIndices.push(a._index),n=k.rangeToShapePosition(x),f=k.shapePositionToRange(x),x.type!=="category"&&x.type!=="multicategory"||(u(o+"0shift"),u(o+"1shift"))):f=n=L.identity,d){var h=o+"0",_=o+"1",w=b[h],S=b[_];b[h]=f(b[h],!0),b[_]=f(b[_],!0),r==="pixel"?(u(h,0),u(_,10)):(D.coercePosition(a,g,u,e,h,.25),D.coercePosition(a,g,u,e,_,.75)),a[h]=n(a[h]),a[_]=n(a[_]),b[h]=w,b[_]=S}if(r==="pixel"){var O=b[s];b[s]=f(b[s],!0),D.coercePosition(a,g,u,e,s,.25),a[s]=n(a[s]),b[s]=O}}d&&L.noneOrAll(b,a,["x0","x1","y0","y1"]);var A,I,B=l==="line";if(d&&(A=u("label.texttemplate")),A||(I=u("label.text")),I||A){u("label.textangle");var C=u("label.textposition",B?"middle":"middle center");u("label.xanchor"),u("label.yanchor",function(z,P){return z?"bottom":P.indexOf("top")!==-1?"top":P.indexOf("bottom")!==-1?"bottom":"middle"}(B,C)),u("label.padding"),L.coerceFont(u,"label.font",t.font)}}}$.exports=function(b,a){E(b,a,{name:"shapes",handleItemDefaults:M})}},44433:function($,F,m){var L=m(34809),D=m(29714),E=m(30635),T=m(62203),k=m(81055).readPaths,M=m(49728),b=M.getPathString,a=m(41235),t=m(4530).FROM_TL;$.exports=function(u,i,l,d){if(d.selectAll(".shape-label").remove(),l.label.text||l.label.texttemplate){var v;if(l.label.texttemplate){var y={};if(l.type!=="path"){var p=D.getFromId(u,l.xref),c=D.getFromId(u,l.yref);for(var x in a){var f=a[x](l,p,c);f!==void 0&&(y[x]=f)}}v=L.texttemplateStringForShapes(l.label.texttemplate,{},u._fullLayout._d3locale,y)}else v=l.label.text;var n,o,s,r,g={"data-index":i},e=l.label.font,h=d.append("g").attr(g).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(v);if(l.path){var _=b(u,l),w=k(_,u);n=1/0,s=1/0,o=-1/0,r=-1/0;for(var S=0;S<w.length;S++)for(var O=0;O<w[S].length;O++)for(var A=w[S][O],I=1;I<A.length;I+=2){var B=A[I],C=A[I+1];n=Math.min(n,B),o=Math.max(o,B),s=Math.min(s,C),r=Math.max(r,C)}}else{var z=D.getFromId(u,l.xref),P=l.x0shift,R=l.x1shift,N=D.getRefType(l.xref),j=D.getFromId(u,l.yref),W=l.y0shift,Y=l.y1shift,J=D.getRefType(l.yref),G=function(ie,le){return M.getDataToPixel(u,z,le,!1,N)(ie)},H=function(ie,le){return M.getDataToPixel(u,j,le,!0,J)(ie)};n=G(l.x0,P),o=G(l.x1,R),s=H(l.y0,W),r=H(l.y1,Y)}var U=l.label.textangle;U==="auto"&&(U=l.type==="line"?function(ie,le,fe,pe){var me,ke;return ke=Math.abs(fe-ie),me=fe>=ie?le-pe:pe-le,-180/Math.PI*Math.atan2(me,ke)}(n,s,o,r):0),h.call(function(ie){return ie.call(T.font,e).attr({}),E.convertToTspans(ie,u),ie});var Z=function(ie,le,fe,pe,me,ke,ve){var he,de,X,ae,K=me.label.textposition,ge=me.label.textangle,re=me.label.padding,ue=me.type,we=Math.PI/180*ke,Te=Math.sin(we),ee=Math.cos(we),se=me.label.xanchor,ce=me.label.yanchor;if(ue==="line"){K==="start"?(he=ie,de=le):K==="end"?(he=fe,de=pe):(he=(ie+fe)/2,de=(le+pe)/2),se==="auto"&&(se=K==="start"?ge==="auto"?fe>ie?"left":fe<ie?"right":"center":fe>ie?"right":fe<ie?"left":"center":K==="end"?ge==="auto"?fe>ie?"right":fe<ie?"left":"center":fe>ie?"left":fe<ie?"right":"center":"center");var be={bottom:-1,middle:0,top:1};if(ge==="auto"){var Ee=be[ce];X=-re*Te*Ee,ae=re*ee*Ee}else X=re*{left:1,center:0,right:-1}[se],ae=re*be[ce];he+=X,de+=ae}else X=re+3,K.indexOf("right")!==-1?(he=Math.max(ie,fe)-X,se==="auto"&&(se="right")):K.indexOf("left")!==-1?(he=Math.min(ie,fe)+X,se==="auto"&&(se="left")):(he=(ie+fe)/2,se==="auto"&&(se="center")),de=K.indexOf("top")!==-1?Math.min(le,pe):K.indexOf("bottom")!==-1?Math.max(le,pe):(le+pe)/2,ae=re,ce==="bottom"?de-=ae:ce==="top"&&(de+=ae);var Se=t[ce],De=me.label.font.size,Ge=ve.height;return{textx:he+(Ge*Se-De)*Te,texty:de+-(Ge*Se-De)*ee,xanchor:se}}(n,s,o,r,l,U,T.bBox(h.node())),q=Z.textx,Q=Z.texty,ne=Z.xanchor;h.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ne],y:Q,x:q,transform:"rotate("+U+","+q+","+Q+")"}).call(E.positionText,q,Q)}}},561:function($,F,m){var L=m(34809).strTranslate,D=m(14751),E=m(70414),T=E.drawMode,k=E.selectMode,M=m(33626),b=m(78766),a=m(93391),t=a.i000,u=a.i090,i=a.i180,l=a.i270,d=m(78534).clearOutlineControllers,v=m(81055),y=v.pointsOnRectangle,p=v.pointsOnEllipse,c=v.writePaths,x=m(87562).newShapes,f=m(87562).createShapeObj,n=m(51817),o=m(44433);function s(r,g){var e,h,_,w=r[g][1],S=r[g][2],O=r.length;return h=r[e=(g+1)%O][1],_=r[e][2],h===w&&_===S&&(h=r[e=(g+2)%O][1],_=r[e][2]),[e,h,_]}$.exports=function r(g,e,h,_){_||(_=0);var w=h.gd;function S(){r(g,e,h,_++),(p(g[0])||h.hasText)&&O({redrawing:!0})}function O(ie){var le={};h.isActiveShape!==void 0&&(h.isActiveShape=!1,le=x(e,h)),h.isActiveSelection!==void 0&&(h.isActiveSelection=!1,le=n(e,h),w._fullLayout._reselect=!0),Object.keys(le).length&&M.call((ie||{}).redrawing?"relayout":"_guiRelayout",w,le)}var A,I,B,C,z,P=w._fullLayout._zoomlayer,R=h.dragmode,N=T(R),j=k(R);if((N||j)&&(w._fullLayout._outlining=!0),d(w),e.attr("d",c(g)),_||!h.isActiveShape&&!h.isActiveSelection||(z=function(ie,le){for(var fe=0;fe<le.length;fe++){var pe=le[fe];ie[fe]=[];for(var me=0;me<pe.length;me++){ie[fe][me]=[];for(var ke=0;ke<pe[me].length;ke++)ie[fe][me][ke]=pe[me][ke]}}return ie}([],g),function(ie){A=[];for(var le=0;le<g.length;le++){var fe=g[le],pe=y(fe),me=!pe&&p(fe);A[le]=[];for(var ke=fe.length,ve=0;ve<ke;ve++)if(fe[ve][0]!=="Z"&&(!me||ve===t||ve===u||ve===i||ve===l)){var he,de=pe&&h.isActiveSelection;de&&(he=s(fe,ve));var X=fe[ve][1],ae=fe[ve][2],K=ie.append(de?"rect":"circle").attr("data-i",le).attr("data-j",ve).style({fill:b.background,stroke:b.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(de){var ge=he[1]-X,re=he[2]-ae,ue=re?5:Math.max(Math.min(25,Math.abs(ge)-5),5),we=ge?5:Math.max(Math.min(25,Math.abs(re)-5),5);K.classed(re?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ue).attr("height",we).attr("x",X-ue/2).attr("y",ae-we/2).attr("transform",L(ge/2,re/2))}else K.classed("cursor-grab",!0).attr("r",5).attr("cx",X).attr("cy",ae);A[le][ve]={element:K.node(),gd:w,prepFn:J,doneFn:H,clickFn:U},D.init(A[le][ve])}}}(P.append("g").attr("class","outline-controllers")),function(){I=[],g.length&&(I[0]={element:e[0][0],gd:w,prepFn:q,doneFn:Q,clickFn:ne},D.init(I[0]))}()),N&&h.hasText){var W=P.select(".label-temp"),Y=f(e,h,h.dragmode);o(w,"label-temp",Y,W)}function J(ie){B=+ie.srcElement.getAttribute("data-i"),C=+ie.srcElement.getAttribute("data-j"),A[B][C].moveFn=G}function G(ie,le){if(g.length){var fe=z[B][C][1],pe=z[B][C][2],me=g[B],ke=me.length;if(y(me)){var ve=ie,he=le;h.isActiveSelection&&(s(me,C)[1]===me[C][1]?he=0:ve=0);for(var de=0;de<ke;de++)if(de!==C){var X=me[de];X[1]===me[C][1]&&(X[1]=fe+ve),X[2]===me[C][2]&&(X[2]=pe+he)}if(me[C][1]=fe+ve,me[C][2]=pe+he,!y(me))for(var ae=0;ae<ke;ae++)for(var K=0;K<me[ae].length;K++)me[ae][K]=z[B][ae][K]}else me[C][1]=fe+ie,me[C][2]=pe+le;S()}}function H(){O()}function U(ie,le){if(ie===2){B=+le.srcElement.getAttribute("data-i"),C=+le.srcElement.getAttribute("data-j");var fe=g[B];y(fe)||p(fe)||function(){if(g.length&&g[B]&&g[B].length){for(var pe=[],me=0;me<g[B].length;me++)me!==C&&pe.push(g[B][me]);pe.length>1&&(pe.length!==2||pe[1][0]!=="Z")&&(C===0&&(pe[0][0]="M"),g[B]=pe,S(),O())}}()}}function Z(ie,le){(function(fe,pe){if(g.length)for(var me=0;me<g.length;me++)for(var ke=0;ke<g[me].length;ke++)for(var ve=0;ve+2<g[me][ke].length;ve+=2)g[me][ke][ve+1]=z[me][ke][ve+1]+fe,g[me][ke][ve+2]=z[me][ke][ve+2]+pe})(ie,le),S()}function q(ie){(B=+ie.srcElement.getAttribute("data-i"))||(B=0),I[B].moveFn=Z}function Q(){O()}function ne(ie){ie===2&&function(le){if(k(le._fullLayout.dragmode)){d(le);var fe=le._fullLayout._activeSelectionIndex,pe=(le.layout||{}).selections||[];if(fe<pe.length){for(var me=[],ke=0;ke<pe.length;ke++)ke!==fe&&me.push(pe[ke]);delete le._fullLayout._activeSelectionIndex;var ve=le._fullLayout.selections[fe];le._fullLayout._deselect={xref:ve.xref,yref:ve.yref},M.call("_guiRelayout",le,{selections:me})}}}(w)}}},28231:function($,F,m){var L=m(45568),D=m(33626),E=m(34809),T=m(29714),k=m(81055).readPaths,M=m(561),b=m(44433),a=m(78534).clearOutlineControllers,t=m(78766),u=m(62203),i=m(78032).arrayEditor,l=m(14751),d=m(27983),v=m(2956),y=m(49728),p=y.getPathString;function c(g){var e=g._fullLayout;for(var h in e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._shapeUpperLayer.selectAll("text").remove(),e._shapeLowerLayer.selectAll("text").remove(),e._plots){var _=e._plots[h].shapelayer;_&&(_.selectAll("path").remove(),_.selectAll("text").remove())}for(var w=0;w<e.shapes.length;w++)e.shapes[w].visible===!0&&n(g,w)}function x(g){return!!g._fullLayout._outlining}function f(g){return!g._context.edits.shapePosition}function n(g,e){g._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+e+'"]').remove();var h=y.makeShapesOptionsAndPlotinfo(g,e),_=h.options,w=h.plotinfo;function S(O){var A=p(g,_),I={"data-index":e,"fill-rule":_.fillrule,d:A},B=_.opacity,C=_.fillcolor,z=_.line.width?_.line.color:"rgba(0,0,0,0)",P=_.line.width,R=_.line.dash;P||_.editable!==!0||(P=5,R="solid");var N=A[A.length-1]!=="Z",j=f(g)&&_.editable&&g._fullLayout._activeShapeIndex===e;j&&(C=N?"rgba(0,0,0,0)":g._fullLayout.activeshape.fillcolor,B=g._fullLayout.activeshape.opacity);var W,Y=O.append("g").classed("shape-group",!0).attr({"data-index":e}),J=Y.append("path").attr(I).style("opacity",B).call(t.stroke,z).call(t.fill,C).call(u.dashLine,R,P);if(o(Y,g,_),b(g,e,_,Y),(j||g._context.edits.shapePosition)&&(W=i(g.layout,"shapes",_)),j){J.style({cursor:"move"});var G={element:J.node(),plotinfo:w,gd:g,editHelpers:W,hasText:_.label.text||_.label.texttemplate,isActiveShape:!0},H=k(A,g);M(H,J,G)}else g._context.edits.shapePosition?function(U,Z,q,Q,ne,ie){var le,fe,pe,me,ke,ve,he,de,X,ae,K,ge,re,ue,we,Te,ee=10,se=10,ce=q.xsizemode==="pixel",be=q.ysizemode==="pixel",Ee=q.type==="line",Se=q.type==="path",De=ie.modifyItem,Ge=L.select(Z.node().parentNode),Xe=T.getFromId(U,q.xref),Ke=T.getRefType(q.xref),ut=T.getFromId(U,q.yref),Tt=T.getRefType(q.yref),je=q.x0shift,Le=q.x1shift,$e=q.y0shift,st=q.y1shift,Ot=function(Ae,Ve){return y.getDataToPixel(U,Xe,Ve,!1,Ke)(Ae)},Je=function(Ae,Ve){return y.getDataToPixel(U,ut,Ve,!0,Tt)(Ae)},at=y.getPixelToData(U,Xe,!1,Ke),gt=y.getPixelToData(U,ut,!0,Tt),Oe=Ee?function(){var Ae=10,Ve=Math.max(q.line.width,Ae),He=ne.append("g").attr("data-index",Q).attr("drag-helper",!0);He.append("path").attr("d",Z.attr("d")).style({cursor:"move","stroke-width":Ve,"stroke-opacity":"0"});var We={"fill-opacity":"0"},Pe=Math.max(Ve/2,Ae);return He.append("circle").attr({"data-line-point":"start-point",cx:ce?Ot(q.xanchor)+q.x0:Ot(q.x0,je),cy:be?Je(q.yanchor)-q.y0:Je(q.y0,$e),r:Pe}).style(We).classed("cursor-grab",!0),He.append("circle").attr({"data-line-point":"end-point",cx:ce?Ot(q.xanchor)+q.x1:Ot(q.x1,Le),cy:be?Je(q.yanchor)-q.y1:Je(q.y1,st),r:Pe}).style(We).classed("cursor-grab",!0),He}():Z,Be={element:Oe.node(),gd:U,prepFn:function(Ae){x(U)||(ce&&(ke=Ot(q.xanchor)),be&&(ve=Je(q.yanchor)),q.type==="path"?we=q.path:(le=ce?q.x0:Ot(q.x0),fe=be?q.y0:Je(q.y0),pe=ce?q.x1:Ot(q.x1),me=be?q.y1:Je(q.y1)),le<pe?(X=le,re="x0",ae=pe,ue="x1"):(X=pe,re="x1",ae=le,ue="x0"),!be&&fe<me||be&&fe>me?(he=fe,K="y0",de=me,ge="y1"):(he=me,K="y1",de=fe,ge="y0"),it(Ae),pt(ne,q),function(Ve,He,We){var Pe=He.xref,Ue=He.yref,Ne=T.getFromId(We,Pe),Ye=T.getFromId(We,Ue),Fe="";Pe==="paper"||Ne.autorange||(Fe+=Pe),Ue==="paper"||Ye.autorange||(Fe+=Ue),u.setClipUrl(Ve,Fe?"clip"+We._fullLayout._uid+Fe:null,We)}(Z,q,U),Be.moveFn=Te==="move"?tt:ft,Be.altKey=Ae.altKey)},doneFn:function(){x(U)||(d(Z),_e(ne),o(Z,U,q),D.call("_guiRelayout",U,ie.getUpdateObj()))},clickFn:function(){x(U)||_e(ne)}};function it(Ae){if(x(U))Te=null;else if(Ee)Te=Ae.target.tagName==="path"?"move":Ae.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ve=Be.element.getBoundingClientRect(),He=Ve.right-Ve.left,We=Ve.bottom-Ve.top,Pe=Ae.clientX-Ve.left,Ue=Ae.clientY-Ve.top,Ne=!Se&&He>ee&&We>se&&!Ae.shiftKey?l.getCursor(Pe/He,1-Ue/We):"move";d(Z,Ne),Te=Ne.split("-")[0]}}function tt(Ae,Ve){if(q.type==="path"){var He=function(Ue){return Ue},We=He,Pe=He;ce?De("xanchor",q.xanchor=at(ke+Ae)):(We=function(Ue){return at(Ot(Ue)+Ae)},Xe&&Xe.type==="date"&&(We=y.encodeDate(We))),be?De("yanchor",q.yanchor=gt(ve+Ve)):(Pe=function(Ue){return gt(Je(Ue)+Ve)},ut&&ut.type==="date"&&(Pe=y.encodeDate(Pe))),De("path",q.path=s(we,We,Pe))}else ce?De("xanchor",q.xanchor=at(ke+Ae)):(De("x0",q.x0=at(le+Ae)),De("x1",q.x1=at(pe+Ae))),be?De("yanchor",q.yanchor=gt(ve+Ve)):(De("y0",q.y0=gt(fe+Ve)),De("y1",q.y1=gt(me+Ve)));Z.attr("d",p(U,q)),pt(ne,q),b(U,Q,q,Ge)}function ft(Ae,Ve){if(Se){var He=function(Et){return Et},We=He,Pe=He;ce?De("xanchor",q.xanchor=at(ke+Ae)):(We=function(Et){return at(Ot(Et)+Ae)},Xe&&Xe.type==="date"&&(We=y.encodeDate(We))),be?De("yanchor",q.yanchor=gt(ve+Ve)):(Pe=function(Et){return gt(Je(Et)+Ve)},ut&&ut.type==="date"&&(Pe=y.encodeDate(Pe))),De("path",q.path=s(we,We,Pe))}else if(Ee){if(Te==="resize-over-start-point"){var Ue=le+Ae,Ne=be?fe-Ve:fe+Ve;De("x0",q.x0=ce?Ue:at(Ue)),De("y0",q.y0=be?Ne:gt(Ne))}else if(Te==="resize-over-end-point"){var Ye=pe+Ae,Fe=be?me-Ve:me+Ve;De("x1",q.x1=ce?Ye:at(Ye)),De("y1",q.y1=be?Fe:gt(Fe))}}else{var Ze=function(Et){return Te.indexOf(Et)!==-1},rt=Ze("n"),vt=Ze("s"),Lt=Ze("w"),St=Ze("e"),It=rt?he+Ve:he,ot=vt?de+Ve:de,xt=Lt?X+Ae:X,Ut=St?ae+Ae:ae;be&&(rt&&(It=he-Ve),vt&&(ot=de-Ve)),(!be&&ot-It>se||be&&It-ot>se)&&(De(K,q[K]=be?It:gt(It)),De(ge,q[ge]=be?ot:gt(ot))),Ut-xt>ee&&(De(re,q[re]=ce?xt:at(xt)),De(ue,q[ue]=ce?Ut:at(Ut)))}Z.attr("d",p(U,q)),pt(ne,q),b(U,Q,q,Ge)}function pt(Ae,Ve){(ce||be)&&function(){var He=Ve.type!=="path",We=Ae.selectAll(".visual-cue").data([0]);We.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Pe=Ot(ce?Ve.xanchor:E.midRange(He?[Ve.x0,Ve.x1]:y.extractPathCoords(Ve.path,v.paramIsX))),Ue=Je(be?Ve.yanchor:E.midRange(He?[Ve.y0,Ve.y1]:y.extractPathCoords(Ve.path,v.paramIsY)));if(Pe=y.roundPositionForSharpStrokeRendering(Pe,1),Ue=y.roundPositionForSharpStrokeRendering(Ue,1),ce&&be){var Ne="M"+(Pe-1-1)+","+(Ue-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";We.attr("d",Ne)}else if(ce){var Ye="M"+(Pe-1-1)+","+(Ue-9-1)+"v18 h2 v-18 Z";We.attr("d",Ye)}else{var Fe="M"+(Pe-9-1)+","+(Ue-1-1)+"h18 v2 h-18 Z";We.attr("d",Fe)}}()}function _e(Ae){Ae.selectAll(".visual-cue").remove()}l.init(Be),Oe.node().onmousemove=it}(g,J,_,e,O,W):_.editable===!0&&J.style("pointer-events",N||t.opacity(C)*B<=.5?"stroke":"all");J.node().addEventListener("click",function(){return function(U,Z){if(f(U)){var q=+Z.node().getAttribute("data-index");if(q>=0){if(q===U._fullLayout._activeShapeIndex)return void r(U);U._fullLayout._activeShapeIndex=q,U._fullLayout._deactivateShape=r,c(U)}}}(g,J)})}_._input&&_.visible===!0&&(_.layer==="above"?S(g._fullLayout._shapeUpperLayer):_.xref==="paper"||_.yref==="paper"?S(g._fullLayout._shapeLowerLayer):_.layer==="between"?S(w.shapelayerBetween):w._hadPlotinfo?S((w.mainplotinfo||w).shapelayer):S(g._fullLayout._shapeLowerLayer))}function o(g,e,h){var _=(h.xref+h.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(g,_?"clip"+e._fullLayout._uid+_:null,e)}function s(g,e,h){return g.replace(v.segmentRE,function(_){var w=0,S=_.charAt(0),O=v.paramIsX[S],A=v.paramIsY[S],I=v.numParams[S];return S+_.substr(1).replace(v.paramRE,function(B){return w>=I||(O[w]?B=e(B):A[w]&&(B=h(B)),w++),B})})}function r(g){f(g)&&g._fullLayout._activeShapeIndex>=0&&(a(g),delete g._fullLayout._activeShapeIndex,c(g))}$.exports={draw:c,drawOne:n,eraseActiveShape:function(g){if(f(g)){a(g);var e=g._fullLayout._activeShapeIndex,h=(g.layout||{}).shapes||[];if(e<h.length){for(var _=[],w=0;w<h.length;w++)w!==e&&_.push(h[w]);return delete g._fullLayout._activeShapeIndex,D.call("_guiRelayout",g,{shapes:_})}}},drawLabel:b}},64101:function($,F,m){var L=m(13582).overrideAll,D=m(9829),E=m(80337),T=m(94850).T,k=m(93049).extendFlat,M=m(3208).LF,b=m(41235);$.exports=L({newshape:{visible:k({},D.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:k({},D.legend,{}),legendgroup:k({},D.legendgroup,{}),legendgrouptitle:{text:k({},D.legendgrouptitle.text,{}),font:E({})},legendrank:k({},D.legendrank,{}),legendwidth:k({},D.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:k({},T,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:k({},D.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:M({newshape:!0},{keys:Object.keys(b)}),font:E({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},93391:function($){$.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},85522:function($,F,m){var L=m(78766),D=m(34809);$.exports=function(E,T,k){if(k("newshape.visible"),k("newshape.name"),k("newshape.showlegend"),k("newshape.legend"),k("newshape.legendwidth"),k("newshape.legendgroup"),k("newshape.legendgrouptitle.text"),D.coerceFont(k,"newshape.legendgrouptitle.font"),k("newshape.legendrank"),k("newshape.drawdirection"),k("newshape.layer"),k("newshape.fillcolor"),k("newshape.fillrule"),k("newshape.opacity"),k("newshape.line.width")){var M=(E||{}).plot_bgcolor||"#FFF";k("newshape.line.color",L.contrast(M)),k("newshape.line.dash")}var b=E.dragmode==="drawline",a=k("newshape.label.text"),t=k("newshape.label.texttemplate");if(a||t){k("newshape.label.textangle");var u=k("newshape.label.textposition",b?"middle":"middle center");k("newshape.label.xanchor"),k("newshape.label.yanchor",function(i,l){return i?"bottom":l.indexOf("top")!==-1?"top":l.indexOf("bottom")!==-1?"bottom":"middle"}(b,u)),k("newshape.label.padding"),D.coerceFont(k,"newshape.label.font",T.font)}k("activeshape.fillcolor"),k("activeshape.opacity")}},81055:function($,F,m){var L=m(26953),D=m(93391),E=D.CIRCLE_SIDES,T=D.SQRT2,k=m(49801),M=k.p2r,b=k.r2p,a=[0,3,4,5,6,1,2],t=[0,3,4,1,2];function u(l,d){return Math.abs(l-d)<=1e-6}function i(l,d){var v=d[1]-l[1],y=d[2]-l[2];return Math.sqrt(v*v+y*y)}F.writePaths=function(l){var d=l.length;if(!d)return"M0,0Z";for(var v="",y=0;y<d;y++)for(var p=l[y].length,c=0;c<p;c++){var x=l[y][c][0];if(x==="Z")v+="Z";else for(var f=l[y][c].length,n=0;n<f;n++){var o=n;x==="Q"||x==="S"?o=t[n]:x==="C"&&(o=a[n]),v+=l[y][c][o],n>0&&n<f-1&&(v+=",")}}return v},F.readPaths=function(l,d,v,y){var p,c,x,f=L(l),n=[],o=-1,s=0,r=0,g=function(){c=s,x=r};g();for(var e=0;e<f.length;e++){var h,_,w,S,O=[],A=f[e][0],I=A;switch(A){case"M":n[++o]=[],s=+f[e][1],r=+f[e][2],O.push([I,s,r]),g();break;case"Q":case"S":h=+f[e][1],w=+f[e][2],s=+f[e][3],r=+f[e][4],O.push([I,s,r,h,w]);break;case"C":h=+f[e][1],w=+f[e][2],_=+f[e][3],S=+f[e][4],s=+f[e][5],r=+f[e][6],O.push([I,s,r,h,w,_,S]);break;case"T":case"L":s=+f[e][1],r=+f[e][2],O.push([I,s,r]);break;case"H":I="L",s=+f[e][1],O.push([I,s,r]);break;case"V":I="L",r=+f[e][1],O.push([I,s,r]);break;case"A":I="L";var B=+f[e][1],C=+f[e][2];+f[e][4]||(B=-B,C=-C);var z=s-B,P=r;for(p=1;p<=E/2;p++){var R=2*Math.PI*p/E;O.push([I,z+B*Math.cos(R),P+C*Math.sin(R)])}break;case"Z":s===c&&r===x||(s=c,r=x,O.push([I,s,r]))}for(var N=(v||{}).domain,j=d._fullLayout._size,W=v&&v.xsizemode==="pixel",Y=v&&v.ysizemode==="pixel",J=y===!1,G=0;G<O.length;G++){for(p=0;p+2<7;p+=2){var H=O[G][p+1],U=O[G][p+2];H!==void 0&&U!==void 0&&(s=H,r=U,v&&(v.xaxis&&v.xaxis.p2r?(J&&(H-=v.xaxis._offset),H=W?b(v.xaxis,v.xanchor)+H:M(v.xaxis,H)):(J&&(H-=j.l),N?H=N.x[0]+H/j.w:H/=j.w),v.yaxis&&v.yaxis.p2r?(J&&(U-=v.yaxis._offset),U=Y?b(v.yaxis,v.yanchor)-U:M(v.yaxis,U)):(J&&(U-=j.t),U=N?N.y[1]-U/j.h:1-U/j.h)),O[G][p+1]=H,O[G][p+2]=U)}n[o].push(O[G].slice())}}return n},F.pointsOnRectangle=function(l){if(l.length!==5)return!1;for(var d=1;d<3;d++)if(!u(l[0][d]-l[1][d],l[3][d]-l[2][d])||!u(l[0][d]-l[3][d],l[1][d]-l[2][d]))return!1;return!(!u(l[0][1],l[1][1])&&!u(l[0][1],l[3][1])||!(i(l[0],l[1])*i(l[0],l[3])))},F.pointsOnEllipse=function(l){var d=l.length;if(d!==E+1)return!1;d=E;for(var v=0;v<d;v++){var y=(2*d-v)%d,p=(d/2+y)%d,c=(d/2+v)%d;if(!u(i(l[v],l[c]),i(l[y],l[p])))return!1}return!0},F.handleEllipse=function(l,d,v){if(!l)return[d,v];var y=F.ellipseOver({x0:d[0],y0:d[1],x1:v[0],y1:v[1]}),p=(y.x1+y.x0)/2,c=(y.y1+y.y0)/2,x=(y.x1-y.x0)/2,f=(y.y1-y.y0)/2;x||(x=f/=T),f||(f=x/=T);for(var n=[],o=0;o<E;o++){var s=2*o*Math.PI/E;n.push([p+x*Math.cos(s),c+f*Math.sin(s)])}return n},F.ellipseOver=function(l){var d=l.x0,v=l.y0,y=l.x1,p=l.y1,c=y-d,x=p-v,f=((d-=c)+y)/2,n=((v-=x)+p)/2;return{x0:f-(c*=T),y0:n-(x*=T),x1:f+c,y1:n+x}},F.fixDatesForPaths=function(l,d,v){var y=d.type==="date",p=v.type==="date";if(!y&&!p)return l;for(var c=0;c<l.length;c++)for(var x=0;x<l[c].length;x++)for(var f=0;f+2<l[c][x].length;f+=2)y&&(l[c][x][f+1]=l[c][x][f+1].replace(" ","_")),p&&(l[c][x][f+2]=l[c][x][f+2].replace(" ","_"));return l}},87562:function($,F,m){var L=m(70414),D=L.drawMode,E=L.openMode,T=m(93391),k=T.i000,M=T.i090,b=T.i180,a=T.i270,t=T.cos45,u=T.sin45,i=m(49801),l=i.p2r,d=i.r2p,v=m(78534).clearOutline,y=m(81055),p=y.readPaths,c=y.writePaths,x=y.ellipseOver,f=y.fixDatesForPaths;function n(o,s,r){var g,e=o[0][0],h=s.gd,_=e.getAttribute("d"),w=h._fullLayout.newshape,S=s.plotinfo,O=s.isActiveShape,A=S.xaxis,I=S.yaxis,B=!!S.domain||!S.xaxis,C=!!S.domain||!S.yaxis,z=E(r),P=p(_,h,S,O),R={editable:!0,visible:w.visible,name:w.name,showlegend:w.showlegend,legend:w.legend,legendwidth:w.legendwidth,legendgroup:w.legendgroup,legendgrouptitle:{text:w.legendgrouptitle.text,font:w.legendgrouptitle.font},legendrank:w.legendrank,label:w.label,xref:B?"paper":A._id,yref:C?"paper":I._id,layer:w.layer,opacity:w.opacity,line:{color:w.line.color,width:w.line.width,dash:w.line.dash}};if(z||(R.fillcolor=w.fillcolor,R.fillrule=w.fillrule),P.length===1&&(g=P[0]),g&&g.length===5&&r==="drawrect")R.type="rect",R.x0=g[0][1],R.y0=g[0][2],R.x1=g[2][1],R.y1=g[2][2];else if(g&&r==="drawline")R.type="line",R.x0=g[0][1],R.y0=g[0][2],R.x1=g[1][1],R.y1=g[1][2];else if(g&&r==="drawcircle"){R.type="circle";var N=g[k][1],j=g[M][1],W=g[b][1],Y=g[a][1],J=g[k][2],G=g[M][2],H=g[b][2],U=g[a][2],Z=S.xaxis&&(S.xaxis.type==="date"||S.xaxis.type==="log"),q=S.yaxis&&(S.yaxis.type==="date"||S.yaxis.type==="log");Z&&(N=d(S.xaxis,N),j=d(S.xaxis,j),W=d(S.xaxis,W),Y=d(S.xaxis,Y)),q&&(J=d(S.yaxis,J),G=d(S.yaxis,G),H=d(S.yaxis,H),U=d(S.yaxis,U));var Q=(j+Y)/2,ne=(J+H)/2,ie=x({x0:Q,y0:ne,x1:Q+(Y-j+W-N)/2*t,y1:ne+(U-G+H-J)/2*u});Z&&(ie.x0=l(S.xaxis,ie.x0),ie.x1=l(S.xaxis,ie.x1)),q&&(ie.y0=l(S.yaxis,ie.y0),ie.y1=l(S.yaxis,ie.y1)),R.x0=ie.x0,R.y0=ie.y0,R.x1=ie.x1,R.y1=ie.y1}else R.type="path",A&&I&&f(P,A,I),R.path=c(P),g=null;return R}$.exports={newShapes:function(o,s){if(o.length&&o[0][0]){var r=s.gd,g=s.isActiveShape,e=s.dragmode,h=(r.layout||{}).shapes||[];if(!D(e)&&g!==void 0){var _=r._fullLayout._activeShapeIndex;if(_<h.length)switch(r._fullLayout.shapes[_].type){case"rect":e="drawrect";break;case"circle":e="drawcircle";break;case"line":e="drawline";break;case"path":var w=h[_].path||"";e=w[w.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var S=n(o,s,e);v(r);for(var O=s.editHelpers,A=(O||{}).modifyItem,I=[],B=0;B<h.length;B++){var C=r._fullLayout.shapes[B];if(I[B]=C._input,g!==void 0&&B===r._fullLayout._activeShapeIndex){var z=S;switch(C.type){case"line":case"rect":case"circle":A("x0",z.x0-(C.x0shift||0)),A("x1",z.x1-(C.x1shift||0)),A("y0",z.y0-(C.y0shift||0)),A("y1",z.y1-(C.y1shift||0));break;case"path":A("path",z.path)}}}return g===void 0?(I.push(S),I):O?O.getUpdateObj():{}}},createShapeObj:n}},78534:function($){$.exports={clearOutlineControllers:function(F){var m=F._fullLayout._zoomlayer;m&&m.selectAll(".outline-controllers").remove()},clearOutline:function(F){var m=F._fullLayout._zoomlayer;m&&m.selectAll(".select-outline").remove(),F._fullLayout._outlining=!1}}},49728:function($,F,m){var L=m(2956),D=m(34809),E=m(29714);function T(k,M){var b=0;return(M=M||0)&&k&&(k.type==="category"||k.type==="multicategory")&&(b=(k.r2p(1)-k.r2p(0))*M),b}F.rangeToShapePosition=function(k){return k.type==="log"?k.r2d:function(M){return M}},F.shapePositionToRange=function(k){return k.type==="log"?k.d2r:function(M){return M}},F.decodeDate=function(k){return function(M){return M.replace&&(M=M.replace("_"," ")),k(M)}},F.encodeDate=function(k){return function(M){return k(M).replace(" ","_")}},F.extractPathCoords=function(k,M,b){var a=[];return k.match(L.segmentRE).forEach(function(t){var u=M[t.charAt(0)].drawn;if(u!==void 0){var i=t.substr(1).match(L.paramRE);if(i&&!(i.length<u)){var l=i[u],d=b?l:D.cleanNumber(l);a.push(d)}}}),a},F.getDataToPixel=function(k,M,b,a,t){var u,i=k._fullLayout._size;if(M)if(t==="domain")u=function(d){return M._length*(a?1-d:d)+M._offset};else{var l=F.shapePositionToRange(M);u=function(d){var v=T(M,b);return M._offset+M.r2p(l(d,!0))+v},M.type==="date"&&(u=F.decodeDate(u))}else u=a?function(d){return i.t+i.h*(1-d)}:function(d){return i.l+i.w*d};return u},F.getPixelToData=function(k,M,b,a){var t,u=k._fullLayout._size;if(M)if(a==="domain")t=function(l){var d=(l-M._offset)/M._length;return b?1-d:d};else{var i=F.rangeToShapePosition(M);t=function(l){return i(M.p2r(l-M._offset))}}else t=b?function(l){return 1-(l-u.t)/u.h}:function(l){return(l-u.l)/u.w};return t},F.roundPositionForSharpStrokeRendering=function(k,M){var b=Math.round(M%2)===1,a=Math.round(k);return b?a+.5:a},F.makeShapesOptionsAndPlotinfo=function(k,M){var b=k._fullLayout.shapes[M]||{},a=k._fullLayout._plots[b.xref+b.yref];return a?a._hadPlotinfo=!0:(a={},b.xref&&b.xref!=="paper"&&(a.xaxis=k._fullLayout[b.xref+"axis"]),b.yref&&b.yref!=="paper"&&(a.yaxis=k._fullLayout[b.yref+"axis"])),a.xsizemode=b.xsizemode,a.ysizemode=b.ysizemode,a.xanchor=b.xanchor,a.yanchor=b.yanchor,{options:b,plotinfo:a}},F.makeSelectionsOptionsAndPlotinfo=function(k,M){var b=k._fullLayout.selections[M]||{},a=k._fullLayout._plots[b.xref+b.yref];return a?a._hadPlotinfo=!0:(a={},b.xref&&(a.xaxis=k._fullLayout[b.xref+"axis"]),b.yref&&(a.yaxis=k._fullLayout[b.yref+"axis"])),{options:b,plotinfo:a}},F.getPathString=function(k,M){var b,a,t,u,i,l,d,v,y=M.type,p=E.getRefType(M.xref),c=E.getRefType(M.yref),x=E.getFromId(k,M.xref),f=E.getFromId(k,M.yref),n=k._fullLayout._size,o=T(x,M.x0shift),s=T(x,M.x1shift),r=T(f,M.y0shift),g=T(f,M.y1shift);if(x?p==="domain"?a=function(B){return x._offset+x._length*B}:(b=F.shapePositionToRange(x),a=function(B){return x._offset+x.r2p(b(B,!0))}):a=function(B){return n.l+n.w*B},f?c==="domain"?u=function(B){return f._offset+f._length*(1-B)}:(t=F.shapePositionToRange(f),u=function(B){return f._offset+f.r2p(t(B,!0))}):u=function(B){return n.t+n.h*(1-B)},y==="path")return x&&x.type==="date"&&(a=F.decodeDate(a)),f&&f.type==="date"&&(u=F.decodeDate(u)),function(B,C,z){var P=B.path,R=B.xsizemode,N=B.ysizemode,j=B.xanchor,W=B.yanchor;return P.replace(L.segmentRE,function(Y){var J=0,G=Y.charAt(0),H=L.paramIsX[G],U=L.paramIsY[G],Z=L.numParams[G],q=Y.substr(1).replace(L.paramRE,function(Q){return H[J]?Q=R==="pixel"?C(j)+Number(Q):C(Q):U[J]&&(Q=N==="pixel"?z(W)-Number(Q):z(Q)),++J>Z&&(Q="X"),Q});return J>Z&&(q=q.replace(/[\s,]*X.*/,""),D.log("Ignoring extra params in segment "+Y)),G+q})}(M,a,u);if(M.xsizemode==="pixel"){var e=a(M.xanchor);i=e+M.x0+o,l=e+M.x1+s}else i=a(M.x0)+o,l=a(M.x1)+s;if(M.ysizemode==="pixel"){var h=u(M.yanchor);d=h-M.y0+r,v=h-M.y1+g}else d=u(M.y0)+r,v=u(M.y1)+g;if(y==="line")return"M"+i+","+d+"L"+l+","+v;if(y==="rect")return"M"+i+","+d+"H"+l+"V"+v+"H"+i+"Z";var _=(i+l)/2,w=(d+v)/2,S=Math.abs(_-i),O=Math.abs(w-d),A="A"+S+","+O,I=_+S+","+w;return"M"+I+A+" 0 1,1 "+_+","+(w-O)+A+" 0 0,1 "+I+"Z"}},43701:function($,F,m){var L=m(28231);$.exports={moduleType:"component",name:"shapes",layoutAttributes:m(43144),supplyLayoutDefaults:m(74367),supplyDrawNewShapeDefaults:m(85522),includeBasePlot:m(20706)("shapes"),calcAutorange:m(44959),draw:L.draw,drawOne:L.drawOne}},41235:function($){function F(b,a){return a?a.d2l(b):b}function m(b,a){return a?a.l2d(b):b}function L(b){return b.x0shift||0}function D(b){return b.x1shift||0}function E(b){return b.y0shift||0}function T(b){return b.y1shift||0}function k(b,a){return F(b.x1,a)+D(b)-F(b.x0,a)-L(b)}function M(b,a,t){return F(b.y1,t)+T(b)-F(b.y0,t)-E(b)}$.exports={x0:function(b){return b.x0},x1:function(b){return b.x1},y0:function(b){return b.y0},y1:function(b){return b.y1},slope:function(b,a,t){return b.type!=="line"?void 0:M(b,0,t)/k(b,a)},dx:k,dy:M,width:function(b,a){return Math.abs(k(b,a))},height:function(b,a,t){return Math.abs(M(b,0,t))},length:function(b,a,t){return b.type!=="line"?void 0:Math.sqrt(Math.pow(k(b,a),2)+Math.pow(M(b,0,t),2))},xcenter:function(b,a){return m((F(b.x1,a)+D(b)+F(b.x0,a)+L(b))/2,a)},ycenter:function(b,a,t){return m((F(b.y1,t)+T(b)+F(b.y0,t)+E(b))/2,t)}}},8606:function($,F,m){var L=m(80337),D=m(57891),E=m(93049).extendDeepAll,T=m(13582).overrideAll,k=m(49722),M=m(78032).templatedArray,b=m(64194),a=M("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});$.exports=T(M("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:a,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:E(D({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:k.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:L({})},font:L({}),activebgcolor:{valType:"color",dflt:b.gripBgActiveColor},bgcolor:{valType:"color",dflt:b.railBgColor},bordercolor:{valType:"color",dflt:b.railBorderColor},borderwidth:{valType:"number",min:0,dflt:b.railBorderWidth},ticklen:{valType:"number",min:0,dflt:b.tickLength},tickcolor:{valType:"color",dflt:b.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:b.minorTickLength}}),"arraydraw","from-root")},64194:function($){$.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},74537:function($,F,m){var L=m(34809),D=m(59008),E=m(8606),T=m(64194).name,k=E.steps;function M(a,t,u){function i(p,c){return L.coerce(a,t,E,p,c)}for(var l=D(a,t,{name:"steps",handleItemDefaults:b}),d=0,v=0;v<l.length;v++)l[v].visible&&d++;if(d<2?t.visible=!1:i("visible")){t._stepCount=d;var y=t._visibleSteps=L.filterVisible(l);(l[i("active")]||{}).visible||(t.active=y[0]._index),i("x"),i("y"),L.noneOrAll(a,t,["x","y"]),i("xanchor"),i("yanchor"),i("len"),i("lenmode"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),L.coerceFont(i,"font",u.font),i("currentvalue.visible")&&(i("currentvalue.xanchor"),i("currentvalue.prefix"),i("currentvalue.suffix"),i("currentvalue.offset"),L.coerceFont(i,"currentvalue.font",t.font)),i("transition.duration"),i("transition.easing"),i("bgcolor"),i("activebgcolor"),i("bordercolor"),i("borderwidth"),i("ticklen"),i("tickwidth"),i("tickcolor"),i("minorticklen")}}function b(a,t){function u(l,d){return L.coerce(a,t,k,l,d)}if(a.method==="skip"||Array.isArray(a.args)?u("visible"):t.visible=!1){u("method"),u("args");var i=u("label","step-"+t._index);u("value",i),u("execute")}}$.exports=function(a,t){D(a,t,{name:T,handleItemDefaults:M})}},44097:function($,F,m){var L=m(45568),D=m(44122),E=m(78766),T=m(62203),k=m(34809),M=k.strTranslate,b=m(30635),a=m(78032).arrayEditor,t=m(64194),u=m(4530),i=u.LINE_SPACING,l=u.FROM_TL,d=u.FROM_BR;function v(O){return t.autoMarginIdRoot+O._index}function y(O){return O._index}function p(O,A){var I=T.tester.selectAll("g."+t.labelGroupClass).data(A._visibleSteps);I.enter().append("g").classed(t.labelGroupClass,!0);var B=0,C=0;I.each(function(G){var H=f(L.select(this),{step:G},A).node();if(H){var U=T.bBox(H);C=Math.max(C,U.height),B=Math.max(B,U.width)}}),I.remove();var z=A._dims={};z.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var P=O._fullLayout._size;z.lx=P.l+P.w*A.x,z.ly=P.t+P.h*(1-A.y),A.lenmode==="fraction"?z.outerLength=Math.round(P.w*A.len):z.outerLength=A.len,z.inputAreaStart=0,z.inputAreaLength=Math.round(z.outerLength-A.pad.l-A.pad.r);var R=(z.inputAreaLength-2*t.stepInset)/(A._stepCount-1),N=B+t.labelPadding;if(z.labelStride=Math.max(1,Math.ceil(N/R)),z.labelHeight=C,z.currentValueMaxWidth=0,z.currentValueHeight=0,z.currentValueTotalHeight=0,z.currentValueMaxLines=1,A.currentvalue.visible){var j=T.tester.append("g");I.each(function(G){var H=c(j,A,G.label),U=H.node()&&T.bBox(H.node())||{width:0,height:0},Z=b.lineCount(H);z.currentValueMaxWidth=Math.max(z.currentValueMaxWidth,Math.ceil(U.width)),z.currentValueHeight=Math.max(z.currentValueHeight,Math.ceil(U.height)),z.currentValueMaxLines=Math.max(z.currentValueMaxLines,Z)}),z.currentValueTotalHeight=z.currentValueHeight+A.currentvalue.offset,j.remove()}z.height=z.currentValueTotalHeight+t.tickOffset+A.ticklen+t.labelOffset+z.labelHeight+A.pad.t+A.pad.b;var W="left";k.isRightAnchor(A)&&(z.lx-=z.outerLength,W="right"),k.isCenterAnchor(A)&&(z.lx-=z.outerLength/2,W="center");var Y="top";k.isBottomAnchor(A)&&(z.ly-=z.height,Y="bottom"),k.isMiddleAnchor(A)&&(z.ly-=z.height/2,Y="middle"),z.outerLength=Math.ceil(z.outerLength),z.height=Math.ceil(z.height),z.lx=Math.round(z.lx),z.ly=Math.round(z.ly);var J={y:A.y,b:z.height*d[Y],t:z.height*l[Y]};A.lenmode==="fraction"?(J.l=0,J.xl=A.x-A.len*l[W],J.r=0,J.xr=A.x+A.len*d[W]):(J.x=A.x,J.l=z.outerLength*l[W],J.r=z.outerLength*d[W]),D.autoMargin(O,v(A),J)}function c(O,A,I){if(A.currentvalue.visible){var B,C,z=A._dims;switch(A.currentvalue.xanchor){case"right":B=z.inputAreaLength-t.currentValueInset-z.currentValueMaxWidth,C="left";break;case"center":B=.5*z.inputAreaLength,C="middle";break;default:B=t.currentValueInset,C="left"}var P=k.ensureSingle(O,"text",t.labelClass,function(J){J.attr({"text-anchor":C,"data-notex":1})}),R=A.currentvalue.prefix?A.currentvalue.prefix:"";if(typeof I=="string")R+=I;else{var N=A.steps[A.active].label,j=A._gd._fullLayout._meta;j&&(N=k.templateString(N,j)),R+=N}A.currentvalue.suffix&&(R+=A.currentvalue.suffix),P.call(T.font,A.currentvalue.font).text(R).call(b.convertToTspans,A._gd);var W=b.lineCount(P),Y=(z.currentValueMaxLines+1-W)*A.currentvalue.font.size*i;return b.positionText(P,B,Y),P}}function x(O,A,I){k.ensureSingle(O,"rect",t.gripRectClass,function(B){B.call(r,A,O,I).style("pointer-events","all")}).attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(E.stroke,I.bordercolor).call(E.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function f(O,A,I){var B=k.ensureSingle(O,"text",t.labelClass,function(P){P.attr({"text-anchor":"middle","data-notex":1})}),C=A.step.label,z=I._gd._fullLayout._meta;return z&&(C=k.templateString(C,z)),B.call(T.font,I.font).text(C).call(b.convertToTspans,I._gd),B}function n(O,A){var I=k.ensureSingle(O,"g",t.labelsClass),B=A._dims,C=I.selectAll("g."+t.labelGroupClass).data(B.labelSteps);C.enter().append("g").classed(t.labelGroupClass,!0),C.exit().remove(),C.each(function(z){var P=L.select(this);P.call(f,z,A),T.setTranslate(P,h(A,z.fraction),t.tickOffset+A.ticklen+A.font.size*i+t.labelOffset+B.currentValueTotalHeight)})}function o(O,A,I,B,C){var z=Math.round(B*(I._stepCount-1)),P=I._visibleSteps[z]._index;P!==I.active&&s(O,A,I,P,!0,C)}function s(O,A,I,B,C,z){var P=I.active;I.active=B,a(O.layout,t.name,I).applyUpdate("active",B);var R=I.steps[I.active];A.call(e,I,z),A.call(c,I),O.emit("plotly_sliderchange",{slider:I,step:I.steps[I.active],interaction:C,previousActive:P}),R&&R.method&&C&&(A._nextMethod?(A._nextMethod.step=R,A._nextMethod.doCallback=C,A._nextMethod.doTransition=z):(A._nextMethod={step:R,doCallback:C,doTransition:z},A._nextMethodRaf=window.requestAnimationFrame(function(){var N=A._nextMethod.step;N.method&&(N.execute&&D.executeAPICommand(O,N.method,N.args),A._nextMethod=null,A._nextMethodRaf=null)})))}function r(O,A,I){if(!A._context.staticPlot){var B=I.node(),C=L.select(A);O.on("mousedown",P),O.on("touchstart",P)}function z(){return I.data()[0]}function P(){var R=z();A.emit("plotly_sliderstart",{slider:R});var N=I.select("."+t.gripRectClass);L.event.stopPropagation(),L.event.preventDefault(),N.call(E.fill,R.activebgcolor);var j=_(R,L.mouse(B)[0]);function W(){var J=z(),G=_(J,L.mouse(B)[0]);o(A,I,J,G,!1)}function Y(){var J=z();J._dragging=!1,N.call(E.fill,J.bgcolor),C.on("mouseup",null),C.on("mousemove",null),C.on("touchend",null),C.on("touchmove",null),A.emit("plotly_sliderend",{slider:J,step:J.steps[J.active]})}o(A,I,R,j,!0),R._dragging=!0,C.on("mousemove",W),C.on("touchmove",W),C.on("mouseup",Y),C.on("touchend",Y)}}function g(O,A){var I=O.selectAll("rect."+t.tickRectClass).data(A._visibleSteps),B=A._dims;I.enter().append("rect").classed(t.tickRectClass,!0),I.exit().remove(),I.attr({width:A.tickwidth+"px","shape-rendering":"crispEdges"}),I.each(function(C,z){var P=z%B.labelStride==0,R=L.select(this);R.attr({height:P?A.ticklen:A.minorticklen}).call(E.fill,A.tickcolor),T.setTranslate(R,h(A,z/(A._stepCount-1))-.5*A.tickwidth,(P?t.tickOffset:t.minorTickOffset)+B.currentValueTotalHeight)})}function e(O,A,I){for(var B=O.select("rect."+t.gripRectClass),C=0,z=0;z<A._stepCount;z++)if(A._visibleSteps[z]._index===A.active){C=z;break}var P=h(A,C/(A._stepCount-1));if(!A._invokingCommand){var R=B;I&&A.transition.duration>0&&(R=R.transition().duration(A.transition.duration).ease(A.transition.easing)),R.attr("transform",M(P-.5*t.gripWidth,A._dims.currentValueTotalHeight))}}function h(O,A){var I=O._dims;return I.inputAreaStart+t.stepInset+(I.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,A))}function _(O,A){var I=O._dims;return Math.min(1,Math.max(0,(A-t.stepInset-I.inputAreaStart)/(I.inputAreaLength-2*t.stepInset-2*I.inputAreaStart)))}function w(O,A,I){var B=I._dims,C=k.ensureSingle(O,"rect",t.railTouchRectClass,function(z){z.call(r,A,O,I).style("pointer-events","all")});C.attr({width:B.inputAreaLength,height:Math.max(B.inputAreaWidth,t.tickOffset+I.ticklen+B.labelHeight)}).call(E.fill,I.bgcolor).attr("opacity",0),T.setTranslate(C,0,B.currentValueTotalHeight)}function S(O,A){var I=A._dims,B=I.inputAreaLength-2*t.railInset,C=k.ensureSingle(O,"rect",t.railRectClass);C.attr({width:B,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(E.stroke,A.bordercolor).call(E.fill,A.bgcolor).style("stroke-width",A.borderwidth+"px"),T.setTranslate(C,t.railInset,.5*(I.inputAreaWidth-t.railWidth)+I.currentValueTotalHeight)}$.exports=function(O){var A=O._context.staticPlot,I=O._fullLayout,B=function(j,W){for(var Y=j[t.name],J=[],G=0;G<Y.length;G++){var H=Y[G];H.visible&&(H._gd=W,J.push(H))}return J}(I,O),C=I._infolayer.selectAll("g."+t.containerClassName).data(B.length>0?[0]:[]);function z(j){j._commandObserver&&(j._commandObserver.remove(),delete j._commandObserver),D.autoMargin(O,v(j))}if(C.enter().append("g").classed(t.containerClassName,!0).style("cursor",A?null:"ew-resize"),C.exit().each(function(){L.select(this).selectAll("g."+t.groupClassName).each(z)}).remove(),B.length!==0){var P=C.selectAll("g."+t.groupClassName).data(B,y);P.enter().append("g").classed(t.groupClassName,!0),P.exit().each(z).remove();for(var R=0;R<B.length;R++){var N=B[R];p(O,N)}P.each(function(j){var W=L.select(this);(function(Y){var J=Y._dims;J.labelSteps=[];for(var G=Y._stepCount,H=0;H<G;H+=J.labelStride)J.labelSteps.push({fraction:H/(G-1),step:Y._visibleSteps[H]})})(j),D.manageCommandObserver(O,j,j._visibleSteps,function(Y){var J=W.data()[0];J.active!==Y.index&&(J._dragging||s(O,W,J,Y.index,!1,!0))}),function(Y,J,G){(G.steps[G.active]||{}).visible||(G.active=G._visibleSteps[0]._index),J.call(c,G).call(S,G).call(n,G).call(g,G).call(w,Y,G).call(x,Y,G);var H=G._dims;T.setTranslate(J,H.lx+G.pad.l,H.ly+G.pad.t),J.call(e,G,!1),J.call(c,G)}(O,L.select(this),j)})}}},15359:function($,F,m){var L=m(64194);$.exports={moduleType:"component",name:L.name,layoutAttributes:m(8606),supplyLayoutDefaults:m(74537),draw:m(44097)}},17240:function($,F,m){var L=m(45568),D=m(10721),E=m(44122),T=m(33626),k=m(34809),M=k.strTranslate,b=m(62203),a=m(78766),t=m(30635),u=m(20438),i=m(4530).OPPOSITE_SIDE,l=/ [XY][0-9]* /;$.exports={draw:function(d,v,y){var p,c=d._fullLayout,x=y.propContainer,f=y.propName,n=y.placeholder,o=y.traceIndex,s=y.avoid||{},r=y.attributes,g=y.transform,e=y.containerGroup,h=1,_=x.title,w=(_&&_.text?_.text:"").trim(),S=!1,O=_&&_.font?_.font:{},A=O.family,I=O.size,B=O.color,C=O.weight,z=O.style,P=O.variant,R=O.textcase,N=O.lineposition,j=O.shadow,W=!!y.subtitlePropName,Y=y.subtitlePlaceholder,J=(x.title||{}).subtitle||{text:"",font:{}},G=J.text.trim(),H=!1,U=1,Z=J.font,q=Z.family,Q=Z.size,ne=Z.color,ie=Z.weight,le=Z.style,fe=Z.variant,pe=Z.textcase,me=Z.lineposition,ke=Z.shadow;f==="title.text"?p="titleText":f.indexOf("axis")!==-1?p="axisTitleText":f.indexOf(!0)&&(p="colorbarTitleText");var ve=d._context.edits[p];function he(be,Ee){return be!==void 0&&Ee!==void 0&&be.replace(l," % ")===Ee.replace(l," % ")}w===""?h=0:he(w,n)&&(ve||(w=""),h=.2,S=!0),W&&(G===""?U=0:he(G,Y)&&(ve||(G=""),U=.2,H=!0)),y._meta?w=k.templateString(w,y._meta):c._meta&&(w=k.templateString(w,c._meta));var de,X=w||G||ve;e||(e=k.ensureSingle(c._infolayer,"g","g-"+v),de=c._hColorbarMoveTitle);var ae=e.selectAll("text."+v).data(X?[0]:[]);ae.enter().append("text"),ae.text(w).attr("class",v),ae.exit().remove();var K=null,ge=v+"-subtitle",re=G||ve;if(W&&re&&((K=e.selectAll("text."+ge).data(re?[0]:[])).enter().append("text"),K.text(G).attr("class",ge),K.exit().remove()),!X)return e;function ue(be,Ee){k.syncOrAsync([we,Te],{title:be,subtitle:Ee})}function we(be){var Ee,Se=be.title,De=be.subtitle;if(!g&&de&&(g={}),g?(Ee="",g.rotate&&(Ee+="rotate("+[g.rotate,r.x,r.y]+")"),(g.offset||de)&&(Ee+=M(0,(g.offset||0)-(de||0)))):Ee=null,Se.attr("transform",Ee),Se.style("opacity",h*a.opacity(B)).call(b.font,{color:a.rgb(B),size:L.round(I,2),family:A,weight:C,style:z,variant:P,textcase:R,shadow:j,lineposition:N}).attr(r).call(t.convertToTspans,d,function(je){if(je){var Le=L.select(je.node().parentNode).select("."+ge);if(!Le.empty()){var $e=je.node().getBBox();if($e.height){var st=$e.y+$e.height+1.6*Q;Le.attr("y",st)}}}}),De){var Ge=e.select("."+v+"-math-group"),Xe=Se.node().getBBox(),Ke=Ge.node()?Ge.node().getBBox():void 0,ut=Ke?Ke.y+Ke.height+1.6*Q:Xe.y+Xe.height+1.6*Q,Tt=k.extendFlat({},r,{y:ut});De.attr("transform",Ee),De.style("opacity",U*a.opacity(ne)).call(b.font,{color:a.rgb(ne),size:L.round(Q,2),family:q,weight:ie,style:le,variant:fe,textcase:pe,shadow:ke,lineposition:me}).attr(Tt).call(t.convertToTspans,d)}return E.previousPromises(d)}function Te(be){var Ee=be.title,Se=L.select(Ee.node().parentNode);if(s&&s.selection&&s.side&&w){Se.attr("transform",null);var De=i[s.side],Ge=s.side==="left"||s.side==="top"?-1:1,Xe=D(s.pad)?s.pad:2,Ke=b.bBox(Se.node()),ut={t:0,b:0,l:0,r:0},Tt=d._fullLayout._reservedMargin;for(var je in Tt)for(var Le in Tt[je]){var $e=Tt[je][Le];ut[Le]=Math.max(ut[Le],$e)}var st={left:ut.l,top:ut.t,right:c.width-ut.r,bottom:c.height-ut.b},Ot=s.maxShift||Ge*(st[s.side]-Ke[s.side]),Je=0;if(Ot<0)Je=Ot;else{var at=s.offsetLeft||0,gt=s.offsetTop||0;Ke.left-=at,Ke.right-=at,Ke.top-=gt,Ke.bottom-=gt,s.selection.each(function(){var Be=b.bBox(this);k.bBoxIntersect(Ke,Be,Xe)&&(Je=Math.max(Je,Ge*(Be[s.side]-Ke[De])+Xe))}),Je=Math.min(Ot,Je),x._titleScoot=Math.abs(Je)}if(Je>0||Ot<0){var Oe={left:[-Je,0],right:[Je,0],top:[0,-Je],bottom:[0,Je]}[s.side];Se.attr("transform",M(Oe[0],Oe[1]))}}}function ee(be,Ee){be.text(Ee).on("mouseover.opacity",function(){L.select(this).transition().duration(u.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){L.select(this).transition().duration(u.HIDE_PLACEHOLDER).style("opacity",0)})}if(ae.call(ue,K),ve&&(w?ae.on(".opacity",null):(ee(ae,n),S=!0),ae.call(t.makeEditable,{gd:d}).on("edit",function(be){o!==void 0?T.call("_guiRestyle",d,f,be,o):T.call("_guiRelayout",d,f,be)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ue)}).on("input",function(be){this.text(be||" ").call(t.positionText,r.x,r.y)}),W)){if(W&&!w){var se=ae.node().getBBox(),ce=se.y+se.height+1.6*Q;K.attr("y",ce)}G?K.on(".opacity",null):(ee(K,Y),H=!0),K.call(t.makeEditable,{gd:d}).on("edit",function(be){T.call("_guiRelayout",d,"title.subtitle.text",be)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ue)}).on("input",function(be){this.text(be||" ").call(t.positionText,K.attr("x"),K.attr("y"))})}return ae.classed("js-placeholder",S),K&&K.classed("js-placeholder",H),e},SUBTITLE_PADDING_EM:1.6,SUBTITLE_PADDING_MATHJAX_EM:1.6}},85389:function($,F,m){var L=m(80337),D=m(10229),E=m(93049).extendFlat,T=m(13582).overrideAll,k=m(57891),M=m(78032).templatedArray,b=M("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});$.exports=T(M("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:b,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:E(k({editType:"arraydraw"}),{}),font:L({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:D.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},71559:function($){$.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},42746:function($,F,m){var L=m(34809),D=m(59008),E=m(85389),T=m(71559).name,k=E.buttons;function M(a,t,u){function i(l,d){return L.coerce(a,t,E,l,d)}i("visible",D(a,t,{name:"buttons",handleItemDefaults:b}).length>0)&&(i("active"),i("direction"),i("type"),i("showactive"),i("x"),i("y"),L.noneOrAll(a,t,["x","y"]),i("xanchor"),i("yanchor"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),L.coerceFont(i,"font",u.font),i("bgcolor",u.paper_bgcolor),i("bordercolor"),i("borderwidth"))}function b(a,t){function u(i,l){return L.coerce(a,t,k,i,l)}u("visible",a.method==="skip"||Array.isArray(a.args))&&(u("method"),u("args"),u("args2"),u("label"),u("execute"))}$.exports=function(a,t){D(a,t,{name:T,handleItemDefaults:M})}},40974:function($,F,m){var L=m(45568),D=m(44122),E=m(78766),T=m(62203),k=m(34809),M=m(30635),b=m(78032).arrayEditor,a=m(4530).LINE_SPACING,t=m(71559),u=m(21736);function i(h){return h._index}function l(h,_){return+h.attr(t.menuIndexAttrName)===_._index}function d(h,_,w,S,O,A,I,B){_.active=I,b(h.layout,t.name,_).applyUpdate("active",I),_.type==="buttons"?y(h,S,null,null,_):_.type==="dropdown"&&(O.attr(t.menuIndexAttrName,"-1"),v(h,S,O,A,_),B||y(h,S,O,A,_))}function v(h,_,w,S,O){var A=k.ensureSingle(_,"g",t.headerClassName,function(R){R.style("pointer-events","all")}),I=O._dims,B=O.active,C=O.buttons[B]||t.blankHeaderOpts,z={y:O.pad.t,yPad:0,x:O.pad.l,xPad:0,index:0},P={width:I.headerWidth,height:I.headerHeight};A.call(p,O,C,h).call(g,O,z,P),k.ensureSingle(_,"text",t.headerArrowClassName,function(R){R.attr("text-anchor","end").call(T.font,O.font).text(t.arrowSymbol[O.direction])}).attr({x:I.headerWidth-t.arrowOffsetX+O.pad.l,y:I.headerHeight/2+t.textOffsetY+O.pad.t}),A.on("click",function(){w.call(e,String(l(w,O)?-1:O._index)),y(h,_,w,S,O)}),A.on("mouseover",function(){A.call(n)}),A.on("mouseout",function(){A.call(o,O)}),T.setTranslate(_,I.lx,I.ly)}function y(h,_,w,S,O){w||(w=_).attr("pointer-events","all");var A=function(J){return+J.attr(t.menuIndexAttrName)==-1}(w)&&O.type!=="buttons"?[]:O.buttons,I=O.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,B=w.selectAll("g."+I).data(k.filterVisible(A)),C=B.enter().append("g").classed(I,!0),z=B.exit();O.type==="dropdown"?(C.attr("opacity","0").transition().attr("opacity","1"),z.transition().attr("opacity","0").remove()):z.remove();var P=0,R=0,N=O._dims,j=["up","down"].indexOf(O.direction)!==-1;O.type==="dropdown"&&(j?R=N.headerHeight+t.gapButtonHeader:P=N.headerWidth+t.gapButtonHeader),O.type==="dropdown"&&O.direction==="up"&&(R=-t.gapButtonHeader+t.gapButton-N.openHeight),O.type==="dropdown"&&O.direction==="left"&&(P=-t.gapButtonHeader+t.gapButton-N.openWidth);var W={x:N.lx+P+O.pad.l,y:N.ly+R+O.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Y={l:W.x+O.borderwidth,t:W.y+O.borderwidth};B.each(function(J,G){var H=L.select(this);H.call(p,O,J,h).call(g,O,W),H.on("click",function(){L.event.defaultPrevented||(J.execute&&(J.args2&&O.active===G?(d(h,O,0,_,w,S,-1),D.executeAPICommand(h,J.method,J.args2)):(d(h,O,0,_,w,S,G),D.executeAPICommand(h,J.method,J.args))),h.emit("plotly_buttonclicked",{menu:O,button:J,active:O.active}))}),H.on("mouseover",function(){H.call(n)}),H.on("mouseout",function(){H.call(o,O),B.call(f,O)})}),B.call(f,O),j?(Y.w=Math.max(N.openWidth,N.headerWidth),Y.h=W.y-Y.t):(Y.w=W.x-Y.l,Y.h=Math.max(N.openHeight,N.headerHeight)),Y.direction=O.direction,S&&(B.size()?function(J,G,H,U,Z,q){var Q,ne,ie,le=Z.direction,fe=le==="up"||le==="down",pe=Z._dims,me=Z.active;if(fe)for(ne=0,ie=0;ie<me;ie++)ne+=pe.heights[ie]+t.gapButton;else for(Q=0,ie=0;ie<me;ie++)Q+=pe.widths[ie]+t.gapButton;U.enable(q,Q,ne),U.hbar&&U.hbar.attr("opacity","0").transition().attr("opacity","1"),U.vbar&&U.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,S,O,Y):function(J){var G=!!J.hbar,H=!!J.vbar;G&&J.hbar.transition().attr("opacity","0").each("end",function(){G=!1,H||J.disable()}),H&&J.vbar.transition().attr("opacity","0").each("end",function(){H=!1,G||J.disable()})}(S))}function p(h,_,w,S){h.call(c,_).call(x,_,w,S)}function c(h,_){k.ensureSingle(h,"rect",t.itemRectClassName,function(w){w.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})}).call(E.stroke,_.bordercolor).call(E.fill,_.bgcolor).style("stroke-width",_.borderwidth+"px")}function x(h,_,w,S){var O=k.ensureSingle(h,"text",t.itemTextClassName,function(B){B.attr({"text-anchor":"start","data-notex":1})}),A=w.label,I=S._fullLayout._meta;I&&(A=k.templateString(A,I)),O.call(T.font,_.font).text(A).call(M.convertToTspans,S)}function f(h,_){var w=_.active;h.each(function(S,O){var A=L.select(this);O===w&&_.showactive&&A.select("rect."+t.itemRectClassName).call(E.fill,t.activeColor)})}function n(h){h.select("rect."+t.itemRectClassName).call(E.fill,t.hoverColor)}function o(h,_){h.select("rect."+t.itemRectClassName).call(E.fill,_.bgcolor)}function s(h,_){var w=_._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},S=T.tester.selectAll("g."+t.dropdownButtonClassName).data(k.filterVisible(_.buttons));S.enter().append("g").classed(t.dropdownButtonClassName,!0);var O=["up","down"].indexOf(_.direction)!==-1;S.each(function(P,R){var N=L.select(this);N.call(p,_,P,h);var j=N.select("."+t.itemTextClassName),W=j.node()&&T.bBox(j.node()).width,Y=Math.max(W+t.textPadX,t.minWidth),J=_.font.size*a,G=M.lineCount(j),H=Math.max(J*G,t.minHeight)+t.textOffsetY;H=Math.ceil(H),Y=Math.ceil(Y),w.widths[R]=Y,w.heights[R]=H,w.height1=Math.max(w.height1,H),w.width1=Math.max(w.width1,Y),O?(w.totalWidth=Math.max(w.totalWidth,Y),w.openWidth=w.totalWidth,w.totalHeight+=H+t.gapButton,w.openHeight+=H+t.gapButton):(w.totalWidth+=Y+t.gapButton,w.openWidth+=Y+t.gapButton,w.totalHeight=Math.max(w.totalHeight,H),w.openHeight=w.totalHeight)}),O?w.totalHeight-=t.gapButton:w.totalWidth-=t.gapButton,w.headerWidth=w.width1+t.arrowPadX,w.headerHeight=w.height1,_.type==="dropdown"&&(O?(w.width1+=t.arrowPadX,w.totalHeight=w.height1):w.totalWidth=w.width1,w.totalWidth+=t.arrowPadX),S.remove();var A=w.totalWidth+_.pad.l+_.pad.r,I=w.totalHeight+_.pad.t+_.pad.b,B=h._fullLayout._size;w.lx=B.l+B.w*_.x,w.ly=B.t+B.h*(1-_.y);var C="left";k.isRightAnchor(_)&&(w.lx-=A,C="right"),k.isCenterAnchor(_)&&(w.lx-=A/2,C="center");var z="top";k.isBottomAnchor(_)&&(w.ly-=I,z="bottom"),k.isMiddleAnchor(_)&&(w.ly-=I/2,z="middle"),w.totalWidth=Math.ceil(w.totalWidth),w.totalHeight=Math.ceil(w.totalHeight),w.lx=Math.round(w.lx),w.ly=Math.round(w.ly),D.autoMargin(h,r(_),{x:_.x,y:_.y,l:A*({right:1,center:.5}[C]||0),r:A*({left:1,center:.5}[C]||0),b:I*({top:1,middle:.5}[z]||0),t:I*({bottom:1,middle:.5}[z]||0)})}function r(h){return t.autoMarginIdRoot+h._index}function g(h,_,w,S){S=S||{};var O=h.select("."+t.itemRectClassName),A=h.select("."+t.itemTextClassName),I=_.borderwidth,B=w.index,C=_._dims;T.setTranslate(h,I+w.x,I+w.y);var z=["up","down"].indexOf(_.direction)!==-1,P=S.height||(z?C.heights[B]:C.height1);O.attr({x:0,y:0,width:S.width||(z?C.width1:C.widths[B]),height:P});var R=_.font.size*a,N=(M.lineCount(A)-1)*R/2;M.positionText(A,t.textOffsetX,P/2-N+t.textOffsetY),z?w.y+=C.heights[B]+w.yPad:w.x+=C.widths[B]+w.xPad,w.index++}function e(h,_){h.attr(t.menuIndexAttrName,_||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}$.exports=function(h){var _=h._fullLayout,w=k.filterVisible(_[t.name]);function S(R){D.autoMargin(h,r(R))}var O=_._menulayer.selectAll("g."+t.containerClassName).data(w.length>0?[0]:[]);if(O.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){L.select(this).selectAll("g."+t.headerGroupClassName).each(S)}).remove(),w.length!==0){var A=O.selectAll("g."+t.headerGroupClassName).data(w,i);A.enter().append("g").classed(t.headerGroupClassName,!0);for(var I=k.ensureSingle(O,"g",t.dropdownButtonGroupClassName,function(R){R.style("pointer-events","all")}),B=0;B<w.length;B++){var C=w[B];s(h,C)}var z="updatemenus"+_._uid,P=new u(h,I,z);A.enter().size()&&(I.node().parentNode.appendChild(I.node()),I.call(e)),A.exit().each(function(R){I.call(e),S(R)}).remove(),A.each(function(R){var N=L.select(this),j=R.type==="dropdown"?I:null;D.manageCommandObserver(h,R,R.buttons,function(W){d(h,R,R.buttons[W.index],N,j,P,W.index,!0)}),R.type==="dropdown"?(v(h,N,I,P,R),l(I,R)&&y(h,N,I,P,R)):y(h,N,null,null,R)})}}},46230:function($,F,m){var L=m(71559);$.exports={moduleType:"component",name:L.name,layoutAttributes:m(85389),supplyLayoutDefaults:m(42746),draw:m(40974)}},21736:function($,F,m){$.exports=k;var L=m(45568),D=m(78766),E=m(62203),T=m(34809);function k(M,b,a){this.gd=M,this.container=b,this.id=a,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}k.barWidth=2,k.barLength=20,k.barRadius=2,k.barPad=1,k.barColor="#808BA4",k.prototype.enable=function(M,b,a){var t=this.gd._fullLayout,u=t.width,i=t.height;this.position=M;var l,d,v,y,p=this.position.l,c=this.position.w,x=this.position.t,f=this.position.h,n=this.position.direction,o=n==="down",s=n==="left",r=n==="up",g=c,e=f;o||s||n==="right"||r||(this.position.direction="down",o=!0),o||r?(d=(l=p)+g,o?(v=x,e=(y=Math.min(v+e,i))-v):e=(y=x+e)-(v=Math.max(y-e,0))):(y=(v=x)+e,s?g=(d=p+g)-(l=Math.max(d-g,0)):(l=p,g=(d=Math.min(l+g,u))-l)),this._box={l,t:v,w:g,h:e};var h=c>g,_=k.barLength+2*k.barPad,w=k.barWidth+2*k.barPad,S=p,O=x+f;O+w>i&&(O=i-w);var A=this.container.selectAll("rect.scrollbar-horizontal").data(h?[0]:[]);A.exit().on(".drag",null).remove(),A.enter().append("rect").classed("scrollbar-horizontal",!0).call(D.fill,k.barColor),h?(this.hbar=A.attr({rx:k.barRadius,ry:k.barRadius,x:S,y:O,width:_,height:w}),this._hbarXMin=S+_/2,this._hbarTranslateMax=g-_):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var I=f>e,B=k.barWidth+2*k.barPad,C=k.barLength+2*k.barPad,z=p+c,P=x;z+B>u&&(z=u-B);var R=this.container.selectAll("rect.scrollbar-vertical").data(I?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-vertical",!0).call(D.fill,k.barColor),I?(this.vbar=R.attr({rx:k.barRadius,ry:k.barRadius,x:z,y:P,width:B,height:C}),this._vbarYMin=P+C/2,this._vbarTranslateMax=e-C):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var N=this.id,j=l-.5,W=I?d+B+.5:d+.5,Y=v-.5,J=h?y+w+.5:y+.5,G=t._topdefs.selectAll("#"+N).data(h||I?[0]:[]);if(G.exit().remove(),G.enter().append("clipPath").attr("id",N).append("rect"),h||I?(this._clipRect=G.select("rect").attr({x:Math.floor(j),y:Math.floor(Y),width:Math.ceil(W)-Math.floor(j),height:Math.ceil(J)-Math.floor(Y)}),this.container.call(E.setClipUrl,N,this.gd),this.bg.attr({x:p,y:x,width:c,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(E.setClipUrl,null),delete this._clipRect),h||I){var H=L.behavior.drag().on("dragstart",function(){L.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(H);var U=L.behavior.drag().on("dragstart",function(){L.event.sourceEvent.preventDefault(),L.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));h&&this.hbar.on(".drag",null).call(U),I&&this.vbar.on(".drag",null).call(U)}this.setTranslate(b,a)},k.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(E.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},k.prototype._onBoxDrag=function(){var M=this.translateX,b=this.translateY;this.hbar&&(M-=L.event.dx),this.vbar&&(b-=L.event.dy),this.setTranslate(M,b)},k.prototype._onBoxWheel=function(){var M=this.translateX,b=this.translateY;this.hbar&&(M+=L.event.deltaY),this.vbar&&(b+=L.event.deltaY),this.setTranslate(M,b)},k.prototype._onBarDrag=function(){var M=this.translateX,b=this.translateY;if(this.hbar){var a=M+this._hbarXMin,t=a+this._hbarTranslateMax;M=(T.constrain(L.event.x,a,t)-a)/(t-a)*(this.position.w-this._box.w)}if(this.vbar){var u=b+this._vbarYMin,i=u+this._vbarTranslateMax;b=(T.constrain(L.event.y,u,i)-u)/(i-u)*(this.position.h-this._box.h)}this.setTranslate(M,b)},k.prototype.setTranslate=function(M,b){var a=this.position.w-this._box.w,t=this.position.h-this._box.h;if(M=T.constrain(M||0,0,a),b=T.constrain(b||0,0,t),this.translateX=M,this.translateY=b,this.container.call(E.setTranslate,this._box.l-this.position.l-M,this._box.t-this.position.t-b),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+M-.5),y:Math.floor(this.position.t+b-.5)}),this.hbar){var u=M/a;this.hbar.call(E.setTranslate,M+u*this._hbarTranslateMax,b)}if(this.vbar){var i=b/t;this.vbar.call(E.setTranslate,M,b+i*this._vbarTranslateMax)}}},4530:function($){$.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},35081:function($){$.exports={axisRefDescription:function(F,m,L){return["If set to a",F,"axis id (e.g. *"+F+"* or","*"+F+"2*), the `"+F+"` position refers to a",F,"coordinate. If set to *paper*, the `"+F+"`","position refers to the distance from the",m,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",m,"("+L+"). If set to a",F,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",m,"of the domain of that axis: e.g.,","*"+F+"2 domain* refers to the domain of the second",F," axis and a",F,"position of 0.5 refers to the","point between the",m,"and the",L,"of the domain of the","second",F,"axis."].join(" ")}}},87296:function($){$.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},20726:function($){$.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},20438:function($){$.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},63821:function($){$.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},62972:function($,F){F.xmlns="http://www.w3.org/2000/xmlns/",F.svg="http://www.w3.org/2000/svg",F.xlink="http://www.w3.org/1999/xlink",F.svgAttrs={xmlns:F.svg,"xmlns:xlink":F.xlink}},17430:function($,F,m){F.version=m(29697).version,m(71116),m(6713);for(var L=m(33626),D=F.register=L.register,E=m(90742),T=Object.keys(E),k=0;k<T.length;k++){var M=T[k];M.charAt(0)!=="_"&&(F[M]=E[M]),D({moduleType:"apiMethod",name:M,fn:E[M]})}D(m(69693)),D([m(3599),m(83348),m(44844),m(43701),m(15553),m(46230),m(15359),m(55429),m(44453),m(83595),m(77901),m(88856),m(96919),m(82494),m(32141),m(95433)]),D([m(30227),m(44611)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(D(window.PlotlyLocales),delete window.PlotlyLocales),F.Icons=m(35188);var b=m(32141),a=m(44122);F.Plots={resize:a.resize,graphJson:a.graphJson,sendDataToCloud:a.sendDataToCloud},F.Fx={hover:b.hover,unhover:b.unhover,loneHover:b.loneHover,loneUnhover:b.loneUnhover},F.Snapshot=m(6170),F.PlotSchema=m(57297)},35188:function($){$.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},32546:function($,F){F.isLeftAnchor=function(m){return m.xanchor==="left"||m.xanchor==="auto"&&m.x<=.3333333333333333},F.isCenterAnchor=function(m){return m.xanchor==="center"||m.xanchor==="auto"&&m.x>.3333333333333333&&m.x<.6666666666666666},F.isRightAnchor=function(m){return m.xanchor==="right"||m.xanchor==="auto"&&m.x>=.6666666666666666},F.isTopAnchor=function(m){return m.yanchor==="top"||m.yanchor==="auto"&&m.y>=.6666666666666666},F.isMiddleAnchor=function(m){return m.yanchor==="middle"||m.yanchor==="auto"&&m.y>.3333333333333333&&m.y<.6666666666666666},F.isBottomAnchor=function(m){return m.yanchor==="bottom"||m.yanchor==="auto"&&m.y<=.3333333333333333}},44313:function($,F,m){var L=m(98953),D=L.mod,E=L.modHalf,T=Math.PI,k=2*T;function M(u){return Math.abs(u[1]-u[0])>k-1e-14}function b(u,i){return E(i-u,k)}function a(u,i){if(M(i))return!0;var l,d;i[0]<i[1]?(l=i[0],d=i[1]):(l=i[1],d=i[0]),(l=D(l,k))>(d=D(d,k))&&(d+=k);var v=D(u,k),y=v+k;return v>=l&&v<=d||y>=l&&y<=d}function t(u,i,l,d,v,y,p){v=v||0,y=y||0;var c,x,f,n,o,s=M([l,d]);function r(_,w){return[_*Math.cos(w)+v,y-_*Math.sin(w)]}s?(c=0,x=T,f=k):l<d?(c=l,f=d):(c=d,f=l),u<i?(n=u,o=i):(n=i,o=u);var g,e=Math.abs(f-c)<=T?0:1;function h(_,w,S){return"A"+[_,_]+" "+[0,e,S]+" "+r(_,w)}return s?g=n===null?"M"+r(o,c)+h(o,x,0)+h(o,f,0)+"Z":"M"+r(n,c)+h(n,x,0)+h(n,f,0)+"ZM"+r(o,c)+h(o,x,1)+h(o,f,1)+"Z":n===null?(g="M"+r(o,c)+h(o,f,0),p&&(g+="L0,0Z")):g="M"+r(n,c)+"L"+r(o,c)+h(o,f,0)+"L"+r(n,f)+h(n,c,1)+"Z",g}$.exports={deg2rad:function(u){return u/180*T},rad2deg:function(u){return u/T*180},angleDelta:b,angleDist:function(u,i){return Math.abs(b(u,i))},isFullCircle:M,isAngleInsideSector:a,isPtInsideSector:function(u,i,l,d){return!!a(i,d)&&(l[0]<l[1]?(v=l[0],y=l[1]):(v=l[1],y=l[0]),u>=v&&u<=y);var v,y},pathArc:function(u,i,l,d,v){return t(null,u,i,l,d,v,0)},pathSector:function(u,i,l,d,v){return t(null,u,i,l,d,v,1)},pathAnnulus:function(u,i,l,d,v,y){return t(u,i,l,d,v,y,1)}}},87800:function($,F,m){var L=m(93229).decode,D=m(56174),E=Array.isArray,T=ArrayBuffer,k=DataView;function M(i){return T.isView(i)&&!(i instanceof k)}function b(i){return E(i)||M(i)}F.isTypedArray=M,F.isArrayOrTypedArray=b,F.isArray1D=function(i){return!b(i[0])},F.ensureArray=function(i,l){return E(i)||(i=[]),i.length=l,i};var a={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function t(i){return i.constructor===ArrayBuffer}function u(i,l,d){if(b(i)){if(b(i[0])){for(var v=d,y=0;y<i.length;y++)v=l(v,i[y].length);return v}return i.length}return 0}a.uint8c=a.u1c,a.uint8=a.u1,a.int8=a.i1,a.uint16=a.u2,a.int16=a.i2,a.uint32=a.u4,a.int32=a.i4,a.float32=a.f4,a.float64=a.f8,F.isArrayBuffer=t,F.decodeTypedArraySpec=function(i){var l=[],d=function(_){return{bdata:_.bdata,dtype:_.dtype,shape:_.shape}}(i),v=d.dtype,y=a[v];if(!y)throw new Error('Error in dtype: "'+v+'"');var p=y.BYTES_PER_ELEMENT,c=d.bdata;t(c)||(c=L(c));var x=d.shape===void 0?[c.byteLength/p]:(""+d.shape).split(",");x.reverse();var f,n,o=x.length,s=+x[0],r=p*s,g=0;if(o===1)l=new y(c);else if(o===2)for(f=+x[1],n=0;n<f;n++)l[n]=new y(c,g,s),g+=r;else{if(o!==3)throw new Error("ndim: "+o+'is not supported with the shape:"'+d.shape+'"');f=+x[1];for(var e=+x[2],h=0;h<e;h++)for(l[h]=[],n=0;n<f;n++)l[h][n]=new y(c,g,s),g+=r}return l.bdata=d.bdata,l.dtype=d.dtype,l.shape=x.reverse().join(","),i._inputArray=l,l},F.isTypedArraySpec=function(i){return D(i)&&i.hasOwnProperty("dtype")&&typeof i.dtype=="string"&&i.hasOwnProperty("bdata")&&(typeof i.bdata=="string"||t(i.bdata))&&(i.shape===void 0||i.hasOwnProperty("shape")&&(typeof i.shape=="string"||typeof i.shape=="number"))},F.concat=function(){var i,l,d,v,y,p,c,x,f=[],n=!0,o=0;for(d=0;d<arguments.length;d++)(p=(v=arguments[d]).length)&&(l?f.push(v):(l=v,y=p),E(v)?i=!1:(n=!1,o?i!==v.constructor&&(i=!1):i=v.constructor),o+=p);if(!o)return[];if(!f.length)return l;if(n)return l.concat.apply(l,f);if(i){for((c=new i(o)).set(l),d=0;d<f.length;d++)v=f[d],c.set(v,y),y+=v.length;return c}for(c=new Array(o),x=0;x<l.length;x++)c[x]=l[x];for(d=0;d<f.length;d++){for(v=f[d],x=0;x<v.length;x++)c[y+x]=v[x];y+=x}return c},F.maxRowLength=function(i){return u(i,Math.max,0)},F.minRowLength=function(i){return u(i,Math.min,1/0)}},44498:function($,F,m){var L=m(10721),D=m(63821).BADNUM,E=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;$.exports=function(T){return typeof T=="string"&&(T=T.replace(E,"")),L(T)?Number(T):D}},34823:function($){$.exports=function(F){var m=F._fullLayout;m._glcanvas&&m._glcanvas.size()&&m._glcanvas.each(function(L){L.regl&&L.regl.clear({color:!0,depth:!0})})}},23493:function($){$.exports=function(F){F._responsiveChartHandler&&(window.removeEventListener("resize",F._responsiveChartHandler),delete F._responsiveChartHandler)}},34220:function($,F,m){var L=m(10721),D=m(65657),E=m(93049).extendFlat,T=m(9829),k=m(19017),M=m(78766),b=m(20438).DESELECTDIM,a=m(35632),t=m(90694).counter,u=m(98953).modHalf,i=m(87800).isArrayOrTypedArray,l=m(87800).isTypedArraySpec,d=m(87800).decodeTypedArraySpec;function v(y,p){var c=F.valObjectMeta[p.valType];if(p.arrayOk&&i(y))return!0;if(c.validateFunction)return c.validateFunction(y,p);var x={},f=x,n={set:function(o){f=o}};return c.coerceFunction(y,n,x,p),f!==x}F.valObjectMeta={data_array:{coerceFunction:function(y,p,c){p.set(i(y)?y:l(y)?d(y):c)}},enumerated:{coerceFunction:function(y,p,c,x){x.coerceNumber&&(y=+y),x.values.indexOf(y)===-1?p.set(c):p.set(y)},validateFunction:function(y,p){p.coerceNumber&&(y=+y);for(var c=p.values,x=0;x<c.length;x++){var f=String(c[x]);if(f.charAt(0)==="/"&&f.charAt(f.length-1)==="/"){if(new RegExp(f.substr(1,f.length-2)).test(y))return!0}else if(y===c[x])return!0}return!1}},boolean:{coerceFunction:function(y,p,c){y===!0||y===!1?p.set(y):p.set(c)}},number:{coerceFunction:function(y,p,c,x){l(y)&&(y=d(y)),!L(y)||x.min!==void 0&&y<x.min||x.max!==void 0&&y>x.max?p.set(c):p.set(+y)}},integer:{coerceFunction:function(y,p,c,x){(x.extras||[]).indexOf(y)===-1?(l(y)&&(y=d(y)),y%1||!L(y)||x.min!==void 0&&y<x.min||x.max!==void 0&&y>x.max?p.set(c):p.set(+y)):p.set(y)}},string:{coerceFunction:function(y,p,c,x){if(typeof y!="string"){var f=typeof y=="number";x.strict!==!0&&f?p.set(String(y)):p.set(c)}else x.noBlank&&!y?p.set(c):p.set(y)}},color:{coerceFunction:function(y,p,c){l(y)&&(y=d(y)),D(y).isValid()?p.set(y):p.set(c)}},colorlist:{coerceFunction:function(y,p,c){Array.isArray(y)&&y.length&&y.every(function(x){return D(x).isValid()})?p.set(y):p.set(c)}},colorscale:{coerceFunction:function(y,p,c){p.set(k.get(y,c))}},angle:{coerceFunction:function(y,p,c){l(y)&&(y=d(y)),y==="auto"?p.set("auto"):L(y)?p.set(u(+y,360)):p.set(c)}},subplotid:{coerceFunction:function(y,p,c,x){var f=x.regex||t(c);typeof y=="string"&&f.test(y)?p.set(y):p.set(c)},validateFunction:function(y,p){var c=p.dflt;return y===c||typeof y=="string"&&!!t(c).test(y)}},flaglist:{coerceFunction:function(y,p,c,x){if((x.extras||[]).indexOf(y)===-1)if(typeof y=="string"){for(var f=y.split("+"),n=0;n<f.length;){var o=f[n];x.flags.indexOf(o)===-1||f.indexOf(o)<n?f.splice(n,1):n++}f.length?p.set(f.join("+")):p.set(c)}else p.set(c);else p.set(y)}},any:{coerceFunction:function(y,p,c){y===void 0?p.set(c):p.set(l(y)?d(y):y)}},info_array:{coerceFunction:function(y,p,c,x){function f(B,C,z){var P,R={set:function(N){P=N}};return z===void 0&&(z=C.dflt),F.valObjectMeta[C.valType].coerceFunction(B,R,z,C),P}if(l(y)&&(y=d(y)),i(y)){var n,o,s,r,g,e,h=x.dimensions===2||x.dimensions==="1-2"&&Array.isArray(y)&&i(y[0]),_=x.items,w=[],S=Array.isArray(_),O=S&&h&&i(_[0]),A=h&&S&&!O,I=S&&!A?_.length:y.length;if(c=Array.isArray(c)?c:[],h)for(n=0;n<I;n++)for(w[n]=[],s=i(y[n])?y[n]:[],g=A?_.length:S?_[n].length:s.length,o=0;o<g;o++)r=A?_[o]:S?_[n][o]:_,(e=f(s[o],r,(c[n]||[])[o]))!==void 0&&(w[n][o]=e);else for(n=0;n<I;n++)(e=f(y[n],S?_[n]:_,c[n]))!==void 0&&(w[n]=e);p.set(w)}else p.set(c)},validateFunction:function(y,p){if(!i(y))return!1;var c=p.items,x=Array.isArray(c),f=p.dimensions===2;if(!p.freeLength&&y.length!==c.length)return!1;for(var n=0;n<y.length;n++)if(f){if(!i(y[n])||!p.freeLength&&y[n].length!==c[n].length)return!1;for(var o=0;o<y[n].length;o++)if(!v(y[n][o],x?c[n][o]:c))return!1}else if(!v(y[n],x?c[n]:c))return!1;return!0}}},F.coerce=function(y,p,c,x,f){var n=a(c,x).get(),o=a(y,x),s=a(p,x),r=o.get(),g=p._template;if(r===void 0&&g&&(r=a(g,x).get(),g=0),f===void 0&&(f=n.dflt),n.arrayOk){if(i(r))return s.set(r),r;if(l(r))return r=d(r),s.set(r),r}var e=F.valObjectMeta[n.valType].coerceFunction;e(r,s,f,n);var h=s.get();return g&&h===f&&!v(r,n)&&(e(r=a(g,x).get(),s,f,n),h=s.get()),h},F.coerce2=function(y,p,c,x,f){var n=a(y,x),o=F.coerce(y,p,c,x,f);return n.get()!=null&&o},F.coerceFont=function(y,p,c,x){x||(x={}),c=E({},c);var f={family:y(p+".family",(c=E(c,x.overrideDflt||{})).family),size:y(p+".size",c.size),color:y(p+".color",c.color),weight:y(p+".weight",c.weight),style:y(p+".style",c.style)};if(x.noFontVariant||(f.variant=y(p+".variant",c.variant)),x.noFontLineposition||(f.lineposition=y(p+".lineposition",c.lineposition)),x.noFontTextcase||(f.textcase=y(p+".textcase",c.textcase)),!x.noFontShadow){var n=c.shadow;n==="none"&&x.autoShadowDflt&&(n="auto"),f.shadow=y(p+".shadow",n)}return f},F.coercePattern=function(y,p,c,x){if(y(p+".shape")){y(p+".solidity"),y(p+".size");var f=y(p+".fillmode")==="overlay";if(!x){var n=y(p+".bgcolor",f?c:void 0);y(p+".fgcolor",f?M.contrast(n):c)}y(p+".fgopacity",f?.5:1)}},F.coerceHoverinfo=function(y,p,c){var x,f=p._module.attributes,n=f.hoverinfo?f:T,o=n.hoverinfo;if(c._dataLength===1){var s=o.dflt==="all"?o.flags.slice():o.dflt.split("+");s.splice(s.indexOf("name"),1),x=s.join("+")}return F.coerce(y,p,n,"hoverinfo",x)},F.coerceSelectionMarkerOpacity=function(y,p){if(y.marker){var c,x,f=y.marker.opacity;f!==void 0&&(i(f)||y.selected||y.unselected||(c=f,x=b*f),p("selected.marker.opacity",c),p("unselected.marker.opacity",x))}},F.validate=v},92596:function($,F,m){var L,D,E=m(42696).DC,T=m(10721),k=m(48636),M=m(98953).mod,b=m(63821),a=b.BADNUM,t=b.ONEDAY,u=b.ONEHOUR,i=b.ONEMIN,l=b.ONESEC,d=b.EPOCHJD,v=m(33626),y=m(42696).aL,p=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=new Date().getFullYear()-70;function f(A){return A&&v.componentsRegistry.calendars&&typeof A=="string"&&A!=="gregorian"}function n(A,I){return String(A+Math.pow(10,I)).substr(1)}F.dateTick0=function(A,I){var B=function(z,P){return f(z)?P?v.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:v.getComponentMethod("calendars","CANONICAL_TICK")[z]:P?"2000-01-02":"2000-01-01"}(A,!!I);if(I<2)return B;var C=F.dateTime2ms(B,A);return C+=t*(I-1),F.ms2DateTime(C,0,A)},F.dfltRange=function(A){return f(A)?v.getComponentMethod("calendars","DFLTRANGE")[A]:["2000-01-01","2001-01-01"]},F.isJSDate=function(A){return typeof A=="object"&&A!==null&&typeof A.getTime=="function"},F.dateTime2ms=function(A,I){if(F.isJSDate(A)){var B=A.getTimezoneOffset()*i,C=(A.getUTCMinutes()-A.getMinutes())*i+(A.getUTCSeconds()-A.getSeconds())*l+(A.getUTCMilliseconds()-A.getMilliseconds());if(C){var z=3*i;B=B-z/2+M(C-B+z/2,z)}return(A=Number(A)-B)>=L&&A<=D?A:a}if(typeof A!="string"&&typeof A!="number")return a;A=String(A);var P=f(I),R=A.charAt(0);!P||R!=="G"&&R!=="g"||(A=A.substr(1),I="");var N=P&&I.substr(0,7)==="chinese",j=A.match(N?c:p);if(!j)return a;var W=j[1],Y=j[3]||"1",J=Number(j[5]||1),G=Number(j[7]||0),H=Number(j[9]||0),U=Number(j[11]||0);if(P){if(W.length===2)return a;var Z;W=Number(W);try{var q=v.getComponentMethod("calendars","getCal")(I);if(N){var Q=Y.charAt(Y.length-1)==="i";Y=parseInt(Y,10),Z=q.newDate(W,q.toMonthIndex(W,Y,Q),J)}else Z=q.newDate(W,Number(Y),J)}catch{return a}return Z?(Z.toJD()-d)*t+G*u+H*i+U*l:a}W=W.length===2?(Number(W)+2e3-x)%100+x:Number(W),Y-=1;var ne=new Date(Date.UTC(2e3,Y,J,G,H));return ne.setUTCFullYear(W),ne.getUTCMonth()!==Y||ne.getUTCDate()!==J?a:ne.getTime()+U*l},L=F.MIN_MS=F.dateTime2ms("-9999"),D=F.MAX_MS=F.dateTime2ms("9999-12-31 23:59:59.9999"),F.isDateTime=function(A,I){return F.dateTime2ms(A,I)!==a};var o=90*t,s=3*u,r=5*i;function g(A,I,B,C,z){if((I||B||C||z)&&(A+=" "+n(I,2)+":"+n(B,2),(C||z)&&(A+=":"+n(C,2),z))){for(var P=4;z%10==0;)P-=1,z/=10;A+="."+n(z,P)}return A}F.ms2DateTime=function(A,I,B){if(typeof A!="number"||!(A>=L&&A<=D))return a;I||(I=0);var C,z,P,R,N,j,W=Math.floor(10*M(A+.05,1)),Y=Math.round(A-W/10);if(f(B)){var J=Math.floor(Y/t)+d,G=Math.floor(M(A,t));try{C=v.getComponentMethod("calendars","getCal")(B).fromJD(J).formatDate("yyyy-mm-dd")}catch{C=y("G%Y-%m-%d")(new Date(Y))}if(C.charAt(0)==="-")for(;C.length<11;)C="-0"+C.substr(1);else for(;C.length<10;)C="0"+C;z=I<o?Math.floor(G/u):0,P=I<o?Math.floor(G%u/i):0,R=I<s?Math.floor(G%i/l):0,N=I<r?G%l*10+W:0}else j=new Date(Y),C=y("%Y-%m-%d")(j),z=I<o?j.getUTCHours():0,P=I<o?j.getUTCMinutes():0,R=I<s?j.getUTCSeconds():0,N=I<r?10*j.getUTCMilliseconds()+W:0;return g(C,z,P,R,N)},F.ms2DateTimeLocal=function(A){if(!(A>=L+t&&A<=D-t))return a;var I=Math.floor(10*M(A+.05,1)),B=new Date(Math.round(A-I/10));return g(E("%Y-%m-%d")(B),B.getHours(),B.getMinutes(),B.getSeconds(),10*B.getUTCMilliseconds()+I)},F.cleanDate=function(A,I,B){if(A===a)return I;if(F.isJSDate(A)||typeof A=="number"&&isFinite(A)){if(f(B))return k.error("JS Dates and milliseconds are incompatible with world calendars",A),I;if(!(A=F.ms2DateTimeLocal(+A))&&I!==void 0)return I}else if(!F.isDateTime(A,B))return k.error("unrecognized date",A),I;return A};var e=/%\d?f/g,h=/%h/g,_={1:"1",2:"1",3:"2",4:"2"};function w(A,I,B,C){A=A.replace(e,function(P){var R=Math.min(+P.charAt(1)||6,6);return(I/1e3%1+2).toFixed(R).substr(2).replace(/0+$/,"")||"0"});var z=new Date(Math.floor(I+.05));if(A=A.replace(h,function(){return _[B("%q")(z)]}),f(C))try{A=v.getComponentMethod("calendars","worldCalFmt")(A,I,C)}catch{return"Invalid"}return B(A)(z)}var S=[59,59.9,59.99,59.999,59.9999];F.formatDate=function(A,I,B,C,z,P){if(z=f(z)&&z,!I)if(B==="y")I=P.year;else if(B==="m")I=P.month;else{if(B!=="d")return function(R,N){var j=M(R+.05,t),W=n(Math.floor(j/u),2)+":"+n(M(Math.floor(j/i),60),2);if(N!=="M"){T(N)||(N=0);var Y=(100+Math.min(M(R/l,60),S[N])).toFixed(N).substr(1);N>0&&(Y=Y.replace(/0+$/,"").replace(/[\.]$/,"")),W+=":"+Y}return W}(A,B)+`
`+w(P.dayMonthYear,A,C,z);I=P.dayMonth+`
`+P.year}return w(I,A,C,z)};var O=3*t;F.incrementMonth=function(A,I,B){B=f(B)&&B;var C=M(A,t);if(A=Math.round(A-C),B)try{var z=Math.round(A/t)+d,P=v.getComponentMethod("calendars","getCal")(B),R=P.fromJD(z);return I%12?P.add(R,I,"m"):P.add(R,I/12,"y"),(R.toJD()-d)*t+C}catch{k.error("invalid ms "+A+" in calendar "+B)}var N=new Date(A+O);return N.setUTCMonth(N.getUTCMonth()+I)+C-O},F.findExactDates=function(A,I){for(var B,C,z=0,P=0,R=0,N=0,j=f(I)&&v.getComponentMethod("calendars","getCal")(I),W=0;W<A.length;W++)if(C=A[W],T(C)){if(!(C%t))if(j)try{(B=j.fromJD(C/t+d)).day()===1?B.month()===1?z++:P++:R++}catch{}else(B=new Date(C)).getUTCDate()===1?B.getUTCMonth()===0?z++:P++:R++}else N++;R+=P+=z;var Y=A.length-N;return{exactYears:z/Y,exactMonths:P/Y,exactDays:R/Y}}},95425:function($,F,m){var L=m(45568),D=m(48636),E=m(15236),T=m(11191);function k(u){var i=u&&u.parentNode;i&&i.removeChild(u)}function M(u,i,l){var d="plotly.js-style-"+u,v=document.getElementById(d);v||((v=document.createElement("style")).setAttribute("id",d),v.appendChild(document.createTextNode("")),document.head.appendChild(v));var y=v.sheet;y.insertRule?y.insertRule(i+"{"+l+"}",0):y.addRule?y.addRule(i,l,0):D.warn("addStyleRule failed")}function b(u){var i=window.getComputedStyle(u,null),l=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("-moz-transform")||i.getPropertyValue("-ms-transform")||i.getPropertyValue("-o-transform")||i.getPropertyValue("transform");return l==="none"?null:l.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(d){return+d})}function a(u){for(var i=[];t(u);)i.push(u),u=u.parentNode,typeof ShadowRoot=="function"&&u instanceof ShadowRoot&&(u=u.host);return i}function t(u){return u&&(u instanceof Element||u instanceof HTMLElement)}$.exports={getGraphDiv:function(u){var i;if(typeof u=="string"){if((i=document.getElementById(u))===null)throw new Error("No DOM element with id '"+u+"' exists on the page.");return i}if(u==null)throw new Error("DOM element provided is null or undefined");return u},isPlotDiv:function(u){var i=L.select(u);return i.node()instanceof HTMLElement&&i.size()&&i.classed("js-plotly-plot")},removeElement:k,addStyleRule:function(u,i){M("global",u,i)},addRelatedStyleRule:M,deleteRelatedStyleRule:function(u){var i="plotly.js-style-"+u,l=document.getElementById(i);l&&k(l)},getFullTransformMatrix:function(u){var i=a(u),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return i.forEach(function(d){var v=b(d);if(v){var y=E.convertCssMatrix(v);l=T.multiply(l,l,y)}}),l},getElementTransformMatrix:b,getElementAndAncestors:a,equalDomRects:function(u,i){return u&&i&&u.top===i.top&&u.left===i.left&&u.right===i.right&&u.bottom===i.bottom}}},68596:function($,F,m){var L=m(7683).EventEmitter,D={init:function(E){if(E._ev instanceof L)return E;var T=new L,k=new L;return E._ev=T,E._internalEv=k,E.on=T.on.bind(T),E.once=T.once.bind(T),E.removeListener=T.removeListener.bind(T),E.removeAllListeners=T.removeAllListeners.bind(T),E._internalOn=k.on.bind(k),E._internalOnce=k.once.bind(k),E._removeInternalListener=k.removeListener.bind(k),E._removeAllInternalListeners=k.removeAllListeners.bind(k),E.emit=function(M,b){typeof jQuery<"u"&&jQuery(E).trigger(M,b),T.emit(M,b),k.emit(M,b)},E},triggerHandler:function(E,T,k){var M,b;typeof jQuery<"u"&&(M=jQuery(E).triggerHandler(T,k));var a=E._ev;if(!a)return M;var t,u=a._events[T];if(!u)return M;function i(l){return l.listener?(a.removeListener(T,l.listener),l.fired?void 0:(l.fired=!0,l.listener.apply(a,[k]))):l.apply(a,[k])}for(u=Array.isArray(u)?u:[u],t=0;t<u.length-1;t++)i(u[t]);return b=i(u[t]),M!==void 0?M:b},purge:function(E){return delete E._ev,delete E.on,delete E.once,delete E.removeListener,delete E.removeAllListeners,delete E.emit,delete E._ev,delete E._internalEv,delete E._internalOn,delete E._internalOnce,delete E._removeInternalListener,delete E._removeAllInternalListeners,E}};$.exports=D},93049:function($,F,m){var L=m(56174),D=Array.isArray;function E(T,k,M,b){var a,t,u,i,l,d,v,y=T[0],p=T.length;if(p===2&&D(y)&&D(T[1])&&y.length===0){if(v=function(x,f){var n,o;for(n=0;n<x.length;n++){if((o=x[n])!==null&&typeof o=="object")return!1;o!==void 0&&(f[n]=o)}return!0}(T[1],y),v)return y;y.splice(0,y.length)}for(var c=1;c<p;c++)for(t in a=T[c])u=y[t],i=a[t],b&&D(i)?y[t]=i:k&&i&&(L(i)||(l=D(i)))?(l?(l=!1,d=u&&D(u)?u:[]):d=u&&L(u)?u:{},y[t]=E([d,i],k,M,b)):(i!==void 0||M)&&(y[t]=i);return y}F.extendFlat=function(){return E(arguments,!1,!1,!1)},F.extendDeep=function(){return E(arguments,!0,!1,!1)},F.extendDeepAll=function(){return E(arguments,!0,!0,!1)},F.extendDeepNoArrays=function(){return E(arguments,!0,!1,!0)}},48965:function($){$.exports=function(F){for(var m={},L=[],D=0,E=0;E<F.length;E++){var T=F[E];m[T]!==1&&(m[T]=1,L[D++]=T)}return L}},78926:function($){function F(L){return L.visible===!0}function m(L){var D=L[0].trace;return D.visible===!0&&D._length!==0}$.exports=function(L){for(var D,E=(D=L,Array.isArray(D)&&Array.isArray(D[0])&&D[0][0]&&D[0][0].trace?m:F),T=[],k=0;k<L.length;k++){var M=L[k];E(M)&&T.push(M)}return T}},3447:function($,F,m){var L,D,E,T=m(98953).mod;function k(b,a,t,u,i,l,d,v){var y=t-b,p=i-b,c=d-i,x=u-a,f=l-a,n=v-l,o=y*n-c*x;if(o===0)return null;var s=(p*n-c*f)/o,r=(p*x-y*f)/o;return r<0||r>1||s<0||s>1?null:{x:b+y*s,y:a+x*s}}function M(b,a,t,u,i){var l=u*b+i*a;if(l<0)return u*u+i*i;if(l>t){var d=u-b,v=i-a;return d*d+v*v}var y=u*a-i*b;return y*y/t}F.segmentsIntersect=k,F.segmentDistance=function(b,a,t,u,i,l,d,v){if(k(b,a,t,u,i,l,d,v))return 0;var y=t-b,p=u-a,c=d-i,x=v-l,f=y*y+p*p,n=c*c+x*x,o=Math.min(M(y,p,f,i-b,l-a),M(y,p,f,d-b,v-a),M(c,x,n,b-i,a-l),M(c,x,n,t-i,u-l));return Math.sqrt(o)},F.getTextLocation=function(b,a,t,u){if(b===D&&u===E||(L={},D=b,E=u),L[t])return L[t];var i=b.getPointAtLength(T(t-u/2,a)),l=b.getPointAtLength(T(t+u/2,a)),d=Math.atan((l.y-i.y)/(l.x-i.x)),v=b.getPointAtLength(T(t,a)),y={x:(4*v.x+i.x+l.x)/6,y:(4*v.y+i.y+l.y)/6,theta:d};return L[t]=y,y},F.clearLocationCache=function(){D=null},F.getVisibleSegment=function(b,a,t){var u,i,l=a.left,d=a.right,v=a.top,y=a.bottom,p=0,c=b.getTotalLength(),x=c;function f(o){var s=b.getPointAtLength(o);o===0?u=s:o===c&&(i=s);var r=s.x<l?l-s.x:s.x>d?s.x-d:0,g=s.y<v?v-s.y:s.y>y?s.y-y:0;return Math.sqrt(r*r+g*g)}for(var n=f(p);n;){if((p+=n+t)>x)return;n=f(p)}for(n=f(x);n;){if(p>(x-=n+t))return;n=f(x)}return{min:p,max:x,len:x-p,total:c,isClosed:p===0&&x===c&&Math.abs(u.x-i.x)<.1&&Math.abs(u.y-i.y)<.1}},F.findPointOnPath=function(b,a,t,u){for(var i,l,d,v=(u=u||{}).pathLength||b.getTotalLength(),y=u.tolerance||.001,p=u.iterationLimit||30,c=b.getPointAtLength(0)[t]>b.getPointAtLength(v)[t]?-1:1,x=0,f=0,n=v;x<p;){if(i=(f+n)/2,d=(l=b.getPointAtLength(i))[t]-a,Math.abs(d)<y)return l;c*d>0?n=i:f=i,x++}return l}},46998:function($,F,m){var L=m(10721),D=m(65657),E=m(162),T=m(88856),k=m(10229).defaultLine,M=m(87800).isArrayOrTypedArray,b=E(k);function a(i,l){var d=i;return d[3]*=l,d}function t(i){if(L(i))return b;var l=E(i);return l.length?l:b}function u(i){return L(i)?i:1}$.exports={formatColor:function(i,l,d){var v=i.color;v&&v._inputArray&&(v=v._inputArray);var y,p,c,x,f,n=M(v),o=M(l),s=T.extractOpts(i),r=[];if(y=s.colorscale!==void 0?T.makeColorScaleFuncFromTrace(i):t,p=n?function(e,h){return e[h]===void 0?b:E(y(e[h]))}:t,c=o?function(e,h){return e[h]===void 0?1:u(e[h])}:u,n||o)for(var g=0;g<d;g++)x=p(v,g),f=c(l,g),r[g]=a(x,f);else r=a(E(v),l);return r},parseColorScale:function(i){var l=T.extractOpts(i),d=l.colorscale;return l.reversescale&&(d=T.flipScale(l.colorscale)),d.map(function(v){var y=v[0],p=D(v[1]).toRgb();return{index:y,rgb:[p.r,p.g,p.b,p.a]}})}}},71293:function($,F,m){var L=m(29527);function D(E){return[E]}$.exports={keyFun:function(E){return E.key},repeat:D,descend:L,wrap:D,unwrap:function(E){return E[0]}}},29527:function($){$.exports=function(F){return F}},10688:function($){$.exports=function(F,m){if(!m)return F;var L=1/Math.abs(m),D=L>1?(L*F+L*m)/L:F+m,E=String(D).length;if(E>16){var T=String(m).length;if(E>=String(F).length+T){var k=parseFloat(D).toPrecision(12);k.indexOf("e+")===-1&&(D=+k)}}return D}},34809:function($,F,m){var L=m(45568),D=m(42696).aL,E=m(36464).GP,T=m(10721),k=m(63821),M=k.FP_SAFE,b=-M,a=k.BADNUM,t=$.exports={};t.adjustFormat=function(G){return!G||/^\d[.]\df/.test(G)||/[.]\d%/.test(G)?G:G==="0.f"?"~f":/^\d%/.test(G)?"~%":/^\ds/.test(G)?"~s":!/^[~,.0$]/.test(G)&&/[&fps]/.test(G)?"~"+G:G};var u={};t.warnBadFormat=function(G){var H=String(G);u[H]||(u[H]=1,t.warn('encountered bad format: "'+H+'"'))},t.noFormat=function(G){return String(G)},t.numberFormat=function(G){var H;try{H=E(t.adjustFormat(G))}catch{return t.warnBadFormat(G),t.noFormat}return H},t.nestedProperty=m(35632),t.keyedContainer=m(34967),t.relativeAttr=m(82047),t.isPlainObject=m(56174),t.toLogRange=m(8083),t.relinkPrivateKeys=m(80428);var i=m(87800);t.isArrayBuffer=i.isArrayBuffer,t.isTypedArray=i.isTypedArray,t.isArrayOrTypedArray=i.isArrayOrTypedArray,t.isArray1D=i.isArray1D,t.ensureArray=i.ensureArray,t.concat=i.concat,t.maxRowLength=i.maxRowLength,t.minRowLength=i.minRowLength;var l=m(98953);t.mod=l.mod,t.modHalf=l.modHalf;var d=m(34220);t.valObjectMeta=d.valObjectMeta,t.coerce=d.coerce,t.coerce2=d.coerce2,t.coerceFont=d.coerceFont,t.coercePattern=d.coercePattern,t.coerceHoverinfo=d.coerceHoverinfo,t.coerceSelectionMarkerOpacity=d.coerceSelectionMarkerOpacity,t.validate=d.validate;var v=m(92596);t.dateTime2ms=v.dateTime2ms,t.isDateTime=v.isDateTime,t.ms2DateTime=v.ms2DateTime,t.ms2DateTimeLocal=v.ms2DateTimeLocal,t.cleanDate=v.cleanDate,t.isJSDate=v.isJSDate,t.formatDate=v.formatDate,t.incrementMonth=v.incrementMonth,t.dateTick0=v.dateTick0,t.dfltRange=v.dfltRange,t.findExactDates=v.findExactDates,t.MIN_MS=v.MIN_MS,t.MAX_MS=v.MAX_MS;var y=m(98813);t.findBin=y.findBin,t.sorterAsc=y.sorterAsc,t.sorterDes=y.sorterDes,t.distinctVals=y.distinctVals,t.roundUp=y.roundUp,t.sort=y.sort,t.findIndexOfMin=y.findIndexOfMin,t.sortObjectKeys=m(62994);var p=m(89258);t.aggNums=p.aggNums,t.len=p.len,t.mean=p.mean,t.geometricMean=p.geometricMean,t.median=p.median,t.midRange=p.midRange,t.variance=p.variance,t.stdev=p.stdev,t.interp=p.interp;var c=m(15236);t.init2dArray=c.init2dArray,t.transposeRagged=c.transposeRagged,t.dot=c.dot,t.translationMatrix=c.translationMatrix,t.rotationMatrix=c.rotationMatrix,t.rotationXYMatrix=c.rotationXYMatrix,t.apply3DTransform=c.apply3DTransform,t.apply2DTransform=c.apply2DTransform,t.apply2DTransform2=c.apply2DTransform2,t.convertCssMatrix=c.convertCssMatrix,t.inverseTransformMatrix=c.inverseTransformMatrix;var x=m(44313);t.deg2rad=x.deg2rad,t.rad2deg=x.rad2deg,t.angleDelta=x.angleDelta,t.angleDist=x.angleDist,t.isFullCircle=x.isFullCircle,t.isAngleInsideSector=x.isAngleInsideSector,t.isPtInsideSector=x.isPtInsideSector,t.pathArc=x.pathArc,t.pathSector=x.pathSector,t.pathAnnulus=x.pathAnnulus;var f=m(32546);t.isLeftAnchor=f.isLeftAnchor,t.isCenterAnchor=f.isCenterAnchor,t.isRightAnchor=f.isRightAnchor,t.isTopAnchor=f.isTopAnchor,t.isMiddleAnchor=f.isMiddleAnchor,t.isBottomAnchor=f.isBottomAnchor;var n=m(3447);t.segmentsIntersect=n.segmentsIntersect,t.segmentDistance=n.segmentDistance,t.getTextLocation=n.getTextLocation,t.clearLocationCache=n.clearLocationCache,t.getVisibleSegment=n.getVisibleSegment,t.findPointOnPath=n.findPointOnPath;var o=m(93049);t.extendFlat=o.extendFlat,t.extendDeep=o.extendDeep,t.extendDeepAll=o.extendDeepAll,t.extendDeepNoArrays=o.extendDeepNoArrays;var s=m(48636);t.log=s.log,t.warn=s.warn,t.error=s.error;var r=m(90694);t.counterRegex=r.counter;var g=m(64025);t.throttle=g.throttle,t.throttleDone=g.done,t.clearThrottle=g.clear;var e=m(95425);function h(G){var H={};for(var U in G)for(var Z=G[U],q=0;q<Z.length;q++)H[Z[q]]=+U;return H}t.getGraphDiv=e.getGraphDiv,t.isPlotDiv=e.isPlotDiv,t.removeElement=e.removeElement,t.addStyleRule=e.addStyleRule,t.addRelatedStyleRule=e.addRelatedStyleRule,t.deleteRelatedStyleRule=e.deleteRelatedStyleRule,t.getFullTransformMatrix=e.getFullTransformMatrix,t.getElementTransformMatrix=e.getElementTransformMatrix,t.getElementAndAncestors=e.getElementAndAncestors,t.equalDomRects=e.equalDomRects,t.clearResponsive=m(23493),t.preserveDrawingBuffer=m(32521),t.makeTraceGroups=m(75944),t._=m(38514),t.notifier=m(87355),t.filterUnique=m(48965),t.filterVisible=m(78926),t.pushUnique=m(36539),t.increment=m(10688),t.cleanNumber=m(44498),t.ensureNumber=function(G){return T(G)?(G=Number(G))>M||G<b?a:G:a},t.isIndex=function(G,H){return!(H!==void 0&&G>=H)&&T(G)&&G>=0&&G%1==0},t.noop=m(4969),t.identity=m(29527),t.repeat=function(G,H){for(var U=new Array(H),Z=0;Z<H;Z++)U[Z]=G;return U},t.swapAttrs=function(G,H,U,Z){U||(U="x"),Z||(Z="y");for(var q=0;q<H.length;q++){var Q=H[q],ne=t.nestedProperty(G,Q.replace("?",U)),ie=t.nestedProperty(G,Q.replace("?",Z)),le=ne.get();ne.set(ie.get()),ie.set(le)}},t.raiseToTop=function(G){G.parentNode.appendChild(G)},t.cancelTransition=function(G){return G.transition().duration(0)},t.constrain=function(G,H,U){return H>U?Math.max(U,Math.min(H,G)):Math.max(H,Math.min(U,G))},t.bBoxIntersect=function(G,H,U){return U=U||0,G.left<=H.right+U&&H.left<=G.right+U&&G.top<=H.bottom+U&&H.top<=G.bottom+U},t.simpleMap=function(G,H,U,Z,q){for(var Q=G.length,ne=new Array(Q),ie=0;ie<Q;ie++)ne[ie]=H(G[ie],U,Z,q);return ne},t.randstr=function G(H,U,Z,q){if(Z||(Z=16),U===void 0&&(U=24),U<=0)return"0";var Q,ne,ie=Math.log(Math.pow(2,U))/Math.log(Z),le="";for(Q=2;ie===1/0;Q*=2)ie=Math.log(Math.pow(2,U/Q))/Math.log(Z)*Q;var fe=ie-Math.floor(ie);for(Q=0;Q<Math.floor(ie);Q++)le=Math.floor(Math.random()*Z).toString(Z)+le;fe&&(ne=Math.pow(Z,fe),le=Math.floor(Math.random()*ne).toString(Z)+le);var pe=parseInt(le,Z);return H&&H[le]||pe!==1/0&&pe>=Math.pow(2,U)?q>10?(t.warn("randstr failed uniqueness"),le):G(H,U,Z,(q||0)+1):le},t.OptionControl=function(G,H){G||(G={}),H||(H="opt");var U={optionList:[],_newoption:function(Z){Z[H]=G,U[Z.name]=Z,U.optionList.push(Z)}};return U["_"+H]=G,U},t.smooth=function(G,H){if((H=Math.round(H)||0)<2)return G;var U,Z,q,Q,ne=G.length,ie=2*ne,le=2*H-1,fe=new Array(le),pe=new Array(ne);for(U=0;U<le;U++)fe[U]=(1-Math.cos(Math.PI*(U+1)/H))/(2*H);for(U=0;U<ne;U++){for(Q=0,Z=0;Z<le;Z++)(q=U+Z+1-H)<-ne?q-=ie*Math.round(q/ie):q>=ie&&(q-=ie*Math.floor(q/ie)),q<0?q=-1-q:q>=ne&&(q=ie-1-q),Q+=G[q]*fe[Z];pe[U]=Q}return pe},t.syncOrAsync=function(G,H,U){var Z;function q(){return t.syncOrAsync(G,H,U)}for(;G.length;)if((Z=(0,G.splice(0,1)[0])(H))&&Z.then)return Z.then(q);return U&&U(H)},t.stripTrailingSlash=function(G){return G.substr(-1)==="/"?G.substr(0,G.length-1):G},t.noneOrAll=function(G,H,U){if(G){var Z,q=!1,Q=!0;for(Z=0;Z<U.length;Z++)G[U[Z]]!=null?q=!0:Q=!1;if(q&&!Q)for(Z=0;Z<U.length;Z++)G[U[Z]]=H[U[Z]]}},t.mergeArray=function(G,H,U,Z){var q=typeof Z=="function";if(t.isArrayOrTypedArray(G))for(var Q=Math.min(G.length,H.length),ne=0;ne<Q;ne++){var ie=G[ne];H[ne][U]=q?Z(ie):ie}},t.mergeArrayCastPositive=function(G,H,U){return t.mergeArray(G,H,U,function(Z){var q=+Z;return isFinite(q)&&q>0?q:0})},t.fillArray=function(G,H,U,Z){if(Z=Z||t.identity,t.isArrayOrTypedArray(G))for(var q=0;q<H.length;q++)H[q][U]=Z(G[q])},t.castOption=function(G,H,U,Z){Z=Z||t.identity;var q=t.nestedProperty(G,U).get();return t.isArrayOrTypedArray(q)?Array.isArray(H)&&t.isArrayOrTypedArray(q[H[0]])?Z(q[H[0]][H[1]]):Z(q[H]):q},t.extractOption=function(G,H,U,Z){if(U in G)return G[U];var q=t.nestedProperty(H,Z).get();return Array.isArray(q)?void 0:q},t.tagSelected=function(G,H,U){var Z,q,Q=H.selectedpoints,ne=H._indexToPoints;ne&&(Z=h(ne));for(var ie=0;ie<Q.length;ie++){var le=Q[ie];if(t.isIndex(le)||t.isArrayOrTypedArray(le)&&t.isIndex(le[0])&&t.isIndex(le[1])){var fe=Z?Z[le]:le,pe=U?U[fe]:fe;(q=pe)!==void 0&&q<G.length&&(G[pe].selected=1)}}},t.selIndices2selPoints=function(G){var H=G.selectedpoints,U=G._indexToPoints;if(U){for(var Z=h(U),q=[],Q=0;Q<H.length;Q++){var ne=H[Q];if(t.isIndex(ne)){var ie=Z[ne];t.isIndex(ie)&&q.push(ie)}}return q}return H},t.getTargetArray=function(G,H){var U=H.target;if(typeof U=="string"&&U){var Z=t.nestedProperty(G,U).get();return!!t.isArrayOrTypedArray(Z)&&Z}return!!t.isArrayOrTypedArray(U)&&U},t.minExtend=function G(H,U,Z){var q={};typeof U!="object"&&(U={});var Q,ne,ie,le=Z==="pieLike"?-1:3,fe=Object.keys(H);for(Q=0;Q<fe.length;Q++)ie=H[ne=fe[Q]],ne.charAt(0)!=="_"&&typeof ie!="function"&&(ne==="module"?q[ne]=ie:Array.isArray(ie)?q[ne]=ne==="colorscale"||le===-1?ie.slice():ie.slice(0,le):t.isTypedArray(ie)?q[ne]=le===-1?ie.subarray():ie.subarray(0,le):q[ne]=ie&&typeof ie=="object"?G(H[ne],U[ne],Z):ie);for(fe=Object.keys(U),Q=0;Q<fe.length;Q++)typeof(ie=U[ne=fe[Q]])=="object"&&ne in q&&typeof q[ne]=="object"||(q[ne]=ie);return q},t.titleCase=function(G){return G.charAt(0).toUpperCase()+G.substr(1)},t.containsAny=function(G,H){for(var U=0;U<H.length;U++)if(G.indexOf(H[U])!==-1)return!0;return!1},t.isIE=function(){return window.navigator.msSaveBlob!==void 0};var _=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return _.test(window.navigator.userAgent)};var w=/iPad|iPhone|iPod/;t.isIOS=function(){return w.test(window.navigator.userAgent)};var S=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var G=S.exec(window.navigator.userAgent);if(G&&G.length===2){var H=parseInt(G[1]);if(!isNaN(H))return H}return null},t.isD3Selection=function(G){return G instanceof L.selection},t.ensureSingle=function(G,H,U,Z){var q=G.select(H+(U?"."+U:""));if(q.size())return q;var Q=G.append(H);return U&&Q.classed(U,!0),Z&&Q.call(Z),Q},t.ensureSingleById=function(G,H,U,Z){var q=G.select(H+"#"+U);if(q.size())return q;var Q=G.append(H).attr("id",U);return Z&&Q.call(Z),Q},t.objectFromPath=function(G,H){for(var U,Z=G.split("."),q=U={},Q=0;Q<Z.length;Q++){var ne=Z[Q],ie=null,le=Z[Q].match(/(.*)\[([0-9]+)\]/);le?(ne=le[1],ie=le[2],U=U[ne]=[],Q===Z.length-1?U[ie]=H:U[ie]={},U=U[ie]):(Q===Z.length-1?U[ne]=H:U[ne]={},U=U[ne])}return q};var O=/^([^\[\.]+)\.(.+)?/,A=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function I(G){return G.slice(0,2)==="__"}t.expandObjectPaths=function(G){var H,U,Z,q,Q,ne,ie;if(typeof G=="object"&&!Array.isArray(G)){for(U in G)if(G.hasOwnProperty(U))if(H=U.match(O)){if(q=G[U],I(Z=H[1]))continue;delete G[U],G[Z]=t.extendDeepNoArrays(G[Z]||{},t.objectFromPath(U,t.expandObjectPaths(q))[Z])}else if(H=U.match(A)){if(q=G[U],I(Z=H[1]))continue;if(Q=parseInt(H[2]),delete G[U],G[Z]=G[Z]||[],H[3]===".")ie=H[4],ne=G[Z][Q]=G[Z][Q]||{},t.extendDeepNoArrays(ne,t.objectFromPath(ie,t.expandObjectPaths(q)));else{if(I(Z))continue;G[Z][Q]=t.expandObjectPaths(q)}}else{if(I(U))continue;G[U]=t.expandObjectPaths(G[U])}}return G},t.numSeparate=function(G,H,U){if(U||(U=!1),typeof H!="string"||H.length===0)throw new Error("Separator string required for formatting!");typeof G=="number"&&(G=String(G));var Z=/(\d+)(\d{3})/,q=H.charAt(0),Q=H.charAt(1),ne=G.split("."),ie=ne[0],le=ne.length>1?q+ne[1]:"";if(Q&&(ne.length>1||ie.length>4||U))for(;Z.test(ie);)ie=ie.replace(Z,"$1"+Q+"$2");return ie+le},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var B=/^\w*$/;t.templateString=function(G,H){var U={};return G.replace(t.TEMPLATE_STRING_REGEX,function(Z,q){var Q;return B.test(q)?Q=H[q]:(U[q]=U[q]||t.nestedProperty(H,q).get,Q=U[q]()),t.isValidTextValue(Q)?Q:""})};var C={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return j.apply(C,arguments)};var z={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return j.apply(z,arguments)};var P=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,R={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return j.apply(R,arguments)};var N=/^[:|\|]/;function j(G,H,U){var Z=this,q=arguments;H||(H={});var Q={};return G.replace(t.TEMPLATE_STRING_REGEX,function(ne,ie,le){var fe=ie==="_xother"||ie==="_yother",pe=ie==="_xother_"||ie==="_yother_",me=ie==="xother_"||ie==="yother_",ke=ie==="xother"||ie==="yother"||fe||me||pe,ve=ie;(fe||pe)&&(ve=ve.substring(1)),(me||pe)&&(ve=ve.substring(0,ve.length-1));var he,de,X,ae=null,K=null;if(Z.parseMultDiv){var ge=function(Te){var ee=Te.match(P);return ee?{key:ee[1],op:ee[2],number:Number(ee[3])}:{key:Te,op:null,number:null}}(ve);ve=ge.key,ae=ge.op,K=ge.number}if(ke){if((he=H[ve])===void 0)return""}else for(X=3;X<q.length;X++)if(de=q[X]){if(de.hasOwnProperty(ve)){he=de[ve];break}if(B.test(ve)||(he=t.nestedProperty(de,ve).get(),(he=Q[ve]||t.nestedProperty(de,ve).get())&&(Q[ve]=he)),he!==void 0)break}if(he!==void 0&&(ae==="*"&&(he*=K),ae==="/"&&(he/=K)),he===void 0&&Z)return Z.count<Z.max&&(t.warn("Variable '"+ve+"' in "+Z.name+" could not be found!"),he=ne),Z.count===Z.max&&t.warn("Too many "+Z.name+" warnings - additional warnings will be suppressed"),Z.count++,ne;if(le){var re;if(le[0]===":"&&(re=U?U.numberFormat:t.numberFormat,he!==""&&(he=re(le.replace(N,""))(he))),le[0]==="|"){re=U?U.timeFormat:D;var ue=t.dateTime2ms(he);he=t.formatDate(ue,le.replace(N,""),!1,re)}}else{var we=ve+"Label";H.hasOwnProperty(we)&&(he=H[we])}return ke&&(he="("+he+")",(fe||pe)&&(he=" "+he),(me||pe)&&(he+=" ")),he})}t.subplotSort=function(G,H){for(var U=Math.min(G.length,H.length)+1,Z=0,q=0,Q=0;Q<U;Q++){var ne=G.charCodeAt(Q)||0,ie=H.charCodeAt(Q)||0,le=ne>=48&&ne<=57,fe=ie>=48&&ie<=57;if(le&&(Z=10*Z+ne-48),fe&&(q=10*q+ie-48),!le||!fe){if(Z!==q)return Z-q;if(ne!==ie)return ne-ie}}return q-Z};var W=2e9;t.seedPseudoRandom=function(){W=2e9},t.pseudoRandom=function(){var G=W;return W=(69069*W+1)%4294967296,Math.abs(W-G)<429496729?t.pseudoRandom():W/4294967296},t.fillText=function(G,H,U){var Z=Array.isArray(U)?function(ne){U.push(ne)}:function(ne){U.text=ne},q=t.extractOption(G,H,"htx","hovertext");if(t.isValidTextValue(q))return Z(q);var Q=t.extractOption(G,H,"tx","text");return t.isValidTextValue(Q)?Z(Q):void 0},t.isValidTextValue=function(G){return G||G===0},t.formatPercent=function(G,H){H=H||0;for(var U=(Math.round(100*G*Math.pow(10,H))*Math.pow(.1,H)).toFixed(H)+"%",Z=0;Z<H;Z++)U.indexOf(".")!==-1&&(U=(U=U.replace("0%","%")).replace(".%","%"));return U},t.isHidden=function(G){var H=window.getComputedStyle(G).display;return!H||H==="none"},t.strTranslate=function(G,H){return G||H?"translate("+G+","+H+")":""},t.strRotate=function(G){return G?"rotate("+G+")":""},t.strScale=function(G){return G!==1?"scale("+G+")":""},t.getTextTransform=function(G){var H=G.noCenter,U=G.textX,Z=G.textY,q=G.targetX,Q=G.targetY,ne=G.anchorX||0,ie=G.anchorY||0,le=G.rotate,fe=G.scale;return fe?fe>1&&(fe=1):fe=0,t.strTranslate(q-fe*(U+ne),Q-fe*(Z+ie))+t.strScale(fe)+(le?"rotate("+le+(H?"":" "+U+" "+Z)+")":"")},t.setTransormAndDisplay=function(G,H){G.attr("transform",t.getTextTransform(H)),G.style("display",H.scale?null:"none")},t.ensureUniformFontSize=function(G,H){var U=t.extendFlat({},H);return U.size=Math.max(H.size,G._fullLayout.uniformtext.minsize||0),U},t.join2=function(G,H,U){var Z=G.length;return Z>1?G.slice(0,-1).join(H)+U+G[Z-1]:G.join(H)},t.bigFont=function(G){return Math.round(1.2*G)};var Y=t.getFirefoxVersion(),J=Y!==null&&Y<86;t.getPositionFromD3Event=function(){return J?[L.event.layerX,L.event.layerY]:[L.event.offsetX,L.event.offsetY]}},56174:function($){$.exports=function(F){return window&&window.process&&window.process.versions?Object.prototype.toString.call(F)==="[object Object]":Object.prototype.toString.call(F)==="[object Object]"&&Object.getPrototypeOf(F).hasOwnProperty("hasOwnProperty")}},34967:function($,F,m){var L=m(35632),D=/^\w*$/;$.exports=function(E,T,k,M){var b,a,t;k=k||"name",M=M||"value";var u={};T&&T.length?(t=L(E,T),a=t.get()):a=E,T=T||"";var i={};if(a)for(b=0;b<a.length;b++)i[a[b][k]]=b;var l=D.test(M),d={set:function(v,y){var p=y===null?4:0;if(!a){if(!t||p===4)return;a=[],t.set(a)}var c=i[v];if(c===void 0){if(p===4)return;p|=3,c=a.length,i[v]=c}else y!==(l?a[c][M]:L(a[c],M).get())&&(p|=2);var x=a[c]=a[c]||{};return x[k]=v,l?x[M]=y:L(x,M).set(y),y!==null&&(p&=-5),u[c]=u[c]|p,d},get:function(v){if(a){var y=i[v];return y===void 0?void 0:l?a[y][M]:L(a[y],M).get()}},rename:function(v,y){var p=i[v];return p===void 0||(u[p]=1|u[p],i[y]=p,delete i[v],a[p][k]=y),d},remove:function(v){var y=i[v];if(y===void 0)return d;var p=a[y];if(Object.keys(p).length>2)return u[y]=2|u[y],d.set(v,null);if(l){for(b=y;b<a.length;b++)u[b]=3|u[b];for(b=y;b<a.length;b++)i[a[b][k]]--;a.splice(y,1),delete i[v]}else L(p,M).set(null),u[y]=6|u[y];return d},constructUpdate:function(){for(var v,y,p={},c=Object.keys(u),x=0;x<c.length;x++)y=c[x],v=T+"["+y+"]",a[y]?(1&u[y]&&(p[v+"."+k]=a[y][k]),2&u[y]&&(p[v+"."+M]=l?4&u[y]?null:a[y][M]:4&u[y]?null:L(a[y],M).get())):p[v]=null;return p}};return d}},38514:function($,F,m){var L=m(33626);$.exports=function(D,E){for(var T=D._context.locale,k=0;k<2;k++){for(var M=D._context.locales,b=0;b<2;b++){var a=(M[T]||{}).dictionary;if(a){var t=a[E];if(t)return t}M=L.localeRegistry}var u=T.split("-")[0];if(u===T)break;T=u}return E}},48636:function($,F,m){var L=m(24452).dfltConfig,D=m(87355),E=$.exports={};E.log=function(){var T;if(L.logging>1){var k=["LOG:"];for(T=0;T<arguments.length;T++)k.push(arguments[T]);console.trace.apply(console,k)}if(L.notifyOnLogging>1){var M=[];for(T=0;T<arguments.length;T++)M.push(arguments[T]);D(M.join("<br>"),"long")}},E.warn=function(){var T;if(L.logging>0){var k=["WARN:"];for(T=0;T<arguments.length;T++)k.push(arguments[T]);console.trace.apply(console,k)}if(L.notifyOnLogging>0){var M=[];for(T=0;T<arguments.length;T++)M.push(arguments[T]);D(M.join("<br>"),"stick")}},E.error=function(){var T;if(L.logging>0){var k=["ERROR:"];for(T=0;T<arguments.length;T++)k.push(arguments[T]);console.error.apply(console,k)}if(L.notifyOnLogging>0){var M=[];for(T=0;T<arguments.length;T++)M.push(arguments[T]);D(M.join("<br>"),"stick")}}},75944:function($,F,m){var L=m(45568);$.exports=function(D,E,T){var k=D.selectAll("g."+T.replace(/\s/g,".")).data(E,function(b){return b[0].trace.uid});k.exit().remove(),k.enter().append("g").attr("class",T),k.order();var M=D.classed("rangeplot")?"nodeRangePlot3":"node3";return k.each(function(b){b[0][M]=L.select(this)}),k}},15236:function($,F,m){var L=m(11191);F.init2dArray=function(D,E){for(var T=new Array(D),k=0;k<D;k++)T[k]=new Array(E);return T},F.transposeRagged=function(D){var E,T,k=0,M=D.length;for(E=0;E<M;E++)k=Math.max(k,D[E].length);var b=new Array(k);for(E=0;E<k;E++)for(b[E]=new Array(M),T=0;T<M;T++)b[E][T]=D[T][E];return b},F.dot=function(D,E){if(!D.length||!E.length||D.length!==E.length)return null;var T,k,M=D.length;if(D[0].length)for(T=new Array(M),k=0;k<M;k++)T[k]=F.dot(D[k],E);else if(E[0].length){var b=F.transposeRagged(E);for(T=new Array(b.length),k=0;k<b.length;k++)T[k]=F.dot(D,b[k])}else for(T=0,k=0;k<M;k++)T+=D[k]*E[k];return T},F.translationMatrix=function(D,E){return[[1,0,D],[0,1,E],[0,0,1]]},F.rotationMatrix=function(D){var E=D*Math.PI/180;return[[Math.cos(E),-Math.sin(E),0],[Math.sin(E),Math.cos(E),0],[0,0,1]]},F.rotationXYMatrix=function(D,E,T){return F.dot(F.dot(F.translationMatrix(E,T),F.rotationMatrix(D)),F.translationMatrix(-E,-T))},F.apply3DTransform=function(D){return function(){var E=arguments,T=arguments.length===1?E[0]:[E[0],E[1],E[2]||0];return F.dot(D,[T[0],T[1],T[2],1]).slice(0,3)}},F.apply2DTransform=function(D){return function(){var E=arguments;E.length===3&&(E=E[0]);var T=arguments.length===1?E[0]:[E[0],E[1]];return F.dot(D,[T[0],T[1],1]).slice(0,2)}},F.apply2DTransform2=function(D){var E=F.apply2DTransform(D);return function(T){return E(T.slice(0,2)).concat(E(T.slice(2,4)))}},F.convertCssMatrix=function(D){if(D){var E=D.length;if(E===16)return D;if(E===6)return[D[0],D[1],0,0,D[2],D[3],0,0,0,0,1,0,D[4],D[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},F.inverseTransformMatrix=function(D){var E=[];return L.invert(E,D),[[E[0],E[1],E[2],E[3]],[E[4],E[5],E[6],E[7]],[E[8],E[9],E[10],E[11]],[E[12],E[13],E[14],E[15]]]}},98953:function($){$.exports={mod:function(F,m){var L=F%m;return L<0?L+m:L},modHalf:function(F,m){return Math.abs(F)>m/2?F-Math.round(F/m)*m:F}}},35632:function($,F,m){var L=m(10721),D=m(87800).isArrayOrTypedArray;function E(u,i){return function(){var l,d,v,y,p,c=u;for(y=0;y<i.length-1;y++){if((l=i[y])===-1){for(d=!0,v=[],p=0;p<c.length;p++)v[p]=E(c[p],i.slice(y+1))(),v[p]!==v[0]&&(d=!1);return d?v[0]:v}if(typeof l=="number"&&!D(c)||typeof(c=c[l])!="object"||c===null)return}if(typeof c=="object"&&c!==null&&(v=c[i[y]])!==null)return v}}$.exports=function(u,i){if(L(i))i=String(i);else if(typeof i!="string"||i.substr(i.length-4)==="[-1]")throw"bad property string";var l,d,v,y,p=i.split(".");for(y=0;y<p.length;y++)if(String(p[y]).slice(0,2)==="__")throw"bad property string";for(y=0;y<p.length;){if(l=String(p[y]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(l[1])p[y]=l[1];else{if(y!==0)throw"bad property string";p.splice(0,1)}for(d=l[2].substr(1,l[2].length-2).split("]["),v=0;v<d.length;v++)y++,p.splice(y,0,Number(d[v]))}y++}return typeof u!="object"?function(c,x,f){return{set:function(){throw"bad container"},get:function(){},astr:x,parts:f,obj:c}}(u,i,p):{set:M(u,p,i),get:E(u,p),astr:i,parts:p,obj:u}};var T=/(^|\.)args\[/;function k(u,i){return u===void 0||u===null&&!i.match(T)}function M(u,i,l){return function(d){var v,y,p=u,c="",x=k(d,l);for(y=0;y<i.length-1;y++){if(typeof(v=i[y])=="number"&&!D(p))throw"array index but container is not an array";if(v===-1){if(x=!a(p,i.slice(y+1),d,l))break;return}if(!t(p,v,i[y+1],x))break;if(typeof(p=p[v])!="object"||p===null)throw"container is not an object";c=b(c,v)}if(x){if(y===i.length-1&&(delete p[i[y]],Array.isArray(p)&&+i[y]==p.length-1))for(;p.length&&p[p.length-1]===void 0;)p.pop()}else p[i[y]]=d}}function b(u,i){var l=i;return L(i)?l="["+i+"]":u&&(l="."+i),u+l}function a(u,i,l,d){var v,y=D(l),p=!0,c=l,x=d.replace("-1",0),f=!y&&k(l,x),n=i[0];for(v=0;v<u.length;v++)x=d.replace("-1",v),y&&(f=k(c=l[v%l.length],x)),f&&(p=!1),t(u,v,n,f)&&M(u[v],i,d.replace("-1",v))(c);return p}function t(u,i,l,d){if(u[i]===void 0){if(d)return!1;u[i]=typeof l=="number"?[]:{}}return!0}},4969:function($){$.exports=function(){}},87355:function($,F,m){var L=m(45568),D=m(10721),E=[];$.exports=function(T,k){if(E.indexOf(T)===-1){E.push(T);var M=1e3;D(k)?M=k:k==="long"&&(M=3e3);var b=L.select("body").selectAll(".plotly-notifier").data([0]);b.enter().append("div").classed("plotly-notifier",!0),b.selectAll(".notifier-note").data(E).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(t){var u=L.select(this);u.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){u.transition().call(a)});for(var i=u.append("p"),l=t.split(/<br\s*\/?>/g),d=0;d<l.length;d++)d&&i.append("br"),i.append("span").text(l[d]);k==="stick"?u.transition().duration(350).style("opacity",1):u.transition().duration(700).style("opacity",1).transition().delay(M).call(a)})}function a(t){t.duration(700).style("opacity",0).each("end",function(u){var i=E.indexOf(u);i!==-1&&E.splice(i,1),L.select(this).remove()})}}},93134:function($,F,m){var L=m(27983),D="data-savedcursor";$.exports=function(E,T){var k=E.attr(D);if(T){if(!k){for(var M=(E.attr("class")||"").split(" "),b=0;b<M.length;b++){var a=M[b];a.indexOf("cursor-")===0&&E.attr(D,a.substr(7)).classed(a,!1)}E.attr(D)||E.attr(D,"!!")}L(E,T)}else k&&(E.attr(D,null),k==="!!"?L(E):L(E,k))}},80899:function($,F,m){var L=m(15236).dot,D=m(63821).BADNUM,E=$.exports={};E.tester=function(T){var k,M=T.slice(),b=M[0][0],a=b,t=M[0][1],u=t;for(M[M.length-1][0]===M[0][0]&&M[M.length-1][1]===M[0][1]||M.push(M[0]),k=1;k<M.length;k++)b=Math.min(b,M[k][0]),a=Math.max(a,M[k][0]),t=Math.min(t,M[k][1]),u=Math.max(u,M[k][1]);var i,l=!1;M.length===5&&(M[0][0]===M[1][0]?M[2][0]===M[3][0]&&M[0][1]===M[3][1]&&M[1][1]===M[2][1]&&(l=!0,i=function(y){return y[0]===M[0][0]}):M[0][1]===M[1][1]&&M[2][1]===M[3][1]&&M[0][0]===M[3][0]&&M[1][0]===M[2][0]&&(l=!0,i=function(y){return y[1]===M[0][1]}));var d=!0,v=M[0];for(k=1;k<M.length;k++)if(v[0]!==M[k][0]||v[1]!==M[k][1]){d=!1;break}return{xmin:b,xmax:a,ymin:t,ymax:u,pts:M,contains:l?function(y,p){var c=y[0],x=y[1];return!(c===D||c<b||c>a||x===D||x<t||x>u||p&&i(y))}:function(y,p){var c=y[0],x=y[1];if(c===D||c<b||c>a||x===D||x<t||x>u)return!1;var f,n,o,s,r,g=M.length,e=M[0][0],h=M[0][1],_=0;for(f=1;f<g;f++)if(n=e,o=h,e=M[f][0],h=M[f][1],!(c<(s=Math.min(n,e))||c>Math.max(n,e)||x>Math.max(o,h)))if(x<Math.min(o,h))c!==s&&_++;else{if(x===(r=e===n?x:o+(c-n)*(h-o)/(e-n)))return f!==1||!p;x<=r&&c!==s&&_++}return _%2==1},isRect:l,degenerate:d}},E.isSegmentBent=function(T,k,M,b){var a,t,u,i=T[k],l=[T[M][0]-i[0],T[M][1]-i[1]],d=L(l,l),v=Math.sqrt(d),y=[-l[1]/v,l[0]/v];for(a=k+1;a<M;a++)if(t=[T[a][0]-i[0],T[a][1]-i[1]],(u=L(t,l))<0||u>d||Math.abs(L(t,y))>b)return!0;return!1},E.filter=function(T,k){var M=[T[0]],b=0,a=0;function t(u){T.push(u);var i=M.length,l=b;M.splice(a+1);for(var d=l+1;d<T.length;d++)(d===T.length-1||E.isSegmentBent(T,l,d+1,k))&&(M.push(T[d]),M.length<i-2&&(b=d,a=M.length-1),l=d)}return T.length>1&&t(T.pop()),{addPt:t,raw:T,filtered:M}}},22459:function($,F,m){var L=m(97464),D=m(81330);$.exports=function(E,T,k){var M=E._fullLayout,b=!0;return M._glcanvas.each(function(a){if(a.regl)a.regl.preloadCachedCode(k);else if(!a.pick||M._has("parcoords")){try{a.regl=D({canvas:this,attributes:{antialias:!a.pick,preserveDrawingBuffer:!0},pixelRatio:E._context.plotGlPixelRatio||m.g.devicePixelRatio,extensions:T||[],cachedCode:k||{}})}catch{b=!1}a.regl||(b=!1),b&&this.addEventListener("webglcontextlost",function(t){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:t,layer:a.key})},!1)}}),b||L({container:M._glcontainer.node()}),b}},32521:function($,F,m){var L=m(10721),D=m(13087);$.exports=function(E){var T;if(typeof(T=E&&E.hasOwnProperty("userAgent")?E.userAgent:function(){var i;return typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),i}())!="string")return!0;var k=D({ua:{headers:{"user-agent":T}},tablet:!0,featureDetect:!1});if(!k){for(var M=T.split(" "),b=1;b<M.length;b++)if(M[b].indexOf("Safari")!==-1)for(var a=b-1;a>-1;a--){var t=M[a];if(t.substr(0,8)==="Version/"){var u=t.substr(8).split(".")[0];if(L(u)&&(u=+u),u>=13)return!0}}}return k}},36539:function($){$.exports=function(F,m){if(m instanceof RegExp){for(var L=m.toString(),D=0;D<F.length;D++)if(F[D]instanceof RegExp&&F[D].toString()===L)return F;F.push(m)}else!m&&m!==0||F.indexOf(m)!==-1||F.push(m);return F}},40486:function($,F,m){var L=m(34809),D=m(24452).dfltConfig,E={add:function(T,k,M,b,a){var t,u;T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},u=T.undoQueue.index,T.autoplay?T.undoQueue.inSequence||(T.autoplay=!1):(!T.undoQueue.sequence||T.undoQueue.beginSequence?(t={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},T.undoQueue.queue.splice(u,T.undoQueue.queue.length-u,t),T.undoQueue.index+=1):t=T.undoQueue.queue[u-1],T.undoQueue.beginSequence=!1,t&&(t.undo.calls.unshift(k),t.undo.args.unshift(M),t.redo.calls.push(b),t.redo.args.push(a)),T.undoQueue.queue.length>D.queueLength&&(T.undoQueue.queue.shift(),T.undoQueue.index--))},startSequence:function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!0,T.undoQueue.beginSequence=!0},stopSequence:function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!1,T.undoQueue.beginSequence=!1},undo:function(T){var k,M;if(!(T.undoQueue===void 0||isNaN(T.undoQueue.index)||T.undoQueue.index<=0)){for(T.undoQueue.index--,k=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,M=0;M<k.undo.calls.length;M++)E.plotDo(T,k.undo.calls[M],k.undo.args[M]);T.undoQueue.inSequence=!1,T.autoplay=!1}},redo:function(T){var k,M;if(!(T.undoQueue===void 0||isNaN(T.undoQueue.index)||T.undoQueue.index>=T.undoQueue.queue.length)){for(k=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,M=0;M<k.redo.calls.length;M++)E.plotDo(T,k.redo.calls[M],k.redo.args[M]);T.undoQueue.inSequence=!1,T.autoplay=!1,T.undoQueue.index++}},plotDo:function(T,k,M){T.autoplay=!0,M=function(b,a){for(var t,u=[],i=0;i<a.length;i++)t=a[i],u[i]=t===b?t:typeof t=="object"?Array.isArray(t)?L.extendDeep([],t):L.extendDeepAll({},t):t;return u}(T,M),k.apply(null,M)}};$.exports=E},90694:function($,F){F.counter=function(m,L,D,E){var T=(L||"")+(D?"":"$"),k=E===!1?"":"^";return m==="xy"?new RegExp(k+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+T):new RegExp(k+m+"([2-9]|[1-9][0-9]+)?"+T)}},82047:function($){var F=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,m=/^[^\.\[\]]+$/;$.exports=function(L,D){for(;D;){var E=L.match(F);if(E)L=E[1];else{if(!L.match(m))throw new Error("bad relativeAttr call:"+[L,D]);L=""}if(D.charAt(0)!=="^")break;D=D.slice(1)}return L&&D.charAt(0)!=="["?L+"."+D:L+D}},80428:function($,F,m){var L=m(87800).isArrayOrTypedArray,D=m(56174);$.exports=function E(T,k){for(var M in k){var b=k[M],a=T[M];if(a!==b)if(M.charAt(0)==="_"||typeof b=="function"){if(M in T)continue;T[M]=b}else if(L(b)&&L(a)&&D(b[0])){if(M==="customdata"||M==="ids")continue;for(var t=Math.min(b.length,a.length),u=0;u<t;u++)a[u]!==b[u]&&D(b[u])&&D(a[u])&&E(a[u],b[u])}else D(b)&&D(a)&&(E(a,b),Object.keys(a).length||delete T[M])}}},98813:function($,F,m){var L=m(10721),D=m(48636),E=m(29527),T=m(63821).BADNUM,k=1e-9;function M(u,i){return u<i}function b(u,i){return u<=i}function a(u,i){return u>i}function t(u,i){return u>=i}F.findBin=function(u,i,l){if(L(i.start))return l?Math.ceil((u-i.start)/i.size-k)-1:Math.floor((u-i.start)/i.size+k);var d,v,y=0,p=i.length,c=0,x=p>1?(i[p-1]-i[0])/(p-1):1;for(v=x>=0?l?M:b:l?t:a,u+=x*k*(l?-1:1)*(x>=0?1:-1);y<p&&c++<100;)v(i[d=Math.floor((y+p)/2)],u)?y=d+1:p=d;return c>90&&D.log("Long binary search..."),y-1},F.sorterAsc=function(u,i){return u-i},F.sorterDes=function(u,i){return i-u},F.distinctVals=function(u){var i,l=u.slice();for(l.sort(F.sorterAsc),i=l.length-1;i>-1&&l[i]===T;i--);for(var d,v=l[i]-l[0]||1,y=v/(i||1)/1e4,p=[],c=0;c<=i;c++){var x=l[c],f=x-d;d===void 0?(p.push(x),d=x):f>y&&(v=Math.min(v,f),p.push(x),d=x)}return{vals:p,minDiff:v}},F.roundUp=function(u,i,l){for(var d,v=0,y=i.length-1,p=0,c=l?0:1,x=l?1:0,f=l?Math.ceil:Math.floor;v<y&&p++<100;)i[d=f((v+y)/2)]<=u?v=d+c:y=d-x;return i[v]},F.sort=function(u,i){for(var l=0,d=0,v=1;v<u.length;v++){var y=i(u[v],u[v-1]);if(y<0?l=1:y>0&&(d=1),l&&d)return u.sort(i)}return d?u:u.reverse()},F.findIndexOfMin=function(u,i){i=i||E;for(var l,d=1/0,v=0;v<u.length;v++){var y=i(u[v]);y<d&&(d=y,l=v)}return l}},27983:function($){$.exports=function(F,m){(F.attr("class")||"").split(" ").forEach(function(L){L.indexOf("cursor-")===0&&F.classed(L,!1)}),m&&F.classed("cursor-"+m,!0)}},97464:function($,F,m){var L=m(78766),D=function(){};$.exports=function(E){for(var T in E)typeof E[T]=="function"&&(E[T]=D);E.destroy=function(){E.container.parentNode.removeChild(E.container)};var k=document.createElement("div");k.className="no-webgl",k.style.cursor="pointer",k.style.fontSize="24px",k.style.color=L.defaults[0],k.style.position="absolute",k.style.left=k.style.top="0px",k.style.width=k.style.height="100%",k.style["background-color"]=L.lightLine,k.style["z-index"]=30;var M=document.createElement("p");return M.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",M.style.position="relative",M.style.top="50%",M.style.left="50%",M.style.height="30%",M.style.width="50%",M.style.margin="-15% 0 0 -25%",k.appendChild(M),E.container.appendChild(k),E.container.style.background="#FFFFFF",E.container.onclick=function(){window.open("https://get.webgl.org")},!1}},62994:function($){$.exports=function(F){return Object.keys(F).sort()}},89258:function($,F,m){var L=m(10721),D=m(87800).isArrayOrTypedArray;F.aggNums=function(E,T,k,M){var b,a;if((!M||M>k.length)&&(M=k.length),L(T)||(T=!1),D(k[0])){for(a=new Array(M),b=0;b<M;b++)a[b]=F.aggNums(E,T,k[b]);k=a}for(b=0;b<M;b++)L(T)?L(k[b])&&(T=E(+T,+k[b])):T=k[b];return T},F.len=function(E){return F.aggNums(function(T){return T+1},0,E)},F.mean=function(E,T){return T||(T=F.len(E)),F.aggNums(function(k,M){return k+M},0,E)/T},F.geometricMean=function(E,T){return T||(T=F.len(E)),Math.pow(F.aggNums(function(k,M){return k*M},1,E),1/T)},F.midRange=function(E){if(E!==void 0&&E.length!==0)return(F.aggNums(Math.max,null,E)+F.aggNums(Math.min,null,E))/2},F.variance=function(E,T,k){return T||(T=F.len(E)),L(k)||(k=F.mean(E,T)),F.aggNums(function(M,b){return M+Math.pow(b-k,2)},0,E)/T},F.stdev=function(E,T,k){return Math.sqrt(F.variance(E,T,k))},F.median=function(E){var T=E.slice().sort();return F.interp(T,.5)},F.interp=function(E,T){if(!L(T))throw"n should be a finite number";if((T=T*E.length-.5)<0)return E[0];if(T>E.length-1)return E[E.length-1];var k=T%1;return k*E[Math.ceil(T)]+(1-k)*E[Math.floor(T)]}},55010:function($,F,m){var L=m(162);$.exports=function(D){return D?L(D):[0,0,0,1]}},30635:function($,F,m){var L=m(45568),D=m(34809),E=D.strTranslate,T=m(62972),k=m(4530).LINE_SPACING,M=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;F.convertToTspans=function(A,I,B){var C=A.text(),z=!A.attr("data-notex")&&I&&I._context.typesetMath&&typeof MathJax<"u"&&C.match(M),P=L.select(A.node().parentNode);if(!P.empty()){var R=A.attr("class")?A.attr("class").split(" ")[0]:"text";return R+="-math",P.selectAll("svg."+R).remove(),P.selectAll("g."+R+"-group").remove(),A.style("display",null).attr({"data-unformatted":C,"data-math":"N"}),z?(I&&I._promises||[]).push(new Promise(function(j){A.style("display","none");var W=parseInt(A.node().style.fontSize,10),Y={fontSize:W};(function(J,G,H){var U,Z,q,Q,ne=parseInt((MathJax.version||"").split(".")[0]);if(ne===2||ne===3){var ie=function(){var fe="math-output-"+D.randstr({},64),pe=(Q=L.select("body").append("div").attr({id:fe}).style({visibility:"hidden",position:"absolute","font-size":G.fontSize+"px"}).text(J.replace(b,"\\lt ").replace(a,"\\gt "))).node();return ne===2?MathJax.Hub.Typeset(pe):MathJax.typeset([pe])},le=function(){var fe=Q.select(ne===2?".MathJax_SVG":".MathJax"),pe=!fe.empty()&&Q.select("svg").node();if(pe){var me,ke=pe.getBoundingClientRect();me=ne===2?L.select("body").select("#MathJax_SVG_glyphs"):fe.select("defs"),H(fe,me,ke)}else D.log("There was an error in the tex syntax.",J),H();Q.remove()};ne===2?MathJax.Hub.Queue(function(){return Z=D.extendDeepAll({},MathJax.Hub.config),q=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:t},displayAlign:"left"})},function(){if((U=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},ie,le,function(){if(U!=="SVG")return MathJax.Hub.setRenderer(U)},function(){return q!==void 0&&(MathJax.Hub.processSectionDelay=q),MathJax.Hub.Config(Z)}):ne===3&&(Z=D.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=t,(U=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ie(),le(),U!=="svg"&&(MathJax.config.startup.output=U),MathJax.config=Z}))}else D.warn("No MathJax version:",MathJax.version)})(z[2],Y,function(J,G,H){P.selectAll("svg."+R).remove(),P.selectAll("g."+R+"-group").remove();var U=J&&J.select("svg");if(!U||!U.node())return N(),void j();var Z=P.append("g").classed(R+"-group",!0).attr({"pointer-events":"none","data-unformatted":C,"data-math":"Y"});Z.node().appendChild(U.node()),G&&G.node()&&U.node().insertBefore(G.node().cloneNode(!0),U.node().firstChild);var q=H.width,Q=H.height;U.attr({class:R,height:Q,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ne=A.node().style.fill||"black",ie=U.select("g");ie.attr({fill:ne,stroke:ne});var le=ie.node().getBoundingClientRect(),fe=le.width,pe=le.height;(fe>q||pe>Q)&&(U.style("overflow","hidden"),fe=(le=U.node().getBoundingClientRect()).width,pe=le.height);var me=+A.attr("x"),ke=+A.attr("y"),ve=-(W||A.node().getBoundingClientRect().height)/4;if(R[0]==="y")Z.attr({transform:"rotate("+[-90,me,ke]+")"+E(-fe/2,ve-pe/2)});else if(R[0]==="l")ke=ve-pe/2;else if(R[0]==="a"&&R.indexOf("atitle")!==0)me=0,ke=ve;else{var he=A.attr("text-anchor");me-=fe*(he==="middle"?.5:he==="end"?1:0),ke=ke+ve-pe/2}U.attr({x:me,y:ke}),B&&B.call(A,Z),j(Z)})})):N(),A}function N(){P.empty()||(R=A.attr("class")+"-math",P.select("svg."+R).remove()),A.text("").style("white-space","pre");var j=function(W,Y){Y=Y.replace(y," ");var J,G=!1,H=[],U=-1;function Z(){U++;var K=document.createElementNS(T.svg,"tspan");L.select(K).attr({class:"line",dy:U*k+"em"}),W.appendChild(K),J=K;var ge=H;if(H=[{node:K}],ge.length>1)for(var re=1;re<ge.length;re++)q(ge[re])}function q(K){var ge,re=K.type,ue={};if(re==="a"){ge="a";var we=K.target,Te=K.href,ee=K.popup;Te&&(ue={"xlink:xlink:show":we==="_blank"||we.charAt(0)!=="_"?"new":"replace",target:we,"xlink:xlink:href":Te},ee&&(ue.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ee+'");return false;'))}else ge="tspan";K.style&&(ue.style=K.style);var se=document.createElementNS(T.svg,ge);if(re==="sup"||re==="sub"){Q(J,d),J.appendChild(se);var ce=document.createElementNS(T.svg,"tspan");Q(ce,d),L.select(ce).attr("dy",l[re]),ue.dy=i[re],J.appendChild(se),J.appendChild(ce)}else J.appendChild(se);L.select(se).attr(ue),J=K.node=se,H.push(K)}function Q(K,ge){K.appendChild(document.createTextNode(ge))}function ne(K){if(H.length!==1){var ge=H.pop();K!==ge.type&&D.log("Start tag <"+ge.type+"> doesnt match end tag <"+K+">. Pretending it did match.",Y),J=H[H.length-1].node}else D.log("Ignoring unexpected end tag </"+K+">.",Y)}x.test(Y)?Z():(J=W,H=[{node:W}]);for(var ie=Y.split(p),le=0;le<ie.length;le++){var fe=ie[le],pe=fe.match(c),me=pe&&pe[2].toLowerCase(),ke=u[me];if(me==="br")Z();else if(ke===void 0)Q(J,_(fe));else if(pe[1])ne(me);else{var ve=pe[4],he={type:me},de=r(ve,f);if(de?(de=de.replace(g,"$1 fill:"),ke&&(de+=";"+ke)):ke&&(de=ke),de&&(he.style=de),me==="a"){G=!0;var X=r(ve,n);if(X){var ae=w(X);ae&&(he.href=ae,he.target=r(ve,o)||"_blank",he.popup=r(ve,s))}}q(he)}}return G}(A.node(),C);j&&A.style("pointer-events","all"),F.positionText(A),B&&B.call(A)}};var b=/(<|&lt;|&#60;)/g,a=/(>|&gt;|&#62;)/g,t=[["$","$"],["\\(","\\)"]],u={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},i={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},d="",v=["http:","https:","mailto:","",void 0,":"],y=F.NEWLINES=/(\r\n?|\n)/g,p=/(<[^<>]*>)/,c=/<(\/?)([^ >]*)(\s+(.*))?>/i,x=/<br(\s+.*)?>/i;F.BR_TAG_ALL=/<br(\s+.*)?>/gi;var f=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,n=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,o=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,s=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function r(A,I){if(!A)return null;var B=A.match(I),C=B&&(B[3]||B[4]);return C&&_(C)}var g=/(^|;)\s*color:/;F.plainText=function(A,I){for(var B=(I=I||{}).len!==void 0&&I.len!==-1?I.len:1/0,C=I.allowedTags!==void 0?I.allowedTags:["br"],z=A.split(p),P=[],R="",N=0,j=0;j<z.length;j++){var W=z[j],Y=W.match(c),J=Y&&Y[2].toLowerCase();if(J)C.indexOf(J)!==-1&&(P.push(W),R=J);else{var G=W.length;if(N+G<B)P.push(W),N+=G;else if(N<B){var H=B-N;R&&(R!=="br"||H<=3||G<=3)&&P.pop(),B>3?P.push(W.substr(0,H-3)+"..."):P.push(W.substr(0,H));break}R=""}}return P.join("")};var e={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},h=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function _(A){return A.replace(h,function(I,B){return(B.charAt(0)==="#"?function(C){if(!(C>1114111)){var z=String.fromCodePoint;if(z)return z(C);var P=String.fromCharCode;return C<=65535?P(C):P(55232+(C>>10),C%1024+56320)}}(B.charAt(1)==="x"?parseInt(B.substr(2),16):parseInt(B.substr(1),10)):e[B])||I})}function w(A){var I=encodeURI(decodeURI(A)),B=document.createElement("a"),C=document.createElement("a");B.href=A,C.href=I;var z=B.protocol,P=C.protocol;return v.indexOf(z)!==-1&&v.indexOf(P)!==-1?I:""}function S(A,I,B){var C,z,P,R=B.horizontalAlign,N=B.verticalAlign||"top",j=A.node().getBoundingClientRect(),W=I.node().getBoundingClientRect();return z=N==="bottom"?function(){return j.bottom-C.height}:N==="middle"?function(){return j.top+(j.height-C.height)/2}:function(){return j.top},P=R==="right"?function(){return j.right-C.width}:R==="center"?function(){return j.left+(j.width-C.width)/2}:function(){return j.left},function(){C=this.node().getBoundingClientRect();var Y=P()-W.left,J=z()-W.top,G=B.gd||{};if(B.gd){G._fullLayout._calcInverseTransform(G);var H=D.apply3DTransform(G._fullLayout._invTransform)(Y,J);Y=H[0],J=H[1]}return this.style({top:J+"px",left:Y+"px","z-index":1e3}),this}}F.convertEntities=_,F.sanitizeHTML=function(A){A=A.replace(y," ");for(var I=document.createElement("p"),B=I,C=[],z=A.split(p),P=0;P<z.length;P++){var R=z[P],N=R.match(c),j=N&&N[2].toLowerCase();if(j in u)if(N[1])C.length&&(B=C.pop());else{var W=N[4],Y=r(W,f),J=Y?{style:Y}:{};if(j==="a"){var G=r(W,n);if(G){var H=w(G);if(H){J.href=H;var U=r(W,o);U&&(J.target=U)}}}var Z=document.createElement(j);B.appendChild(Z),L.select(Z).attr(J),B=Z,C.push(Z)}else B.appendChild(document.createTextNode(_(R)))}return I.innerHTML},F.lineCount=function(A){return A.selectAll("tspan.line").size()||1},F.positionText=function(A,I,B){return A.each(function(){var C=L.select(this);function z(N,j){return j===void 0?(j=C.attr(N))===null&&(C.attr(N,0),j=0):C.attr(N,j),j}var P=z("x",I),R=z("y",B);this.nodeName==="text"&&C.selectAll("tspan.line").attr({x:P,y:R})})};var O="1px ";F.makeTextShadow=function(A){return O+O+O+A+", -"+O+"-"+O+O+A+", "+O+"-"+O+O+A+", -"+O+O+O+A},F.makeEditable=function(A,I){var B=I.gd,C=I.delegate,z=L.dispatch("edit","input","cancel"),P=C||A;if(A.style({"pointer-events":C?"none":"all"}),A.size()!==1)throw new Error("boo");function R(){var j,W,Y,J,G;j=L.select(B).select(".svg-container"),W=j.append("div"),Y=A.node().style,J=parseFloat(Y.fontSize||12),(G=I.text)===void 0&&(G=A.attr("data-unformatted")),W.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Y.fontFamily||"Arial","font-size":J,color:I.fill||Y.fill||"black",opacity:1,"background-color":I.background||"transparent",outline:"#ffffff33 1px solid",margin:[-J/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(G).call(S(A,j,I)).on("blur",function(){B._editing=!1,A.text(this.textContent).style({opacity:1});var Z,q=L.select(this).attr("class");(Z=q?"."+q.split(" ")[0]+"-math-group":"[class*=-math-group]")&&L.select(A.node().parentNode).select(Z).style({opacity:0});var Q=this.textContent;L.select(this).transition().duration(0).remove(),L.select(document).on("mouseup",null),z.edit.call(A,Q)}).on("focus",function(){var Z=this;B._editing=!0,L.select(document).on("mouseup",function(){if(L.event.target===Z)return!1;document.activeElement===W.node()&&W.node().blur()})}).on("keyup",function(){L.event.which===27?(B._editing=!1,A.style({opacity:1}),L.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),z.cancel.call(A,this.textContent)):(z.input.call(A,this.textContent),L.select(this).call(S(A,j,I)))}).on("keydown",function(){L.event.which===13&&this.blur()}).call(N),A.style({opacity:0});var H,U=P.attr("class");(H=U?"."+U.split(" ")[0]+"-math-group":"[class*=-math-group]")&&L.select(A.node().parentNode).select(H).style({opacity:0})}function N(j){var W=j.node(),Y=document.createRange();Y.selectNodeContents(W);var J=window.getSelection();J.removeAllRanges(),J.addRange(Y),W.focus()}return I.immediate?R():P.on("click",R),L.rebind(A,z,"on")}},64025:function($,F){var m={};function L(D){D&&D.timer!==null&&(clearTimeout(D.timer),D.timer=null)}F.throttle=function(D,E,T){var k=m[D],M=Date.now();if(!k){for(var b in m)m[b].ts<M-6e4&&delete m[b];k=m[D]={ts:0,timer:null}}function a(){T(),k.ts=Date.now(),k.onDone&&(k.onDone(),k.onDone=null)}L(k),M>k.ts+E?a():k.timer=setTimeout(function(){a(),k.timer=null},E)},F.done=function(D){var E=m[D];return E&&E.timer?new Promise(function(T){var k=E.onDone;E.onDone=function(){k&&k(),T(),E.onDone=null}}):Promise.resolve()},F.clear=function(D){if(D)L(m[D]),delete m[D];else for(var E in m)F.clear(E)}},8083:function($,F,m){var L=m(10721);$.exports=function(D,E){if(D>0)return Math.log(D)/Math.LN10;var T=Math.log(Math.min(E[0],E[1]))/Math.LN10;return L(T)||(T=Math.log(Math.max(E[0],E[1]))/Math.LN10-6),T}},44611:function($){$.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},30227:function($){$.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},56037:function($,F,m){var L=m(33626);$.exports=function(D){for(var E,T,k=L.layoutArrayContainers,M=L.layoutArrayRegexes,b=D.split("[")[0],a=0;a<M.length;a++)if((T=D.match(M[a]))&&T.index===0){E=T[0];break}if(E||(E=k[k.indexOf(b)]),!E)return!1;var t=D.substr(E.length);return t?!!(T=t.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:E,index:Number(T[1]),property:T[3]||""}:{array:E,index:"",property:""}}},13582:function($,F,m){var L=m(93049).extendFlat,D=m(56174),E={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},T={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},k=E.flags.slice().concat(["fullReplot"]),M=T.flags.slice().concat("layoutReplot");function b(u){for(var i={},l=0;l<u.length;l++)i[u[l]]=!1;return i}function a(u,i,l){var d=L({},u);for(var v in d){var y=d[v];D(y)&&(d[v]=t(y,i,0,v))}return l==="from-root"&&(d.editType=i),d}function t(u,i,l,d){if(u.valType){var v=L({},u);if(v.editType=i,Array.isArray(u.items)){v.items=new Array(u.items.length);for(var y=0;y<u.items.length;y++)v.items[y]=t(u.items[y],i)}return v}return a(u,i,d.charAt(0)==="_"?"nested":"from-root")}$.exports={traces:E,layout:T,traceFlags:function(){return b(k)},layoutFlags:function(){return b(M)},update:function(u,i){var l=i.editType;if(l&&l!=="none")for(var d=l.split("+"),v=0;v<d.length;v++)u[d[v]]=!0},overrideAll:a}},10887:function($,F,m){var L=m(10721),D=m(36472),E=m(33626),T=m(34809),k=m(44122),M=m(5975),b=m(78766),a=M.cleanId,t=M.getFromTrace,u=E.traceIs;function i(n,o){var s=n[o],r=o.charAt(0);s&&s!=="paper"&&(n[o]=a(s,r,!0))}function l(n){function o(s,r){var g=n[s],e=n.title&&n.title[r];g&&!e&&(n.title||(n.title={}),n.title[r]=n[s],delete n[s])}n&&(typeof n.title!="string"&&typeof n.title!="number"||(n.title={text:n.title}),o("titlefont","font"),o("titleposition","position"),o("titleside","side"),o("titleoffset","offset"))}function d(n){if(!T.isPlainObject(n))return!1;var o=n.name;return delete n.name,delete n.showlegend,(typeof o=="string"||typeof o=="number")&&String(o)}function v(n,o,s,r){if(s&&!r)return n;if(r&&!s||!n.trim())return o;if(!o.trim())return n;var g,e=Math.min(n.length,o.length);for(g=0;g<e&&n.charAt(g)===o.charAt(g);g++);return n.substr(0,g).trim()}function y(n){var o="middle",s="center";return typeof n=="string"&&(n.indexOf("top")!==-1?o="top":n.indexOf("bottom")!==-1&&(o="bottom"),n.indexOf("left")!==-1?s="left":n.indexOf("right")!==-1&&(s="right")),o+" "+s}function p(n,o){return o in n&&typeof n[o]=="object"&&Object.keys(n[o]).length===0}F.clearPromiseQueue=function(n){Array.isArray(n._promises)&&n._promises.length>0&&T.log("Clearing previous rejected promises from queue."),n._promises=[]},F.cleanLayout=function(n){var o,s;n||(n={}),n.xaxis1&&(n.xaxis||(n.xaxis=n.xaxis1),delete n.xaxis1),n.yaxis1&&(n.yaxis||(n.yaxis=n.yaxis1),delete n.yaxis1),n.scene1&&(n.scene||(n.scene=n.scene1),delete n.scene1);var r=(k.subplotsRegistry.cartesian||{}).attrRegex,g=(k.subplotsRegistry.polar||{}).attrRegex,e=(k.subplotsRegistry.ternary||{}).attrRegex,h=(k.subplotsRegistry.gl3d||{}).attrRegex,_=Object.keys(n);for(o=0;o<_.length;o++){var w=_[o];if(r&&r.test(w)){var S=n[w];S.anchor&&S.anchor!=="free"&&(S.anchor=a(S.anchor)),S.overlaying&&(S.overlaying=a(S.overlaying)),S.type||(S.isdate?S.type="date":S.islog?S.type="log":S.isdate===!1&&S.islog===!1&&(S.type="linear")),S.autorange!=="withzero"&&S.autorange!=="tozero"||(S.autorange=!0,S.rangemode="tozero"),S.insiderange&&delete S.range,delete S.islog,delete S.isdate,delete S.categories,p(S,"domain")&&delete S.domain,S.autotick!==void 0&&(S.tickmode===void 0&&(S.tickmode=S.autotick?"auto":"linear"),delete S.autotick),l(S)}else if(g&&g.test(w))l(n[w].radialaxis);else if(e&&e.test(w)){var O=n[w];l(O.aaxis),l(O.baxis),l(O.caxis)}else if(h&&h.test(w)){var A=n[w],I=A.cameraposition;if(Array.isArray(I)&&I[0].length===4){var B=I[0],C=I[1],z=I[2],P=D([],B),R=[];for(s=0;s<3;++s)R[s]=C[s]+z*P[2+4*s];A.camera={eye:{x:R[0],y:R[1],z:R[2]},center:{x:C[0],y:C[1],z:C[2]},up:{x:0,y:0,z:1}},delete A.cameraposition}l(A.xaxis),l(A.yaxis),l(A.zaxis)}}var N=Array.isArray(n.annotations)?n.annotations.length:0;for(o=0;o<N;o++){var j=n.annotations[o];T.isPlainObject(j)&&(j.ref&&(j.ref==="paper"?(j.xref="paper",j.yref="paper"):j.ref==="data"&&(j.xref="x",j.yref="y"),delete j.ref),i(j,"xref"),i(j,"yref"))}var W=Array.isArray(n.shapes)?n.shapes.length:0;for(o=0;o<W;o++){var Y=n.shapes[o];T.isPlainObject(Y)&&(i(Y,"xref"),i(Y,"yref"))}var J=Array.isArray(n.images)?n.images.length:0;for(o=0;o<J;o++){var G=n.images[o];T.isPlainObject(G)&&(i(G,"xref"),i(G,"yref"))}var H=n.legend;return H&&(H.x>3?(H.x=1.02,H.xanchor="left"):H.x<-2&&(H.x=-.02,H.xanchor="right"),H.y>3?(H.y=1.02,H.yanchor="bottom"):H.y<-2&&(H.y=-.02,H.yanchor="top")),l(n),n.dragmode==="rotate"&&(n.dragmode="orbit"),b.clean(n),n.template&&n.template.layout&&F.cleanLayout(n.template.layout),n},F.cleanData=function(n){for(var o=0;o<n.length;o++){var s,r=n[o];if(r.type==="histogramy"&&"xbins"in r&&!("ybins"in r)&&(r.ybins=r.xbins,delete r.xbins),r.error_y&&"opacity"in r.error_y){var g=b.defaults,e=r.error_y.color||(u(r,"bar")?b.defaultLine:g[o%g.length]);r.error_y.color=b.addOpacity(b.rgb(e),b.opacity(e)*r.error_y.opacity),delete r.error_y.opacity}if("bardir"in r&&(r.bardir!=="h"||!u(r,"bar")&&r.type.substr(0,9)!=="histogram"||(r.orientation="h",F.swapXYData(r)),delete r.bardir),r.type==="histogramy"&&F.swapXYData(r),r.type!=="histogramx"&&r.type!=="histogramy"||(r.type="histogram"),"scl"in r&&!("colorscale"in r)&&(r.colorscale=r.scl,delete r.scl),"reversescl"in r&&!("reversescale"in r)&&(r.reversescale=r.reversescl,delete r.reversescl),r.xaxis&&(r.xaxis=a(r.xaxis,"x")),r.yaxis&&(r.yaxis=a(r.yaxis,"y")),u(r,"gl3d")&&r.scene&&(r.scene=k.subplotsRegistry.gl3d.cleanId(r.scene)),!u(r,"pie-like")&&!u(r,"bar-like"))if(Array.isArray(r.textposition))for(s=0;s<r.textposition.length;s++)r.textposition[s]=y(r.textposition[s]);else r.textposition&&(r.textposition=y(r.textposition));var h=E.getModule(r);if(h&&h.colorbar){var _=h.colorbar.container,w=_?r[_]:r;w&&w.colorscale&&(w.colorscale==="YIGnBu"&&(w.colorscale="YlGnBu"),w.colorscale==="YIOrRd"&&(w.colorscale="YlOrRd"))}if(r.type==="surface"&&T.isPlainObject(r.contours)){var S=["x","y","z"];for(s=0;s<S.length;s++){var O=r.contours[S[s]];T.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if(r.type==="candlestick"||r.type==="ohlc"){var A=(r.increasing||{}).showlegend!==!1,I=(r.decreasing||{}).showlegend!==!1,B=d(r.increasing),C=d(r.decreasing);if(B!==!1&&C!==!1){var z=v(B,C,A,I);z&&(r.name=z)}else!B&&!C||r.name||(r.name=B||C)}if(Array.isArray(r.transforms)){var P=r.transforms;for(s=0;s<P.length;s++){var R=P[s];if(T.isPlainObject(R))switch(R.type){case"filter":R.filtersrc&&(R.target=R.filtersrc,delete R.filtersrc),R.calendar&&(R.valuecalendar||(R.valuecalendar=R.calendar),delete R.calendar);break;case"groupby":if(R.styles=R.styles||R.style,R.styles&&!Array.isArray(R.styles)){var N=R.styles,j=Object.keys(N);R.styles=[];for(var W=0;W<j.length;W++)R.styles.push({target:j[W],value:N[j[W]]})}}}}p(r,"line")&&delete r.line,"marker"in r&&(p(r.marker,"line")&&delete r.marker.line,p(r,"marker")&&delete r.marker),b.clean(r),r.autobinx&&(delete r.autobinx,delete r.xbins),r.autobiny&&(delete r.autobiny,delete r.ybins),l(r),r.colorbar&&l(r.colorbar),r.marker&&r.marker.colorbar&&l(r.marker.colorbar),r.line&&r.line.colorbar&&l(r.line.colorbar),r.aaxis&&l(r.aaxis),r.baxis&&l(r.baxis)}},F.swapXYData=function(n){var o;if(T.swapAttrs(n,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(n.z)&&Array.isArray(n.z[0])&&(n.transpose?delete n.transpose:n.transpose=!0),n.error_x&&n.error_y){var s=n.error_y,r="copy_ystyle"in s?s.copy_ystyle:!(s.color||s.thickness||s.width);T.swapAttrs(n,["error_?.copy_ystyle"]),r&&T.swapAttrs(n,["error_?.color","error_?.thickness","error_?.width"])}if(typeof n.hoverinfo=="string"){var g=n.hoverinfo.split("+");for(o=0;o<g.length;o++)g[o]==="x"?g[o]="y":g[o]==="y"&&(g[o]="x");n.hoverinfo=g.join("+")}},F.coerceTraceIndices=function(n,o){if(L(o))return[o];if(!Array.isArray(o)||!o.length)return n.data.map(function(g,e){return e});if(Array.isArray(o)){for(var s=[],r=0;r<o.length;r++)T.isIndex(o[r],n.data.length)?s.push(o[r]):T.warn("trace index (",o[r],") is not a number or is out of bounds");return s}return o},F.manageArrayContainers=function(n,o,s){var r=n.obj,g=n.parts,e=g.length,h=g[e-1],_=L(h);if(_&&o===null){var w=g.slice(0,e-1).join(".");T.nestedProperty(r,w).get().splice(h,1)}else _&&n.get()===void 0&&n.get()===void 0&&(s[n.astr]=null),n.set(o)};var c=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(n){var o=n.search(c);if(o>0)return n.substr(0,o)}F.hasParent=function(n,o){for(var s=x(o);s;){if(s in n)return!0;s=x(s)}return!1};var f=["x","y","z"];F.clearAxisTypes=function(n,o,s){for(var r=0;r<o.length;r++)for(var g=n._fullData[r],e=0;e<3;e++){var h=t(n,g,f[e]);if(h&&h.type!=="log"){var _=h._name,w=h._id.substr(1);if(w.substr(0,5)==="scene"){if(s[w]!==void 0)continue;_=w+"."+_}var S=_+".type";s[_]===void 0&&s[S]===void 0&&T.nestedProperty(n.layout,S).set(null)}}}},90742:function($,F,m){var L=m(31420);F._doPlot=L._doPlot,F.newPlot=L.newPlot,F.restyle=L.restyle,F.relayout=L.relayout,F.redraw=L.redraw,F.update=L.update,F._guiRestyle=L._guiRestyle,F._guiRelayout=L._guiRelayout,F._guiUpdate=L._guiUpdate,F._storeDirectGUIEdit=L._storeDirectGUIEdit,F.react=L.react,F.extendTraces=L.extendTraces,F.prependTraces=L.prependTraces,F.addTraces=L.addTraces,F.deleteTraces=L.deleteTraces,F.moveTraces=L.moveTraces,F.purge=L.purge,F.addFrames=L.addFrames,F.deleteFrames=L.deleteFrames,F.animate=L.animate,F.setPlotConfig=L.setPlotConfig;var D=m(95425).getGraphDiv,E=m(28231).eraseActiveShape;F.deleteActiveShape=function(k){return E(D(k))},F.toImage=m(80491),F.validate=m(2466),F.downloadImage=m(26452);var T=m(53853);F.makeTemplate=T.makeTemplate,F.validateTemplate=T.validateTemplate},85844:function($,F,m){var L=m(56174),D=m(4969),E=m(48636),T=m(98813).sorterAsc,k=m(33626);F.containerArrayMatch=m(56037);var M=F.isAddVal=function(a){return a==="add"||L(a)},b=F.isRemoveVal=function(a){return a===null||a==="remove"};F.applyContainerArrayChanges=function(a,t,u,i,l){var d=t.astr,v=k.getComponentMethod(d,"supplyLayoutDefaults"),y=k.getComponentMethod(d,"draw"),p=k.getComponentMethod(d,"drawOne"),c=i.replot||i.recalc||v===D||y===D,x=a.layout,f=a._fullLayout;if(u[""]){Object.keys(u).length>1&&E.warn("Full array edits are incompatible with other edits",d);var n=u[""][""];if(b(n))t.set(null);else{if(!Array.isArray(n))return E.warn("Unrecognized full array edit value",d,n),!0;t.set(n)}return!c&&(v(x,f),y(a),!0)}var o,s,r,g,e,h,_,w,S=Object.keys(u).map(Number).sort(T),O=t.get(),A=O||[],I=l(f,d).get(),B=[],C=-1,z=A.length;for(o=0;o<S.length;o++)if(g=u[r=S[o]],e=Object.keys(g),h=g[""],_=M(h),r<0||r>A.length-(_?0:1))E.warn("index out of range",d,r);else if(h!==void 0)e.length>1&&E.warn("Insertion & removal are incompatible with edits to the same index.",d,r),b(h)?B.push(r):_?(h==="add"&&(h={}),A.splice(r,0,h),I&&I.splice(r,0,{})):E.warn("Unrecognized full object edit value",d,r,h),C===-1&&(C=r);else for(s=0;s<e.length;s++)w=d+"["+r+"].",l(A[r],e[s],w).set(g[e[s]]);for(o=B.length-1;o>=0;o--)A.splice(B[o],1),I&&I.splice(B[o],1);if(A.length?O||t.set(A):t.set(null),c)return!1;if(v(x,f),p!==D){var P;if(C===-1)P=S;else{for(z=Math.max(A.length,z),P=[],o=0;o<S.length&&!((r=S[o])>=C);o++)P.push(r);for(o=C;o<z;o++)P.push(o)}for(o=0;o<P.length;o++)p(a,P[o])}else y(a);return!0}},31420:function($,F,m){var L=m(45568),D=m(10721),E=m(39784),T=m(34809),k=T.nestedProperty,M=m(68596),b=m(40486),a=m(33626),t=m(57297),u=m(44122),i=m(29714),l=m(90259),d=m(25829),v=m(62203),y=m(78766),p=m(95284).initInteractions,c=m(62972),x=m(44844).clearOutline,f=m(24452).dfltConfig,n=m(85844),o=m(10887),s=m(71817),r=m(13582),g=m(54826).AX_NAME_PATTERN,e=0;function h(K){var ge=K._fullLayout;ge._redrawFromAutoMarginCount?ge._redrawFromAutoMarginCount--:K.emit("plotly_afterplot")}function _(K,ge){try{K._fullLayout._paper.style("background",ge)}catch(re){T.error(re)}}function w(K,ge){_(K,y.combine(ge,"white"))}function S(K,ge){if(!K._context){K._context=T.extendDeep({},f);var re=L.select("base");K._context._baseUrl=re.size()&&re.attr("href")?window.location.href.split("#")[0]:""}var ue,we,Te,ee=K._context;if(ge){for(we=Object.keys(ge),ue=0;ue<we.length;ue++)(Te=we[ue])!=="editable"&&Te!=="edits"&&Te in ee&&(Te==="setBackground"&&ge[Te]==="opaque"?ee[Te]=w:ee[Te]=ge[Te]);ge.plot3dPixelRatio&&!ee.plotGlPixelRatio&&(ee.plotGlPixelRatio=ee.plot3dPixelRatio);var se=ge.editable;if(se!==void 0)for(ee.editable=se,we=Object.keys(ee.edits),ue=0;ue<we.length;ue++)ee.edits[we[ue]]=se;if(ge.edits)for(we=Object.keys(ge.edits),ue=0;ue<we.length;ue++)(Te=we[ue])in ee.edits&&(ee.edits[Te]=ge.edits[Te]);ee._exportedPlot=ge._exportedPlot}ee.staticPlot&&(ee.editable=!1,ee.edits={},ee.autosizable=!1,ee.scrollZoom=!1,ee.doubleClick=!1,ee.showTips=!1,ee.showLink=!1,ee.displayModeBar=!1),ee.displayModeBar!=="hover"||E||(ee.displayModeBar=!0),ee.setBackground!=="transparent"&&typeof ee.setBackground=="function"||(ee.setBackground=_),ee._hasZeroHeight=ee._hasZeroHeight||K.clientHeight===0,ee._hasZeroWidth=ee._hasZeroWidth||K.clientWidth===0;var ce=ee.scrollZoom,be=ee._scrollZoom={};if(ce===!0)be.cartesian=1,be.gl3d=1,be.geo=1,be.mapbox=1,be.map=1;else if(typeof ce=="string"){var Ee=ce.split("+");for(ue=0;ue<Ee.length;ue++)be[Ee[ue]]=1}else ce!==!1&&(be.gl3d=1,be.geo=1,be.mapbox=1,be.map=1)}function O(K,ge){var re,ue,we=ge+1,Te=[];for(re=0;re<K.length;re++)(ue=K[re])<0?Te.push(we+ue):Te.push(ue);return Te}function A(K,ge,re){var ue,we;for(ue=0;ue<ge.length;ue++){if((we=ge[ue])!==parseInt(we,10))throw new Error("all values in "+re+" must be integers");if(we>=K.data.length||we<-K.data.length)throw new Error(re+" must be valid indices for gd.data.");if(ge.indexOf(we,ue+1)>-1||we>=0&&ge.indexOf(-K.data.length+we)>-1||we<0&&ge.indexOf(K.data.length+we)>-1)throw new Error("each index in "+re+" must be unique.")}}function I(K,ge,re){if(!Array.isArray(K.data))throw new Error("gd.data must be an array.");if(ge===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(ge)||(ge=[ge]),A(K,ge,"currentIndices"),re===void 0||Array.isArray(re)||(re=[re]),re!==void 0&&A(K,re,"newIndices"),re!==void 0&&ge.length!==re.length)throw new Error("current and new indices must be of equal length.")}function B(K,ge,re,ue,we){(function(De,Ge,Xe,Ke){var ut=T.isPlainObject(Ke);if(!Array.isArray(De.data))throw new Error("gd.data must be an array");if(!T.isPlainObject(Ge))throw new Error("update must be a key:value object");if(Xe===void 0)throw new Error("indices must be an integer or array of integers");for(var Tt in A(De,Xe,"indices"),Ge){if(!Array.isArray(Ge[Tt])||Ge[Tt].length!==Xe.length)throw new Error("attribute "+Tt+" must be an array of length equal to indices array length");if(ut&&(!(Tt in Ke)||!Array.isArray(Ke[Tt])||Ke[Tt].length!==Ge[Tt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(K,ge,re,ue);for(var Te=function(De,Ge,Xe,Ke){var ut,Tt,je,Le,$e,st=T.isPlainObject(Ke),Ot=[];for(var Je in Array.isArray(Xe)||(Xe=[Xe]),Xe=O(Xe,De.data.length-1),Ge)for(var at=0;at<Xe.length;at++){if(ut=De.data[Xe[at]],Tt=(je=k(ut,Je)).get(),Le=Ge[Je][at],!T.isArrayOrTypedArray(Le))throw new Error("attribute: "+Je+" index: "+at+" must be an array");if(!T.isArrayOrTypedArray(Tt))throw new Error("cannot extend missing or non-array attribute: "+Je);if(Tt.constructor!==Le.constructor)throw new Error("cannot extend array with an array of a different type: "+Je);$e=st?Ke[Je][at]:Ke,D($e)||($e=-1),Ot.push({prop:je,target:Tt,insert:Le,maxp:Math.floor($e)})}return Ot}(K,ge,re,ue),ee={},se={},ce=0;ce<Te.length;ce++){var be=Te[ce].prop,Ee=Te[ce].maxp,Se=we(Te[ce].target,Te[ce].insert,Ee);be.set(Se[0]),Array.isArray(ee[be.astr])||(ee[be.astr]=[]),ee[be.astr].push(Se[1]),Array.isArray(se[be.astr])||(se[be.astr]=[]),se[be.astr].push(Te[ce].target.length)}return{update:ee,maxPoints:se}}function C(K,ge){var re=new K.constructor(K.length+ge.length);return re.set(K),re.set(ge,K.length),re}function z(K,ge,re,ue){K=T.getGraphDiv(K),o.clearPromiseQueue(K);var we={};if(typeof ge=="string")we[ge]=re;else{if(!T.isPlainObject(ge))return T.warn("Restyle fail.",ge,re,ue),Promise.reject();we=T.extendFlat({},ge),ue===void 0&&(ue=re)}Object.keys(we).length&&(K.changed=!0);var Te=o.coerceTraceIndices(K,ue),ee=j(K,we,Te),se=ee.flags;se.calc&&(K.calcdata=void 0),se.clearAxisTypes&&o.clearAxisTypes(K,Te,{});var ce=[];se.fullReplot?ce.push(F._doPlot):(ce.push(u.previousPromises),u.supplyDefaults(K),se.markerSize&&(u.doCalcdata(K),G(ce)),se.style&&ce.push(s.doTraceStyle),se.colorbars&&ce.push(s.doColorBars),ce.push(h)),ce.push(u.rehover,u.redrag,u.reselect),b.add(K,z,[K,ee.undoit,ee.traces],z,[K,ee.redoit,ee.traces]);var be=T.syncOrAsync(ce,K);return be&&be.then||(be=Promise.resolve()),be.then(function(){return K.emit("plotly_restyle",ee.eventData),K})}function P(K){return K===void 0?null:K}function R(K,ge){return ge?function(re,ue,we){var Te=k(re,ue),ee=Te.set;return Te.set=function(se){N((we||"")+ue,Te.get(),se,K),ee(se)},Te}:k}function N(K,ge,re,ue){if(Array.isArray(ge)||Array.isArray(re))for(var we=Array.isArray(ge)?ge:[],Te=Array.isArray(re)?re:[],ee=Math.max(we.length,Te.length),se=0;se<ee;se++)N(K+"["+se+"]",we[se],Te[se],ue);else if(T.isPlainObject(ge)||T.isPlainObject(re)){var ce=T.isPlainObject(ge)?ge:{},be=T.isPlainObject(re)?re:{},Ee=T.extendFlat({},ce,be);for(var Se in Ee)N(K+"."+Se,ce[Se],be[Se],ue)}else ue[K]===void 0&&(ue[K]=P(ge))}function j(K,ge,re){var ue,we=K._fullLayout,Te=K._fullData,ee=K.data,se=we._guiEditing,ce=R(we._preGUI,se),be=T.extendDeepAll({},ge);W(ge);var Ee,Se=r.traceFlags(),De={},Ge={};function Xe(){return re.map(function(){})}function Ke(St){var It=i.id2name(St);Ee.indexOf(It)===-1&&Ee.push(It)}function ut(St){return"LAYOUT"+St+".autorange"}function Tt(St){return"LAYOUT"+St+".range"}function je(St){for(var It=St;It<Te.length;It++)if(Te[It]._input===ee[St])return Te[It]}function Le(St,It,ot){if(Array.isArray(St))St.forEach(function(Et){Le(Et,It,ot)});else if(!(St in ge)&&!o.hasParent(ge,St)){var xt;if(St.substr(0,6)==="LAYOUT")xt=ce(K.layout,St.replace("LAYOUT",""));else{var Ut=re[ot];xt=R(we._tracePreGUI[je(Ut)._fullInput.uid],se)(ee[Ut],St)}St in Ge||(Ge[St]=Xe()),Ge[St][ot]===void 0&&(Ge[St][ot]=P(xt.get())),It!==void 0&&xt.set(It)}}function $e(St){return function(It){return Te[It][St]}}function st(St){return function(It,ot){return It===!1?Te[re[ot]][St]:null}}for(var Ot in ge){if(o.hasParent(ge,Ot))throw new Error("cannot set "+Ot+" and a parent attribute simultaneously");var Je,at,gt,Oe,Be,it,tt=ge[Ot];if(Ot!=="autobinx"&&Ot!=="autobiny"||(Ot=Ot.charAt(Ot.length-1)+"bins",tt=Array.isArray(tt)?tt.map(st(Ot)):tt===!1?re.map($e(Ot)):null),De[Ot]=tt,Ot.substr(0,6)!=="LAYOUT"){for(Ge[Ot]=Xe(),ue=0;ue<re.length;ue++)if(Je=ee[re[ue]],at=je(re[ue]),Oe=(gt=R(we._tracePreGUI[at._fullInput.uid],se)(Je,Ot)).get(),(Be=Array.isArray(tt)?tt[ue%tt.length]:tt)!==void 0){var ft=gt.parts[gt.parts.length-1],pt=Ot.substr(0,Ot.length-ft.length-1),_e=pt?pt+".":"",Ae=pt?k(at,pt).get():at;if((it=t.getTraceValObject(at,gt.parts))&&it.impliedEdits&&Be!==null)for(var Ve in it.impliedEdits)Le(T.relativeAttr(Ot,Ve),it.impliedEdits[Ve],ue);else if(ft!=="thicknessmode"&&ft!=="lenmode"||Oe===Be||Be!=="fraction"&&Be!=="pixels"||!Ae){if(Ot==="type"&&(Be==="pie"!=(Oe==="pie")||Be==="funnelarea"!=(Oe==="funnelarea"))){var He="x",We="y";Be!=="bar"&&Oe!=="bar"||Je.orientation!=="h"||(He="y",We="x"),T.swapAttrs(Je,["?","?src"],"labels",He),T.swapAttrs(Je,["d?","?0"],"label",He),T.swapAttrs(Je,["?","?src"],"values",We),Oe==="pie"||Oe==="funnelarea"?(k(Je,"marker.color").set(k(Je,"marker.colors").get()),we._pielayer.selectAll("g.trace").remove()):a.traceIs(Je,"cartesian")&&k(Je,"marker.colors").set(k(Je,"marker.color").get())}}else{var Pe=we._size,Ue=Ae.orient,Ne=Ue==="top"||Ue==="bottom";if(ft==="thicknessmode"){var Ye=Ne?Pe.h:Pe.w;Le(_e+"thickness",Ae.thickness*(Be==="fraction"?1/Ye:Ye),ue)}else{var Fe=Ne?Pe.w:Pe.h;Le(_e+"len",Ae.len*(Be==="fraction"?1/Fe:Fe),ue)}}if(Ge[Ot][ue]=P(Oe),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ot)!==-1){if(Ot==="orientation"){gt.set(Be);var Ze=Je.x&&!Je.y?"h":"v";if((gt.get()||Ze)===at.orientation)continue}else Ot==="orientationaxes"&&(Je.orientation={v:"h",h:"v"}[at.orientation]);o.swapXYData(Je),Se.calc=Se.clearAxisTypes=!0}else u.dataArrayContainers.indexOf(gt.parts[0])!==-1?(o.manageArrayContainers(gt,Be,Ge),Se.calc=!0):(it?it.arrayOk&&!a.traceIs(at,"regl")&&(T.isArrayOrTypedArray(Be)||T.isArrayOrTypedArray(Oe))?Se.calc=!0:r.update(Se,it):Se.calc=!0,gt.set(Be))}if(["swapxyaxes","orientationaxes"].indexOf(Ot)!==-1&&i.swap(K,re),Ot==="orientationaxes"){var rt=k(K.layout,"hovermode"),vt=rt.get();vt==="x"?rt.set("y"):vt==="y"?rt.set("x"):vt==="x unified"?rt.set("y unified"):vt==="y unified"&&rt.set("x unified")}if(["orientation","type"].indexOf(Ot)!==-1){for(Ee=[],ue=0;ue<re.length;ue++){var Lt=ee[re[ue]];a.traceIs(Lt,"cartesian")&&(Ke(Lt.xaxis||"x"),Ke(Lt.yaxis||"y"))}Le(Ee.map(ut),!0,0),Le(Ee.map(Tt),[0,1],0)}}else gt=ce(K.layout,Ot.replace("LAYOUT","")),Ge[Ot]=[P(gt.get())],gt.set(Array.isArray(tt)?tt[0]:tt),Se.calc=!0}return(Se.calc||Se.plot)&&(Se.fullReplot=!0),{flags:Se,undoit:Ge,redoit:De,traces:re,eventData:T.extendDeepNoArrays([],[be,re])}}function W(K){var ge,re,ue,we=T.counterRegex("axis",".title",!1,!1),Te=/colorbar\.title$/,ee=Object.keys(K);for(ge=0;ge<ee.length;ge++)re=ee[ge],ue=K[re],re!=="title"&&!we.test(re)&&!Te.test(re)||typeof ue!="string"&&typeof ue!="number"?re.indexOf("titlefont")>-1&&re.indexOf("grouptitlefont")===-1?se(re,re.replace("titlefont","title.font")):re.indexOf("titleposition")>-1?se(re,re.replace("titleposition","title.position")):re.indexOf("titleside")>-1?se(re,re.replace("titleside","title.side")):re.indexOf("titleoffset")>-1&&se(re,re.replace("titleoffset","title.offset")):se(re,re.replace("title","title.text"));function se(ce,be){K[be]=K[ce],delete K[ce]}}function Y(K,ge,re){K=T.getGraphDiv(K),o.clearPromiseQueue(K);var ue={};if(typeof ge=="string")ue[ge]=re;else{if(!T.isPlainObject(ge))return T.warn("Relayout fail.",ge,re),Promise.reject();ue=T.extendFlat({},ge)}Object.keys(ue).length&&(K.changed=!0);var we=q(K,ue),Te=we.flags;Te.calc&&(K.calcdata=void 0);var ee=[u.previousPromises];Te.layoutReplot?ee.push(s.layoutReplot):Object.keys(ue).length&&(J(K,Te,we)||u.supplyDefaults(K),Te.legend&&ee.push(s.doLegend),Te.layoutstyle&&ee.push(s.layoutStyles),Te.axrange&&G(ee,we.rangesAltered),Te.ticks&&ee.push(s.doTicksRelayout),Te.modebar&&ee.push(s.doModeBar),Te.camera&&ee.push(s.doCamera),Te.colorbars&&ee.push(s.doColorBars),ee.push(h)),ee.push(u.rehover,u.redrag,u.reselect),b.add(K,Y,[K,we.undoit],Y,[K,we.redoit]);var se=T.syncOrAsync(ee,K);return se&&se.then||(se=Promise.resolve(K)),se.then(function(){return K.emit("plotly_relayout",we.eventData),K})}function J(K,ge,re){var ue,we,Te=K._fullLayout;if(!ge.axrange)return!1;for(var ee in ge)if(ee!=="axrange"&&ge[ee])return!1;var se=function(Ge,Xe){return T.coerce(ue,we,d,Ge,Xe)},ce={};for(var be in re.rangesAltered){var Ee=i.id2name(be);if(ue=K.layout[Ee],we=Te[Ee],l(ue,we,se,ce),we._matchGroup){for(var Se in we._matchGroup)if(Se!==be){var De=Te[i.id2name(Se)];De.autorange=we.autorange,De.range=we.range.slice(),De._input.range=we.range.slice()}}}return!0}function G(K,ge){var re=ge?function(ue){var we=[];for(var Te in ge){var ee=i.getFromId(ue,Te);if(we.push(Te),(ee.ticklabelposition||"").indexOf("inside")!==-1&&ee._anchorAxis&&we.push(ee._anchorAxis._id),ee._matchGroup)for(var se in ee._matchGroup)ge[se]||we.push(se)}return i.draw(ue,we,{skipTitle:!0})}:function(ue){return i.draw(ue,"redraw")};K.push(x,s.doAutoRangeAndConstraints,re,s.drawData,s.finalDraw)}var H=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,U=/^[xyz]axis[0-9]*\.autorange$/,Z=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function q(K,ge){var re,ue,we,Te=K.layout,ee=K._fullLayout,se=ee._guiEditing,ce=R(ee._preGUI,se),be=Object.keys(ge),Ee=i.list(K),Se=T.extendDeepAll({},ge),De={};for(W(ge),be=Object.keys(ge),ue=0;ue<be.length;ue++)if(be[ue].indexOf("allaxes")===0){for(we=0;we<Ee.length;we++){var Ge=Ee[we]._id.substr(1),Xe=Ge.indexOf("scene")!==-1?Ge+".":"",Ke=be[ue].replace("allaxes",Xe+Ee[we]._name);ge[Ke]||(ge[Ke]=ge[be[ue]])}delete ge[be[ue]]}var ut=r.layoutFlags(),Tt={},je={};function Le(Et,mt){if(Array.isArray(Et))Et.forEach(function(ht){Le(ht,mt)});else if(!(Et in ge)&&!o.hasParent(ge,Et)){var kt=ce(Te,Et);Et in je||(je[Et]=P(kt.get())),mt!==void 0&&kt.set(mt)}}var $e,st={};function Ot(Et){var mt=i.name2id(Et.split(".")[0]);return st[mt]=1,mt}for(var Je in ge){if(o.hasParent(ge,Je))throw new Error("cannot set "+Je+" and a parent attribute simultaneously");for(var at=ce(Te,Je),gt=ge[Je],Oe=at.parts.length-1;Oe>0&&typeof at.parts[Oe]!="string";)Oe--;var Be=at.parts[Oe],it=at.parts[Oe-1]+"."+Be,tt=at.parts.slice(0,Oe).join("."),ft=k(K.layout,tt).get(),pt=k(ee,tt).get(),_e=at.get();if(gt!==void 0){Tt[Je]=gt,je[Je]=Be==="reverse"?gt:P(_e);var Ae=t.getLayoutValObject(ee,at.parts);if(Ae&&Ae.impliedEdits&&gt!==null)for(var Ve in Ae.impliedEdits)Le(T.relativeAttr(Je,Ve),Ae.impliedEdits[Ve]);if(["width","height"].indexOf(Je)!==-1)if(gt){Le("autosize",null);var He=Je==="height"?"width":"height";Le(He,ee[He])}else ee[Je]=K._initialAutoSize[Je];else if(Je==="autosize")Le("width",gt?null:ee.width),Le("height",gt?null:ee.height);else if(it.match(H))Ot(it),k(ee,tt+"._inputRange").set(null);else if(it.match(U)){Ot(it),k(ee,tt+"._inputRange").set(null);var We=k(ee,tt).get();We._inputDomain&&(We._input.domain=We._inputDomain.slice())}else it.match(Z)&&k(ee,tt+"._inputDomain").set(null);if(Be==="type"){$e=ft;var Pe=pt.type==="linear"&&gt==="log",Ue=pt.type==="log"&&gt==="linear";if(Pe||Ue){if($e&&$e.range)if(pt.autorange)Pe&&($e.range=$e.range[1]>$e.range[0]?[1,2]:[2,1]);else{var Ne=$e.range[0],Ye=$e.range[1];Pe?(Ne<=0&&Ye<=0&&Le(tt+".autorange",!0),Ne<=0?Ne=Ye/1e6:Ye<=0&&(Ye=Ne/1e6),Le(tt+".range[0]",Math.log(Ne)/Math.LN10),Le(tt+".range[1]",Math.log(Ye)/Math.LN10)):(Le(tt+".range[0]",Math.pow(10,Ne)),Le(tt+".range[1]",Math.pow(10,Ye)))}else Le(tt+".autorange",!0);Array.isArray(ee._subplots.polar)&&ee._subplots.polar.length&&ee[at.parts[0]]&&at.parts[1]==="radialaxis"&&delete ee[at.parts[0]]._subplot.viewInitial["radialaxis.range"],a.getComponentMethod("annotations","convertCoords")(K,pt,gt,Le),a.getComponentMethod("images","convertCoords")(K,pt,gt,Le)}else Le(tt+".autorange",!0),Le(tt+".range",null);k(ee,tt+"._inputRange").set(null)}else if(Be.match(g)){var Fe=k(ee,Je).get(),Ze=(gt||{}).type;Ze&&Ze!=="-"||(Ze="linear"),a.getComponentMethod("annotations","convertCoords")(K,Fe,Ze,Le),a.getComponentMethod("images","convertCoords")(K,Fe,Ze,Le)}var rt=n.containerArrayMatch(Je);if(rt){re=rt.array,ue=rt.index;var vt=rt.property,Lt=Ae||{editType:"calc"};ue!==""&&vt===""&&(n.isAddVal(gt)?je[Je]=null:n.isRemoveVal(gt)?je[Je]=(k(Te,re).get()||[])[ue]:T.warn("unrecognized full object value",ge)),r.update(ut,Lt),De[re]||(De[re]={});var St=De[re][ue];St||(St=De[re][ue]={}),St[vt]=gt,delete ge[Je]}else Be==="reverse"?(ft.range?ft.range.reverse():(Le(tt+".autorange",!0),ft.range=[1,0]),pt.autorange?ut.calc=!0:ut.plot=!0):(Je==="dragmode"&&(gt===!1&&_e!==!1||gt!==!1&&_e===!1)||ee._has("scatter-like")&&ee._has("regl")&&Je==="dragmode"&&(gt==="lasso"||gt==="select")&&_e!=="lasso"&&_e!=="select"||ee._has("gl2d")?ut.plot=!0:Ae?r.update(ut,Ae):ut.calc=!0,at.set(gt))}}for(re in De)n.applyContainerArrayChanges(K,ce(Te,re),De[re],ut,ce)||(ut.plot=!0);for(var It in st){var ot=($e=i.getFromId(K,It))&&$e._constraintGroup;if(ot)for(var xt in ut.calc=!0,ot)st[xt]||(i.getFromId(K,xt)._constraintShrinkable=!0)}(Q(K)||ge.height||ge.width)&&(ut.plot=!0);var Ut=ee.shapes;for(ue=0;ue<Ut.length;ue++)if(Ut[ue].showlegend){ut.calc=!0;break}return(ut.plot||ut.calc)&&(ut.layoutReplot=!0),{flags:ut,rangesAltered:st,undoit:je,redoit:Tt,eventData:Se}}function Q(K){var ge=K._fullLayout,re=ge.width,ue=ge.height;return K.layout.autosize&&u.plotAutoSize(K,K.layout,ge),ge.width!==re||ge.height!==ue}function ne(K,ge,re,ue){K=T.getGraphDiv(K),o.clearPromiseQueue(K),T.isPlainObject(ge)||(ge={}),T.isPlainObject(re)||(re={}),Object.keys(ge).length&&(K.changed=!0),Object.keys(re).length&&(K.changed=!0);var we=o.coerceTraceIndices(K,ue),Te=j(K,T.extendFlat({},ge),we),ee=Te.flags,se=q(K,T.extendFlat({},re)),ce=se.flags;(ee.calc||ce.calc)&&(K.calcdata=void 0),ee.clearAxisTypes&&o.clearAxisTypes(K,we,re);var be=[];ce.layoutReplot?be.push(s.layoutReplot):ee.fullReplot?be.push(F._doPlot):(be.push(u.previousPromises),J(K,ce,se)||u.supplyDefaults(K),ee.style&&be.push(s.doTraceStyle),(ee.colorbars||ce.colorbars)&&be.push(s.doColorBars),ce.legend&&be.push(s.doLegend),ce.layoutstyle&&be.push(s.layoutStyles),ce.axrange&&G(be,se.rangesAltered),ce.ticks&&be.push(s.doTicksRelayout),ce.modebar&&be.push(s.doModeBar),ce.camera&&be.push(s.doCamera),be.push(h)),be.push(u.rehover,u.redrag,u.reselect),b.add(K,ne,[K,Te.undoit,se.undoit,Te.traces],ne,[K,Te.redoit,se.redoit,Te.traces]);var Ee=T.syncOrAsync(be,K);return Ee&&Ee.then||(Ee=Promise.resolve(K)),Ee.then(function(){return K.emit("plotly_update",{data:Te.eventData,layout:se.eventData}),K})}function ie(K){return function(ge){ge._fullLayout._guiEditing=!0;var re=K.apply(null,arguments);return ge._fullLayout._guiEditing=!1,re}}var le=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],fe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function pe(K,ge){for(var re=0;re<ge.length;re++){var ue=ge[re],we=K.match(ue.pattern);if(we){var Te=we[1]||"";return{head:Te,tail:K.substr(Te.length+1),attr:ue.attr}}}}function me(K,ge){var re=k(ge,K).get();if(re!==void 0)return re;var ue=K.split(".");for(ue.pop();ue.length>1;)if(ue.pop(),(re=k(ge,ue.join(".")+".uirevision").get())!==void 0)return re;return ge.uirevision}function ke(K,ge){for(var re=0;re<ge.length;re++)if(ge[re]._fullInput.uid===K)return re;return-1}function ve(K,ge,re){for(var ue=0;ue<ge.length;ue++)if(ge[ue].uid===K)return ue;return!ge[re]||ge[re].uid?-1:re}function he(K,ge){var re=T.isPlainObject(K),ue=Array.isArray(K);return re||ue?(re&&T.isPlainObject(ge)||ue&&Array.isArray(ge))&&JSON.stringify(K)===JSON.stringify(ge):K===ge}function de(K,ge,re,ue){var we,Te,ee,se=ue.getValObject,ce=ue.flags,be=ue.immutable,Ee=ue.inArray,Se=ue.arrayIndex;function De(){var ft=we.editType;Ee&&ft.indexOf("arraydraw")!==-1?T.pushUnique(ce.arrays[Ee],Se):(r.update(ce,we),ft!=="none"&&ce.nChanges++,ue.transition&&we.anim&&ce.nChangesAnim++,(H.test(ee)||U.test(ee))&&(ce.rangesAltered[re[0]]=1),Z.test(ee)&&k(ge,"_inputDomain").set(null),Te==="datarevision"&&(ce.newDataRevision=1))}function Ge(ft){return ft.valType==="data_array"||ft.arrayOk}for(Te in K){if(ce.calc&&!ue.transition)return;var Xe=K[Te],Ke=ge[Te],ut=re.concat(Te);if(ee=ut.join("."),Te.charAt(0)!=="_"&&typeof Xe!="function"&&Xe!==Ke){if((Te==="tick0"||Te==="dtick")&&re[0]!=="geo"){var Tt=ge.tickmode;if(Tt==="auto"||Tt==="array"||!Tt)continue}if((Te!=="range"||!ge.autorange)&&(Te!=="zmin"&&Te!=="zmax"||ge.type!=="contourcarpet")&&(we=se(ut))&&(!we._compareAsJSON||JSON.stringify(Xe)!==JSON.stringify(Ke))){var je,Le=we.valType,$e=Ge(we),st=Array.isArray(Xe),Ot=Array.isArray(Ke);if(st&&Ot){var Je="_input_"+Te,at=K[Je],gt=ge[Je];if(Array.isArray(at)&&at===gt)continue}if(Ke===void 0)$e&&st?ce.calc=!0:De();else if(we._isLinkedToArray){var Oe=[],Be=!1;Ee||(ce.arrays[Te]=Oe);var it=Math.min(Xe.length,Ke.length),tt=Math.max(Xe.length,Ke.length);if(it!==tt){if(we.editType!=="arraydraw"){De();continue}Be=!0}for(je=0;je<it;je++)de(Xe[je],Ke[je],ut.concat(je),T.extendFlat({inArray:Te,arrayIndex:je},ue));if(Be)for(je=it;je<tt;je++)Oe.push(je)}else!Le&&T.isPlainObject(Xe)?de(Xe,Ke,ut,ue):$e?st&&Ot?(be&&(ce.calc=!0),(be||ue.newDataRevision)&&De()):st!==Ot?ce.calc=!0:De():st&&Ot&&Xe.length===Ke.length&&String(Xe)===String(Ke)||De()}}}for(Te in ge)if(!(Te in K)&&Te.charAt(0)!=="_"&&typeof ge[Te]!="function"){if(Ge(we=se(re.concat(Te)))&&Array.isArray(ge[Te]))return void(ce.calc=!0);De()}}function X(K,ge){var re;for(re in K)if(re.charAt(0)!=="_"){var ue=K[re],we=ge[re];if(ue!==we)if(T.isPlainObject(ue)&&T.isPlainObject(we)){if(X(ue,we))return!0}else{if(!Array.isArray(ue)||!Array.isArray(we)||ue.length!==we.length)return!0;for(var Te=0;Te<ue.length;Te++)if(ue[Te]!==we[Te]&&(!T.isPlainObject(ue[Te])||!T.isPlainObject(we[Te])||X(ue[Te],we[Te])))return!0}}}function ae(K){var ge=K._fullLayout,re=K.getBoundingClientRect();if(!T.equalDomRects(re,ge._lastBBox)){var ue=ge._invTransform=T.inverseTransformMatrix(T.getFullTransformMatrix(K));ge._invScaleX=Math.sqrt(ue[0][0]*ue[0][0]+ue[0][1]*ue[0][1]+ue[0][2]*ue[0][2]),ge._invScaleY=Math.sqrt(ue[1][0]*ue[1][0]+ue[1][1]*ue[1][1]+ue[1][2]*ue[1][2]),ge._lastBBox=re}}F.animate=function(K,ge,re){if(K=T.getGraphDiv(K),!T.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var ue=K._transitionData;ue._frameQueue||(ue._frameQueue=[]);var we=(re=u.supplyAnimationDefaults(re)).transition,Te=re.frame;function ee(be){return Array.isArray(we)?be>=we.length?we[0]:we[be]:we}function se(be){return Array.isArray(Te)?be>=Te.length?Te[0]:Te[be]:Te}function ce(be,Ee){var Se=0;return function(){if(be&&++Se===Ee)return be()}}return ue._frameWaitingCnt===void 0&&(ue._frameWaitingCnt=0),new Promise(function(be,Ee){function Se(){K.emit("plotly_animating"),ue._lastFrameAt=-1/0,ue._timeToNext=0,ue._runningTransitions=0,ue._currentFrame=null;var Je=function(){ue._animationRaf=window.requestAnimationFrame(Je),Date.now()-ue._lastFrameAt>ue._timeToNext&&function(){ue._currentFrame&&ue._currentFrame.onComplete&&ue._currentFrame.onComplete();var at=ue._currentFrame=ue._frameQueue.shift();if(at){var gt=at.name?at.name.toString():null;K._fullLayout._currentFrame=gt,ue._lastFrameAt=Date.now(),ue._timeToNext=at.frameOpts.duration,u.transition(K,at.frame.data,at.frame.layout,o.coerceTraceIndices(K,at.frame.traces),at.frameOpts,at.transitionOpts).then(function(){at.onComplete&&at.onComplete()}),K.emit("plotly_animatingframe",{name:gt,frame:at.frame,animation:{frame:at.frameOpts,transition:at.transitionOpts}})}else K.emit("plotly_animated"),window.cancelAnimationFrame(ue._animationRaf),ue._animationRaf=null}()};Je()}var De,Ge,Xe=0;function Ke(Je){return Array.isArray(we)?Xe>=we.length?Je.transitionOpts=we[Xe]:Je.transitionOpts=we[0]:Je.transitionOpts=we,Xe++,Je}var ut=[],Tt=ge==null,je=Array.isArray(ge);if(Tt||je||!T.isPlainObject(ge)){if(Tt||["string","number"].indexOf(typeof ge)!==-1)for(De=0;De<ue._frames.length;De++)(Ge=ue._frames[De])&&(Tt||String(Ge.group)===String(ge))&&ut.push({type:"byname",name:String(Ge.name),data:Ke({name:Ge.name})});else if(je)for(De=0;De<ge.length;De++){var Le=ge[De];["number","string"].indexOf(typeof Le)!==-1?(Le=String(Le),ut.push({type:"byname",name:Le,data:Ke({name:Le})})):T.isPlainObject(Le)&&ut.push({type:"object",data:Ke(T.extendFlat({},Le))})}}else ut.push({type:"object",data:Ke(T.extendFlat({},ge))});for(De=0;De<ut.length;De++)if((Ge=ut[De]).type==="byname"&&!ue._frameHash[Ge.data.name])return T.warn('animate failure: frame not found: "'+Ge.data.name+'"'),void Ee();["next","immediate"].indexOf(re.mode)!==-1&&function(){if(ue._frameQueue.length!==0){for(;ue._frameQueue.length;){var Je=ue._frameQueue.pop();Je.onInterrupt&&Je.onInterrupt()}K.emit("plotly_animationinterrupted",[])}}(),re.direction==="reverse"&&ut.reverse();var $e=K._fullLayout._currentFrame;if($e&&re.fromcurrent){var st=-1;for(De=0;De<ut.length;De++)if((Ge=ut[De]).type==="byname"&&Ge.name===$e){st=De;break}if(st>0&&st<ut.length-1){var Ot=[];for(De=0;De<ut.length;De++)Ge=ut[De],(ut[De].type!=="byname"||De>st)&&Ot.push(Ge);ut=Ot}}ut.length>0?function(Je){if(Je.length!==0){for(var at=0;at<Je.length;at++){var gt;gt=Je[at].type==="byname"?u.computeFrame(K,Je[at].name):Je[at].data;var Oe=se(at),Be=ee(at);Be.duration=Math.min(Be.duration,Oe.duration);var it={frame:gt,name:Je[at].name,frameOpts:Oe,transitionOpts:Be};at===Je.length-1&&(it.onComplete=ce(be,2),it.onInterrupt=Ee),ue._frameQueue.push(it)}re.mode==="immediate"&&(ue._lastFrameAt=-1/0),ue._animationRaf||Se()}}(ut):(K.emit("plotly_animated"),be())})},F.addFrames=function(K,ge,re){if(K=T.getGraphDiv(K),ge==null)return Promise.resolve();if(!T.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var ue,we,Te,ee,se=K._transitionData._frames,ce=K._transitionData._frameHash;if(!Array.isArray(ge))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ge);var be=se.length+2*ge.length,Ee=[],Se={};for(ue=ge.length-1;ue>=0;ue--)if(T.isPlainObject(ge[ue])){var De=ge[ue].name,Ge=(ce[De]||Se[De]||{}).name,Xe=ge[ue].name,Ke=ce[Ge]||Se[Ge];Ge&&Xe&&typeof Xe=="number"&&Ke&&e<5&&(e++,T.warn('addFrames: overwriting frame "'+(ce[Ge]||Se[Ge]).name+'" with a frame whose name of type "number" also equates to "'+Ge+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),e===5&&T.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Se[De]={name:De},Ee.push({frame:u.supplyFrameDefaults(ge[ue]),index:re&&re[ue]!==void 0&&re[ue]!==null?re[ue]:be+ue})}Ee.sort(function(Je,at){return Je.index>at.index?-1:Je.index<at.index?1:0});var ut=[],Tt=[],je=se.length;for(ue=Ee.length-1;ue>=0;ue--){if(typeof(we=Ee[ue].frame).name=="number"&&T.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!we.name)for(;ce[we.name="frame "+K._transitionData._counter++];);if(ce[we.name]){for(Te=0;Te<se.length&&(se[Te]||{}).name!==we.name;Te++);ut.push({type:"replace",index:Te,value:we}),Tt.unshift({type:"replace",index:Te,value:se[Te]})}else ee=Math.max(0,Math.min(Ee[ue].index,je)),ut.push({type:"insert",index:ee,value:we}),Tt.unshift({type:"delete",index:ee}),je++}var Le=u.modifyFrames,$e=u.modifyFrames,st=[K,Tt],Ot=[K,ut];return b&&b.add(K,Le,st,$e,Ot),u.modifyFrames(K,ut)},F.deleteFrames=function(K,ge){if(K=T.getGraphDiv(K),!T.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K);var re,ue,we=K._transitionData._frames,Te=[],ee=[];if(!ge)for(ge=[],re=0;re<we.length;re++)ge.push(re);for((ge=ge.slice()).sort(),re=ge.length-1;re>=0;re--)ue=ge[re],Te.push({type:"delete",index:ue}),ee.unshift({type:"insert",index:ue,value:we[ue]});var se=u.modifyFrames,ce=u.modifyFrames,be=[K,ee],Ee=[K,Te];return b&&b.add(K,se,be,ce,Ee),u.modifyFrames(K,Te)},F.addTraces=function K(ge,re,ue){ge=T.getGraphDiv(ge);var we,Te,ee=[],se=F.deleteTraces,ce=K,be=[ge,ee],Ee=[ge,re];for(function(Se,De,Ge){var Xe,Ke;if(!Array.isArray(Se.data))throw new Error("gd.data must be an array.");if(De===void 0)throw new Error("traces must be defined.");for(Array.isArray(De)||(De=[De]),Xe=0;Xe<De.length;Xe++)if(typeof(Ke=De[Xe])!="object"||Array.isArray(Ke)||Ke===null)throw new Error("all values in traces array must be non-array objects");if(Ge===void 0||Array.isArray(Ge)||(Ge=[Ge]),Ge!==void 0&&Ge.length!==De.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(ge,re,ue),Array.isArray(re)||(re=[re]),re=re.map(function(Se){return T.extendFlat({},Se)}),o.cleanData(re),we=0;we<re.length;we++)ge.data.push(re[we]);for(we=0;we<re.length;we++)ee.push(-re.length+we);if(ue===void 0)return Te=F.redraw(ge),b.add(ge,se,be,ce,Ee),Te;Array.isArray(ue)||(ue=[ue]);try{I(ge,ee,ue)}catch(Se){throw ge.data.splice(ge.data.length-re.length,re.length),Se}return b.startSequence(ge),b.add(ge,se,be,ce,Ee),Te=F.moveTraces(ge,ee,ue),b.stopSequence(ge),Te},F.deleteTraces=function K(ge,re){ge=T.getGraphDiv(ge);var ue,we,Te=[],ee=F.addTraces,se=K,ce=[ge,Te,re],be=[ge,re];if(re===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(re)||(re=[re]),A(ge,re,"indices"),(re=O(re,ge.data.length-1)).sort(T.sorterDes),ue=0;ue<re.length;ue+=1)we=ge.data.splice(re[ue],1)[0],Te.push(we);var Ee=F.redraw(ge);return b.add(ge,ee,ce,se,be),Ee},F.extendTraces=function K(ge,re,ue,we){var Te=B(ge=T.getGraphDiv(ge),re,ue,we,function(ce,be,Ee){var Se,De;if(T.isTypedArray(ce))if(Ee<0){var Ge=new ce.constructor(0),Xe=C(ce,be);Ee<0?(Se=Xe,De=Ge):(Se=Ge,De=Xe)}else if(Se=new ce.constructor(Ee),De=new ce.constructor(ce.length+be.length-Ee),Ee===be.length)Se.set(be),De.set(ce);else if(Ee<be.length){var Ke=be.length-Ee;Se.set(be.subarray(Ke)),De.set(ce),De.set(be.subarray(0,Ke),ce.length)}else{var ut=Ee-be.length,Tt=ce.length-ut;Se.set(ce.subarray(Tt)),Se.set(be,ut),De.set(ce.subarray(0,Tt))}else Se=ce.concat(be),De=Ee>=0&&Ee<Se.length?Se.splice(0,Se.length-Ee):[];return[Se,De]}),ee=F.redraw(ge),se=[ge,Te.update,ue,Te.maxPoints];return b.add(ge,F.prependTraces,se,K,arguments),ee},F.moveTraces=function K(ge,re,ue){var we,Te=[],ee=[],se=K,ce=K,be=[ge=T.getGraphDiv(ge),ue,re],Ee=[ge,re,ue];if(I(ge,re,ue),re=Array.isArray(re)?re:[re],ue===void 0)for(ue=[],we=0;we<re.length;we++)ue.push(-re.length+we);for(ue=Array.isArray(ue)?ue:[ue],re=O(re,ge.data.length-1),ue=O(ue,ge.data.length-1),we=0;we<ge.data.length;we++)re.indexOf(we)===-1&&Te.push(ge.data[we]);for(we=0;we<re.length;we++)ee.push({newIndex:ue[we],trace:ge.data[re[we]]});for(ee.sort(function(De,Ge){return De.newIndex-Ge.newIndex}),we=0;we<ee.length;we+=1)Te.splice(ee[we].newIndex,0,ee[we].trace);ge.data=Te;var Se=F.redraw(ge);return b.add(ge,se,be,ce,Ee),Se},F.prependTraces=function K(ge,re,ue,we){var Te=B(ge=T.getGraphDiv(ge),re,ue,we,function(ce,be,Ee){var Se,De;if(T.isTypedArray(ce))if(Ee<=0){var Ge=new ce.constructor(0),Xe=C(be,ce);Ee<0?(Se=Xe,De=Ge):(Se=Ge,De=Xe)}else if(Se=new ce.constructor(Ee),De=new ce.constructor(ce.length+be.length-Ee),Ee===be.length)Se.set(be),De.set(ce);else if(Ee<be.length){var Ke=be.length-Ee;Se.set(be.subarray(0,Ke)),De.set(be.subarray(Ke)),De.set(ce,Ke)}else{var ut=Ee-be.length;Se.set(be),Se.set(ce.subarray(0,ut),be.length),De.set(ce.subarray(ut))}else Se=be.concat(ce),De=Ee>=0&&Ee<Se.length?Se.splice(Ee,Se.length):[];return[Se,De]}),ee=F.redraw(ge),se=[ge,Te.update,ue,Te.maxPoints];return b.add(ge,F.extendTraces,se,K,arguments),ee},F.newPlot=function(K,ge,re,ue){return K=T.getGraphDiv(K),u.cleanPlot([],{},K._fullData||[],K._fullLayout||{}),u.purge(K),F._doPlot(K,ge,re,ue)},F._doPlot=function(K,ge,re,ue){var we;if(K=T.getGraphDiv(K),M.init(K),T.isPlainObject(ge)){var Te=ge;ge=Te.data,re=Te.layout,ue=Te.config,we=Te.frames}if(M.triggerHandler(K,"plotly_beforeplot",[ge,re,ue])===!1)return Promise.reject();ge||re||T.isPlotDiv(K)||T.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",K),S(K,ue),re||(re={}),L.select(K).classed("js-plotly-plot",!0),v.makeTester(),Array.isArray(K._promises)||(K._promises=[]);var ee=(K.data||[]).length===0&&Array.isArray(ge);Array.isArray(ge)&&(o.cleanData(ge),ee?K.data=ge:K.data.push.apply(K.data,ge),K.empty=!1),K.layout&&!ee||(K.layout=o.cleanLayout(re)),u.supplyDefaults(K);var se=K._fullLayout,ce=se._has("cartesian");se._replotting=!0,(ee||se._shouldCreateBgLayer)&&(function(Tt){var je=L.select(Tt),Le=Tt._fullLayout;if(Le._calcInverseTransform=ae,Le._calcInverseTransform(Tt),Le._container=je.selectAll(".plot-container").data([0]),Le._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),Le._paperdiv=Le._container.selectAll(".svg-container").data([0]),Le._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Le._glcontainer=Le._paperdiv.selectAll(".gl-container").data([{}]),Le._glcontainer.enter().append("div").classed("gl-container",!0),Le._paperdiv.selectAll(".main-svg").remove(),Le._paperdiv.select(".modebar-container").remove(),Le._paper=Le._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Le._toppaper=Le._paperdiv.append("svg").classed("main-svg",!0),Le._modebardiv=Le._paperdiv.append("div"),delete Le._modeBar,Le._hoverpaper=Le._paperdiv.append("svg").classed("main-svg",!0),!Le._uid){var $e={};L.selectAll("defs").each(function(){this.id&&($e[this.id.split("-")[1]]=1)}),Le._uid=T.randstr($e)}Le._paperdiv.selectAll(".main-svg").attr(c.svgAttrs),Le._defs=Le._paper.append("defs").attr("id","defs-"+Le._uid),Le._clips=Le._defs.append("g").classed("clips",!0),Le._topdefs=Le._toppaper.append("defs").attr("id","topdefs-"+Le._uid),Le._topclips=Le._topdefs.append("g").classed("clips",!0),Le._bgLayer=Le._paper.append("g").classed("bglayer",!0),Le._draggers=Le._paper.append("g").classed("draglayer",!0);var st=Le._paper.append("g").classed("layer-below",!0);Le._imageLowerLayer=st.append("g").classed("imagelayer",!0),Le._shapeLowerLayer=st.append("g").classed("shapelayer",!0),Le._cartesianlayer=Le._paper.append("g").classed("cartesianlayer",!0),Le._polarlayer=Le._paper.append("g").classed("polarlayer",!0),Le._smithlayer=Le._paper.append("g").classed("smithlayer",!0),Le._ternarylayer=Le._paper.append("g").classed("ternarylayer",!0),Le._geolayer=Le._paper.append("g").classed("geolayer",!0),Le._funnelarealayer=Le._paper.append("g").classed("funnelarealayer",!0),Le._pielayer=Le._paper.append("g").classed("pielayer",!0),Le._iciclelayer=Le._paper.append("g").classed("iciclelayer",!0),Le._treemaplayer=Le._paper.append("g").classed("treemaplayer",!0),Le._sunburstlayer=Le._paper.append("g").classed("sunburstlayer",!0),Le._indicatorlayer=Le._toppaper.append("g").classed("indicatorlayer",!0),Le._glimages=Le._paper.append("g").classed("glimages",!0);var Ot=Le._toppaper.append("g").classed("layer-above",!0);Le._imageUpperLayer=Ot.append("g").classed("imagelayer",!0),Le._shapeUpperLayer=Ot.append("g").classed("shapelayer",!0),Le._selectionLayer=Le._toppaper.append("g").classed("selectionlayer",!0),Le._infolayer=Le._toppaper.append("g").classed("infolayer",!0),Le._menulayer=Le._toppaper.append("g").classed("menulayer",!0),Le._zoomlayer=Le._toppaper.append("g").classed("zoomlayer",!0),Le._hoverlayer=Le._hoverpaper.append("g").classed("hoverlayer",!0),Le._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Tt.emit("plotly_framework")}(K),se._shouldCreateBgLayer&&delete se._shouldCreateBgLayer),v.initGradients(K),v.initPatterns(K),ee&&i.saveShowSpikeInitial(K);var be=!K.calcdata||K.calcdata.length!==(K._fullData||[]).length;be&&u.doCalcdata(K);for(var Ee=0;Ee<K.calcdata.length;Ee++)K.calcdata[Ee][0].trace=K._fullData[Ee];K._context.responsive?K._responsiveChartHandler||(K._responsiveChartHandler=function(){T.isHidden(K)||u.resize(K)},window.addEventListener("resize",K._responsiveChartHandler)):T.clearResponsive(K);var Se=T.extendFlat({},se._size),De=0;function Ge(){if(u.clearAutoMarginIds(K),s.drawMarginPushers(K),i.allowAutoMargin(K),K._fullLayout.title.text&&K._fullLayout.title.automargin&&u.allowAutoMargin(K,"title.automargin"),se._has("pie"))for(var Tt=K._fullData,je=0;je<Tt.length;je++){var Le=Tt[je];Le.type==="pie"&&Le.automargin&&u.allowAutoMargin(K,"pie."+Le.uid+".automargin")}return u.doAutoMargin(K),u.previousPromises(K)}function Xe(){K._transitioning||(s.doAutoRangeAndConstraints(K),ee&&i.saveRangeInitial(K),a.getComponentMethod("rangeslider","calcAutorange")(K))}var Ke=[u.previousPromises,function(){if(we)return F.addFrames(K,we)},function Tt(){for(var je=se._basePlotModules,Le=0;Le<je.length;Le++)je[Le].drawFramework&&je[Le].drawFramework(K);!se._glcanvas&&se._has("gl")&&(se._glcanvas=se._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Je){return Je.key}),se._glcanvas.enter().append("canvas").attr("class",function(Je){return"gl-canvas gl-canvas-"+Je.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var $e=K._context.plotGlPixelRatio;if(se._glcanvas){se._glcanvas.attr("width",se.width*$e).attr("height",se.height*$e).style("width",se.width+"px").style("height",se.height+"px");var st=se._glcanvas.data()[0].regl;if(st&&(Math.floor(se.width*$e)!==st._gl.drawingBufferWidth||Math.floor(se.height*$e)!==st._gl.drawingBufferHeight)){var Ot="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!De)return T.log(Ot+" Clearing graph and plotting again."),u.cleanPlot([],{},K._fullData,se),u.supplyDefaults(K),se=K._fullLayout,u.doCalcdata(K),De++,Tt();T.error(Ot)}}return se.modebar.orientation==="h"?se._modebardiv.style("height",null).style("width","100%"):se._modebardiv.style("width",null).style("height",se.height+"px"),u.previousPromises(K)},Ge,function(){if(u.didMarginChange(Se,se._size))return T.syncOrAsync([Ge,s.layoutStyles],K)}];ce&&Ke.push(function(){if(be)return T.syncOrAsync([a.getComponentMethod("shapes","calcAutorange"),a.getComponentMethod("annotations","calcAutorange"),Xe],K);Xe()}),Ke.push(s.layoutStyles),ce&&Ke.push(function(){return i.draw(K,ee?"":"redraw")},function(Tt){var je=Tt._fullLayout._insideTickLabelsUpdaterange;if(je)return Tt._fullLayout._insideTickLabelsUpdaterange=void 0,Y(Tt,je).then(function(){i.saveRangeInitial(Tt,!0)})}),Ke.push(s.drawData,s.finalDraw,p,u.addLinks,u.rehover,u.redrag,u.reselect,u.doAutoMargin,u.previousPromises);var ut=T.syncOrAsync(Ke,K);return ut&&ut.then||(ut=Promise.resolve()),ut.then(function(){return h(K),K})},F.purge=function(K){var ge=(K=T.getGraphDiv(K))._fullLayout||{},re=K._fullData||[];return u.cleanPlot([],{},re,ge),u.purge(K),M.purge(K),ge._container&&ge._container.remove(),delete K._context,K},F.react=function(K,ge,re,ue){var we,Te;K=T.getGraphDiv(K),o.clearPromiseQueue(K);var ee=K._fullData,se=K._fullLayout;if(T.isPlotDiv(K)&&ee&&se){if(T.isPlainObject(ge)){var ce=ge;ge=ce.data,re=ce.layout,ue=ce.config,we=ce.frames}var be=!1;if(ue){var Ee=T.extendDeep({},K._context);K._context=void 0,S(K,ue),be=X(Ee,K._context)}K.data=ge||[],o.cleanData(K.data),K.layout=re||{},o.cleanLayout(K.layout),function(tt,ft,pt,_e){var Ae,Ve,He,We,Pe,Ue,Ne,Ye,Fe,Ze,rt=_e._preGUI,vt=[],Lt={},St={};for(Ae in rt){if(Pe=pe(Ae,le)){if(Fe=Pe.head,Ze=Pe.tail,Ve=Pe.attr||Fe+".uirevision",(We=(He=k(_e,Ve).get())&&me(Ve,ft))&&We===He){if((Ue=rt[Ae])===null&&(Ue=void 0),he(Ye=(Ne=k(ft,Ae)).get(),Ue)){Ye===void 0&&Ze==="autorange"&&vt.push(Fe),Ne.set(P(k(_e,Ae).get()));continue}if(Ze==="autorange"||Ze.substr(0,6)==="range["){var It=rt[Fe+".range[0]"],ot=rt[Fe+".range[1]"],xt=rt[Fe+".autorange"];if(xt||xt===null&&It===null&&ot===null){if(!(Fe in Lt)){var Ut=k(ft,Fe).get();Lt[Fe]=Ut&&(Ut.autorange||Ut.autorange!==!1&&(!Ut.range||Ut.range.length!==2))}if(Lt[Fe]){Ne.set(P(k(_e,Ae).get()));continue}}}}}else T.warn("unrecognized GUI edit: "+Ae);delete rt[Ae],Pe&&Pe.tail.substr(0,6)==="range["&&(St[Pe.head]=1)}for(var Et=0;Et<vt.length;Et++){var mt=vt[Et];if(St[mt]){var kt=k(ft,mt).get();kt&&delete kt.autorange}}var ht=_e._tracePreGUI;for(var wt in ht){var Wt,jt=ht[wt],Jt=null;for(Ae in jt){if(!Jt){var qt=ke(wt,pt);if(qt<0){delete ht[wt];break}var Xt=ve(wt,tt,(Wt=pt[qt]._fullInput).index);if(Xt<0){delete ht[wt];break}Jt=tt[Xt]}if(Pe=pe(Ae,fe)){if(Pe.attr?We=(He=k(_e,Pe.attr).get())&&me(Pe.attr,ft):(He=Wt.uirevision,(We=Jt.uirevision)===void 0&&(We=ft.uirevision)),We&&We===He&&((Ue=jt[Ae])===null&&(Ue=void 0),he(Ye=(Ne=k(Jt,Ae)).get(),Ue))){Ne.set(P(k(Wt,Ae).get()));continue}}else T.warn("unrecognized GUI edit: "+Ae+" in trace uid "+wt);delete jt[Ae]}}}(K.data,K.layout,ee,se),u.supplyDefaults(K,{skipUpdateCalc:!0});var Se=K._fullData,De=K._fullLayout,Ge=De.datarevision===void 0,Xe=De.transition,Ke=function(tt,ft,pt,_e,Ae){var Ve=r.layoutFlags();return Ve.arrays={},Ve.rangesAltered={},Ve.nChanges=0,Ve.nChangesAnim=0,de(ft,pt,[],{getValObject:function(He){return t.getLayoutValObject(pt,He)},flags:Ve,immutable:_e,transition:Ae,gd:tt}),(Ve.plot||Ve.calc)&&(Ve.layoutReplot=!0),Ae&&Ve.nChanges&&Ve.nChangesAnim&&(Ve.anim=Ve.nChanges===Ve.nChangesAnim?"all":"some"),Ve}(K,se,De,Ge,Xe),ut=Ke.newDataRevision,Tt=function(tt,ft,pt,_e,Ae,Ve){var He=ft.length===pt.length;if(!Ae&&!He)return{fullReplot:!0,calc:!0};var We,Pe,Ue=r.traceFlags();Ue.arrays={},Ue.nChanges=0,Ue.nChangesAnim=0;var Ne={getValObject:function(Fe){var Ze=t.getTraceValObject(Pe,Fe);return!Pe._module.animatable&&Ze.anim&&(Ze.anim=!1),Ze},flags:Ue,immutable:_e,transition:Ae,newDataRevision:Ve,gd:tt},Ye={};for(We=0;We<ft.length;We++)if(pt[We]){if(Pe=pt[We]._fullInput,u.hasMakesDataTransform(Pe)&&(Pe=pt[We]),Ye[Pe.uid])continue;Ye[Pe.uid]=1,de(ft[We]._fullInput,Pe,[],Ne)}return(Ue.calc||Ue.plot)&&(Ue.fullReplot=!0),Ae&&Ue.nChanges&&Ue.nChangesAnim&&(Ue.anim=Ue.nChanges===Ue.nChangesAnim&&He?"all":"some"),Ue}(K,ee,Se,Ge,Xe,ut);if(Q(K)&&(Ke.layoutReplot=!0),Tt.calc||Ke.calc){K.calcdata=void 0;for(var je=Object.getOwnPropertyNames(De),Le=0;Le<je.length;Le++){var $e=je[Le],st=$e.substring(0,5);if(st==="xaxis"||st==="yaxis"){var Ot=De[$e]._emptyCategories;Ot&&Ot()}}}else u.supplyDefaultsUpdateCalc(K.calcdata,Se);var Je=[];if(we&&(K._transitionData={},u.createTransitionData(K),Je.push(function(){return F.addFrames(K,we)})),De.transition&&!be&&(Tt.anim||Ke.anim))Ke.ticks&&Je.push(s.doTicksRelayout),u.doCalcdata(K),s.doAutoRangeAndConstraints(K),Je.push(function(){return u.transitionFromReact(K,Tt,Ke,se)});else if(Tt.fullReplot||Ke.layoutReplot||be)K._fullLayout._skipDefaults=!0,Je.push(F._doPlot);else{for(var at in Ke.arrays){var gt=Ke.arrays[at];if(gt.length){var Oe=a.getComponentMethod(at,"drawOne");if(Oe!==T.noop)for(var Be=0;Be<gt.length;Be++)Oe(K,gt[Be]);else{var it=a.getComponentMethod(at,"draw");if(it===T.noop)throw new Error("cannot draw components: "+at);it(K)}}}Je.push(u.previousPromises),Tt.style&&Je.push(s.doTraceStyle),(Tt.colorbars||Ke.colorbars)&&Je.push(s.doColorBars),Ke.legend&&Je.push(s.doLegend),Ke.layoutstyle&&Je.push(s.layoutStyles),Ke.axrange&&G(Je),Ke.ticks&&Je.push(s.doTicksRelayout),Ke.modebar&&Je.push(s.doModeBar),Ke.camera&&Je.push(s.doCamera),Je.push(h)}Je.push(u.rehover,u.redrag,u.reselect),(Te=T.syncOrAsync(Je,K))&&Te.then||(Te=Promise.resolve(K))}else Te=F.newPlot(K,ge,re,ue);return Te.then(function(){return K.emit("plotly_react",{data:ge,layout:re}),K})},F.redraw=function(K){if(K=T.getGraphDiv(K),!T.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K);return o.cleanData(K.data),o.cleanLayout(K.layout),K.calcdata=void 0,F._doPlot(K).then(function(){return K.emit("plotly_redraw"),K})},F.relayout=Y,F.restyle=z,F.setPlotConfig=function(K){return T.extendFlat(f,K)},F.update=ne,F._guiRelayout=ie(Y),F._guiRestyle=ie(z),F._guiUpdate=ie(ne),F._storeDirectGUIEdit=function(K,ge,re){for(var ue in re)N(ue,k(K,ue).get(),re[ue],ge)}},24452:function($){var F={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},m={};(function L(D,E){for(var T in D){var k=D[T];k.valType?E[T]=k.dflt:(E[T]||(E[T]={}),L(k,E[T]))}})(F,m),$.exports={configAttributes:F,dfltConfig:m}},57297:function($,F,m){var L=m(33626),D=m(34809),E=m(9829),T=m(6704),k=m(58935),M=m(49722),b=m(24452).configAttributes,a=m(13582),t=D.extendDeepAll,u=D.isPlainObject,i=D.isArrayOrTypedArray,l=D.nestedProperty,d=D.valObjectMeta,v="_isSubplotObj",y="_isLinkedToArray",p="_deprecated",c=[v,y,"_arrayAttrRegexps",p];function x(g,e,h){if(!g)return!1;if(g._isLinkedToArray){if(f(e[h]))h++;else if(h<e.length)return!1}for(;h<e.length;h++){var _=g[e[h]];if(!u(_)||(g=_,h===e.length-1))break;if(g._isLinkedToArray){if(!f(e[++h]))return!1}else if(g.valType==="info_array"){var w=e[++h];if(!f(w))return!1;var S=g.items;if(Array.isArray(S)){if(w>=S.length)return!1;if(g.dimensions===2){if(h++,e.length===h)return g;var O=e[h];if(!f(O))return!1;g=S[w][O]}else g=S[w]}else g=S}}return g}function f(g){return g===Math.round(g)&&g>=0}function n(){var g,e,h={};for(g in t(h,T),L.subplotsRegistry)if((e=L.subplotsRegistry[g]).layoutAttributes)if(Array.isArray(e.attr))for(var _=0;_<e.attr.length;_++)s(h,e,e.attr[_]);else s(h,e,e.attr==="subplot"?e.name:e.attr);for(g in L.componentsRegistry){var w=(e=L.componentsRegistry[g]).schema;if(w&&(w.subplots||w.layout)){var S=w.subplots;if(S&&S.xaxis&&!S.yaxis)for(var O in S.xaxis)delete h.yaxis[O];delete h.xaxis.shift,delete h.xaxis.autoshift}else e.name==="colorscale"?t(h,e.layoutAttributes):e.layoutAttributes&&r(h,e.layoutAttributes,e.name)}return{layoutAttributes:o(h)}}function o(g){return function(e){F.crawl(e,function(h,_,w){F.isValObject(h)?h.arrayOk!==!0&&h.valType!=="data_array"||(w[_+"src"]={valType:"string",editType:"none"}):u(h)&&(h.role="object")})}(g),function(e){F.crawl(e,function(h,_,w){if(h){var S=h[y];S&&(delete h[y],w[_]={items:{}},w[_].items[S]=h,w[_].role="object")}})}(g),function(e){(function h(_){for(var w in _)if(u(_[w]))h(_[w]);else if(Array.isArray(_[w]))for(var S=0;S<_[w].length;S++)h(_[w][S]);else _[w]instanceof RegExp&&(_[w]=_[w].toString())})(e)}(g),g}function s(g,e,h){var _=l(g,h),w=t({},e.layoutAttributes);w[v]=!0,_.set(w)}function r(g,e,h){var _=l(g,h);_.set(t(_.get()||{},e))}F.IS_SUBPLOT_OBJ=v,F.IS_LINKED_TO_ARRAY=y,F.DEPRECATED=p,F.UNDERSCORE_ATTRS=c,F.get=function(){var g={};L.allTypes.forEach(function(_){g[_]=function(w){var S,O;O=(S=L.modules[w]._module).basePlotModule;var A={type:null},I=t({},E),B=t({},S.attributes);F.crawl(B,function(P,R,N,j,W){l(I,W).set(void 0),P===void 0&&l(B,W).set(void 0)}),t(A,I),L.traceIs(w,"noOpacity")&&delete A.opacity,L.traceIs(w,"showLegend")||(delete A.showlegend,delete A.legendgroup),L.traceIs(w,"noHover")&&(delete A.hoverinfo,delete A.hoverlabel),S.selectPoints||delete A.selectedpoints,t(A,B),O.attributes&&t(A,O.attributes),A.type=w;var C={meta:S.meta||{},categories:S.categories||{},animatable:!!S.animatable,type:w,attributes:o(A)};if(S.layoutAttributes){var z={};t(z,S.layoutAttributes),C.layoutAttributes=o(z)}return S.animatable||F.crawl(C,function(P){F.isValObject(P)&&"anim"in P&&delete P.anim}),C}(_)});var e,h={};return Object.keys(L.transformsRegistry).forEach(function(_){h[_]=function(w){var S=L.transformsRegistry[w],O=t({},S.attributes);return Object.keys(L.componentsRegistry).forEach(function(A){var I=L.componentsRegistry[A];I.schema&&I.schema.transforms&&I.schema.transforms[w]&&Object.keys(I.schema.transforms[w]).forEach(function(B){r(O,I.schema.transforms[w][B],B)})}),{attributes:o(O)}}(_)}),{defs:{valObjects:d,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:a.traces,layout:a.layout},impliedEdits:{}},traces:g,layout:n(),transforms:h,frames:(e={frames:t({},k)},o(e),e.frames),animation:o(M),config:o(b)}},F.crawl=function(g,e,h,_){var w=h||0;_=_||"",Object.keys(g).forEach(function(S){var O=g[S];if(c.indexOf(S)===-1){var A=(_?_+".":"")+S;e(O,S,g,w,A),F.isValObject(O)||u(O)&&S!=="impliedEdits"&&F.crawl(O,e,w+1,A)}})},F.isValObject=function(g){return g&&g.valType!==void 0},F.findArrayAttributes=function(g){var e,h,_=[],w=[],S=[];function O(P,R,N,j){w=w.slice(0,j).concat([R]),S=S.slice(0,j).concat([P&&P._isLinkedToArray]),P&&(P.valType==="data_array"||P.arrayOk===!0)&&(w[j-1]!=="colorbar"||R!=="ticktext"&&R!=="tickvals")&&A(e,0,"")}function A(P,R,N){var j=P[w[R]],W=N+w[R];if(R===w.length-1)i(j)&&_.push(h+W);else if(S[R]){if(Array.isArray(j))for(var Y=0;Y<j.length;Y++)u(j[Y])&&A(j[Y],R+1,W+"["+Y+"].")}else u(j)&&A(j,R+1,W+".")}e=g,h="",F.crawl(E,O),g._module&&g._module.attributes&&F.crawl(g._module.attributes,O);var I=g.transforms;if(I)for(var B=0;B<I.length;B++){var C=I[B],z=C._module;z&&(h="transforms["+B+"].",e=C,F.crawl(z.attributes,O))}return _},F.getTraceValObject=function(g,e){var h,_,w=e[0],S=1;if(w==="transforms"){if(e.length===1)return E.transforms;var O=g.transforms;if(!Array.isArray(O)||!O.length)return!1;var A=e[1];if(!f(A)||A>=O.length)return!1;_=(h=(L.transformsRegistry[O[A].type]||{}).attributes)&&h[e[2]],S=3}else{var I=g._module;if(I||(I=(L.modules[g.type||E.type.dflt]||{})._module),!I)return!1;if(!(_=(h=I.attributes)&&h[w])){var B=I.basePlotModule;B&&B.attributes&&(_=B.attributes[w])}_||(_=E[w])}return x(_,e,S)},F.getLayoutValObject=function(g,e){var h=function(_,w){var S,O,A,I,B=_._basePlotModules;if(B){var C;for(S=0;S<B.length;S++){if((A=B[S]).attrRegex&&A.attrRegex.test(w)){if(A.layoutAttrOverrides)return A.layoutAttrOverrides;!C&&A.layoutAttributes&&(C=A.layoutAttributes)}var z=A.baseLayoutAttrOverrides;if(z&&w in z)return z[w]}if(C)return C}var P=_._modules;if(P){for(S=0;S<P.length;S++)if((I=P[S].layoutAttributes)&&w in I)return I[w]}for(O in L.componentsRegistry){if((A=L.componentsRegistry[O]).name==="colorscale"&&w.indexOf("coloraxis")===0)return A.layoutAttributes[w];if(!A.schema&&w===A.name)return A.layoutAttributes}return w in T&&T[w]}(g,e[0]);return x(h,e,1)}},78032:function($,F,m){var L=m(34809),D=m(9829),E="templateitemname",T={name:{valType:"string",editType:"none"}};function k(b){return b&&typeof b=="string"}function M(b){var a=b.length-1;return b.charAt(a)!=="s"&&L.warn("bad argument to arrayDefaultKey: "+b),b.substr(0,b.length-1)+"defaults"}T[E]={valType:"string",editType:"calc"},F.templatedArray=function(b,a){return a._isLinkedToArray=b,a.name=T.name,a[E]=T[E],a},F.traceTemplater=function(b){var a,t,u={};for(a in b)t=b[a],Array.isArray(t)&&t.length&&(u[a]=0);return{newTrace:function(i){var l={type:a=L.coerce(i,{},D,"type"),_template:null};if(a in u){t=b[a];var d=u[a]%t.length;u[a]++,l._template=t[d]}return l}}},F.newContainer=function(b,a,t){var u=b._template,i=u&&(u[a]||t&&u[t]);return L.isPlainObject(i)||(i=null),b[a]={_template:i}},F.arrayTemplater=function(b,a,t){var u=b._template,i=u&&u[M(a)],l=u&&u[a];Array.isArray(l)&&l.length||(l=[]);var d={};return{newItem:function(v){var y={name:v.name,_input:v},p=y[E]=v[E];if(!k(p))return y._template=i,y;for(var c=0;c<l.length;c++){var x=l[c];if(x.name===p)return d[p]=1,y._template=x,y}return y[t]=v[t]||!1,y._template=!1,y},defaultItems:function(){for(var v=[],y=0;y<l.length;y++){var p=l[y],c=p.name;if(k(c)&&!d[c]){var x={_template:p,name:c,_input:{_templateitemname:c}};x[E]=p[E],v.push(x),d[c]=1}}return v}}},F.arrayDefaultKey=M,F.arrayEditor=function(b,a,t){var u=(L.nestedProperty(b,a).get()||[]).length,i=t._index,l=i>=u&&(t._input||{})._templateitemname;l&&(i=u);var d,v=a+"["+i+"]";function y(){d={},l&&(d[v]={},d[v][E]=l)}function p(x,f){l?L.nestedProperty(d[v],x).set(f):d[v+"."+x]=f}function c(){var x=d;return y(),x}return y(),{modifyBase:function(x,f){d[x]=f},modifyItem:p,getUpdateObj:c,applyUpdate:function(x,f){x&&p(x,f);var n=c();for(var o in n)L.nestedProperty(b,o).set(n[o])}}}},71817:function($,F,m){var L=m(45568),D=m(33626),E=m(44122),T=m(34809),k=m(30635),M=m(34823),b=m(78766),a=m(62203),t=m(17240),u=m(95433),i=m(29714),l=m(4530),d=m(84391),v=d.enforce,y=d.clean,p=m(32919).doAutoRange,c="start",x=m(54826).zindexSeparator;function f(e,h,_){for(var w=0;w<_.length;w++){var S=_[w][0],O=_[w][1];if(!(S[0]>=e[1]||S[1]<=e[0])&&O[0]<h[1]&&O[1]>h[0])return!0}return!1}function n(e){var h,_,w,S,O,A,I=e._fullLayout,B=I._size,C=B.p,z=i.list(e,"",!0);if(I._paperdiv.style({width:e._context.responsive&&I.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":I.width+"px",height:e._context.responsive&&I.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":I.height+"px"}).selectAll(".main-svg").call(a.setSize,I.width,I.height),e._context.setBackground(e,I.paper_bgcolor),F.drawMainTitle(e),u.manage(e),!I._has("cartesian"))return E.previousPromises(e);function P(Se,De,Ge){var Xe=Se._lw/2;return Se._id.charAt(0)==="x"?De?Ge==="top"?De._offset-C-Xe:De._offset+De._length+C+Xe:B.t+B.h*(1-(Se.position||0))+Xe%1:De?Ge==="right"?De._offset+De._length+C+Xe:De._offset-C-Xe:B.l+B.w*(Se.position||0)+Xe%1}for(h=0;h<z.length;h++){var R=(S=z[h])._anchorAxis;S._linepositions={},S._lw=a.crispRound(e,S.linewidth,1),S._mainLinePosition=P(S,R,S.side),S._mainMirrorPosition=S.mirror&&R?P(S,R,l.OPPOSITE_SIDE[S.side]):null}var N=[],j=[],W=[],Y=b.opacity(I.paper_bgcolor)===1&&b.opacity(I.plot_bgcolor)===1&&I.paper_bgcolor===I.plot_bgcolor;for(_ in I._plots)if((w=I._plots[_]).mainplot)w.bg&&w.bg.remove(),w.bg=void 0;else{var J=w.xaxis.domain,G=w.yaxis.domain,H=w.plotgroup;if(f(J,G,W)&&_.indexOf(x)===-1){var U=H.node(),Z=w.bg=T.ensureSingle(H,"rect","bg");U.insertBefore(Z.node(),U.childNodes[0]),j.push(_)}else H.select("rect.bg").remove(),W.push([J,G]),Y||(N.push(_),j.push(_))}var q,Q,ne,ie,le,fe,pe,me,ke,ve,he,de,X,ae=I._bgLayer.selectAll(".bg").data(N);for(ae.enter().append("rect").classed("bg",!0),ae.exit().remove(),ae.each(function(Se){I._plots[Se].bg=L.select(this)}),h=0;h<j.length;h++)w=I._plots[j[h]],O=w.xaxis,A=w.yaxis,w.bg&&O._offset!==void 0&&A._offset!==void 0&&w.bg.call(a.setRect,O._offset-C,A._offset-C,O._length+2*C,A._length+2*C).call(b.fill,I.plot_bgcolor).style("stroke-width",0);if(!I._hasOnlyLargeSploms)for(_ in I._plots){w=I._plots[_],O=w.xaxis,A=w.yaxis;var K,ge,re=w.clipId="clip"+I._uid+_+"plot",ue=T.ensureSingleById(I._clips,"clipPath",re,function(Se){Se.classed("plotclip",!0).append("rect")});w.clipRect=ue.select("rect").attr({width:O._length,height:A._length}),a.setTranslate(w.plot,O._offset,A._offset),w._hasClipOnAxisFalse?(K=null,ge=re):(K=re,ge=null),a.setClipUrl(w.plot,K,e),w.layerClipId=ge}function we(Se){return"M"+q+","+Se+"H"+Q}function Te(Se){return"M"+O._offset+","+Se+"h"+O._length}function ee(Se){return"M"+Se+","+me+"V"+pe}function se(Se){return A._shift!==void 0&&(Se+=A._shift),"M"+Se+","+A._offset+"v"+A._length}function ce(Se,De,Ge){if(!Se.showline||_!==Se._mainSubplot)return"";if(!Se._anchorAxis)return Ge(Se._mainLinePosition);var Xe=De(Se._mainLinePosition);return Se.mirror&&(Xe+=De(Se._mainMirrorPosition)),Xe}for(_ in I._plots){w=I._plots[_],O=w.xaxis,A=w.yaxis;var be="M0,0";o(O,_)&&(le=r(O,"left",A,z),q=O._offset-(le?C+le:0),fe=r(O,"right",A,z),Q=O._offset+O._length+(fe?C+fe:0),ne=P(O,A,"bottom"),ie=P(O,A,"top"),!(X=!O._anchorAxis||_!==O._mainSubplot)||O.mirror!=="allticks"&&O.mirror!=="all"||(O._linepositions[_]=[ne,ie]),be=ce(O,we,Te),X&&O.showline&&(O.mirror==="all"||O.mirror==="allticks")&&(be+=we(ne)+we(ie)),w.xlines.style("stroke-width",O._lw+"px").call(b.stroke,O.showline?O.linecolor:"rgba(0,0,0,0)")),w.xlines.attr("d",be);var Ee="M0,0";o(A,_)&&(he=r(A,"bottom",O,z),pe=A._offset+A._length+(he?C:0),de=r(A,"top",O,z),me=A._offset-(de?C:0),ke=P(A,O,"left"),ve=P(A,O,"right"),!(X=!A._anchorAxis||_!==A._mainSubplot)||A.mirror!=="allticks"&&A.mirror!=="all"||(A._linepositions[_]=[ke,ve]),Ee=ce(A,ee,se),X&&A.showline&&(A.mirror==="all"||A.mirror==="allticks")&&(Ee+=ee(ke)+ee(ve)),w.ylines.style("stroke-width",A._lw+"px").call(b.stroke,A.showline?A.linecolor:"rgba(0,0,0,0)")),w.ylines.attr("d",Ee)}return i.makeClipPaths(e),E.previousPromises(e)}function o(e,h){return(e.ticks||e.showline)&&(h===e._mainSubplot||e.mirror==="all"||e.mirror==="allticks")}function s(e,h,_){if(!_.showline||!_._lw)return!1;if(_.mirror==="all"||_.mirror==="allticks")return!0;var w=_._anchorAxis;if(!w)return!1;var S=l.FROM_BL[h];return _.side===h?w.domain[S]===e.domain[S]:_.mirror&&w.domain[1-S]===e.domain[1-S]}function r(e,h,_,w){if(s(e,h,_))return _._lw;for(var S=0;S<w.length;S++){var O=w[S];if(O._mainAxis===_._mainAxis&&s(e,h,O))return O._lw}return 0}function g(e){return e==="top"?l.CAP_SHIFT+.3+"em":e==="bottom"?"-0.3em":l.MID_SHIFT+"em"}F.layoutStyles=function(e){return T.syncOrAsync([E.doAutoMargin,n],e)},F.drawMainTitle=function(e){var h=e._fullLayout.title,_=e._fullLayout,w=function(W){var Y=W.title,J="middle";return T.isRightAnchor(Y)?J="end":T.isLeftAnchor(Y)&&(J=c),J}(_),S=function(W){var Y=W.title,J="0em";return T.isTopAnchor(Y)?J=l.CAP_SHIFT+"em":T.isMiddleAnchor(Y)&&(J=l.MID_SHIFT+"em"),J}(_),O=function(W,Y){var J=W.title,G=W._size,H=0;return Y!=="0em"&&Y?Y===l.CAP_SHIFT+"em"&&(H=J.pad.t):H=-J.pad.b,J.y==="auto"?G.t/2:J.yref==="paper"?G.t+G.h-G.h*J.y+H:W.height-W.height*J.y+H}(_,S),A=function(W,Y){var J=W.title,G=W._size,H=0;return Y===c?H=J.pad.l:Y==="end"&&(H=-J.pad.r),J.xref==="paper"?G.l+G.w*J.x+H:W.width*J.x+H}(_,w);if(t.draw(e,"gtitle",{propContainer:_,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:_._dfltTitle.plot,subtitlePlaceholder:_._dfltTitle.subtitle,attributes:{x:A,y:O,"text-anchor":w,dy:S}}),h.text&&h.automargin){var I=L.selectAll(".gtitle"),B=a.bBox(L.selectAll(".g-gtitle").node()).height,C=function(W,Y,J){var G=Y.y,H=Y.yanchor,U=G>.5?"t":"b",Z=W._fullLayout.margin[U],q=0;return Y.yref==="paper"?q=J+Y.pad.t+Y.pad.b:Y.yref==="container"&&(q=function(Q,ne,ie,le,fe){var pe=0;return ie==="middle"&&(pe+=fe/2),Q==="t"?(ie==="top"&&(pe+=fe),pe+=le-ne*le):(ie==="bottom"&&(pe+=fe),pe+=ne*le),pe}(U,G,H,W._fullLayout.height,J)+Y.pad.t+Y.pad.b),q>Z?q:0}(e,h,B);if(C>0){(function(W,Y,J,G){var H="title.automargin",U=W._fullLayout.title,Z=U.y>.5?"t":"b",q={x:U.x,y:U.y,t:0,b:0},Q={};U.yref==="paper"&&function(ne,ie,le,fe,pe){var me=ie.yref==="paper"?ne._fullLayout._size.h:ne._fullLayout.height,ke=T.isTopAnchor(ie)?fe:fe-pe,ve=le==="b"?me-ke:ke;return!(T.isTopAnchor(ie)&&le==="t"||T.isBottomAnchor(ie)&&le==="b")&&ve<pe}(W,U,Z,Y,G)?q[Z]=J:U.yref==="container"&&(Q[Z]=J,W._fullLayout._reservedMargin[H]=Q),E.allowAutoMargin(W,H),E.autoMargin(W,H,q)})(e,O,C,B),I.attr({x:A,y:O,"text-anchor":w,dy:g(h.yanchor)}).call(k.positionText,A,O);var z=(h.text.match(k.BR_TAG_ALL)||[]).length;if(z){var P=l.LINE_SPACING*z+l.MID_SHIFT;h.y===0&&(P=-P),I.selectAll(".line").each(function(){var W=+this.getAttribute("dy").slice(0,-2)-P+"em";this.setAttribute("dy",W)})}var R=L.selectAll(".gtitle-subtitle");if(R.node()){var N=I.node().getBBox(),j=N.y+N.height+t.SUBTITLE_PADDING_EM*h.subtitle.font.size;R.attr({x:A,y:j,"text-anchor":w,dy:g(h.yanchor)}).call(k.positionText,A,j)}}}},F.doTraceStyle=function(e){var h,_=e.calcdata,w=[];for(h=0;h<_.length;h++){var S=_[h],O=S[0]||{},A=O.trace||{},I=A._module||{},B=I.arraysToCalcdata;B&&B(S,A);var C=I.editStyle;C&&w.push({fn:C,cd0:O})}if(w.length){for(h=0;h<w.length;h++){var z=w[h];z.fn(e,z.cd0)}M(e),F.redrawReglTraces(e)}return E.style(e),D.getComponentMethod("legend","draw")(e),E.previousPromises(e)},F.doColorBars=function(e){return D.getComponentMethod("colorbar","draw")(e),E.previousPromises(e)},F.layoutReplot=function(e){var h=e.layout;return e.layout=void 0,D.call("_doPlot",e,"",h)},F.doLegend=function(e){return D.getComponentMethod("legend","draw")(e),E.previousPromises(e)},F.doTicksRelayout=function(e){return i.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(D.subplotsRegistry.splom.updateGrid(e),M(e),F.redrawReglTraces(e)),F.drawMainTitle(e),E.previousPromises(e)},F.doModeBar=function(e){var h=e._fullLayout;u.manage(e);for(var _=0;_<h._basePlotModules.length;_++){var w=h._basePlotModules[_].updateFx;w&&w(e)}return E.previousPromises(e)},F.doCamera=function(e){for(var h=e._fullLayout,_=h._subplots.gl3d,w=0;w<_.length;w++){var S=h[_[w]];S._scene.setViewport(S)}},F.drawData=function(e){var h=e._fullLayout;M(e);for(var _=h._basePlotModules,w=0;w<_.length;w++)_[w].plot(e);return F.redrawReglTraces(e),E.style(e),D.getComponentMethod("selections","draw")(e),D.getComponentMethod("shapes","draw")(e),D.getComponentMethod("annotations","draw")(e),D.getComponentMethod("images","draw")(e),h._replotting=!1,E.previousPromises(e)},F.redrawReglTraces=function(e){var h=e._fullLayout;if(h._has("regl")){var _,w,S=e._fullData,O=[],A=[];for(h._hasOnlyLargeSploms&&h._splomGrid.draw(),_=0;_<S.length;_++){var I=S[_];I.visible===!0&&I._length!==0&&(I.type==="splom"?h._splomScenes[I.uid].draw():I.type==="scattergl"?T.pushUnique(O,I.xaxis+I.yaxis):I.type==="scatterpolargl"&&T.pushUnique(A,I.subplot))}for(_=0;_<O.length;_++)(w=h._plots[O[_]])._scene&&w._scene.draw();for(_=0;_<A.length;_++)(w=h[A[_]]._subplot)._scene&&w._scene.draw()}},F.doAutoRangeAndConstraints=function(e){for(var h,_=i.list(e,"",!0),w={},S=0;S<_.length;S++)if(!w[(h=_[S])._id]){w[h._id]=1,y(e,h),p(e,h);var O=h._matchGroup;if(O)for(var A in O){var I=i.getFromId(e,A);p(e,I,h.range),w[A]=1}}v(e)},F.finalDraw=function(e){D.getComponentMethod("rangeslider","draw")(e),D.getComponentMethod("rangeselector","draw")(e)},F.drawMarginPushers=function(e){D.getComponentMethod("legend","draw")(e),D.getComponentMethod("rangeselector","draw")(e),D.getComponentMethod("sliders","draw")(e),D.getComponentMethod("updatemenus","draw")(e),D.getComponentMethod("colorbar","draw")(e)}},53853:function($,F,m){var L=m(34809),D=L.isPlainObject,E=m(57297),T=m(44122),k=m(9829),M=m(78032),b=m(24452).dfltConfig;function a(p,c){p=L.extendDeep({},p);var x,f,n=Object.keys(p).sort();function o(h,_,w){if(D(_)&&D(h))a(h,_);else if(Array.isArray(_)&&Array.isArray(h)){var S=M.arrayTemplater({_template:p},w);for(f=0;f<_.length;f++){var O=_[f],A=S.newItem(O)._template;A&&a(A,O)}var I=S.defaultItems();for(f=0;f<I.length;f++)_.push(I[f]._template);for(f=0;f<_.length;f++)delete _[f].templateitemname}}for(x=0;x<n.length;x++){var s=n[x],r=p[s];if(s in c?o(r,c[s],s):c[s]=r,t(s)===s)for(var g in c){var e=t(g);g===e||e!==s||g in p||o(r,c[g],s)}}}function t(p){return p.replace(/[0-9]+$/,"")}function u(p,c,x,f,n){var o=n&&x(n);for(var s in p){var r=p[s],g=d(p,s,f),e=d(p,s,n),h=x(e);if(!h){var _=t(s);_!==s&&(h=x(e=d(p,_,n)))}if(!(o&&o===h||!h||h._noTemplating||h.valType==="data_array"||h.arrayOk&&Array.isArray(r)))if(!h.valType&&D(r))u(r,c,x,g,e);else if(h._isLinkedToArray&&Array.isArray(r))for(var w=!1,S=0,O={},A=0;A<r.length;A++){var I=r[A];if(D(I)){var B=I.name;if(B)O[B]||(u(I,c,x,d(r,S,g),d(r,S,e)),S++,O[B]=1);else if(!w){var C=d(p,M.arrayDefaultKey(s),f),z=d(r,S,g);u(I,c,x,z,d(r,S,e));var P=L.nestedProperty(c,z);L.nestedProperty(c,C).set(P.get()),P.set(null),w=!0}}}else L.nestedProperty(c,g).set(r)}}function i(p,c){return E.getLayoutValObject(p,L.nestedProperty({},c).parts)}function l(p,c){return E.getTraceValObject(p,L.nestedProperty({},c).parts)}function d(p,c,x){return x?Array.isArray(p)?x+"["+c+"]":x+"."+c:c}function v(p){for(var c=0;c<p.length;c++)if(D(p[c]))return!0}function y(p){var c;switch(p.code){case"data":c="The template has no key data.";break;case"layout":c="The template has no key layout.";break;case"missing":c=p.path?"There are no templates for item "+p.path+" with name "+p.templateitemname:"There are no templates for trace "+p.index+", of type "+p.traceType+".";break;case"unused":c=p.path?"The template item at "+p.path+" was not used in constructing the plot.":p.dataCount?"Some of the templates of type "+p.traceType+" were not used. The template has "+p.templateCount+" traces, the data only has "+p.dataCount+" of this type.":"The template has "+p.templateCount+" traces of type "+p.traceType+" but there are none in the data.";break;case"reused":c="Some of the templates of type "+p.traceType+" were used more than once. The template has "+p.templateCount+" traces, the data has "+p.dataCount+" of this type."}return p.msg=c,p}F.makeTemplate=function(p){p=L.isPlainObject(p)?p:L.getGraphDiv(p),p=L.extendDeep({_context:b},{data:p.data,layout:p.layout}),T.supplyDefaults(p);var c=p.data||[],x=p.layout||{};x._basePlotModules=p._fullLayout._basePlotModules,x._modules=p._fullLayout._modules;var f={data:{},layout:{}};c.forEach(function(S){var O={};u(S,O,l.bind(null,S));var A=L.coerce(S,{},k,"type"),I=f.data[A];I||(I=f.data[A]=[]),I.push(O)}),u(x,f.layout,i.bind(null,x)),delete f.layout.template;var n=x.template;if(D(n)){var o,s,r,g,e,h,_=n.layout;D(_)&&a(_,f.layout);var w=n.data;if(D(w)){for(s in f.data)if(r=w[s],Array.isArray(r)){for(h=(e=f.data[s]).length,g=r.length,o=0;o<h;o++)a(r[o%g],e[o]);for(o=h;o<g;o++)e.push(L.extendDeep({},r[o]))}for(s in w)s in f.data||(f.data[s]=L.extendDeep([],w[s]))}}return f},F.validateTemplate=function(p,c){var x=L.extendDeep({},{_context:b,data:p.data,layout:p.layout}),f=x.layout||{};D(c)||(c=f.template||{});var n=c.layout,o=c.data,s=[];x.layout=f,x.layout.template=c,T.supplyDefaults(x);var r=x._fullLayout,g=x._fullData,e={};if(D(n)?(function I(B,C){for(var z in B)if(z.charAt(0)!=="_"&&D(B[z])){var P,R=t(z),N=[];for(P=0;P<C.length;P++)N.push(d(B,z,C[P])),R!==z&&N.push(d(B,R,C[P]));for(P=0;P<N.length;P++)e[N[P]]=1;I(B[z],N)}}(r,["layout"]),function I(B,C){for(var z in B)if(z.indexOf("defaults")===-1&&D(B[z])){var P=d(B,z,C);e[P]?I(B[z],P):s.push({code:"unused",path:P})}}(n,"layout")):s.push({code:"layout"}),D(o)){for(var h,_={},w=0;w<g.length;w++){var S=g[w];_[h=S.type]=(_[h]||0)+1,S._fullInput._template||s.push({code:"missing",index:S._fullInput.index,traceType:h})}for(h in o){var O=o[h].length,A=_[h]||0;O>A?s.push({code:"unused",traceType:h,templateCount:O,dataCount:A}):A>O&&s.push({code:"reused",traceType:h,templateCount:O,dataCount:A})}}else s.push({code:"data"});if(function I(B,C){for(var z in B)if(z.charAt(0)!=="_"){var P=B[z],R=d(B,z,C);D(P)?(Array.isArray(B)&&P._template===!1&&P.templateitemname&&s.push({code:"missing",path:R,templateitemname:P.templateitemname}),I(P,R)):Array.isArray(P)&&v(P)&&I(P,R)}}({data:g,layout:r},""),s.length)return s.map(y)}},80491:function($,F,m){var L=m(10721),D=m(31420),E=m(44122),T=m(34809),k=m(84619),M=m(6243),b=m(72914),a=m(29697).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};$.exports=function(u,i){var l,d,v,y;function p(A){return!(A in i)||T.validate(i[A],t[A])}if(i=i||{},T.isPlainObject(u)?(l=u.data||[],d=u.layout||{},v=u.config||{},y={}):(u=T.getGraphDiv(u),l=T.extendDeep([],u.data),d=T.extendDeep({},u.layout),v=u._context,y=u._fullLayout||{}),!p("width")&&i.width!==null||!p("height")&&i.height!==null)throw new Error("Height and width should be pixel values.");if(!p("format"))throw new Error("Export format is not "+T.join2(t.format.values,", "," or ")+".");var c={};function x(A,I){return T.coerce(i,c,t,A,I)}var f=x("format"),n=x("width"),o=x("height"),s=x("scale"),r=x("setBackground"),g=x("imageDataOnly"),e=document.createElement("div");e.style.position="absolute",e.style.left="-5000px",document.body.appendChild(e);var h=T.extendFlat({},d);n?h.width=n:i.width===null&&L(y.width)&&(h.width=y.width),o?h.height=o:i.height===null&&L(y.height)&&(h.height=y.height);var _=T.extendFlat({},v,{_exportedPlot:!0,staticPlot:!0,setBackground:r}),w=k.getRedrawFunc(e);function S(){return new Promise(function(A){setTimeout(A,k.getDelay(e._fullLayout))})}function O(){return new Promise(function(A,I){var B=M(e,f,s),C=e._fullLayout.width,z=e._fullLayout.height;function P(){D.purge(e),document.body.removeChild(e)}if(f==="full-json"){var R=E.graphJson(e,!1,"keepdata","object",!0,!0);return R.version=a,R=JSON.stringify(R),P(),A(g?R:k.encodeJSON(R))}if(P(),f==="svg")return A(g?B:k.encodeSVG(B));var N=document.createElement("canvas");N.id=T.randstr(),b({format:f,width:C,height:z,scale:s,canvas:N,svg:B,promise:!0}).then(A).catch(I)})}return new Promise(function(A,I){D.newPlot(e,l,h,_).then(w).then(S).then(O).then(function(B){A(function(C){return g?C.replace(k.IMAGE_URL_PREFIX,""):C}(B))}).catch(function(B){I(B)})})}},2466:function($,F,m){var L=m(34809),D=m(44122),E=m(57297),T=m(24452).dfltConfig,k=L.isPlainObject,M=Array.isArray,b=L.isArrayOrTypedArray;function a(p,c,x,f,n,o){o=o||[];for(var s=Object.keys(p),r=0;r<s.length;r++){var g=s[r];if(g!=="transforms"){var e=o.slice();e.push(g);var h=p[g],_=c[g],w=d(x,g),S=(w||{}).valType,O=S==="info_array",A=S==="colorscale",I=(w||{}).items;if(l(x,g))if(k(h)&&k(_)&&S!=="any")a(h,_,w,f,n,e);else if(O&&M(h)){h.length>_.length&&f.push(i("unused",n,e.concat(_.length)));var B,C,z,P,R,N=_.length,j=Array.isArray(I);if(j&&(N=Math.min(N,I.length)),w.dimensions===2)for(C=0;C<N;C++)if(M(h[C])){h[C].length>_[C].length&&f.push(i("unused",n,e.concat(C,_[C].length)));var W=_[C].length;for(B=0;B<(j?Math.min(W,I[C].length):W);B++)z=j?I[C][B]:I,P=h[C][B],R=_[C][B],L.validate(P,z)?R!==P&&R!==+P&&f.push(i("dynamic",n,e.concat(C,B),P,R)):f.push(i("value",n,e.concat(C,B),P))}else f.push(i("array",n,e.concat(C),h[C]));else for(C=0;C<N;C++)z=j?I[C]:I,P=h[C],R=_[C],L.validate(P,z)?R!==P&&R!==+P&&f.push(i("dynamic",n,e.concat(C),P,R)):f.push(i("value",n,e.concat(C),P))}else if(w.items&&!O&&M(h)){var Y,J,G=I[Object.keys(I)[0]],H=[];for(Y=0;Y<_.length;Y++){var U=_[Y]._index||Y;if((J=e.slice()).push(U),k(h[U])&&k(_[Y])){H.push(U);var Z=h[U],q=_[Y];k(Z)&&Z.visible!==!1&&q.visible===!1?f.push(i("invisible",n,J)):a(Z,q,G,f,n,J)}}for(Y=0;Y<h.length;Y++)(J=e.slice()).push(Y),k(h[Y])?H.indexOf(Y)===-1&&f.push(i("unused",n,J)):f.push(i("object",n,J,h[Y]))}else!k(h)&&k(_)?f.push(i("object",n,e,h)):b(h)||!b(_)||O||A?g in c?L.validate(h,w)?w.valType==="enumerated"&&(w.coerceNumber&&h!==+_||h!==_)&&f.push(i("dynamic",n,e,h,_)):f.push(i("value",n,e,h)):f.push(i("unused",n,e,h)):f.push(i("array",n,e,h));else f.push(i("schema",n,e))}}return f}$.exports=function(p,c){p===void 0&&(p=[]),c===void 0&&(c={});var x,f,n=E.get(),o=[],s={_context:L.extendFlat({},T)};M(p)?(s.data=L.extendDeep([],p),x=p):(s.data=[],x=[],o.push(i("array","data"))),k(c)?(s.layout=L.extendDeep({},c),f=c):(s.layout={},f={},arguments.length>1&&o.push(i("object","layout"))),D.supplyDefaults(s);for(var r=s._fullData,g=x.length,e=0;e<g;e++){var h=x[e],_=["data",e];if(k(h)){var w=r[e],S=w.type,O=n.traces[S].attributes;O.type={valType:"enumerated",values:[S]},w.visible===!1&&h.visible!==!1&&o.push(i("invisible",_)),a(h,w,O,o,_);var A=h.transforms,I=w.transforms;if(A){M(A)||o.push(i("array",_,["transforms"])),_.push("transforms");for(var B=0;B<A.length;B++){var C=["transforms",B],z=A[B].type;if(k(A[B])){var P=n.transforms[z]?n.transforms[z].attributes:{};P.type={valType:"enumerated",values:Object.keys(n.transforms)},a(A[B],I[B],P,o,_,C)}else o.push(i("object",_,C))}}}else o.push(i("object",_))}var R=s._fullLayout,N=function(j,W){for(var Y=j.layout.layoutAttributes,J=0;J<W.length;J++){var G=W[J],H=j.traces[G.type],U=H.layoutAttributes;U&&(G.subplot?L.extendFlat(Y[H.attributes.subplot.dflt],U):L.extendFlat(Y,U))}return Y}(n,r);return a(f,R,N,o,"layout"),o.length===0?void 0:o};var t={object:function(p,c){return(p==="layout"&&c===""?"The layout argument":p[0]==="data"&&c===""?"Trace "+p[1]+" in the data argument":u(p)+"key "+c)+" must be linked to an object container"},array:function(p,c){return(p==="data"?"The data argument":u(p)+"key "+c)+" must be linked to an array container"},schema:function(p,c){return u(p)+"key "+c+" is not part of the schema"},unused:function(p,c,x){var f=k(x)?"container":"key";return u(p)+f+" "+c+" did not get coerced"},dynamic:function(p,c,x,f){return[u(p)+"key",c,"(set to '"+x+"')","got reset to","'"+f+"'","during defaults."].join(" ")},invisible:function(p,c){return(c?u(p)+"item "+c:"Trace "+p[1])+" got defaulted to be not visible"},value:function(p,c,x){return[u(p)+"key "+c,"is set to an invalid value ("+x+")"].join(" ")}};function u(p){return M(p)?"In data trace "+p[1]+", ":"In "+p+", "}function i(p,c,x,f,n){var o,s;x=x||"",M(c)?(o=c[0],s=c[1]):(o=c,s=null);var r=function(e){if(!M(e))return String(e);for(var h="",_=0;_<e.length;_++){var w=e[_];typeof w=="number"?h=h.substr(0,h.length-1)+"["+w+"]":h+=w,_<e.length-1&&(h+=".")}return h}(x),g=t[p](c,r,f,n);return L.log(g),{code:p,container:o,trace:s,path:x,astr:r,msg:g}}function l(p,c){var x=y(c),f=x.keyMinusId,n=x.id;return!!(f in p&&p[f]._isSubplotObj&&n)||c in p}function d(p,c){return c in p?p[c]:p[y(c).keyMinusId]}var v=L.counterRegex("([a-z]+)");function y(p){var c=p.match(v);return{keyMinusId:c&&c[1],id:c&&c[2]}}},49722:function($){$.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},59008:function($,F,m){var L=m(34809),D=m(78032);$.exports=function(E,T,k){var M,b,a=k.name,t=k.inclusionAttr||"visible",u=T[a],i=L.isArrayOrTypedArray(E[a])?E[a]:[],l=T[a]=[],d=D.arrayTemplater(T,a,t);for(M=0;M<i.length;M++){var v=i[M];L.isPlainObject(v)?b=d.newItem(v):(b=d.newItem({}))[t]=!1,b._index=M,b[t]!==!1&&k.handleItemDefaults(v,b,T,k),l.push(b)}var y=d.defaultItems();for(M=0;M<y.length;M++)(b=y[M])._index=l.length,k.handleItemDefaults({},b,T,k,{}),l.push(b);if(L.isArrayOrTypedArray(u)){var p=Math.min(u.length,l.length);for(M=0;M<p;M++)L.relinkPrivateKeys(l[M],u[M])}return l}},9829:function($,F,m){var L=m(80337),D=m(70192);$.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:L({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:D.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},40528:function($,F,m){var L=m(10721),D=m(34809),E=D.dateTime2ms,T=D.incrementMonth,k=m(63821).ONEAVGMONTH;$.exports=function(M,b,a,t){if(b.type!=="date")return{vals:t};var u=M[a+"periodalignment"];if(!u)return{vals:t};var i,l=M[a+"period"];if(L(l)){if((l=+l)<=0)return{vals:t}}else if(typeof l=="string"&&l.charAt(0)==="M"){var d=+l.substring(1);if(!(d>0&&Math.round(d)===d))return{vals:t};i=d}for(var v=b.calendar,y=u==="start",p=u==="end",c=M[a+"period0"],x=E(c,v)||0,f=[],n=[],o=[],s=t.length,r=0;r<s;r++){var g,e,h,_=t[r];if(i){for(g=Math.round((_-x)/(i*k)),h=T(x,i*g,v);h>_;)h=T(h,-i,v);for(;h<=_;)h=T(h,i,v);e=T(h,-i,v)}else{for(h=x+(g=Math.round((_-x)/l))*l;h>_;)h-=l;for(;h<=_;)h+=l;e=h-l}f[r]=y?e:p?h:(e+h)/2,n[r]=e,o[r]=h}return{vals:f,starts:n,ends:o}}},55126:function($){$.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},32919:function($,F,m){var L=m(45568),D=m(10721),E=m(34809),T=m(63821).FP_SAFE,k=m(33626),M=m(62203),b=m(5975),a=b.getFromId,t=b.isLinked;function u(r,g){var e,h,_=[],w=r._fullLayout,S=l(w,g,0),O=l(w,g,1),A=v(r,g),I=A.min,B=A.max;if(I.length===0||B.length===0)return E.simpleMap(g.range,g.r2l);var C=I[0].val,z=B[0].val;for(e=1;e<I.length&&C===z;e++)C=Math.min(C,I[e].val);for(e=1;e<B.length&&C===z;e++)z=Math.max(z,B[e].val);var P=g.autorange,R=P==="reversed"||P==="min reversed"||P==="max reversed";if(!R&&g.range){var N=E.simpleMap(g.range,g.r2l);R=N[1]<N[0]}g.autorange==="reversed"&&(g.autorange=!0);var j,W,Y,J,G,H,U=g.rangemode,Z=U==="tozero",q=U==="nonnegative",Q=g._length,ne=Q/10,ie=0;for(e=0;e<I.length;e++)for(j=I[e],h=0;h<B.length;h++)(H=(W=B[h]).val-j.val-i(g,j.val,W.val))>0&&((G=Q-S(j)-O(W))>ne?H/G>ie&&(Y=j,J=W,ie=H/G):H/Q>ie&&(Y={val:j.val,nopad:1},J={val:W.val,nopad:1},ie=H/Q));if(C===z){var le=C-1,fe=C+1;if(Z)if(C===0)_=[0,1];else{var pe=(C>0?B:I).reduce(function(ke,ve){return Math.max(ke,O(ve))},0),me=C/(1-Math.min(.5,pe/Q));_=C>0?[0,me]:[me,0]}else _=q?[Math.max(0,le),Math.max(1,fe)]:[le,fe]}else Z?(Y.val>=0&&(Y={val:0,nopad:1}),J.val<=0&&(J={val:0,nopad:1})):q&&(Y.val-ie*S(Y)<0&&(Y={val:0,nopad:1}),J.val<=0&&(J={val:1,nopad:1})),ie=(J.val-Y.val-i(g,j.val,W.val))/(Q-S(Y)-O(J)),_=[Y.val-ie*S(Y),J.val+ie*O(J)];return _=s(_,g),g.limitRange&&g.limitRange(),R&&_.reverse(),E.simpleMap(_,g.l2r||Number)}function i(r,g,e){var h=0;if(r.rangebreaks)for(var _=r.locateBreaks(g,e),w=0;w<_.length;w++){var S=_[w];h+=S.max-S.min}return h}function l(r,g,e){var h=.05*g._length,_=g._anchorAxis||{};if((g.ticklabelposition||"").indexOf("inside")!==-1||(_.ticklabelposition||"").indexOf("inside")!==-1){var w=g.isReversed();if(!w){var S=E.simpleMap(g.range,g.r2l);w=S[1]<S[0]}w&&(e=!e)}var O=0;return t(r,g._id)||(O=function(A,I,B){var C=0,z=I._id.charAt(0)==="x";for(var P in A._plots){var R=A._plots[P];if(I._id===R.xaxis._id||I._id===R.yaxis._id){var N=(z?R.yaxis:R.xaxis)||{};if((N.ticklabelposition||"").indexOf("inside")!==-1&&(!B&&(N.side==="left"||N.side==="bottom")||B&&(N.side==="top"||N.side==="right"))){if(N._vals){var j=E.deg2rad(N._tickAngles[N._id+"tick"]||0),W=Math.abs(Math.cos(j)),Y=Math.abs(Math.sin(j));if(!N._vals[0].bb){var J=N._id+"tick";N._selections[J].each(function(q){var Q=L.select(this);Q.select(".text-math-group").empty()&&(q.bb=M.bBox(Q.node()))})}for(var G=0;G<N._vals.length;G++){var H=N._vals[G].bb;if(H){var U=2*d+H.width,Z=2*d+H.height;C=Math.max(C,z?Math.max(U*W,Z*Y):Math.max(Z*W,U*Y))}}}N.ticks==="inside"&&N.ticklabelposition==="inside"&&(C+=N.ticklen||0)}}}return C}(r,g,e)),h=Math.max(O,h),g.constrain==="domain"&&g._inputDomain&&(h*=(g._inputDomain[1]-g._inputDomain[0])/(g.domain[1]-g.domain[0])),function(A){return A.nopad?0:A.pad+(A.extrapad?h:O)}}$.exports={applyAutorangeOptions:s,getAutoRange:u,makePadFn:l,doAutoRange:function(r,g,e){if(g.setScale(),g.autorange){g.range=e?e.slice():u(r,g),g._r=g.range.slice(),g._rl=E.simpleMap(g._r,g.r2l);var h=g._input,_={};_[g._attr+".range"]=g.range,_[g._attr+".autorange"]=g.autorange,k.call("_storeDirectGUIEdit",r.layout,r._fullLayout._preGUI,_),h.range=g.range.slice(),h.autorange=g.autorange}var w=g._anchorAxis;if(w&&w.rangeslider){var S=w.rangeslider[g._name];S&&S.rangemode==="auto"&&(S.range=u(r,g)),w._input.rangeslider[g._name]=E.extendFlat({},S)}},findExtremes:function(r,g,e){e||(e={}),r._m||r.setScale();var h,_,w,S,O,A,I,B,C,z=[],P=[],R=g.length,N=e.padded||!1,j=e.tozero&&(r.type==="linear"||r.type==="-"),W=r.type==="log",Y=!1,J=e.vpadLinearized||!1;function G(le){if(Array.isArray(le))return Y=!0,function(pe){return Math.max(Number(le[pe]||0),0)};var fe=Math.max(Number(le||0),0);return function(){return fe}}var H=G((r._m>0?e.ppadplus:e.ppadminus)||e.ppad||0),U=G((r._m>0?e.ppadminus:e.ppadplus)||e.ppad||0),Z=G(e.vpadplus||e.vpad),q=G(e.vpadminus||e.vpad);if(!Y){if(B=1/0,C=-1/0,W)for(h=0;h<R;h++)(_=g[h])<B&&_>0&&(B=_),_>C&&_<T&&(C=_);else for(h=0;h<R;h++)(_=g[h])<B&&_>-T&&(B=_),_>C&&_<T&&(C=_);g=[B,C],R=2}var Q={tozero:j,extrapad:N};function ne(le){w=g[le],D(w)&&(A=H(le),I=U(le),J?(S=r.c2l(w)-q(le),O=r.c2l(w)+Z(le)):(B=w-q(le),C=w+Z(le),W&&B<C/10&&(B=C/10),S=r.c2l(B),O=r.c2l(C)),j&&(S=Math.min(0,S),O=Math.max(0,O)),x(S)&&y(z,S,I,Q),x(O)&&p(P,O,A,Q))}var ie=Math.min(6,R);for(h=0;h<ie;h++)ne(h);for(h=R-1;h>=ie;h--)ne(h);return{min:z,max:P,opts:e}},concatExtremes:v};var d=3;function v(r,g,e){var h,_,w,S=g._id,O=r._fullData,A=r._fullLayout,I=[],B=[];function C(j,W){for(h=0;h<W.length;h++){var Y=j[W[h]],J=(Y._extremes||{})[S];if(Y.visible===!0&&J){for(_=0;_<J.min.length;_++)w=J.min[_],y(I,w.val,w.pad,{extrapad:w.extrapad});for(_=0;_<J.max.length;_++)w=J.max[_],p(B,w.val,w.pad,{extrapad:w.extrapad})}}}if(C(O,g._traceIndices),C(A.annotations||[],g._annIndices||[]),C(A.shapes||[],g._shapeIndices||[]),g._matchGroup&&!e){for(var z in g._matchGroup)if(z!==g._id){var P=a(r,z),R=v(r,P,!0),N=g._length/P._length;for(_=0;_<R.min.length;_++)w=R.min[_],y(I,w.val,w.pad*N,{extrapad:w.extrapad});for(_=0;_<R.max.length;_++)w=R.max[_],p(B,w.val,w.pad*N,{extrapad:w.extrapad})}}return{min:I,max:B}}function y(r,g,e,h){c(r,g,e,h,f)}function p(r,g,e,h){c(r,g,e,h,n)}function c(r,g,e,h,_){for(var w=h.tozero,S=h.extrapad,O=!0,A=0;A<r.length&&O;A++){var I=r[A];if(_(I.val,g)&&I.pad>=e&&(I.extrapad||!S)){O=!1;break}_(g,I.val)&&I.pad<=e&&(S||!I.extrapad)&&(r.splice(A,1),A--)}if(O){var B=w&&g===0;r.push({val:g,pad:B?0:e,extrapad:!B&&S})}}function x(r){return D(r)&&Math.abs(r)<T}function f(r,g){return r<=g}function n(r,g){return r>=g}function o(r,g,e){return g===void 0||e===void 0||(g=r.d2l(g))<r.d2l(e)}function s(r,g){if(!g||!g.autorangeoptions)return r;var e=r[0],h=r[1],_=g.autorangeoptions.include;if(_!==void 0){var w=g.d2l(e),S=g.d2l(h);E.isArrayOrTypedArray(_)||(_=[_]);for(var O=0;O<_.length;O++){var A=g.d2l(_[O]);w>=A&&(w=A,e=A),S<=A&&(S=A,h=A)}}return e=function(I,B){var C=B.autorangeoptions;return C&&C.minallowed!==void 0&&o(B,C.minallowed,C.maxallowed)?C.minallowed:C&&C.clipmin!==void 0&&o(B,C.clipmin,C.clipmax)?Math.max(I,B.d2l(C.clipmin)):I}(e,g),h=function(I,B){var C=B.autorangeoptions;return C&&C.maxallowed!==void 0&&o(B,C.minallowed,C.maxallowed)?C.maxallowed:C&&C.clipmax!==void 0&&o(B,C.clipmin,C.clipmax)?Math.min(I,B.d2l(C.clipmax)):I}(h,g),[e,h]}},75511:function($){$.exports=function(F,m,L){var D,E;if(L){var T=m==="reversed"||m==="min reversed"||m==="max reversed";D=L[T?1:0],E=L[T?0:1]}var k=F("autorangeoptions.minallowed",E===null?D:void 0),M=F("autorangeoptions.maxallowed",D===null?E:void 0);k===void 0&&F("autorangeoptions.clipmin"),M===void 0&&F("autorangeoptions.clipmax"),F("autorangeoptions.include")}},29714:function($,F,m){var L=m(45568),D=m(10721),E=m(44122),T=m(33626),k=m(34809),M=k.strTranslate,b=m(30635),a=m(17240),t=m(78766),u=m(62203),i=m(25829),l=m(68599),d=m(63821),v=d.ONEMAXYEAR,y=d.ONEAVGYEAR,p=d.ONEMINYEAR,c=d.ONEMAXQUARTER,x=d.ONEAVGQUARTER,f=d.ONEMINQUARTER,n=d.ONEMAXMONTH,o=d.ONEAVGMONTH,s=d.ONEMINMONTH,r=d.ONEWEEK,g=d.ONEDAY,e=g/2,h=d.ONEHOUR,_=d.ONEMIN,w=d.ONESEC,S=d.ONEMILLI,O=d.ONEMICROSEC,A=d.MINUS_SIGN,I=d.BADNUM,B={K:"zeroline"},C={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},P={K:"tick",L:"path"},R={K:"tick",L:"text"},N={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},j=m(4530),W=j.MID_SHIFT,Y=j.CAP_SHIFT,J=j.LINE_SPACING,G=j.OPPOSITE_SIDE,H=$.exports={};H.setConvert=m(19091);var U=m(9666),Z=m(5975),q=Z.idSort,Q=Z.isLinked;H.id2name=Z.id2name,H.name2id=Z.name2id,H.cleanId=Z.cleanId,H.list=Z.list,H.listIds=Z.listIds,H.getFromId=Z.getFromId,H.getFromTrace=Z.getFromTrace;var ne=m(32919);H.getAutoRange=ne.getAutoRange,H.findExtremes=ne.findExtremes;var ie=1e-4;function le(_e){var Ae=(_e[1]-_e[0])*ie;return[_e[0]-Ae,_e[1]+Ae]}H.coerceRef=function(_e,Ae,Ve,He,We,Pe){var Ue=He.charAt(He.length-1),Ne=Ve._fullLayout._subplots[Ue+"axis"],Ye=He+"ref",Fe={};return We||(We=Ne[0]||(typeof Pe=="string"?Pe:Pe[0])),Pe||(Pe=We),Ne=Ne.concat(Ne.map(function(Ze){return Ze+" domain"})),Fe[Ye]={valType:"enumerated",values:Ne.concat(Pe?typeof Pe=="string"?[Pe]:Pe:[]),dflt:We},k.coerce(_e,Ae,Fe,Ye)},H.getRefType=function(_e){return _e===void 0?_e:_e==="paper"?"paper":_e==="pixel"?"pixel":/( domain)$/.test(_e)?"domain":"range"},H.coercePosition=function(_e,Ae,Ve,He,We,Pe){var Ue,Ne;if(H.getRefType(He)!=="range")Ue=k.ensureNumber,Ne=Ve(We,Pe);else{var Ye=H.getFromId(Ae,He);Ne=Ve(We,Pe=Ye.fraction2r(Pe)),Ue=Ye.cleanPos}_e[We]=Ue(Ne)},H.cleanPosition=function(_e,Ae,Ve){return(Ve==="paper"||Ve==="pixel"?k.ensureNumber:H.getFromId(Ae,Ve).cleanPos)(_e)},H.redrawComponents=function(_e,Ae){Ae=Ae||H.listIds(_e);var Ve=_e._fullLayout;function He(We,Pe,Ue,Ne){for(var Ye=T.getComponentMethod(We,Pe),Fe={},Ze=0;Ze<Ae.length;Ze++)for(var rt=Ve[H.id2name(Ae[Ze])][Ue],vt=0;vt<rt.length;vt++){var Lt=rt[vt];if(!Fe[Lt]&&(Ye(_e,Lt),Fe[Lt]=1,Ne))return}}He("annotations","drawOne","_annIndices"),He("shapes","drawOne","_shapeIndices"),He("images","draw","_imgIndices",!0),He("selections","drawOne","_selectionIndices")};var fe=H.getDataConversions=function(_e,Ae,Ve,He){var We,Pe=Ve==="x"||Ve==="y"||Ve==="z"?Ve:He;if(k.isArrayOrTypedArray(Pe)){if(We={type:U(He,void 0,{autotypenumbers:_e._fullLayout.autotypenumbers}),_categories:[]},H.setConvert(We),We.type==="category")for(var Ue=0;Ue<He.length;Ue++)We.d2c(He[Ue])}else We=H.getFromTrace(_e,Ae,Pe);return We?{d2c:We.d2c,c2d:We.c2d}:Pe==="ids"?{d2c:me,c2d:me}:{d2c:pe,c2d:pe}};function pe(_e){return+_e}function me(_e){return String(_e)}function ke(_e,Ae){return Math.abs((_e/Ae+.5)%1-.5)<.001}function ve(_e,Ae){return Math.abs(_e/Ae-1)<.001}function he(_e){return+_e.substring(1)}function de(_e,Ae){return _e.rangebreaks&&(Ae=Ae.filter(function(Ve){return _e.maskBreaks(Ve.x)!==I})),Ae}function X(_e){var Ae=_e._mainAxis,Ve=[];if(Ae._vals){for(var He=0;He<Ae._vals.length;He++)if(!Ae._vals[He].noTick){var We=Ae.l2p(Ae._vals[He].x),Pe=_e.p2l(We),Ue=H.tickText(_e,Pe);Ae._vals[He].minor&&(Ue.minor=!0,Ue.text=""),Ve.push(Ue)}}return de(_e,Ve)}function ae(_e,Ae){var Ve=le(k.simpleMap(_e.range,_e.r2l)),He=Math.min(Ve[0],Ve[1]),We=Math.max(Ve[0],Ve[1]),Pe=_e.type==="category"?_e.d2l_noadd:_e.d2l;_e.type==="log"&&String(_e.dtick).charAt(0)!=="L"&&(_e.dtick="L"+Math.pow(10,Math.floor(Math.min(_e.range[0],_e.range[1]))-1));for(var Ue=[],Ne=0;Ne<=1;Ne++)if((Ae===void 0||!(Ae&&Ne||Ae===!1&&!Ne))&&(!Ne||_e.minor)){var Ye=Ne?_e.minor.tickvals:_e.tickvals,Fe=Ne?[]:_e.ticktext;if(Ye){k.isArrayOrTypedArray(Fe)||(Fe=[]);for(var Ze=0;Ze<Ye.length;Ze++){var rt=Pe(Ye[Ze]);if(rt>He&&rt<We){var vt=H.tickText(_e,rt,!1,String(Fe[Ze]));Ne&&(vt.minor=!0,vt.text=""),Ue.push(vt)}}}}return de(_e,Ue)}H.getDataToCoordFunc=function(_e,Ae,Ve,He){return fe(_e,Ae,Ve,He).d2c},H.counterLetter=function(_e){var Ae=_e.charAt(0);return Ae==="x"?"y":Ae==="y"?"x":void 0},H.minDtick=function(_e,Ae,Ve,He){["log","category","multicategory"].indexOf(_e.type)===-1&&He?_e._minDtick===void 0?(_e._minDtick=Ae,_e._forceTick0=Ve):_e._minDtick&&((_e._minDtick/Ae+1e-6)%1<2e-6&&((Ve-_e._forceTick0)/Ae%1+1.000001)%1<2e-6?(_e._minDtick=Ae,_e._forceTick0=Ve):((Ae/_e._minDtick+1e-6)%1>2e-6||((Ve-_e._forceTick0)/_e._minDtick%1+1.000001)%1>2e-6)&&(_e._minDtick=0)):_e._minDtick=0},H.saveRangeInitial=function(_e,Ae){for(var Ve=H.list(_e,"",!0),He=!1,We=0;We<Ve.length;We++){var Pe=Ve[We],Ue=Pe._rangeInitial0===void 0&&Pe._rangeInitial1===void 0,Ne=Ue||Pe.range[0]!==Pe._rangeInitial0||Pe.range[1]!==Pe._rangeInitial1,Ye=Pe.autorange;(Ue&&Ye!==!0||Ae&&Ne)&&(Pe._rangeInitial0=Ye==="min"||Ye==="max reversed"?void 0:Pe.range[0],Pe._rangeInitial1=Ye==="max"||Ye==="min reversed"?void 0:Pe.range[1],Pe._autorangeInitial=Ye,He=!0)}return He},H.saveShowSpikeInitial=function(_e,Ae){for(var Ve=H.list(_e,"",!0),He=!1,We="on",Pe=0;Pe<Ve.length;Pe++){var Ue=Ve[Pe],Ne=Ue._showSpikeInitial===void 0,Ye=Ne||Ue.showspikes!==Ue._showspikes;(Ne||Ae&&Ye)&&(Ue._showSpikeInitial=Ue.showspikes,He=!0),We!=="on"||Ue.showspikes||(We="off")}return _e._fullLayout._cartesianSpikesEnabled=We,He},H.autoBin=function(_e,Ae,Ve,He,We,Pe){var Ue,Ne=k.aggNums(Math.min,null,_e),Ye=k.aggNums(Math.max,null,_e);if(Ae.type==="category"||Ae.type==="multicategory")return{start:Ne-.5,end:Ye+.5,size:Math.max(1,Math.round(Pe)||1),_dataSpan:Ye-Ne};if(We||(We=Ae.calendar),Ue=Ae.type==="log"?{type:"linear",range:[Ne,Ye]}:{type:Ae.type,range:k.simpleMap([Ne,Ye],Ae.c2r,0,We),calendar:We},H.setConvert(Ue),Pe=Pe&&l.dtick(Pe,Ue.type))Ue.dtick=Pe,Ue.tick0=l.tick0(void 0,Ue.type,We);else{var Fe;if(Ve)Fe=(Ye-Ne)/Ve;else{var Ze=k.distinctVals(_e),rt=Math.pow(10,Math.floor(Math.log(Ze.minDiff)/Math.LN10)),vt=rt*k.roundUp(Ze.minDiff/rt,[.9,1.9,4.9,9.9],!0);Fe=Math.max(vt,2*k.stdev(_e)/Math.pow(_e.length,He?.25:.4)),D(Fe)||(Fe=1)}H.autoTicks(Ue,Fe)}var Lt,St=Ue.dtick,It=H.tickIncrement(H.tickFirst(Ue),St,"reverse",We);if(typeof St=="number")It=function(ot,xt,Ut,Et,mt){var kt=0,ht=0,wt=0,Wt=0;function jt($t){return(1+100*($t-ot)/Ut.dtick)%100<2}for(var Jt=0;Jt<xt.length;Jt++)xt[Jt]%1==0?wt++:D(xt[Jt])||Wt++,jt(xt[Jt])&&kt++,jt(xt[Jt]+Ut.dtick/2)&&ht++;var qt=xt.length-Wt;if(wt===qt&&Ut.type!=="date")Ut.dtick<1?ot=Et-.5*Ut.dtick:(ot-=.5)+Ut.dtick<Et&&(ot+=Ut.dtick);else if(ht<.1*qt&&(kt>.3*qt||jt(Et)||jt(mt))){var Xt=Ut.dtick/2;ot+=ot+Xt<Et?Xt:-Xt}return ot}(It,_e,Ue,Ne,Ye),Lt=It+(1+Math.floor((Ye-It)/St))*St;else for(Ue.dtick.charAt(0)==="M"&&(It=function(ot,xt,Ut,Et,mt){var kt=k.findExactDates(xt,mt);if(kt.exactDays>.8){var ht=Number(Ut.substr(1));kt.exactYears>.8&&ht%12==0?ot=H.tickIncrement(ot,"M6","reverse")+1.5*g:kt.exactMonths>.8?ot=H.tickIncrement(ot,"M1","reverse")+15.5*g:ot-=e;var wt=H.tickIncrement(ot,Ut);if(wt<=Et)return wt}return ot}(It,_e,St,Ne,We)),Lt=It;Lt<=Ye;)Lt=H.tickIncrement(Lt,St,!1,We);return{start:Ae.c2r(It,0,We),end:Ae.c2r(Lt,0,We),size:St,_dataSpan:Ye-Ne}},H.prepMinorTicks=function(_e,Ae,Ve){if(!Ae.minor.dtick){delete _e.dtick;var He,We=Ae.dtick&&D(Ae._tmin);if(We){var Pe=H.tickIncrement(Ae._tmin,Ae.dtick,!0);He=[Ae._tmin,.99*Pe+.01*Ae._tmin]}else{var Ue=k.simpleMap(Ae.range,Ae.r2l);He=[Ue[0],.8*Ue[0]+.2*Ue[1]]}if(_e.range=k.simpleMap(He,Ae.l2r),_e._isMinor=!0,H.prepTicks(_e,Ve),We){var Ne=D(Ae.dtick),Ye=D(_e.dtick),Fe=Ne?Ae.dtick:+Ae.dtick.substring(1),Ze=Ye?_e.dtick:+_e.dtick.substring(1);Ne&&Ye?ke(Fe,Ze)?Fe===2*r&&Ze===2*g&&(_e.dtick=r):Fe===2*r&&Ze===3*g?_e.dtick=r:Fe!==r||(Ae._input.minor||{}).nticks?ve(Fe/Ze,2.5)?_e.dtick=Fe/2:_e.dtick=Fe:_e.dtick=g:String(Ae.dtick).charAt(0)==="M"?Ye?_e.dtick="M1":ke(Fe,Ze)?Fe>=12&&Ze===2&&(_e.dtick="M3"):_e.dtick=Ae.dtick:String(_e.dtick).charAt(0)==="L"?String(Ae.dtick).charAt(0)==="L"?ke(Fe,Ze)||(_e.dtick=ve(Fe/Ze,2.5)?Ae.dtick/2:Ae.dtick):_e.dtick="D1":_e.dtick==="D2"&&+Ae.dtick>1&&(_e.dtick=1)}_e.range=Ae.range}Ae.minor._tick0Init===void 0&&(_e.tick0=Ae.tick0)},H.prepTicks=function(_e,Ae){var Ve=k.simpleMap(_e.range,_e.r2l,void 0,void 0,Ae);if(_e.tickmode==="auto"||!_e.dtick){var He,We=_e.nticks;We||(_e.type==="category"||_e.type==="multicategory"?(He=_e.tickfont?k.bigFont(_e.tickfont.size||12):15,We=_e._length/He):(He=_e._id.charAt(0)==="y"?40:80,We=k.constrain(_e._length/He,4,9)+1),_e._name==="radialaxis"&&(We*=2)),_e.minor&&_e.minor.tickmode!=="array"||_e.tickmode==="array"&&(We*=100),_e._roughDTick=Math.abs(Ve[1]-Ve[0])/We,H.autoTicks(_e,_e._roughDTick),_e._minDtick>0&&_e.dtick<2*_e._minDtick&&(_e.dtick=_e._minDtick,_e.tick0=_e.l2r(_e._forceTick0))}_e.ticklabelmode==="period"&&function(Pe){var Ue;function Ne(){return!(D(Pe.dtick)||Pe.dtick.charAt(0)!=="M")}var Ye=Ne(),Fe=H.getTickFormat(Pe);if(Fe){var Ze=Pe._dtickInit!==Pe.dtick;/%[fLQsSMX]/.test(Fe)||(/%[HI]/.test(Fe)?(Ue=h,Ze&&!Ye&&Pe.dtick<h&&(Pe.dtick=h)):/%p/.test(Fe)?(Ue=e,Ze&&!Ye&&Pe.dtick<e&&(Pe.dtick=e)):/%[Aadejuwx]/.test(Fe)?(Ue=g,Ze&&!Ye&&Pe.dtick<g&&(Pe.dtick=g)):/%[UVW]/.test(Fe)?(Ue=r,Ze&&!Ye&&Pe.dtick<r&&(Pe.dtick=r)):/%[Bbm]/.test(Fe)?(Ue=o,Ze&&(Ye?he(Pe.dtick)<1:Pe.dtick<s)&&(Pe.dtick="M1")):/%[q]/.test(Fe)?(Ue=x,Ze&&(Ye?he(Pe.dtick)<3:Pe.dtick<f)&&(Pe.dtick="M3")):/%[Yy]/.test(Fe)&&(Ue=y,Ze&&(Ye?he(Pe.dtick)<12:Pe.dtick<p)&&(Pe.dtick="M12")))}(Ye=Ne())&&Pe.tick0===Pe._dowTick0&&(Pe.tick0=Pe._rawTick0),Pe._definedDelta=Ue}(_e),_e.tick0||(_e.tick0=_e.type==="date"?"2000-01-01":0),_e.type==="date"&&_e.dtick<.1&&(_e.dtick=.1),ce(_e)},H.calcTicks=function(_e,Ae){for(var Ve,He,We,Pe,Ue=_e.type,Ne=_e.calendar,Ye=_e.ticklabelstep,Fe=_e.ticklabelmode==="period",Ze=_e.range[0]>_e.range[1],rt=!_e.ticklabelindex||k.isArrayOrTypedArray(_e.ticklabelindex)?_e.ticklabelindex:[_e.ticklabelindex],vt=k.simpleMap(_e.range,_e.r2l,void 0,void 0,Ae),Lt=vt[1]<vt[0],St=Math.min(vt[0],vt[1]),It=Math.max(vt[0],vt[1]),ot=Math.max(1e3,_e._length||0),xt=[],Ut=[],Et=[],mt=[],kt=[],ht=_e.minor&&(_e.minor.ticks||_e.minor.showgrid),wt=1;wt>=(ht?0:1);wt--){var Wt=!wt;wt?(_e._dtickInit=_e.dtick,_e._tick0Init=_e.tick0):(_e.minor._dtickInit=_e.minor.dtick,_e.minor._tick0Init=_e.minor.tick0);var jt=wt?_e:k.extendFlat({},_e,_e.minor);if(Wt?H.prepMinorTicks(jt,_e,Ae):H.prepTicks(jt,Ae),jt.tickmode!=="array")if(jt.tickmode!=="sync"){var Jt=le(vt),qt=Jt[0],Xt=Jt[1],$t=D(jt.dtick),pn=Ue==="log"&&!($t||jt.dtick.charAt(0)==="L"),An=H.tickFirst(jt,Ae);if(wt){if(_e._tmin=An,An<qt!==Lt)break;Ue!=="category"&&Ue!=="multicategory"||(Xt=Lt?Math.max(-.5,Xt):Math.min(_e._categories.length-.5,Xt))}var rn,ln,gn=null,xn=An;wt&&($t?ln=_e.dtick:Ue==="date"?typeof _e.dtick=="string"&&_e.dtick.charAt(0)==="M"&&(ln=o*_e.dtick.substring(1)):ln=_e._roughDTick,rn=Math.round((_e.r2l(xn)-_e.r2l(_e.tick0))/ln)-1);var sn=jt.dtick;for(jt.rangebreaks&&jt._tick0Init!==jt.tick0&&(xn=it(xn,_e),Lt||(xn=H.tickIncrement(xn,sn,!Lt,Ne))),wt&&Fe&&(xn=H.tickIncrement(xn,sn,!Lt,Ne),rn--);Lt?xn>=Xt:xn<=Xt;xn=H.tickIncrement(xn,sn,Lt,Ne)){if(wt&&rn++,jt.rangebreaks&&!Lt){if(xn<qt)continue;if(jt.maskBreaks(xn)===I&&it(xn,jt)>=It)break}if(Et.length>ot||xn===gn)break;gn=xn;var fn={value:xn};wt?(pn&&xn!==(0|xn)&&(fn.simpleLabel=!0),Ye>1&&rn%Ye&&(fn.skipLabel=!0),Et.push(fn)):(fn.minor=!0,mt.push(fn))}}else Et=[],xt=X(_e);else wt?(Et=[],xt=ae(_e,!Wt)):(mt=[],Ut=ae(_e,!Wt))}if(!mt||mt.length<2?rt=!1:(Ve=(mt[1].value-mt[0].value)*(Ze?-1:1),He=_e.tickformat,(/%f/.test(He)?Ve>=O:/%L/.test(He)?Ve>=S:/%[SX]/.test(He)?Ve>=w:/%M/.test(He)?Ve>=_:/%[HI]/.test(He)?Ve>=h:/%p/.test(He)?Ve>=e:/%[Aadejuwx]/.test(He)?Ve>=g:/%[UVW]/.test(He)?Ve>=r:/%[Bbm]/.test(He)?Ve>=s:/%[q]/.test(He)?Ve>=f:!/%[Yy]/.test(He)||Ve>=p)||(rt=!1)),rt){var bn=Et.concat(mt);Fe&&Et.length&&(bn=bn.slice(1)),(bn=bn.sort(function(lt,Qe){return lt.value-Qe.value}).filter(function(lt,Qe,bt){return Qe===0||lt.value!==bt[Qe-1].value})).map(function(lt,Qe){return lt.minor!==void 0||lt.skipLabel?null:Qe}).filter(function(lt){return lt!==null}).forEach(function(lt){rt.map(function(Qe){var bt=lt+Qe;bt>=0&&bt<bn.length&&k.pushUnique(kt,bn[bt])})})}else kt=Et;if(ht&&!(_e.minor.ticks==="inside"&&_e.ticks==="outside"||_e.minor.ticks==="outside"&&_e.ticks==="inside")){for(var wn=Et.map(function(lt){return lt.value}),Sn=[],kn=0;kn<mt.length;kn++){var Ln=mt[kn],zn=Ln.value;if(wn.indexOf(zn)===-1){for(var jn=!1,dt=0;!jn&&dt<Et.length;dt++)1e7+Et[dt].value===1e7+zn&&(jn=!0);jn||Sn.push(Ln)}}mt=Sn}if(Fe&&function(lt,Qe,bt){for(var Gt=0;Gt<lt.length;Gt++){var en=lt[Gt].value,Qt=Gt,Kt=Gt+1;Gt<lt.length-1?(Qt=Gt,Kt=Gt+1):Gt>0?(Qt=Gt-1,Kt=Gt):(Qt=Gt,Kt=Gt);var on,an=lt[Qt].value,dn=lt[Kt].value,cn=Math.abs(dn-an),hn=bt||cn,mn=0;hn>=p?mn=cn>=p&&cn<=v?cn:y:bt===x&&hn>=f?mn=cn>=f&&cn<=c?cn:x:hn>=s?mn=cn>=s&&cn<=n?cn:o:bt===r&&hn>=r?mn=r:hn>=g?mn=g:bt===e&&hn>=e?mn=e:bt===h&&hn>=h&&(mn=h),mn>=cn&&(mn=cn,on=!0);var Fn=en+mn;if(Qe.rangebreaks&&mn>0){for(var Rn=0,un=0;un<84;un++){var Mn=(un+.5)/84;Qe.maskBreaks(en*(1-Mn)+Mn*Fn)!==I&&Rn++}(mn*=Rn/84)||(lt[Gt].drop=!0),on&&cn>r&&(mn=cn)}(mn>0||Gt===0)&&(lt[Gt].periodX=en+mn/2)}}(kt,_e,_e._definedDelta),_e.rangebreaks){var Zt=_e._id.charAt(0)==="y",qe=1;_e.tickmode==="auto"&&(qe=_e.tickfont?_e.tickfont.size:12);var nt=NaN;for(We=Et.length-1;We>-1;We--)if(Et[We].drop)Et.splice(We,1);else{Et[We].value=it(Et[We].value,_e);var _t=_e.c2p(Et[We].value);(Zt?nt>_t-qe:nt<_t+qe)?Et.splice(Lt?We+1:We,1):nt=_t}}Be(_e)&&Math.abs(vt[1]-vt[0])===360&&Et.pop(),_e._tmax=(Et[Et.length-1]||{}).value,_e._prevDateHead="",_e._inCalcTicks=!0;var zt,Bt=function(lt){lt.text="",_e._prevDateHead=Pe};function Vt(lt,Qe){var bt=H.tickText(lt,Qe.value,!1,Qe.simpleLabel),Gt=Qe.periodX;return Gt!==void 0&&(bt.periodX=Gt,(Gt>It||Gt<St)&&(Gt>It&&(bt.periodX=It),Gt<St&&(bt.periodX=St),Bt(bt))),bt}for(Et=Et.concat(mt),We=0;We<Et.length;We++){var Nt=Et[We].minor,Mt=Et[We].value;Nt?((zt=rt&&kt.indexOf(Et[We])!==-1?Vt(_e,Et[We]):{x:Mt}).minor=!0,Ut.push(zt)):(Pe=_e._prevDateHead,zt=Vt(_e,Et[We]),(Et[We].skipLabel||rt&&kt.indexOf(Et[We])===-1)&&Bt(zt),xt.push(zt))}return xt=xt.concat(Ut),_e._inCalcTicks=!1,Fe&&xt.length&&(xt[0].noTick=!0),xt};var K=[2,5,10],ge=[1,2,3,6,12],re=[1,2,5,10,15,30],ue=[1,2,3,7,14],we=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Te=[-.301,0,.301,.699,1],ee=[15,30,45,90,180];function se(_e,Ae,Ve){return Ae*k.roundUp(_e/Ae,Ve)}function ce(_e){var Ae=_e.dtick;if(_e._tickexponent=0,D(Ae)||typeof Ae=="string"||(Ae=1),_e.type!=="category"&&_e.type!=="multicategory"||(_e._tickround=null),_e.type==="date"){var Ve=_e.r2l(_e.tick0),He=_e.l2r(Ve).replace(/(^-|i)/g,""),We=He.length;if(String(Ae).charAt(0)==="M")We>10||He.substr(5)!=="01-01"?_e._tickround="d":_e._tickround=+Ae.substr(1)%12==0?"y":"m";else if(Ae>=g&&We<=10||Ae>=15*g)_e._tickround="d";else if(Ae>=_&&We<=16||Ae>=h)_e._tickround="M";else if(Ae>=w&&We<=19||Ae>=_)_e._tickround="S";else{var Pe=_e.l2r(Ve+Ae).replace(/^-/,"").length;_e._tickround=Math.max(We,Pe)-20,_e._tickround<0&&(_e._tickround=4)}}else if(D(Ae)||Ae.charAt(0)==="L"){var Ue=_e.range.map(_e.r2d||Number);D(Ae)||(Ae=Number(Ae.substr(1))),_e._tickround=2-Math.floor(Math.log(Ae)/Math.LN10+.01);var Ne=Math.max(Math.abs(Ue[0]),Math.abs(Ue[1])),Ye=Math.floor(Math.log(Ne)/Math.LN10+.01),Fe=_e.minexponent===void 0?3:_e.minexponent;Math.abs(Ye)>Fe&&(Se(_e.exponentformat)&&!De(Ye)?_e._tickexponent=3*Math.round((Ye-1)/3):_e._tickexponent=Ye)}else _e._tickround=null}function be(_e,Ae,Ve){var He=_e.tickfont||{};return{x:Ae,dx:0,dy:0,text:Ve||"",fontSize:He.size,font:He.family,fontWeight:He.weight,fontStyle:He.style,fontVariant:He.variant,fontTextcase:He.textcase,fontLineposition:He.lineposition,fontShadow:He.shadow,fontColor:He.color}}H.autoTicks=function(_e,Ae,Ve){var He;function We(rt){return Math.pow(rt,Math.floor(Math.log(Ae)/Math.LN10))}if(_e.type==="date"){_e.tick0=k.dateTick0(_e.calendar,0);var Pe=2*Ae;if(Pe>y)Ae/=y,He=We(10),_e.dtick="M"+12*se(Ae,He,K);else if(Pe>o)Ae/=o,_e.dtick="M"+se(Ae,1,ge);else if(Pe>g){if(_e.dtick=se(Ae,g,_e._hasDayOfWeekBreaks?[1,2,7,14]:ue),!Ve){var Ue=H.getTickFormat(_e),Ne=_e.ticklabelmode==="period";Ne&&(_e._rawTick0=_e.tick0),/%[uVW]/.test(Ue)?_e.tick0=k.dateTick0(_e.calendar,2):_e.tick0=k.dateTick0(_e.calendar,1),Ne&&(_e._dowTick0=_e.tick0)}}else Pe>h?_e.dtick=se(Ae,h,ge):Pe>_?_e.dtick=se(Ae,_,re):Pe>w?_e.dtick=se(Ae,w,re):(He=We(10),_e.dtick=se(Ae,He,K))}else if(_e.type==="log"){_e.tick0=0;var Ye=k.simpleMap(_e.range,_e.r2l);if(_e._isMinor&&(Ae*=1.5),Ae>.7)_e.dtick=Math.ceil(Ae);else if(Math.abs(Ye[1]-Ye[0])<1){var Fe=1.5*Math.abs((Ye[1]-Ye[0])/Ae);Ae=Math.abs(Math.pow(10,Ye[1])-Math.pow(10,Ye[0]))/Fe,He=We(10),_e.dtick="L"+se(Ae,He,K)}else _e.dtick=Ae>.3?"D2":"D1"}else _e.type==="category"||_e.type==="multicategory"?(_e.tick0=0,_e.dtick=Math.ceil(Math.max(Ae,1))):Be(_e)?(_e.tick0=0,He=1,_e.dtick=se(Ae,He,ee)):(_e.tick0=0,He=We(10),_e.dtick=se(Ae,He,K));if(_e.dtick===0&&(_e.dtick=1),!D(_e.dtick)&&typeof _e.dtick!="string"){var Ze=_e.dtick;throw _e.dtick=1,"ax.dtick error: "+String(Ze)}},H.tickIncrement=function(_e,Ae,Ve,He){var We=Ve?-1:1;if(D(Ae))return k.increment(_e,We*Ae);var Pe=Ae.charAt(0),Ue=We*Number(Ae.substr(1));if(Pe==="M")return k.incrementMonth(_e,Ue,He);if(Pe==="L")return Math.log(Math.pow(10,_e)+Ue)/Math.LN10;if(Pe==="D"){var Ne=Ae==="D2"?Te:we,Ye=_e+.01*We,Fe=k.roundUp(k.mod(Ye,1),Ne,Ve);return Math.floor(Ye)+Math.log(L.round(Math.pow(10,Fe),1))/Math.LN10}throw"unrecognized dtick "+String(Ae)},H.tickFirst=function(_e,Ae){var Ve=_e.r2l||Number,He=k.simpleMap(_e.range,Ve,void 0,void 0,Ae),We=He[1]<He[0],Pe=We?Math.floor:Math.ceil,Ue=le(He)[0],Ne=_e.dtick,Ye=Ve(_e.tick0);if(D(Ne)){var Fe=Pe((Ue-Ye)/Ne)*Ne+Ye;return _e.type!=="category"&&_e.type!=="multicategory"||(Fe=k.constrain(Fe,0,_e._categories.length-1)),Fe}var Ze=Ne.charAt(0),rt=Number(Ne.substr(1));if(Ze==="M"){for(var vt,Lt,St,It=0,ot=Ye;It<10;){if(((vt=H.tickIncrement(ot,Ne,We,_e.calendar))-Ue)*(ot-Ue)<=0)return We?Math.min(ot,vt):Math.max(ot,vt);Lt=(Ue-(ot+vt)/2)/(vt-ot),St=Ze+(Math.abs(Math.round(Lt))||1)*rt,ot=H.tickIncrement(ot,St,Lt<0?!We:We,_e.calendar),It++}return k.error("tickFirst did not converge",_e),ot}if(Ze==="L")return Math.log(Pe((Math.pow(10,Ue)-Ye)/rt)*rt+Ye)/Math.LN10;if(Ze==="D"){var xt=Ne==="D2"?Te:we,Ut=k.roundUp(k.mod(Ue,1),xt,We);return Math.floor(Ue)+Math.log(L.round(Math.pow(10,Ut),1))/Math.LN10}throw"unrecognized dtick "+String(Ne)},H.tickText=function(_e,Ae,Ve,He){var We,Pe=be(_e,Ae),Ue=_e.tickmode==="array",Ne=Ve||Ue,Ye=_e.type,Fe=Ye==="category"?_e.d2l_noadd:_e.d2l,Ze=function(ot){var xt=_e.l2p(ot);return xt>=0&&xt<=_e._length?ot:null};if(Ue&&k.isArrayOrTypedArray(_e.ticktext)){var rt=k.simpleMap(_e.range,_e.r2l),vt=(Math.abs(rt[1]-rt[0])-(_e._lBreaks||0))/1e4;for(We=0;We<_e.ticktext.length&&!(Math.abs(Ae-Fe(_e.tickvals[We]))<vt);We++);if(We<_e.ticktext.length)return Pe.text=String(_e.ticktext[We]),Pe.xbnd=[Ze(Pe.x-.5),Ze(Pe.x+_e.dtick-.5)],Pe}function Lt(ot){if(ot===void 0)return!0;if(Ve)return ot==="none";var xt={first:_e._tmin,last:_e._tmax}[ot];return ot!=="all"&&Ae!==xt}var St=Ve?"never":_e.exponentformat!=="none"&&Lt(_e.showexponent)?"hide":"";if(Ye==="date"?function(ot,xt,Ut,Et){var mt=ot._tickround,kt=Ut&&ot.hoverformat||H.getTickFormat(ot);(Et=!kt&&Et)&&(mt=D(mt)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[mt]);var ht,wt=k.formatDate(xt.x,kt,mt,ot._dateFormat,ot.calendar,ot._extraFormat),Wt=wt.indexOf(`
`);if(Wt!==-1&&(ht=wt.substr(Wt+1),wt=wt.substr(0,Wt)),Et&&(ht===void 0||wt!=="00:00:00"&&wt!=="00:00"?wt.length===8&&(wt=wt.replace(/:00$/,"")):(wt=ht,ht="")),ht)if(Ut)mt==="d"?wt+=", "+ht:wt=ht+(wt?", "+wt:"");else if(ot._inCalcTicks&&ot._prevDateHead===ht){var jt=tt(ot),Jt=ot._trueSide||ot.side;(!jt&&Jt==="top"||jt&&Jt==="bottom")&&(wt+="<br> ")}else ot._prevDateHead=ht,wt+="<br>"+ht;xt.text=wt}(_e,Pe,Ve,Ne):Ye==="log"?function(ot,xt,Ut,Et,mt){var kt=ot.dtick,ht=xt.x,wt=ot.tickformat,Wt=typeof kt=="string"&&kt.charAt(0);if(mt==="never"&&(mt=""),Et&&Wt!=="L"&&(kt="L3",Wt="L"),wt||Wt==="L")xt.text=Ge(Math.pow(10,ht),ot,mt,Et);else if(D(kt)||Wt==="D"&&k.mod(ht+.01,1)<.1){var jt=Math.round(ht),Jt=Math.abs(jt),qt=ot.exponentformat;qt==="power"||Se(qt)&&De(jt)?(xt.text=jt===0?1:jt===1?"10":"10<sup>"+(jt>1?"":A)+Jt+"</sup>",xt.fontSize*=1.25):(qt==="e"||qt==="E")&&Jt>2?xt.text="1"+qt+(jt>0?"+":A)+Jt:(xt.text=Ge(Math.pow(10,ht),ot,"","fakehover"),kt==="D1"&&ot._id.charAt(0)==="y"&&(xt.dy-=xt.fontSize/6))}else{if(Wt!=="D")throw"unrecognized dtick "+String(kt);xt.text=String(Math.round(Math.pow(10,k.mod(ht,1)))),xt.fontSize*=.75}if(ot.dtick==="D1"){var Xt=String(xt.text).charAt(0);Xt!=="0"&&Xt!=="1"||(ot._id.charAt(0)==="y"?xt.dx-=xt.fontSize/4:(xt.dy+=xt.fontSize/2,xt.dx+=(ot.range[1]>ot.range[0]?1:-1)*xt.fontSize*(ht<0?.5:.25)))}}(_e,Pe,0,Ne,St):Ye==="category"?function(ot,xt){var Ut=ot._categories[Math.round(xt.x)];Ut===void 0&&(Ut=""),xt.text=String(Ut)}(_e,Pe):Ye==="multicategory"?function(ot,xt,Ut){var Et=Math.round(xt.x),mt=ot._categories[Et]||[],kt=mt[1]===void 0?"":String(mt[1]),ht=mt[0]===void 0?"":String(mt[0]);Ut?xt.text=ht+" - "+kt:(xt.text=kt,xt.text2=ht)}(_e,Pe,Ve):Be(_e)?function(ot,xt,Ut,Et,mt){if(ot.thetaunit!=="radians"||Ut)xt.text=Ge(xt.x,ot,mt,Et);else{var kt=xt.x/180;if(kt===0)xt.text="0";else{var ht=function(Wt){function jt($t,pn){return Math.abs($t-pn)<=1e-6}var Jt=function($t){for(var pn=1;!jt(Math.round($t*pn)/pn,$t);)pn*=10;return pn}(Wt),qt=Wt*Jt,Xt=Math.abs(function $t(pn,An){return jt(An,0)?pn:$t(An,pn%An)}(qt,Jt));return[Math.round(qt/Xt),Math.round(Jt/Xt)]}(kt);if(ht[1]>=100)xt.text=Ge(k.deg2rad(xt.x),ot,mt,Et);else{var wt=xt.x<0;ht[1]===1?ht[0]===1?xt.text="":xt.text=ht[0]+"":xt.text=["<sup>",ht[0],"</sup>","","<sub>",ht[1],"</sub>",""].join(""),wt&&(xt.text=A+xt.text)}}}}(_e,Pe,Ve,Ne,St):function(ot,xt,Ut,Et,mt){mt==="never"?mt="":ot.showexponent==="all"&&Math.abs(xt.x/ot.dtick)<1e-6&&(mt="hide"),xt.text=Ge(xt.x,ot,mt,Et)}(_e,Pe,0,Ne,St),He||(_e.tickprefix&&!Lt(_e.showtickprefix)&&(Pe.text=_e.tickprefix+Pe.text),_e.ticksuffix&&!Lt(_e.showticksuffix)&&(Pe.text+=_e.ticksuffix)),_e.labelalias&&_e.labelalias.hasOwnProperty(Pe.text)){var It=_e.labelalias[Pe.text];typeof It=="string"&&(Pe.text=It)}return(_e.tickson==="boundaries"||_e.showdividers)&&(Pe.xbnd=[Ze(Pe.x-.5),Ze(Pe.x+_e.dtick-.5)]),Pe},H.hoverLabelText=function(_e,Ae,Ve){Ve&&(_e=k.extendFlat({},_e,{hoverformat:Ve}));var He=k.isArrayOrTypedArray(Ae)?Ae[0]:Ae,We=k.isArrayOrTypedArray(Ae)?Ae[1]:void 0;if(We!==void 0&&We!==He)return H.hoverLabelText(_e,He,Ve)+" - "+H.hoverLabelText(_e,We,Ve);var Pe=_e.type==="log"&&He<=0,Ue=H.tickText(_e,_e.c2l(Pe?-He:He),"hover").text;return Pe?He===0?"0":A+Ue:Ue};var Ee=["f","p","n","","m","","k","M","G","T"];function Se(_e){return _e==="SI"||_e==="B"}function De(_e){return _e>14||_e<-15}function Ge(_e,Ae,Ve,He){var We=_e<0,Pe=Ae._tickround,Ue=Ve||Ae.exponentformat||"B",Ne=Ae._tickexponent,Ye=H.getTickFormat(Ae),Fe=Ae.separatethousands;if(He){var Ze={exponentformat:Ue,minexponent:Ae.minexponent,dtick:Ae.showexponent==="none"?Ae.dtick:D(_e)&&Math.abs(_e)||1,range:Ae.showexponent==="none"?Ae.range.map(Ae.r2d):[0,_e||1]};ce(Ze),Pe=(Number(Ze._tickround)||0)+4,Ne=Ze._tickexponent,Ae.hoverformat&&(Ye=Ae.hoverformat)}if(Ye)return Ae._numFormat(Ye)(_e).replace(/-/g,A);var rt,vt=Math.pow(10,-Pe)/2;if(Ue==="none"&&(Ne=0),(_e=Math.abs(_e))<vt)_e="0",We=!1;else{if(_e+=vt,Ne&&(_e*=Math.pow(10,-Ne),Pe+=Ne),Pe===0)_e=String(Math.floor(_e));else if(Pe<0){_e=(_e=String(Math.round(_e))).substr(0,_e.length+Pe);for(var Lt=Pe;Lt<0;Lt++)_e+="0"}else{var St=(_e=String(_e)).indexOf(".")+1;St&&(_e=_e.substr(0,St+Pe).replace(/\.?0+$/,""))}_e=k.numSeparate(_e,Ae._separators,Fe)}return Ne&&Ue!=="hide"&&(Se(Ue)&&De(Ne)&&(Ue="power"),rt=Ne<0?A+-Ne:Ue!=="power"?"+"+Ne:String(Ne),Ue==="e"||Ue==="E"?_e+=Ue+rt:Ue==="power"?_e+="10<sup>"+rt+"</sup>":Ue==="B"&&Ne===9?_e+="B":Se(Ue)&&(_e+=Ee[Ne/3+5])),We?A+_e:_e}function Xe(_e,Ae){if(_e){var Ve=Object.keys(N).reduce(function(He,We){return Ae.indexOf(We)!==-1&&N[We].forEach(function(Pe){He[Pe]=1}),He},{});Object.keys(_e).forEach(function(He){Ve[He]||(He.length===1?_e[He]=0:delete _e[He])})}}function Ke(_e,Ae){for(var Ve=[],He={},We=0;We<Ae.length;We++){var Pe=Ae[We];He[Pe.text2]?He[Pe.text2].push(Pe.x):He[Pe.text2]=[Pe.x]}for(var Ue in He)Ve.push(be(_e,k.interp(He[Ue],.5),Ue));return Ve}function ut(_e){return _e.periodX!==void 0?_e.periodX:_e.x}function Tt(_e){return[_e.text,_e.x,_e.axInfo,_e.font,_e.fontSize,_e.fontColor].join("_")}function je(_e){var Ae=_e.title.font.size,Ve=(_e.title.text.match(b.BR_TAG_ALL)||[]).length;return _e.title.hasOwnProperty("standoff")?Ae*(Y+Ve*J):Ve?Ae*(Ve+1)*J:Ae}function Le(_e,Ae){var Ve=_e.l2p(Ae);return Ve>1&&Ve<_e._length-1}function $e(_e){var Ae=L.select(_e),Ve=Ae.select(".text-math-group");return Ve.empty()?Ae.select("text"):Ve}function st(_e){return _e._id+".automargin"}function Ot(_e){return st(_e)+".mirror"}function Je(_e){return _e._id+".rangeslider"}function at(_e,Ae){for(var Ve=0;Ve<Ae.length;Ve++)_e.indexOf(Ae[Ve])===-1&&_e.push(Ae[Ve])}function gt(_e,Ae,Ve){var He,We,Pe=[],Ue=[],Ne=_e.layout;for(He=0;He<Ae.length;He++)Pe.push(H.getFromId(_e,Ae[He]));for(He=0;He<Ve.length;He++)Ue.push(H.getFromId(_e,Ve[He]));var Ye=Object.keys(i),Fe=["anchor","domain","overlaying","position","side","tickangle","editType"],Ze=["linear","log"];for(He=0;He<Ye.length;He++){var rt=Ye[He],vt=Pe[0][rt],Lt=Ue[0][rt],St=!0,It=!1,ot=!1;if(rt.charAt(0)!=="_"&&typeof vt!="function"&&Fe.indexOf(rt)===-1){for(We=1;We<Pe.length&&St;We++){var xt=Pe[We][rt];rt==="type"&&Ze.indexOf(vt)!==-1&&Ze.indexOf(xt)!==-1&&vt!==xt?It=!0:xt!==vt&&(St=!1)}for(We=1;We<Ue.length&&St;We++){var Ut=Ue[We][rt];rt==="type"&&Ze.indexOf(Lt)!==-1&&Ze.indexOf(Ut)!==-1&&Lt!==Ut?ot=!0:Ue[We][rt]!==Lt&&(St=!1)}St&&(It&&(Ne[Pe[0]._name].type="linear"),ot&&(Ne[Ue[0]._name].type="linear"),Oe(Ne,rt,Pe,Ue,_e._fullLayout._dfltTitle))}}for(He=0;He<_e._fullLayout.annotations.length;He++){var Et=_e._fullLayout.annotations[He];Ae.indexOf(Et.xref)!==-1&&Ve.indexOf(Et.yref)!==-1&&k.swapAttrs(Ne.annotations[He],["?"])}}function Oe(_e,Ae,Ve,He,We){var Pe,Ue=k.nestedProperty,Ne=Ue(_e[Ve[0]._name],Ae).get(),Ye=Ue(_e[He[0]._name],Ae).get();for(Ae==="title"&&(Ne&&Ne.text===We.x&&(Ne.text=We.y),Ye&&Ye.text===We.y&&(Ye.text=We.x)),Pe=0;Pe<Ve.length;Pe++)Ue(_e,Ve[Pe]._name+"."+Ae).set(Ye);for(Pe=0;Pe<He.length;Pe++)Ue(_e,He[Pe]._name+"."+Ae).set(Ne)}function Be(_e){return _e._id==="angularaxis"}function it(_e,Ae){for(var Ve=Ae._rangebreaks.length,He=0;He<Ve;He++){var We=Ae._rangebreaks[He];if(_e>=We.min&&_e<We.max)return We.max}return _e}function tt(_e){return(_e.ticklabelposition||"").indexOf("inside")!==-1}function ft(_e,Ae){tt(_e._anchorAxis||{})&&_e._hideCounterAxisInsideTickLabels&&_e._hideCounterAxisInsideTickLabels(Ae)}function pt(_e,Ae,Ve,He){var We,Pe=_e.anchor==="free"||_e.overlaying!==void 0&&_e.overlaying!==!1?_e.overlaying:_e._id;We=He?_e.side==="right"?Ae:-Ae:Ae,Pe in Ve||(Ve[Pe]={}),_e.side in Ve[Pe]||(Ve[Pe][_e.side]=0),Ve[Pe][_e.side]+=We}H.getTickFormat=function(_e){var Ae,Ve,He,We,Pe,Ue,Ne,Ye;function Fe(vt){return typeof vt!="string"?vt:Number(vt.replace("M",""))*o}function Ze(vt,Lt){var St=["L","D"];if(typeof vt==typeof Lt){if(typeof vt=="number")return vt-Lt;var It=St.indexOf(vt.charAt(0)),ot=St.indexOf(Lt.charAt(0));return It===ot?Number(vt.replace(/(L|D)/g,""))-Number(Lt.replace(/(L|D)/g,"")):It-ot}return typeof vt=="number"?1:-1}function rt(vt,Lt){var St=Lt[0]===null,It=Lt[1]===null,ot=Ze(vt,Lt[0])>=0,xt=Ze(vt,Lt[1])<=0;return(St||ot)&&(It||xt)}if(_e.tickformatstops&&_e.tickformatstops.length>0)switch(_e.type){case"date":case"linear":for(Ae=0;Ae<_e.tickformatstops.length;Ae++)if((He=_e.tickformatstops[Ae]).enabled&&(We=_e.dtick,Ue=void 0,Ue=Fe||function(vt){return vt},Ne=(Pe=He.dtickrange)[0],Ye=Pe[1],(!Ne&&typeof Ne!="number"||Ue(Ne)<=Ue(We))&&(!Ye&&typeof Ye!="number"||Ue(Ye)>=Ue(We)))){Ve=He;break}break;case"log":for(Ae=0;Ae<_e.tickformatstops.length;Ae++)if((He=_e.tickformatstops[Ae]).enabled&&rt(_e.dtick,He.dtickrange)){Ve=He;break}}return Ve?Ve.value:_e.tickformat},H.getSubplots=function(_e,Ae){var Ve=_e._fullLayout._subplots,He=Ve.cartesian.concat(Ve.gl2d||[]),We=Ae?H.findSubplotsWithAxis(He,Ae):He;return We.sort(function(Pe,Ue){var Ne=Pe.substr(1).split("y"),Ye=Ue.substr(1).split("y");return Ne[0]===Ye[0]?+Ne[1]-+Ye[1]:+Ne[0]-+Ye[0]}),We},H.findSubplotsWithAxis=function(_e,Ae){for(var Ve=new RegExp(Ae._id.charAt(0)==="x"?"^"+Ae._id+"y":Ae._id+"$"),He=[],We=0;We<_e.length;We++){var Pe=_e[We];Ve.test(Pe)&&He.push(Pe)}return He},H.makeClipPaths=function(_e){var Ae=_e._fullLayout;if(!Ae._hasOnlyLargeSploms){var Ve,He,We={_offset:0,_length:Ae.width,_id:""},Pe={_offset:0,_length:Ae.height,_id:""},Ue=H.list(_e,"x",!0),Ne=H.list(_e,"y",!0),Ye=[];for(Ve=0;Ve<Ue.length;Ve++)for(Ye.push({x:Ue[Ve],y:Pe}),He=0;He<Ne.length;He++)Ve===0&&Ye.push({x:We,y:Ne[He]}),Ye.push({x:Ue[Ve],y:Ne[He]});var Fe=Ae._clips.selectAll(".axesclip").data(Ye,function(Ze){return Ze.x._id+Ze.y._id});Fe.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Ze){return"clip"+Ae._uid+Ze.x._id+Ze.y._id}).append("rect"),Fe.exit().remove(),Fe.each(function(Ze){L.select(this).select("rect").attr({x:Ze.x._offset||0,y:Ze.y._offset||0,width:Ze.x._length||1,height:Ze.y._length||1})})}},H.draw=function(_e,Ae,Ve){var He=_e._fullLayout;Ae==="redraw"&&He._paper.selectAll("g.subplot").each(function(Ne){var Ye=Ne[0],Fe=He._plots[Ye];if(Fe){var Ze=Fe.xaxis,rt=Fe.yaxis;Fe.xaxislayer.selectAll("."+Ze._id+"tick").remove(),Fe.yaxislayer.selectAll("."+rt._id+"tick").remove(),Fe.xaxislayer.selectAll("."+Ze._id+"tick2").remove(),Fe.yaxislayer.selectAll("."+rt._id+"tick2").remove(),Fe.xaxislayer.selectAll("."+Ze._id+"divider").remove(),Fe.yaxislayer.selectAll("."+rt._id+"divider").remove(),Fe.minorGridlayer&&Fe.minorGridlayer.selectAll("path").remove(),Fe.gridlayer&&Fe.gridlayer.selectAll("path").remove(),Fe.zerolinelayer&&Fe.zerolinelayer.selectAll("path").remove(),He._infolayer.select(".g-"+Ze._id+"title").remove(),He._infolayer.select(".g-"+rt._id+"title").remove()}});var We=Ae&&Ae!=="redraw"?Ae:H.listIds(_e),Pe=H.list(_e).filter(function(Ne){return Ne.autoshift}).map(function(Ne){return Ne.overlaying});We.map(function(Ne){var Ye=H.getFromId(_e,Ne);if(Ye.tickmode==="sync"&&Ye.overlaying){var Fe=We.findIndex(function(Ze){return Ze===Ye.overlaying});Fe>=0&&We.unshift(We.splice(Fe,1).shift())}});var Ue={false:{left:0,right:0}};return k.syncOrAsync(We.map(function(Ne){return function(){if(Ne){var Ye=H.getFromId(_e,Ne);Ve||(Ve={}),Ve.axShifts=Ue,Ve.overlayingShiftedAx=Pe;var Fe=H.drawOne(_e,Ye,Ve);return Ye._shiftPusher&&pt(Ye,Ye._fullDepth||0,Ue,!0),Ye._r=Ye.range.slice(),Ye._rl=k.simpleMap(Ye._r,Ye.r2l),Fe}}}))},H.drawOne=function(_e,Ae,Ve){var He,We,Pe,Ue=(Ve=Ve||{}).axShifts||{},Ne=Ve.overlayingShiftedAx||[];Ae.setScale();var Ye=_e._fullLayout,Fe=Ae._id,Ze=Fe.charAt(0),rt=H.counterLetter(Fe),vt=Ye._plots[Ae._mainSubplot];if(vt){if(Ae._shiftPusher=Ae.autoshift||Ne.indexOf(Ae._id)!==-1||Ne.indexOf(Ae.overlaying)!==-1,Ae._shiftPusher&Ae.anchor==="free"){var Lt=Ae.linewidth/2||0;Ae.ticks==="inside"&&(Lt+=Ae.ticklen),pt(Ae,Lt,Ue,!0),pt(Ae,Ae.shift||0,Ue,!1)}Ve.skipTitle===!0&&Ae._shift!==void 0||(Ae._shift=function(lt,Qe){return lt.autoshift?Qe[lt.overlaying][lt.side]:lt.shift||0}(Ae,Ue));var St=vt[Ze+"axislayer"],It=Ae._mainLinePosition,ot=It+=Ae._shift,xt=Ae._mainMirrorPosition,Ut=Ae._vals=H.calcTicks(Ae),Et=[Ae.mirror,ot,xt].join("_");for(He=0;He<Ut.length;He++)Ut[He].axInfo=Et;Ae._selections={},Ae._tickAngles&&(Ae._prevTickAngles=Ae._tickAngles),Ae._tickAngles={},Ae._depth=null;var mt={};if(Ae.visible){var kt,ht,wt=H.makeTransTickFn(Ae),Wt=H.makeTransTickLabelFn(Ae),jt=Ae.ticks==="inside",Jt=Ae.ticks==="outside";if(Ae.tickson==="boundaries"){var qt=function(lt,Qe){var bt,Gt=[],en=function(Qt,Kt){var on=Qt.xbnd[Kt];on!==null&&Gt.push(k.extendFlat({},Qt,{x:on}))};if(Qe.length){for(bt=0;bt<Qe.length;bt++)en(Qe[bt],0);en(Qe[bt-1],1)}return Gt}(0,Ut);ht=H.clipEnds(Ae,qt),kt=jt?ht:qt}else ht=H.clipEnds(Ae,Ut),kt=jt&&Ae.ticklabelmode!=="period"?ht:Ut;var Xt,$t=Ae._gridVals=ht,pn=function(lt,Qe){var bt,Gt,en=[],Qt=Qe.length&&Qe[Qe.length-1].x<Qe[0].x,Kt=function(an,dn){var cn=an.xbnd[dn];cn!==null&&en.push(k.extendFlat({},an,{x:cn}))};if(lt.showdividers&&Qe.length){for(bt=0;bt<Qe.length;bt++){var on=Qe[bt];on.text2!==Gt&&Kt(on,Qt?1:0),Gt=on.text2}Kt(Qe[bt-1],Qt?0:1)}return en}(Ae,Ut);if(!Ye._hasOnlyLargeSploms){var An=Ae._subplotsWith,rn={};for(He=0;He<An.length;He++){We=An[He];var ln=(Pe=Ye._plots[We])[rt+"axis"],gn=ln._mainAxis._id;if(!rn[gn]){rn[gn]=1;var xn=Ze==="x"?"M0,"+ln._offset+"v"+ln._length:"M"+ln._offset+",0h"+ln._length;H.drawGrid(_e,Ae,{vals:$t,counterAxis:ln,layer:Pe.gridlayer.select("."+Fe),minorLayer:Pe.minorGridlayer.select("."+Fe),path:xn,transFn:wt}),H.drawZeroLine(_e,Ae,{counterAxis:ln,layer:Pe.zerolinelayer,path:xn,transFn:wt})}}}var sn=H.getTickSigns(Ae),fn=H.getTickSigns(Ae,"minor");if(Ae.ticks||Ae.minor&&Ae.minor.ticks){var bn,wn,Sn,kn,Ln=H.makeTickPath(Ae,ot,sn[2]),zn=H.makeTickPath(Ae,ot,fn[2],{minor:!0});if(Ae._anchorAxis&&Ae.mirror&&Ae.mirror!==!0?(bn=H.makeTickPath(Ae,xt,sn[3]),wn=H.makeTickPath(Ae,xt,fn[3],{minor:!0}),Sn=Ln+bn,kn=zn+wn):(bn="",wn="",Sn=Ln,kn=zn),Ae.showdividers&&Jt&&Ae.tickson==="boundaries"){var jn={};for(He=0;He<pn.length;He++)jn[pn[He].x]=1;Xt=function(lt){return jn[lt.x]?bn:Sn}}else Xt=function(lt){return lt.minor?kn:Sn}}if(H.drawTicks(_e,Ae,{vals:kt,layer:St,path:Xt,transFn:wt}),Ae.mirror==="allticks"){var dt=Object.keys(Ae._linepositions||{});for(He=0;He<dt.length;He++){We=dt[He],Pe=Ye._plots[We];var Zt=Ae._linepositions[We]||[],qe=Zt[0],nt=Zt[1],_t=Zt[2],zt=H.makeTickPath(Ae,qe,_t?sn[0]:fn[0],{minor:_t})+H.makeTickPath(Ae,nt,_t?sn[1]:fn[1],{minor:_t});H.drawTicks(_e,Ae,{vals:kt,layer:Pe[Ze+"axislayer"],path:zt,transFn:wt})}}var Bt=[];if(Bt.push(function(){return H.drawLabels(_e,Ae,{vals:Ut,layer:St,plotinfo:Pe,transFn:Wt,labelFns:H.makeLabelFns(Ae,ot)})}),Ae.type==="multicategory"){var Vt={x:2,y:10}[Ze];Bt.push(function(){var lt={x:"height",y:"width"}[Ze],Qe=Mt()[lt]+Vt+(Ae._tickAngles[Fe+"tick"]?Ae.tickfont.size*J:0);return H.drawLabels(_e,Ae,{vals:Ke(Ae,Ut),layer:St,cls:Fe+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:wt,labelFns:H.makeLabelFns(Ae,ot+Qe*sn[4])})}),Bt.push(function(){return Ae._depth=sn[4]*(Mt("tick2")[Ae.side]-ot),function(lt,Qe,bt){var Gt=Qe._id+"divider",en=bt.vals,Qt=bt.layer.selectAll("path."+Gt).data(en,Tt);Qt.exit().remove(),Qt.enter().insert("path",":first-child").classed(Gt,1).classed("crisp",1).call(t.stroke,Qe.dividercolor).style("stroke-width",u.crispRound(lt,Qe.dividerwidth,1)+"px"),Qt.attr("transform",bt.transFn).attr("d",bt.path)}(_e,Ae,{vals:pn,layer:St,path:H.makeTickPath(Ae,ot,sn[4],{len:Ae._depth}),transFn:wt})})}else Ae.title.hasOwnProperty("standoff")&&Bt.push(function(){Ae._depth=sn[4]*(Mt()[Ae.side]-ot)});var Nt=T.getComponentMethod("rangeslider","isVisible")(Ae);return Ve.skipTitle||Nt&&Ae.side==="bottom"||Bt.push(function(){return function(lt,Qe){var bt,Gt=lt._fullLayout,en=Qe._id,Qt=en.charAt(0),Kt=Qe.title.font.size,on=(Qe.title.text.match(b.BR_TAG_ALL)||[]).length;if(Qe.title.hasOwnProperty("standoff"))Qe.side==="bottom"||Qe.side==="right"?bt=Qe._depth+Qe.title.standoff+Kt*Y:Qe.side!=="top"&&Qe.side!=="left"||(bt=Qe._depth+Qe.title.standoff+Kt*(W+on*J));else{var an=tt(Qe);if(Qe.type==="multicategory")bt=Qe._depth;else{var dn=1.5*Kt;an&&(dn=.5*Kt,Qe.ticks==="outside"&&(dn+=Qe.ticklen)),bt=10+dn+(Qe.linewidth?Qe.linewidth-1:0)}an||(bt+=Qt==="x"?Qe.side==="top"?Kt*(Qe.showticklabels?1:0):Kt*(Qe.showticklabels?1.5:.5):Qe.side==="right"?Kt*(Qe.showticklabels?1:.5):Kt*(Qe.showticklabels?.5:0))}var cn,hn,mn,Fn,Rn=H.getPxPosition(lt,Qe);if(Qt==="x"?(hn=Qe._offset+Qe._length/2,mn=Qe.side==="top"?Rn-bt:Rn+bt):(mn=Qe._offset+Qe._length/2,hn=Qe.side==="right"?Rn+bt:Rn-bt,cn={rotate:"-90",offset:0}),Qe.type!=="multicategory"){var un=Qe._selections[Qe._id+"tick"];if(Fn={selection:un,side:Qe.side},un&&un.node()&&un.node().parentNode){var Mn=u.getTranslate(un.node().parentNode);Fn.offsetLeft=Mn.x,Fn.offsetTop=Mn.y}Qe.title.hasOwnProperty("standoff")&&(Fn.pad=0)}return Qe._titleStandoff=bt,a.draw(lt,en+"title",{propContainer:Qe,propName:Qe._name+".title.text",placeholder:Gt._dfltTitle[Qt],avoid:Fn,transform:cn,attributes:{x:hn,y:mn,"text-anchor":"middle"}})}(_e,Ae)}),Bt.push(function(){var lt,Qe,bt,Gt,en=Ae.side.charAt(0),Qt=G[Ae.side].charAt(0),Kt=H.getPxPosition(_e,Ae),on=Jt?Ae.ticklen:0;(Ae.automargin||Nt||Ae._shiftPusher)&&(Ae.type==="multicategory"?lt=Mt("tick2"):(lt=Mt(),Ze==="x"&&en==="b"&&(Ae._depth=Math.max(lt.width>0?lt.bottom-Kt:0,on))));var an=0,dn=0;if(Ae._shiftPusher&&(an=Math.max(on,lt.height>0?en==="l"?Kt-lt.left:lt.right-Kt:0),Ae.title.text!==Ye._dfltTitle[Ze]&&(dn=(Ae._titleStandoff||0)+(Ae._titleScoot||0),en==="l"&&(dn+=je(Ae))),Ae._fullDepth=Math.max(an,dn)),Ae.automargin){Qe={x:0,y:0,r:0,l:0,t:0,b:0};var cn=[0,1],hn=typeof Ae._shift=="number"?Ae._shift:0;if(Ze==="x"){if(en==="b"?Qe[en]=Ae._depth:(Qe[en]=Ae._depth=Math.max(lt.width>0?Kt-lt.top:0,on),cn.reverse()),lt.width>0){var mn=lt.right-(Ae._offset+Ae._length);mn>0&&(Qe.xr=1,Qe.r=mn);var Fn=Ae._offset-lt.left;Fn>0&&(Qe.xl=0,Qe.l=Fn)}}else if(en==="l"?(Ae._depth=Math.max(lt.height>0?Kt-lt.left:0,on),Qe[en]=Ae._depth-hn):(Ae._depth=Math.max(lt.height>0?lt.right-Kt:0,on),Qe[en]=Ae._depth+hn,cn.reverse()),lt.height>0){var Rn=lt.bottom-(Ae._offset+Ae._length);Rn>0&&(Qe.yb=0,Qe.b=Rn);var un=Ae._offset-lt.top;un>0&&(Qe.yt=1,Qe.t=un)}Qe[rt]=Ae.anchor==="free"?Ae.position:Ae._anchorAxis.domain[cn[0]],Ae.title.text!==Ye._dfltTitle[Ze]&&(Qe[en]+=je(Ae)+(Ae.title.standoff||0)),Ae.mirror&&Ae.anchor!=="free"&&((bt={x:0,y:0,r:0,l:0,t:0,b:0})[Qt]=Ae.linewidth,Ae.mirror&&Ae.mirror!==!0&&(bt[Qt]+=on),Ae.mirror===!0||Ae.mirror==="ticks"?bt[rt]=Ae._anchorAxis.domain[cn[1]]:Ae.mirror!=="all"&&Ae.mirror!=="allticks"||(bt[rt]=[Ae._counterDomainMin,Ae._counterDomainMax][cn[1]]))}Nt&&(Gt=T.getComponentMethod("rangeslider","autoMarginOpts")(_e,Ae)),typeof Ae.automargin=="string"&&(Xe(Qe,Ae.automargin),Xe(bt,Ae.automargin)),E.autoMargin(_e,st(Ae),Qe),E.autoMargin(_e,Ot(Ae),bt),E.autoMargin(_e,Je(Ae),Gt)}),k.syncOrAsync(Bt)}}function Mt(lt){var Qe=Fe+(lt||"tick");return mt[Qe]||(mt[Qe]=function(bt,Gt,en){var Qt,Kt,on,an;if(bt._selections[Gt].size())Qt=1/0,Kt=-1/0,on=1/0,an=-1/0,bt._selections[Gt].each(function(){var cn=$e(this),hn=u.bBox(cn.node().parentNode);Qt=Math.min(Qt,hn.top),Kt=Math.max(Kt,hn.bottom),on=Math.min(on,hn.left),an=Math.max(an,hn.right)});else{var dn=H.makeLabelFns(bt,en);Qt=Kt=dn.yFn({dx:0,dy:0,fontSize:0}),on=an=dn.xFn({dx:0,dy:0,fontSize:0})}return{top:Qt,bottom:Kt,left:on,right:an,height:Kt-Qt,width:an-on}}(Ae,Qe,ot)),mt[Qe]}},H.getTickSigns=function(_e,Ae){var Ve=_e._id.charAt(0),He={x:"top",y:"right"}[Ve],We=_e.side===He?1:-1,Pe=[-1,1,We,-We];return(Ae?(_e.minor||{}).ticks:_e.ticks)!=="inside"==(Ve==="x")&&(Pe=Pe.map(function(Ue){return-Ue})),_e.side&&Pe.push({l:-1,t:-1,r:1,b:1}[_e.side.charAt(0)]),Pe},H.makeTransTickFn=function(_e){return _e._id.charAt(0)==="x"?function(Ae){return M(_e._offset+_e.l2p(Ae.x),0)}:function(Ae){return M(0,_e._offset+_e.l2p(Ae.x))}},H.makeTransTickLabelFn=function(_e){var Ae=function(Ze){var rt=Ze.ticklabelposition||"",vt=function(wt){return rt.indexOf(wt)!==-1},Lt=vt("top"),St=vt("left"),It=vt("right"),ot=vt("bottom"),xt=vt("inside"),Ut=ot||St||Lt||It;if(!Ut&&!xt)return[0,0];var Et=Ze.side,mt=Ut?(Ze.tickwidth||0)/2:0,kt=3,ht=Ze.tickfont?Ze.tickfont.size:12;return(ot||Lt)&&(mt+=ht*Y,kt+=(Ze.linewidth||0)/2),(St||It)&&(mt+=(Ze.linewidth||0)/2,kt+=3),xt&&Et==="top"&&(kt-=ht*(1-Y)),(St||Lt)&&(mt=-mt),Et!=="bottom"&&Et!=="right"||(kt=-kt),[Ut?mt:0,xt?kt:0]}(_e),Ve=_e.ticklabelshift||0,He=_e.ticklabelstandoff||0,We=Ae[0],Pe=Ae[1],Ue=_e.range[0]>_e.range[1],Ne=_e.ticklabelposition&&_e.ticklabelposition.indexOf("inside")!==-1,Ye=!Ne;if(Ve&&(Ve*=Ue?-1:1),He){var Fe=_e.side;He*=Ne&&(Fe==="top"||Fe==="left")||Ye&&(Fe==="bottom"||Fe==="right")?1:-1}return _e._id.charAt(0)==="x"?function(Ze){return M(We+_e._offset+_e.l2p(ut(Ze))+Ve,Pe+He)}:function(Ze){return M(Pe+He,We+_e._offset+_e.l2p(ut(Ze))+Ve)}},H.makeTickPath=function(_e,Ae,Ve,He){He||(He={});var We=He.minor;if(We&&!_e.minor)return"";var Pe=He.len!==void 0?He.len:We?_e.minor.ticklen:_e.ticklen,Ue=_e._id.charAt(0),Ne=(_e.linewidth||1)/2;return Ue==="x"?"M0,"+(Ae+Ne*Ve)+"v"+Pe*Ve:"M"+(Ae+Ne*Ve)+",0h"+Pe*Ve},H.makeLabelFns=function(_e,Ae,Ve){var He=_e.ticklabelposition||"",We=function(qt){return He.indexOf(qt)!==-1},Pe=We("top"),Ue=We("left"),Ne=We("right"),Ye=We("bottom")||Ue||Pe||Ne,Fe=We("inside"),Ze=He==="inside"&&_e.ticks==="inside"||!Fe&&_e.ticks==="outside"&&_e.tickson!=="boundaries",rt=0,vt=0,Lt=Ze?_e.ticklen:0;if(Fe?Lt*=-1:Ye&&(Lt=0),Ze&&(rt+=Lt,Ve)){var St=k.deg2rad(Ve);rt=Lt*Math.cos(St)+1,vt=Lt*Math.sin(St)}_e.showticklabels&&(Ze||_e.showline)&&(rt+=.2*_e.tickfont.size);var It,ot,xt,Ut,Et,mt={labelStandoff:rt+=(_e.linewidth||1)/2*(Fe?-1:1),labelShift:vt},kt=0,ht=_e.side,wt=_e._id.charAt(0),Wt=_e.tickangle;if(wt==="x")Ut=(Et=!Fe&&ht==="bottom"||Fe&&ht==="top")?1:-1,Fe&&(Ut*=-1),It=vt*Ut,ot=Ae+rt*Ut,xt=Et?1:-.2,Math.abs(Wt)===90&&(Fe?xt+=W:xt=Wt===-90&&ht==="bottom"?Y:Wt===90&&ht==="top"?W:.5,kt=W/2*(Wt/90)),mt.xFn=function(qt){return qt.dx+It+kt*qt.fontSize},mt.yFn=function(qt){return qt.dy+ot+qt.fontSize*xt},mt.anchorFn=function(qt,Xt){if(Ye){if(Ue)return"end";if(Ne)return"start"}return D(Xt)&&Xt!==0&&Xt!==180?Xt*Ut<0!==Fe?"end":"start":"middle"},mt.heightFn=function(qt,Xt,$t){return Xt<-60||Xt>60?-.5*$t:_e.side==="top"!==Fe?-$t:0};else if(wt==="y"){if(Ut=(Et=!Fe&&ht==="left"||Fe&&ht==="right")?1:-1,Fe&&(Ut*=-1),It=rt,ot=vt*Ut,xt=0,Fe||Math.abs(Wt)!==90||(xt=Wt===-90&&ht==="left"||Wt===90&&ht==="right"?Y:.5),Fe){var jt=D(Wt)?+Wt:0;if(jt!==0){var Jt=k.deg2rad(jt);kt=Math.abs(Math.sin(Jt))*Y*Ut,xt=0}}mt.xFn=function(qt){return qt.dx+Ae-(It+qt.fontSize*xt)*Ut+kt*qt.fontSize},mt.yFn=function(qt){return qt.dy+ot+qt.fontSize*W},mt.anchorFn=function(qt,Xt){return D(Xt)&&Math.abs(Xt)===90?"middle":Et?"end":"start"},mt.heightFn=function(qt,Xt,$t){return _e.side==="right"&&(Xt*=-1),Xt<-30?-$t:Xt<30?-.5*$t:0}}return mt},H.drawTicks=function(_e,Ae,Ve){Ve=Ve||{};var He=Ae._id+"tick",We=[].concat(Ae.minor&&Ae.minor.ticks?Ve.vals.filter(function(Ue){return Ue.minor&&!Ue.noTick}):[]).concat(Ae.ticks?Ve.vals.filter(function(Ue){return!Ue.minor&&!Ue.noTick}):[]),Pe=Ve.layer.selectAll("path."+He).data(We,Tt);Pe.exit().remove(),Pe.enter().append("path").classed(He,1).classed("ticks",1).classed("crisp",Ve.crisp!==!1).each(function(Ue){return t.stroke(L.select(this),Ue.minor?Ae.minor.tickcolor:Ae.tickcolor)}).style("stroke-width",function(Ue){return u.crispRound(_e,Ue.minor?Ae.minor.tickwidth:Ae.tickwidth,1)+"px"}).attr("d",Ve.path).style("display",null),ft(Ae,[P]),Pe.attr("transform",Ve.transFn)},H.drawGrid=function(_e,Ae,Ve){if(Ve=Ve||{},Ae.tickmode!=="sync"){var He=Ae._id+"grid",We=Ae.minor&&Ae.minor.showgrid,Pe=We?Ve.vals.filter(function(xt){return xt.minor}):[],Ue=Ae.showgrid?Ve.vals.filter(function(xt){return!xt.minor}):[],Ne=Ve.counterAxis;if(Ne&&H.shouldShowZeroLine(_e,Ae,Ne))for(var Ye=Ae.tickmode==="array",Fe=0;Fe<Ue.length;Fe++){var Ze=Ue[Fe].x;if(Ye?!Ze:Math.abs(Ze)<Ae.dtick/100){if(Ue=Ue.slice(0,Fe).concat(Ue.slice(Fe+1)),!Ye)break;Fe--}}Ae._gw=u.crispRound(_e,Ae.gridwidth,1);for(var rt=We?u.crispRound(_e,Ae.minor.gridwidth,1):0,vt=Ve.layer,Lt=Ve.minorLayer,St=1;St>=0;St--){var It=St?vt:Lt;if(It){var ot=It.selectAll("path."+He).data(St?Ue:Pe,Tt);ot.exit().remove(),ot.enter().append("path").classed(He,1).classed("crisp",Ve.crisp!==!1),ot.attr("transform",Ve.transFn).attr("d",Ve.path).each(function(xt){return t.stroke(L.select(this),xt.minor?Ae.minor.gridcolor:Ae.gridcolor||"#ddd")}).style("stroke-dasharray",function(xt){return u.dashStyle(xt.minor?Ae.minor.griddash:Ae.griddash,xt.minor?Ae.minor.gridwidth:Ae.gridwidth)}).style("stroke-width",function(xt){return(xt.minor?rt:Ae._gw)+"px"}).style("display",null),typeof Ve.path=="function"&&ot.attr("d",Ve.path)}}ft(Ae,[C,z])}},H.drawZeroLine=function(_e,Ae,Ve){Ve=Ve||Ve;var He=Ae._id+"zl",We=H.shouldShowZeroLine(_e,Ae,Ve.counterAxis),Pe=Ve.layer.selectAll("path."+He).data(We?[{x:0,id:Ae._id}]:[]);Pe.exit().remove(),Pe.enter().append("path").classed(He,1).classed("zl",1).classed("crisp",Ve.crisp!==!1).each(function(){Ve.layer.selectAll("path").sort(function(Ue,Ne){return q(Ue.id,Ne.id)})}),Pe.attr("transform",Ve.transFn).attr("d",Ve.path).call(t.stroke,Ae.zerolinecolor||t.defaultLine).style("stroke-width",u.crispRound(_e,Ae.zerolinewidth,Ae._gw||1)+"px").style("display",null),ft(Ae,[B])},H.drawLabels=function(_e,Ae,Ve){Ve=Ve||{};var He=_e._fullLayout,We=Ae._id,Pe=Ve.cls||We+"tick",Ue=Ve.vals.filter(function(rn){return rn.text}),Ne=Ve.labelFns,Ye=Ve.secondary?0:Ae.tickangle,Fe=(Ae._prevTickAngles||{})[Pe],Ze=Ve.layer.selectAll("g."+Pe).data(Ae.showticklabels?Ue:[],Tt),rt=[];function vt(rn,ln){rn.each(function(gn){var xn=L.select(this),sn=xn.select(".text-math-group"),fn=Ne.anchorFn(gn,ln),bn=Ve.transFn.call(xn.node(),gn)+(D(ln)&&+ln!=0?" rotate("+ln+","+Ne.xFn(gn)+","+(Ne.yFn(gn)-gn.fontSize/2)+")":""),wn=b.lineCount(xn),Sn=J*gn.fontSize,kn=Ne.heightFn(gn,D(ln)?+ln:0,(wn-1)*Sn);if(kn&&(bn+=M(0,kn)),sn.empty()){var Ln=xn.select("text");Ln.attr({transform:bn,"text-anchor":fn}),Ln.style("opacity",1),Ae._adjustTickLabelsOverflow&&Ae._adjustTickLabelsOverflow()}else{var zn=u.bBox(sn.node()).width*{end:-.5,start:.5}[fn];sn.attr("transform",bn+M(zn,0))}})}Ze.enter().append("g").classed(Pe,1).append("text").attr("text-anchor","middle").each(function(rn){var ln=L.select(this),gn=_e._promises.length;ln.call(b.positionText,Ne.xFn(rn),Ne.yFn(rn)).call(u.font,{family:rn.font,size:rn.fontSize,color:rn.fontColor,weight:rn.fontWeight,style:rn.fontStyle,variant:rn.fontVariant,textcase:rn.fontTextcase,lineposition:rn.fontLineposition,shadow:rn.fontShadow}).text(rn.text).call(b.convertToTspans,_e),_e._promises[gn]?rt.push(_e._promises.pop().then(function(){vt(ln,Ye)})):vt(ln,Ye)}),ft(Ae,[R]),Ze.exit().remove(),Ve.repositionOnUpdate&&Ze.each(function(rn){L.select(this).select("text").call(b.positionText,Ne.xFn(rn),Ne.yFn(rn))}),Ae._adjustTickLabelsOverflow=function(){var rn=Ae.ticklabeloverflow;if(rn&&rn!=="allow"){var ln=rn.indexOf("hide")!==-1,gn=Ae._id.charAt(0)==="x",xn=0,sn=gn?_e._fullLayout.width:_e._fullLayout.height;if(rn.indexOf("domain")!==-1){var fn=k.simpleMap(Ae.range,Ae.r2l);xn=Ae.l2p(fn[0])+Ae._offset,sn=Ae.l2p(fn[1])+Ae._offset}var bn=Math.min(xn,sn),wn=Math.max(xn,sn),Sn=Ae.side,kn=1/0,Ln=-1/0;for(var zn in Ze.each(function(Zt){var qe=L.select(this);if(qe.select(".text-math-group").empty()){var nt=u.bBox(qe.node()),_t=0;gn?(nt.right>wn||nt.left<bn)&&(_t=1):(nt.bottom>wn||nt.top+(Ae.tickangle?0:Zt.fontSize/4)<bn)&&(_t=1);var zt=qe.select("text");_t?ln&&zt.style("opacity",0):(zt.style("opacity",1),kn=Sn==="bottom"||Sn==="right"?Math.min(kn,gn?nt.top:nt.left):-1/0,Ln=Sn==="top"||Sn==="left"?Math.max(Ln,gn?nt.bottom:nt.right):1/0)}}),He._plots){var jn=He._plots[zn];if(Ae._id===jn.xaxis._id||Ae._id===jn.yaxis._id){var dt=gn?jn.yaxis:jn.xaxis;dt&&(dt["_visibleLabelMin_"+Ae._id]=kn,dt["_visibleLabelMax_"+Ae._id]=Ln)}}}},Ae._hideCounterAxisInsideTickLabels=function(rn){var ln=Ae._id.charAt(0)==="x",gn=[];for(var xn in He._plots){var sn=He._plots[xn];Ae._id!==sn.xaxis._id&&Ae._id!==sn.yaxis._id||gn.push(ln?sn.yaxis:sn.xaxis)}gn.forEach(function(fn,bn){fn&&tt(fn)&&(rn||[B,z,C,P,R]).forEach(function(wn){var Sn=wn.K==="tick"&&wn.L==="text"&&Ae.ticklabelmode==="period",kn=He._plots[Ae._mainSubplot];(wn.K===B.K?kn.zerolinelayer.selectAll("."+Ae._id+"zl"):wn.K===z.K?kn.minorGridlayer.selectAll("."+Ae._id):wn.K===C.K?kn.gridlayer.selectAll("."+Ae._id):kn[Ae._id.charAt(0)+"axislayer"]).each(function(){var Ln=L.select(this);wn.L&&(Ln=Ln.selectAll(wn.L)),Ln.each(function(zn){var jn=Ae.l2p(Sn?ut(zn):zn.x)+Ae._offset,dt=L.select(this);jn<Ae["_visibleLabelMax_"+fn._id]&&jn>Ae["_visibleLabelMin_"+fn._id]?dt.style("display","none"):wn.K!=="tick"||bn||dt.style("display",null)})})})})},vt(Ze,Fe+1?Fe:Ye);var Lt=null;Ae._selections&&(Ae._selections[Pe]=Ze);var St=[function(){return rt.length&&Promise.all(rt)}];Ae.automargin&&He._redrawFromAutoMarginCount&&Fe===90?(Lt=Fe,St.push(function(){vt(Ze,Fe)})):St.push(function(){if(vt(Ze,Ye),Ue.length&&Ae.autotickangles&&(Ae.type!=="log"||String(Ae.dtick).charAt(0)!=="D")){Lt=Ae.autotickangles[0];var rn,ln=0,gn=[],xn=1;Ze.each(function(Mt){ln=Math.max(ln,Mt.fontSize);var lt=Ae.l2p(Mt.x),Qe=$e(this),bt=u.bBox(Qe.node());xn=Math.max(xn,b.lineCount(Qe)),gn.push({top:0,bottom:10,height:10,left:lt-bt.width/2,right:lt+bt.width/2+2,width:bt.width+2})});var sn=(Ae.tickson==="boundaries"||Ae.showdividers)&&!Ve.secondary,fn=Ue.length,bn=Math.abs((Ue[fn-1].x-Ue[0].x)*Ae._m)/(fn-1),wn=sn?bn/2:bn,Sn=sn?Ae.ticklen:1.25*ln*xn,kn=wn/Math.sqrt(Math.pow(wn,2)+Math.pow(Sn,2)),Ln=Ae.autotickangles.map(function(Mt){return Mt*Math.PI/180}),zn=Ln.find(function(Mt){return Math.abs(Math.cos(Mt))<=kn});zn===void 0&&(zn=Ln.reduce(function(Mt,lt){return Math.abs(Math.cos(Mt))<Math.abs(Math.cos(lt))?Mt:lt},Ln[0]));var jn=zn*(180/Math.PI);if(sn){var dt=2;for(Ae.ticks&&(dt+=Ae.tickwidth/2),rn=0;rn<gn.length;rn++){var Zt=Ue[rn].xbnd,qe=gn[rn];if(Zt[0]!==null&&qe.left-Ae.l2p(Zt[0])<dt||Zt[1]!==null&&Ae.l2p(Zt[1])-qe.right<dt){Lt=jn;break}}}else{var nt=Ae.ticklabelposition||"",_t=function(Mt){return nt.indexOf(Mt)!==-1},zt=_t("top"),Bt=_t("left"),Vt=_t("right"),Nt=_t("bottom")||Bt||zt||Vt?(Ae.tickwidth||0)+6:0;for(rn=0;rn<gn.length-1;rn++)if(k.bBoxIntersect(gn[rn],gn[rn+1],Nt)){Lt=jn;break}}Lt&&vt(Ze,Lt)}}),Ae._tickAngles&&St.push(function(){Ae._tickAngles[Pe]=Lt===null?D(Ye)?Ye:0:Lt});var It=function(){var rn=0,ln=0;return Ze.each(function(gn,xn){var sn,fn=$e(this);fn.select(".text-math-group").empty()&&(Ae._vals[xn]&&(sn=Ae._vals[xn].bb||u.bBox(fn.node()),Ae._vals[xn].bb=sn),rn=Math.max(rn,sn.width),ln=Math.max(ln,sn.height))}),{labelsMaxW:rn,labelsMaxH:ln}},ot=Ae._anchorAxis;if(ot&&(ot.autorange||ot.insiderange)&&tt(Ae)&&!Q(He,Ae._id)&&(He._insideTickLabelsUpdaterange||(He._insideTickLabelsUpdaterange={}),ot.autorange&&(He._insideTickLabelsUpdaterange[ot._name+".autorange"]=ot.autorange,St.push(It)),ot.insiderange)){var xt=It(),Ut=Ae._id.charAt(0)==="y"?xt.labelsMaxW:xt.labelsMaxH;Ut+=6,Ae.ticklabelposition==="inside"&&(Ut+=Ae.ticklen||0);var Et=Ae.side==="right"||Ae.side==="top"?1:-1,mt=Et===1?1:0,kt=Et===1?0:1,ht=[];ht[kt]=ot.range[kt];var wt=ot.range,Wt=ot.r2p(wt[mt]),jt=ot.r2p(wt[kt]),Jt=He._insideTickLabelsUpdaterange[ot._name+".range"];if(Jt){var qt=ot.r2p(Jt[mt]),Xt=ot.r2p(Jt[kt]),$t=Et*(Ae._id.charAt(0)==="y"?1:-1);$t*Wt<$t*qt&&(Wt=qt,ht[mt]=wt[mt]=Jt[mt]),$t*jt>$t*Xt&&(jt=Xt,ht[kt]=wt[kt]=Jt[kt])}var pn=Math.abs(jt-Wt);pn-Ut>0?Ut*=1+Ut/(pn-=Ut):Ut=0,Ae._id.charAt(0)!=="y"&&(Ut=-Ut),ht[mt]=ot.p2r(ot.r2p(wt[mt])+Et*Ut),ot.autorange==="min"||ot.autorange==="max reversed"?(ht[0]=null,ot._rangeInitial0=void 0,ot._rangeInitial1=void 0):ot.autorange!=="max"&&ot.autorange!=="min reversed"||(ht[1]=null,ot._rangeInitial0=void 0,ot._rangeInitial1=void 0),He._insideTickLabelsUpdaterange[ot._name+".range"]=ht}var An=k.syncOrAsync(St);return An&&An.then&&_e._promises.push(An),An},H.getPxPosition=function(_e,Ae){var Ve,He=_e._fullLayout._size,We=Ae._id.charAt(0),Pe=Ae.side;return Ae.anchor!=="free"?Ve=Ae._anchorAxis:We==="x"?Ve={_offset:He.t+(1-(Ae.position||0))*He.h,_length:0}:We==="y"&&(Ve={_offset:He.l+(Ae.position||0)*He.w+Ae._shift,_length:0}),Pe==="top"||Pe==="left"?Ve._offset:Pe==="bottom"||Pe==="right"?Ve._offset+Ve._length:void 0},H.shouldShowZeroLine=function(_e,Ae,Ve){var He=k.simpleMap(Ae.range,Ae.r2l);return He[0]*He[1]<=0&&Ae.zeroline&&(Ae.type==="linear"||Ae.type==="-")&&!(Ae.rangebreaks&&Ae.maskBreaks(0)===I)&&(Le(Ae,0)||!function(We,Pe,Ue,Ne){var Ye=Ue._mainAxis;if(Ye){var Fe=We._fullLayout,Ze=Pe._id.charAt(0),rt=H.counterLetter(Pe._id),vt=Pe._offset+(Math.abs(Ne[0])<Math.abs(Ne[1])==(Ze==="x")?0:Pe._length),Lt=Fe._plots[Ue._mainSubplot];if(!(Lt.mainplotinfo||Lt).overlays.length)return xt(Ue);for(var St=H.list(We,rt),It=0;It<St.length;It++){var ot=St[It];if(ot._mainAxis===Ye&&xt(ot))return!0}}function xt(Ut){if(!Ut.showline||!Ut.linewidth)return!1;var Et=Math.max((Ut.linewidth+Pe.zerolinewidth)/2,1);function mt(wt){return typeof wt=="number"&&Math.abs(wt-vt)<Et}if(mt(Ut._mainLinePosition)||mt(Ut._mainMirrorPosition))return!0;var kt=Ut._linepositions||{};for(var ht in kt)if(mt(kt[ht][0])||mt(kt[ht][1]))return!0}}(_e,Ae,Ve,He)||function(We,Pe){for(var Ue=We._fullData,Ne=Pe._mainSubplot,Ye=Pe._id.charAt(0),Fe=0;Fe<Ue.length;Fe++){var Ze=Ue[Fe];if(Ze.visible===!0&&Ze.xaxis+Ze.yaxis===Ne&&(T.traceIs(Ze,"bar-like")&&Ze.orientation==={x:"h",y:"v"}[Ye]||Ze.fill&&Ze.fill.charAt(Ze.fill.length-1)===Ye))return!0}return!1}(_e,Ae))},H.clipEnds=function(_e,Ae){return Ae.filter(function(Ve){return Le(_e,Ve.x)})},H.allowAutoMargin=function(_e){for(var Ae=H.list(_e,"",!0),Ve=0;Ve<Ae.length;Ve++){var He=Ae[Ve];He.automargin&&(E.allowAutoMargin(_e,st(He)),He.mirror&&E.allowAutoMargin(_e,Ot(He))),T.getComponentMethod("rangeslider","isVisible")(He)&&E.allowAutoMargin(_e,Je(He))}},H.swap=function(_e,Ae){for(var Ve=function(We,Pe){var Ue,Ne,Ye=[];for(Ue=0;Ue<Pe.length;Ue++){var Fe=[],Ze=We._fullData[Pe[Ue]].xaxis,rt=We._fullData[Pe[Ue]].yaxis;if(Ze&&rt){for(Ne=0;Ne<Ye.length;Ne++)Ye[Ne].x.indexOf(Ze)===-1&&Ye[Ne].y.indexOf(rt)===-1||Fe.push(Ne);if(Fe.length){var vt,Lt=Ye[Fe[0]];if(Fe.length>1)for(Ne=1;Ne<Fe.length;Ne++)vt=Ye[Fe[Ne]],at(Lt.x,vt.x),at(Lt.y,vt.y);at(Lt.x,[Ze]),at(Lt.y,[rt])}else Ye.push({x:[Ze],y:[rt]})}}return Ye}(_e,Ae),He=0;He<Ve.length;He++)gt(_e,Ve[He].x,Ve[He].y)}},9666:function($,F,m){var L=m(10721),D=m(34809),E=m(63821).BADNUM,T=D.isArrayOrTypedArray,k=D.isDateTime,M=D.cleanNumber,b=Math.round;function a(u,i){return i?L(u):typeof u=="number"}function t(u){return Math.max(1,(u-1)/1e3)}$.exports=function(u,i,l){var d=u,v=l.noMultiCategory;if(T(d)&&!d.length)return"-";if(!v&&function(f){return T(f[0])&&T(f[1])}(d))return"multicategory";if(v&&Array.isArray(d[0])){for(var y=[],p=0;p<d.length;p++)if(T(d[p]))for(var c=0;c<d[p].length;c++)y.push(d[p][c]);d=y}if(function(f,n){for(var o=f.length,s=t(o),r=0,g=0,e={},h=0;h<o;h+=s){var _=f[b(h)],w=String(_);e[w]||(e[w]=1,k(_,n)&&r++,L(_)&&g++)}return r>2*g}(d,i))return"date";var x=l.autotypenumbers!=="strict";return function(f,n){for(var o=f.length,s=t(o),r=0,g=0,e={},h=0;h<o;h+=s){var _=f[b(h)],w=String(_);if(!e[w]){e[w]=1;var S=typeof _;S==="boolean"?g++:(n?M(_)!==E:S==="number")?r++:S==="string"&&g++}}return g>2*r}(d,x)?"category":function(f,n){for(var o=f.length,s=0;s<o;s++)if(a(f[s],n))return!0;return!1}(d,x)?"linear":"-"}},97655:function($,F,m){var L=m(10721),D=m(33626),E=m(34809),T=m(78032),k=m(59008),M=m(25829),b=m(22777),a=m(87433),t=m(12036),u=m(54616),i=m(46473),l=m(97405),d=m(90259),v=m(19091),y=m(54826).WEEKDAY_PATTERN,p=m(54826).HOUR_PATTERN;function c(n,o,s){function r(A,I){return E.coerce(n,o,M.rangebreaks,A,I)}if(r("enabled")){var g=r("bounds");if(g&&g.length>=2){var e,h,_="";if(g.length===2){for(e=0;e<2;e++)if(h=f(g[e])){_=y;break}}var w=r("pattern",_);if(w===y)for(e=0;e<2;e++)(h=f(g[e]))&&(o.bounds[e]=g[e]=h-1);if(w)for(e=0;e<2;e++)switch(h=g[e],w){case y:if(!L(h)||(h=+h)!==Math.floor(h)||h<0||h>=7)return void(o.enabled=!1);o.bounds[e]=g[e]=h;break;case p:if(!L(h)||(h=+h)<0||h>24)return void(o.enabled=!1);o.bounds[e]=g[e]=h}if(s.autorange===!1){var S=s.range;if(S[0]<S[1]){if(g[0]<S[0]&&g[1]>S[1])return void(o.enabled=!1)}else if(g[0]>S[0]&&g[1]<S[1])return void(o.enabled=!1)}}else{var O=r("values");if(!O||!O.length)return void(o.enabled=!1);r("dvalue")}}}$.exports=function(n,o,s,r,g){var e,h=r.letter,_=r.font||{},w=r.splomStash||{},S=s("visible",!r.visibleDflt),O=o._template||{},A=o.type||O.type||"-";A==="date"&&(D.getComponentMethod("calendars","handleDefaults")(n,o,"calendar",r.calendar),r.noTicklabelmode||(e=s("ticklabelmode"))),r.noTicklabelindex||A!=="date"&&A!=="linear"||s("ticklabelindex");var I="";r.noTicklabelposition&&A!=="multicategory"||(I=E.coerce(n,o,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:e==="period"?["outside","inside"]:h==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),r.noTicklabeloverflow||s("ticklabeloverflow",I.indexOf("inside")!==-1?"hide past domain":A==="category"||A==="multicategory"?"allow":"hide past div"),v(o,g),d(n,o,s,r),i(n,o,s,r),A==="category"||r.noHover||s("hoverformat");var B=s("color"),C=B!==M.color.dflt?B:_.color,z=w.label||g._dfltTitle[h];if(u(n,o,s,A,r),!S)return o;s("title.text",z),E.coerceFont(s,"title.font",_,{overrideDflt:{size:E.bigFont(_.size),color:C}}),b(n,o,s,A);var P=r.hasMinor;if(P&&(T.newContainer(o,"minor"),b(n,o,s,A,{isMinor:!0})),t(n,o,s,A,r),a(n,o,s,r),P){var R=r.isMinor;r.isMinor=!0,a(n,o,s,r),r.isMinor=R}l(n,o,s,{dfltColor:B,bgColor:r.bgColor,showGrid:r.showGrid,hasMinor:P,attributes:M}),!P||o.minor.ticks||o.minor.showgrid||delete o.minor,(o.showline||o.ticks)&&s("mirror");var N,j=A==="multicategory";if(r.noTickson||A!=="category"&&!j||!o.ticks&&!o.showgrid||(j&&(N="boundaries"),s("tickson",N)==="boundaries"&&delete o.ticklabelposition),j&&s("showdividers")&&(s("dividercolor"),s("dividerwidth")),A==="date")if(k(n,o,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:c}),o.rangebreaks.length){for(var W=0;W<o.rangebreaks.length;W++)if(o.rangebreaks[W].pattern===y){o._hasDayOfWeekBreaks=!0;break}if(v(o,g),g._has("scattergl")||g._has("splom"))for(var Y=0;Y<r.data.length;Y++){var J=r.data[Y];J.type!=="scattergl"&&J.type!=="splom"||(J.visible=!1,E.warn(J.type+" traces do not work on axes with rangebreaks. Setting trace "+J.index+" to `visible: false`."))}}else delete o.rangebreaks;return o};var x={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function f(n){if(typeof n=="string")return x[n.substr(0,3).toLowerCase()]}},80712:function($,F,m){var L=m(87296),D=L.FORMAT_LINK,E=L.DATE_FORMAT_LINK;function T(M,b){return["Sets the "+M+" formatting rule"+(b?"for `"+b+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+D+"."].join(" ")}function k(M,b){return T(M,b)+[" And for dates see: "+E+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}$.exports={axisHoverFormat:function(M,b){return{valType:"string",dflt:"",editType:"none",description:(b?T:k)("hover text",M)+["By default the values are formatted using "+(b?"generic number format":"`"+M+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:T,descriptionWithDates:k}},5975:function($,F,m){var L=m(33626),D=m(54826);function E(T,k){if(k&&k.length){for(var M=0;M<k.length;M++)if(k[M][T])return!0}return!1}F.id2name=function(T){if(typeof T=="string"&&T.match(D.AX_ID_PATTERN)){var k=T.split(" ")[0].substr(1);return k==="1"&&(k=""),T.charAt(0)+"axis"+k}},F.name2id=function(T){if(T.match(D.AX_NAME_PATTERN)){var k=T.substr(5);return k==="1"&&(k=""),T.charAt(0)+k}},F.cleanId=function(T,k,M){var b=/( domain)$/.test(T);if(typeof T=="string"&&T.match(D.AX_ID_PATTERN)&&(!k||T.charAt(0)===k)&&(!b||M)){var a=T.split(" ")[0].substr(1).replace(/^0+/,"");return a==="1"&&(a=""),T.charAt(0)+a+(b&&M?" domain":"")}},F.list=function(T,k,M){var b=T._fullLayout;if(!b)return[];var a,t=F.listIds(T,k),u=new Array(t.length);for(a=0;a<t.length;a++){var i=t[a];u[a]=b[i.charAt(0)+"axis"+i.substr(1)]}if(!M){var l=b._subplots.gl3d||[];for(a=0;a<l.length;a++){var d=b[l[a]];k?u.push(d[k+"axis"]):u.push(d.xaxis,d.yaxis,d.zaxis)}}return u},F.listIds=function(T,k){var M=T._fullLayout;if(!M)return[];var b=M._subplots;return k?b[k+"axis"]:b.xaxis.concat(b.yaxis)},F.getFromId=function(T,k,M){var b=T._fullLayout;return k=k===void 0||typeof k!="string"?k:k.replace(" domain",""),M==="x"?k=k.replace(/y[0-9]*/,""):M==="y"&&(k=k.replace(/x[0-9]*/,"")),b[F.id2name(k)]},F.getFromTrace=function(T,k,M){var b=T._fullLayout,a=null;if(L.traceIs(k,"gl3d")){var t=k.scene;t.substr(0,5)==="scene"&&(a=b[t][M+"axis"])}else a=F.getFromId(T,k[M+"axis"]||M);return a},F.idSort=function(T,k){var M=T.charAt(0),b=k.charAt(0);return M!==b?M>b?1:-1:+(T.substr(1)||1)-+(k.substr(1)||1)},F.ref2id=function(T){return!!/^[xyz]/.test(T)&&T.split(" ")[0]},F.isLinked=function(T,k){return E(k,T._axisMatchGroups)||E(k,T._axisConstraintGroups)}},46473:function($,F,m){var L=m(87800).isTypedArraySpec;$.exports=function(D,E,T,k){if(E.type==="category"){var M,b=D.categoryarray,a=Array.isArray(b)&&b.length>0||L(b);a&&(M="array");var t,u=T("categoryorder",M);u==="array"&&(t=T("categoryarray")),a||u!=="array"||(u=E.categoryorder="trace"),u==="trace"?E._initialCategories=[]:u==="array"?E._initialCategories=t.slice():(t=function(i,l){var d,v,y,p=l.dataAttr||i._id.charAt(0),c={};if(l.axData)d=l.axData;else for(d=[],v=0;v<l.data.length;v++){var x=l.data[v];x[p+"axis"]===i._id&&d.push(x)}for(v=0;v<d.length;v++){var f=d[v][p];for(y=0;y<f.length;y++){var n=f[y];n!=null&&(c[n]=1)}}return Object.keys(c)}(E,k).sort(),u==="category ascending"?E._initialCategories=t:u==="category descending"&&(E._initialCategories=t.reverse()))}}},68599:function($,F,m){var L=m(10721),D=m(34809),E=m(63821),T=E.ONEDAY,k=E.ONEWEEK;F.dtick=function(M,b){var a=b==="log",t=b==="date",u=b==="category",i=t?T:1;if(!M)return i;if(L(M))return(M=Number(M))<=0?i:u?Math.max(1,Math.round(M)):t?Math.max(.1,M):M;if(typeof M!="string"||!t&&!a)return i;var l=M.charAt(0),d=M.substr(1);return(d=L(d)?Number(d):0)<=0||!(t&&l==="M"&&d===Math.round(d)||a&&l==="L"||a&&l==="D"&&(d===1||d===2))?i:M},F.tick0=function(M,b,a,t){return b==="date"?D.cleanDate(M,D.dateTick0(a,t%k==0?1:0)):t!=="D1"&&t!=="D2"?L(M)?Number(M):0:void 0}},54826:function($,F,m){var L=m(90694).counter;$.exports={idRegex:{x:L("x","( domain)?"),y:L("y","( domain)?")},attrRegex:L("[xy]axis"),xAxisMatch:L("xaxis"),yAxisMatch:L("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}},84391:function($,F,m){var L=m(34809),D=m(32919),E=m(5975).id2name,T=m(25829),k=m(67611),M=m(19091),b=m(63821).ALMOST_EQUAL,a=m(4530).FROM_BL;function t(p,c,x){var f=x.axIds,n=x.layoutOut,o=x.hasImage,s=n._axisConstraintGroups,r=n._axisMatchGroups,g=c._id,e=g.charAt(0),h=((n._splomAxes||{})[e]||{})[g]||{},_=c._id,w=_.charAt(0)==="x";function S(G,H){return L.coerce(p,c,T,G,H)}c._matchGroup=null,c._constraintGroup=null,S("constrain",o?"domain":"range"),L.coerce(p,c,{constraintoward:{valType:"enumerated",values:w?["left","center","right"]:["bottom","middle","top"],dflt:w?"center":"middle"}},"constraintoward");var O,A,I=c.type,B=[];for(O=0;O<f.length;O++)(A=f[O])!==_&&n[E(A)].type===I&&B.push(A);var C=i(s,_);if(C){var z=[];for(O=0;O<B.length;O++)C[A=B[O]]||z.push(A);B=z}var P,R,N=B.length;N&&(p.matches||h.matches)&&(P=L.coerce(p,c,{matches:{valType:"enumerated",values:B,dflt:B.indexOf(h.matches)!==-1?h.matches:void 0}},"matches"));var j=o&&!w?c.anchor:void 0;if(N&&!P&&(p.scaleanchor||j)&&(R=L.coerce(p,c,{scaleanchor:{valType:"enumerated",values:B.concat([!1])}},"scaleanchor",j)),P){c._matchGroup=l(r,_,P,1);var W=n[E(P)],Y=u(n,c)/u(n,W);w!==(P.charAt(0)==="x")&&(Y=(w?"x":"y")+Y),l(s,_,P,Y)}else p.matches&&f.indexOf(p.matches)!==-1&&L.warn("ignored "+c._name+'.matches: "'+p.matches+'" to avoid an infinite loop');if(R){var J=S("scaleratio");J||(J=c.scaleratio=1),l(s,_,R,J)}else p.scaleanchor&&f.indexOf(p.scaleanchor)!==-1&&L.warn("ignored "+c._name+'.scaleanchor: "'+p.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function u(p,c){var x=c.domain;return x||(x=p[E(c.overlaying)].domain),x[1]-x[0]}function i(p,c){for(var x=0;x<p.length;x++)if(p[x][c])return p[x];return null}function l(p,c,x,f){var n,o,s,r,g,e=i(p,c);e===null?((e={})[c]=1,g=p.length,p.push(e)):g=p.indexOf(e);var h=Object.keys(e);for(n=0;n<p.length;n++)if(s=p[n],n!==g&&s[x]){var _=s[x];for(o=0;o<h.length;o++)s[r=h[o]]=d(_,d(f,e[r]));return void p.splice(g,1)}if(f!==1)for(o=0;o<h.length;o++){var w=h[o];e[w]=d(f,e[w])}e[x]=1}function d(p,c){var x,f,n="",o="";typeof p=="string"&&(x=(n=p.match(/^[xy]*/)[0]).length,p=+p.substr(x)),typeof c=="string"&&(f=(o=c.match(/^[xy]*/)[0]).length,c=+c.substr(f));var s=p*c;return x||f?x&&f&&n.charAt(0)!==o.charAt(0)?x===f?s:(x>f?n.substr(f):o.substr(x))+s:n+o+p*c:s}function v(p,c){for(var x=c._size,f=x.h/x.w,n={},o=Object.keys(p),s=0;s<o.length;s++){var r=o[s],g=p[r];if(typeof g=="string"){var e=g.match(/^[xy]*/)[0],h=e.length;g=+g.substr(h);for(var _=e.charAt(0)==="y"?f:1/f,w=0;w<h;w++)g*=_}n[r]=g}return n}function y(p,c){var x=p._inputDomain,f=a[p.constraintoward],n=x[0]+(x[1]-x[0])*f;p.domain=p._input.domain=[n+(x[0]-n)/c,n+(x[1]-n)/c],p.setScale()}F.handleDefaults=function(p,c,x){var f,n,o,s,r,g,e,h,_=x.axIds,w=x.axHasImage,S=c._axisConstraintGroups=[],O=c._axisMatchGroups=[];for(f=0;f<_.length;f++)t(r=p[s=E(_[f])],g=c[s],{axIds:_,layoutOut:c,hasImage:w[s]});function A(W,Y){for(f=0;f<W.length;f++)for(o in n=W[f])c[E(o)][Y]=n}for(A(O,"_matchGroup"),f=0;f<S.length;f++)for(o in n=S[f])if((g=c[E(o)]).fixedrange){for(var I in n){var B=E(I);(p[B]||{}).fixedrange===!1&&L.warn("fixedrange was specified as false for axis "+B+" but was overridden because another axis in its constraint group has fixedrange true"),c[B].fixedrange=!0}break}for(f=0;f<S.length;){for(o in n=S[f]){(g=c[E(o)])._matchGroup&&Object.keys(g._matchGroup).length===Object.keys(n).length&&(S.splice(f,1),f--);break}f++}A(S,"_constraintGroup");var C=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],z=!1,P=!1;function R(){h=g[e],e==="rangebreaks"&&(P=g._hasDayOfWeekBreaks)}for(f=0;f<O.length;f++){n=O[f];for(var N=0;N<C.length;N++){var j;for(o in e=C[N],h=null,n)if(r=p[s=E(o)],g=c[s],e in g){if(!g.matches&&(j=g,e in r)){R();break}h===null&&e in r&&R()}if(e==="range"&&h&&r.range&&r.range.length===2&&r.range[0]!==null&&r.range[1]!==null&&(z=!0),e==="autorange"&&h===null&&z&&(h=!1),h===null&&e in j&&(h=j[e]),h!==null)for(o in n)(g=c[E(o)])[e]=e==="range"?h.slice():h,e==="rangebreaks"&&(g._hasDayOfWeekBreaks=P,M(g,c))}}},F.enforce=function(p){var c,x,f,n,o,s,r,g,e=p._fullLayout,h=e._axisConstraintGroups||[];for(c=0;c<h.length;c++){f=v(h[c],e);var _=Object.keys(f),w=1/0,S=0,O=1/0,A={},I={},B=!1;for(x=0;x<_.length;x++)I[n=_[x]]=o=e[E(n)],o._inputDomain?o.domain=o._inputDomain.slice():o._inputDomain=o.domain.slice(),o._inputRange||(o._inputRange=o.range.slice()),o.setScale(),A[n]=s=Math.abs(o._m)/f[n],w=Math.min(w,s),o.constrain!=="domain"&&o._constraintShrinkable||(O=Math.min(O,s)),delete o._constraintShrinkable,S=Math.max(S,s),o.constrain==="domain"&&(B=!0);if(!(w>b*S)||B){for(x=0;x<_.length;x++)if(s=A[n=_[x]],r=(o=I[n]).constrain,s!==O||r==="domain")if(g=s/O,r==="range")k(o,g);else{var C=o._inputDomain,z=(o.domain[1]-o.domain[0])/(C[1]-C[0]),P=(o.r2l(o.range[1])-o.r2l(o.range[0]))/(o.r2l(o._inputRange[1])-o.r2l(o._inputRange[0]));if((g/=z)*P<1){o.domain=o._input.domain=C.slice(),k(o,g);continue}if(P<1&&(o.range=o._input.range=o._inputRange.slice(),g*=P),o.autorange){var R=o.r2l(o.range[0]),N=o.r2l(o.range[1]),j=(R+N)/2,W=j,Y=j,J=Math.abs(N-j),G=j-J*g*1.0001,H=j+J*g*1.0001,U=D.makePadFn(e,o,0),Z=D.makePadFn(e,o,1);y(o,g);var q,Q,ne=Math.abs(o._m),ie=D.concatExtremes(p,o),le=ie.min,fe=ie.max;for(Q=0;Q<le.length;Q++)(q=le[Q].val-U(le[Q])/ne)>G&&q<W&&(W=q);for(Q=0;Q<fe.length;Q++)(q=fe[Q].val+Z(fe[Q])/ne)<H&&q>Y&&(Y=q);g/=(Y-W)/(2*J),W=o.l2r(W),Y=o.l2r(Y),o.range=o._input.range=R<N?[W,Y]:[Y,W]}y(o,g)}}}},F.getAxisGroup=function(p,c){for(var x=p._axisMatchGroups,f=0;f<x.length;f++)if(x[f][c])return"g"+f;return c},F.clean=function(p,c){if(c._inputDomain){for(var x=!1,f=c._id,n=p._fullLayout._axisConstraintGroups,o=0;o<n.length;o++)if(n[o][f]){x=!0;break}x&&c.constrain==="domain"||(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}}},51680:function($,F,m){var L=m(45568),D=m(34809),E=D.numberFormat,T=m(65657),k=m(74043),M=m(33626),b=D.strTranslate,a=m(30635),t=m(78766),u=m(62203),i=m(32141),l=m(29714),d=m(27983),v=m(14751),y=m(70414),p=y.selectingOrDrawing,c=y.freeMode,x=m(4530).FROM_TL,f=m(34823),n=m(71817).redrawReglTraces,o=m(44122),s=m(5975).getFromId,r=m(44844).prepSelect,g=m(44844).clearOutline,e=m(44844).selectOnClick,h=m(67611),_=m(54826),w=_.MINDRAG,S=_.MINZOOM,O=!0;function A(q,Q,ne,ie){var le=D.ensureSingle(q.draglayer,Q,ne,function(fe){fe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",q.id)});return le.call(d,ie),le.node()}function I(q,Q,ne,ie,le,fe,pe){var me=A(q,"rect",Q,ne);return L.select(me).call(u.setRect,ie,le,fe,pe),me}function B(q,Q){for(var ne=0;ne<q.length;ne++)if(!q[ne].fixedrange)return Q;return""}function C(q,Q,ne,ie,le){for(var fe=0;fe<q.length;fe++){var pe=q[fe];if(!pe.fixedrange)if(pe.rangebreaks){var me=pe._id.charAt(0)==="y",ke=me?1-Q:Q,ve=me?1-ne:ne;ie[pe._name+".range[0]"]=pe.l2r(pe.p2l(ke*pe._length)),ie[pe._name+".range[1]"]=pe.l2r(pe.p2l(ve*pe._length))}else{var he=pe._rl[0],de=pe._rl[1]-he;ie[pe._name+".range[0]"]=pe.l2r(he+de*Q),ie[pe._name+".range[1]"]=pe.l2r(he+de*ne)}}if(le&&le.length){var X=(Q+(1-ne))/2;C(le,X,1-X,ie,[])}}function z(q,Q){for(var ne=0;ne<q.length;ne++){var ie=q[ne];if(!ie.fixedrange){if(ie.rangebreaks){var le=ie._length,fe=(ie.p2l(0+Q)-ie.p2l(0)+(ie.p2l(le+Q)-ie.p2l(le)))/2;ie.range=[ie.l2r(ie._rl[0]-fe),ie.l2r(ie._rl[1]-fe)]}else ie.range=[ie.l2r(ie._rl[0]-Q/ie._m),ie.l2r(ie._rl[1]-Q/ie._m)];ie.limitRange&&ie.limitRange()}}}function P(q){return 1-(q>=0?Math.min(q,.9):1/(1/Math.max(q,-.3)+3.222))}function R(q,Q,ne,ie,le){return q.append("path").attr("class","zoombox").style({fill:Q>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",b(ne,ie)).attr("d",le+"Z")}function N(q,Q,ne){return q.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",b(Q,ne)).attr("d","M0,0Z")}function j(q,Q,ne,ie,le,fe){q.attr("d",ie+"M"+ne.l+","+ne.t+"v"+ne.h+"h"+ne.w+"v-"+ne.h+"h-"+ne.w+"Z"),W(q,Q,le,fe)}function W(q,Q,ne,ie){ne||(q.transition().style("fill",ie>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Q.transition().style("opacity",1).duration(200))}function Y(q){L.select(q).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function J(q){O&&q.data&&q._context.showTips&&(D.notifier(D._(q,"Double-click to zoom back out"),"long"),O=!1)}function G(q){var Q=Math.floor(Math.min(q.b-q.t,q.r-q.l,S)/2);return"M"+(q.l-3.5)+","+(q.t-.5+Q)+"h3v"+-Q+"h"+Q+"v-3h-"+(Q+3)+"ZM"+(q.r+3.5)+","+(q.t-.5+Q)+"h-3v"+-Q+"h"+-Q+"v-3h"+(Q+3)+"ZM"+(q.r+3.5)+","+(q.b+.5-Q)+"h-3v"+Q+"h"+-Q+"v3h"+(Q+3)+"ZM"+(q.l-3.5)+","+(q.b+.5-Q)+"h3v"+Q+"h"+Q+"v3h-"+(Q+3)+"Z"}function H(q,Q,ne,ie,le){for(var fe,pe,me,ke,ve=!1,he={},de={},X=(le||{}).xaHash,ae=(le||{}).yaHash,K=0;K<Q.length;K++){var ge=Q[K];for(fe in ne)if(ge[fe]){for(me in ge)le&&(X[me]||ae[me])||(me.charAt(0)==="x"?ne:ie)[me]||(he[me]=fe);for(pe in ie)le&&(X[pe]||ae[pe])||!ge[pe]||(ve=!0)}for(pe in ie)if(ge[pe])for(ke in ge)le&&(X[ke]||ae[ke])||(ke.charAt(0)==="x"?ne:ie)[ke]||(de[ke]=pe)}ve&&(D.extendFlat(he,de),de={});var re={},ue=[];for(me in he){var we=s(q,me);ue.push(we),re[we._id]=we}var Te={},ee=[];for(ke in de){var se=s(q,ke);ee.push(se),Te[se._id]=se}return{xaHash:re,yaHash:Te,xaxes:ue,yaxes:ee,xLinks:he,yLinks:de,isSubplotConstrained:ve}}function U(q,Q){if(k){var ne=q.onwheel!==void 0?"wheel":"mousewheel";q._onwheel&&q.removeEventListener(ne,q._onwheel),q._onwheel=Q,q.addEventListener(ne,Q,{passive:!1})}else q.onwheel!==void 0?q.onwheel=Q:q.onmousewheel!==void 0?q.onmousewheel=Q:q.isAddedWheelEvent||(q.isAddedWheelEvent=!0,q.addEventListener("wheel",Q,{passive:!1}))}function Z(q){var Q=[];for(var ne in q)Q.push(q[ne]);return Q}$.exports={makeDragBox:function(q,Q,ne,ie,le,fe,pe,me){var ke,ve,he,de,X,ae,K,ge,re,ue,we,Te,ee,se,ce,be,Ee,Se,De,Ge,Xe,Ke,ut,Tt=q._fullLayout._zoomlayer,je=pe+me==="nsew",Le=(pe+me).length===1;function $e(){if(ke=Q.xaxis,ve=Q.yaxis,re=ke._length,ue=ve._length,K=ke._offset,ge=ve._offset,(he={})[ke._id]=ke,(de={})[ve._id]=ve,pe&&me)for(var mt=Q.overlays,kt=0;kt<mt.length;kt++){var ht=mt[kt].xaxis;he[ht._id]=ht;var wt=mt[kt].yaxis;de[wt._id]=wt}X=Z(he),ae=Z(de),ee=B(X,me),se=B(ae,pe),ce=!se&&!ee,Te=H(q,q._fullLayout._axisMatchGroups,he,de);var Wt=(we=H(q,q._fullLayout._axisConstraintGroups,he,de,Te)).isSubplotConstrained||Te.isSubplotConstrained;be=me||Wt,Ee=pe||Wt;var jt=q._fullLayout;Se=jt._has("scattergl"),De=jt._has("splom"),Ge=jt._has("svg")}ne+=Q.yaxis._shift,$e();var st=function(mt,kt,ht){return mt?mt==="nsew"?ht?"":kt==="pan"?"move":"crosshair":mt.toLowerCase()+"-resize":"pointer"}(se+ee,q._fullLayout.dragmode,je),Ot=I(Q,pe+me+"drag",st,ne,ie,le,fe);if(ce&&!je)return Ot.onmousedown=null,Ot.style.pointerEvents="none",Ot;var Je,at,gt,Oe,Be,it,tt,ft,pt,_e,Ae={element:Ot,gd:q,plotinfo:Q};function Ve(){Ae.plotinfo.selection=!1,g(q)}function He(mt,kt){var ht=Ae.gd;if(ht._fullLayout._activeShapeIndex>=0)ht._fullLayout._deactivateShape(ht);else{var wt=ht._fullLayout.clickmode;if(Y(ht),mt!==2||Le||St(),je)wt.indexOf("select")>-1&&e(kt,ht,X,ae,Q.id,Ae),wt.indexOf("event")>-1&&i.click(ht,kt,Q.id);else if(mt===1&&Le){var Wt=pe?ve:ke,jt=pe==="s"||me==="w"?0:1,Jt=Wt._name+".range["+jt+"]",qt=function(pn,An){var rn,ln=pn.range[An],gn=Math.abs(ln-pn.range[1-An]);return pn.type==="date"?ln:pn.type==="log"?(rn=Math.ceil(Math.max(0,-Math.log(gn)/Math.LN10))+3,E("."+rn+"g")(Math.pow(10,ln))):(rn=Math.floor(Math.log(Math.abs(ln))/Math.LN10)-Math.floor(Math.log(gn)/Math.LN10)+4,E("."+String(rn)+"g")(ln))}(Wt,jt),Xt="left",$t="middle";if(Wt.fixedrange)return;pe?($t=pe==="n"?"top":"bottom",Wt.side==="right"&&(Xt="right")):me==="e"&&(Xt="right"),ht._context.showAxisRangeEntryBoxes&&L.select(Ot).call(a.makeEditable,{gd:ht,immediate:!0,background:ht._fullLayout.paper_bgcolor,text:String(qt),fill:Wt.tickfont?Wt.tickfont.color:"#444",horizontalAlign:Xt,verticalAlign:$t}).on("edit",function(pn){var An=Wt.d2r(pn);An!==void 0&&M.call("_guiRelayout",ht,Jt,An)})}}}function We(mt,kt){if(q._transitioningWithDuration)return!1;var ht=Math.max(0,Math.min(re,Ke*mt+Je)),wt=Math.max(0,Math.min(ue,ut*kt+at)),Wt=Math.abs(ht-Je),jt=Math.abs(wt-at);function Jt(){tt="",gt.r=gt.l,gt.t=gt.b,pt.attr("d","M0,0Z")}if(gt.l=Math.min(Je,ht),gt.r=Math.max(Je,ht),gt.t=Math.min(at,wt),gt.b=Math.max(at,wt),we.isSubplotConstrained)Wt>S||jt>S?(tt="xy",Wt/re>jt/ue?(jt=Wt*ue/re,at>wt?gt.t=at-jt:gt.b=at+jt):(Wt=jt*re/ue,Je>ht?gt.l=Je-Wt:gt.r=Je+Wt),pt.attr("d",G(gt))):Jt();else if(Te.isSubplotConstrained)if(Wt>S||jt>S){tt="xy";var qt=Math.min(gt.l/re,(ue-gt.b)/ue),Xt=Math.max(gt.r/re,(ue-gt.t)/ue);gt.l=qt*re,gt.r=Xt*re,gt.b=(1-qt)*ue,gt.t=(1-Xt)*ue,pt.attr("d",G(gt))}else Jt();else!se||jt<Math.min(Math.max(.6*Wt,w),S)?Wt<w||!ee?Jt():(gt.t=0,gt.b=ue,tt="x",pt.attr("d",function($t,pn){return"M"+($t.l-.5)+","+(pn-S-.5)+"h-3v"+(2*S+1)+"h3ZM"+($t.r+.5)+","+(pn-S-.5)+"h3v"+(2*S+1)+"h-3Z"}(gt,at))):!ee||Wt<Math.min(.6*jt,S)?(gt.l=0,gt.r=re,tt="y",pt.attr("d",function($t,pn){return"M"+(pn-S-.5)+","+($t.t-.5)+"v-3h"+(2*S+1)+"v3ZM"+(pn-S-.5)+","+($t.b+.5)+"v3h"+(2*S+1)+"v-3Z"}(gt,Je))):(tt="xy",pt.attr("d",G(gt)));gt.w=gt.r-gt.l,gt.h=gt.b-gt.t,tt&&(_e=!0),q._dragged=_e,j(ft,pt,gt,Be,it,Oe),Pe(),q.emit("plotly_relayouting",Xe),it=!0}function Pe(){Xe={},tt!=="xy"&&tt!=="x"||(C(X,gt.l/re,gt.r/re,Xe,we.xaxes),vt("x",Xe)),tt!=="xy"&&tt!=="y"||(C(ae,(ue-gt.b)/ue,(ue-gt.t)/ue,Xe,we.yaxes),vt("y",Xe))}function Ue(){Pe(),Y(q),It(),J(q)}Ae.prepFn=function(mt,kt,ht){var wt=Ae.dragmode,Wt=q._fullLayout.dragmode;Wt!==wt&&(Ae.dragmode=Wt),$e(),Ke=q._fullLayout._invScaleX,ut=q._fullLayout._invScaleY,ce||(je?mt.shiftKey?Wt==="pan"?Wt="zoom":p(Wt)||(Wt="pan"):mt.ctrlKey&&(Wt="pan"):Wt="pan"),c(Wt)?Ae.minDrag=1:Ae.minDrag=void 0,p(Wt)?(Ae.xaxes=X,Ae.yaxes=ae,r(mt,kt,ht,Ae,Wt)):(Ae.clickFn=He,p(wt)&&Ve(),ce||(Wt==="zoom"?(Ae.moveFn=We,Ae.doneFn=Ue,Ae.minDrag=1,function(jt,Jt,qt){var Xt=Ot.getBoundingClientRect();Je=Jt-Xt.left,at=qt-Xt.top,q._fullLayout._calcInverseTransform(q);var $t=D.apply3DTransform(q._fullLayout._invTransform)(Je,at);Je=$t[0],at=$t[1],gt={l:Je,r:Je,w:0,t:at,b:at,h:0},Oe=q._hmpixcount?q._hmlumcount/q._hmpixcount:T(q._fullLayout.plot_bgcolor).getLuminance(),it=!1,tt="xy",_e=!1,ft=R(Tt,Oe,K,ge,Be="M0,0H"+re+"V"+ue+"H0V0"),pt=N(Tt,K,ge)}(0,kt,ht)):Wt==="pan"&&(Ae.moveFn=rt,Ae.doneFn=It))),q._fullLayout._redrag=function(){var jt=q._dragdata;if(jt&&jt.element===Ot){var Jt=q._fullLayout.dragmode;p(Jt)||($e(),ot([0,0,re,ue]),Ae.moveFn(jt.dx,jt.dy))}}},v.init(Ae);var Ne=[0,0,re,ue],Ye=null,Fe=_.REDRAWDELAY,Ze=Q.mainplot?q._fullLayout._plots[Q.mainplot]:Q;function rt(mt,kt){if(mt*=Ke,kt*=ut,!q._transitioningWithDuration){if(q._fullLayout._replotting=!0,ee==="ew"||se==="ns"){var ht=ee?-mt:0,wt=se?-kt:0;if(Te.isSubplotConstrained){if(ee&&se){var Wt=(mt/re-kt/ue)/2;ht=-(mt=Wt*re),wt=-(kt=-Wt*ue)}se?ht=-wt*re/ue:wt=-ht*ue/re}return ee&&(z(X,mt),vt("x")),se&&(z(ae,kt),vt("y")),ot([ht,wt,re,ue]),Lt(),void q.emit("plotly_relayouting",Xe)}var jt,Jt,qt=ee==="w"==(se==="n")?1:-1;if(ee&&se&&(we.isSubplotConstrained||Te.isSubplotConstrained)){var Xt=(mt/re+qt*kt/ue)/2;mt=Xt*re,kt=qt*Xt*ue}if(ee==="w"?mt=rn(X,0,mt):ee==="e"?mt=rn(X,1,-mt):ee||(mt=0),se==="n"?kt=rn(ae,1,kt):se==="s"?kt=rn(ae,0,-kt):se||(kt=0),jt=ee==="w"?mt:0,Jt=se==="n"?kt:0,we.isSubplotConstrained&&!Te.isSubplotConstrained||Te.isSubplotConstrained&&ee&&se&&qt>0){var $t;if(Te.isSubplotConstrained||!ee&&se.length===1){for($t=0;$t<X.length;$t++)X[$t].range=X[$t]._r.slice(),h(X[$t],1-kt/ue);jt=(mt=kt*re/ue)/2}if(Te.isSubplotConstrained||!se&&ee.length===1){for($t=0;$t<ae.length;$t++)ae[$t].range=ae[$t]._r.slice(),h(ae[$t],1-mt/re);Jt=(kt=mt*ue/re)/2}}Te.isSubplotConstrained&&se||vt("x"),Te.isSubplotConstrained&&ee||vt("y");var pn=re-mt,An=ue-kt;!Te.isSubplotConstrained||ee&&se||(ee?(Jt=jt?0:mt*ue/re,An=pn*ue/re):(jt=Jt?0:kt*re/ue,pn=An*re/ue)),ot([jt,Jt,pn,An]),Lt(),q.emit("plotly_relayouting",Xe)}function rn(ln,gn,xn){for(var sn,fn,bn=1-gn,wn=0;wn<ln.length;wn++){var Sn=ln[wn];if(!Sn.fixedrange){sn=Sn,fn=Sn._rl[bn]+(Sn._rl[gn]-Sn._rl[bn])/P(xn/Sn._length);var kn=Sn.l2r(fn);kn!==!1&&kn!==void 0&&(Sn.range[gn]=kn)}}return sn._length*(sn._rl[gn]-fn)/(sn._rl[gn]-sn._rl[bn])}}function vt(mt,kt){for(var ht=Te.isSubplotConstrained?{x:ae,y:X}[mt]:Te[mt+"axes"],wt=Te.isSubplotConstrained?{x:X,y:ae}[mt]:[],Wt=0;Wt<ht.length;Wt++){var jt=ht[Wt],Jt=jt._id,qt=Te.xLinks[Jt]||Te.yLinks[Jt],Xt=wt[0]||he[qt]||de[qt];Xt&&(kt?(kt[jt._name+".range[0]"]=kt[Xt._name+".range[0]"],kt[jt._name+".range[1]"]=kt[Xt._name+".range[1]"]):jt.range=Xt.range.slice())}}function Lt(){var mt,kt=[];function ht(Jt){for(mt=0;mt<Jt.length;mt++)Jt[mt].fixedrange||kt.push(Jt[mt]._id)}function wt(Jt,qt){for(mt=0;mt<Jt.length;mt++){var Xt=Jt[mt],$t=Xt[qt];Xt.fixedrange||$t.tickmode!=="sync"||kt.push($t._id)}}for(be&&(ht(X),ht(we.xaxes),ht(Te.xaxes),wt(Q.overlays,"xaxis")),Ee&&(ht(ae),ht(we.yaxes),ht(Te.yaxes),wt(Q.overlays,"yaxis")),Xe={},mt=0;mt<kt.length;mt++){var Wt=kt[mt],jt=s(q,Wt);l.drawOne(q,jt,{skipTitle:!0}),Xe[jt._name+".range[0]"]=jt.range[0],Xe[jt._name+".range[1]"]=jt.range[1]}l.redrawComponents(q,kt)}function St(){if(!q._transitioningWithDuration){var mt=q._context.doubleClick,kt=[];ee&&(kt=kt.concat(X)),se&&(kt=kt.concat(ae)),Te.xaxes&&(kt=kt.concat(Te.xaxes)),Te.yaxes&&(kt=kt.concat(Te.yaxes));var ht,wt,Wt={};if(mt==="reset+autosize")for(mt="autosize",wt=0;wt<kt.length;wt++){var jt=(ht=kt[wt])._rangeInitial0,Jt=ht._rangeInitial1,qt=jt!==void 0||Jt!==void 0;if(qt&&(jt!==void 0&&jt!==ht.range[0]||Jt!==void 0&&Jt!==ht.range[1])||!qt&&ht.autorange!==!0){mt="reset";break}}if(mt==="autosize")for(wt=0;wt<kt.length;wt++)(ht=kt[wt]).fixedrange||(Wt[ht._name+".autorange"]=!0);else if(mt==="reset"){for((ee||we.isSubplotConstrained)&&(kt=kt.concat(we.xaxes)),se&&!we.isSubplotConstrained&&(kt=kt.concat(we.yaxes)),we.isSubplotConstrained&&(ee?se||(kt=kt.concat(ae)):kt=kt.concat(X)),wt=0;wt<kt.length;wt++)if(!(ht=kt[wt]).fixedrange){var Xt=ht._name,$t=ht._autorangeInitial;ht._rangeInitial0===void 0&&ht._rangeInitial1===void 0?Wt[Xt+".autorange"]=!0:ht._rangeInitial0===void 0?(Wt[Xt+".autorange"]=$t,Wt[Xt+".range"]=[null,ht._rangeInitial1]):ht._rangeInitial1===void 0?(Wt[Xt+".range"]=[ht._rangeInitial0,null],Wt[Xt+".autorange"]=$t):Wt[Xt+".range"]=[ht._rangeInitial0,ht._rangeInitial1]}}q.emit("plotly_doubleclick",null),M.call("_guiRelayout",q,Wt)}}function It(){ot([0,0,re,ue]),D.syncOrAsync([o.previousPromises,function(){q._fullLayout._replotting=!1,M.call("_guiRelayout",q,Xe)}],q)}function ot(mt){var kt,ht,wt,Wt,jt=q._fullLayout,Jt=jt._plots,qt=jt._subplots.cartesian;if(De&&M.subplotsRegistry.splom.drag(q),Se){for(kt=0;kt<qt.length;kt++)if(wt=(ht=Jt[qt[kt]]).xaxis,Wt=ht.yaxis,ht._scene){wt.limitRange&&wt.limitRange(),Wt.limitRange&&Wt.limitRange();var Xt=D.simpleMap(wt.range,wt.r2l),$t=D.simpleMap(Wt.range,Wt.r2l);ht._scene.update({range:[Xt[0],$t[0],Xt[1],$t[1]]})}}if((De||Se)&&(f(q),n(q)),Ge){var pn=mt[2]/ke._length,An=mt[3]/ve._length;for(kt=0;kt<qt.length;kt++){wt=(ht=Jt[qt[kt]]).xaxis,Wt=ht.yaxis;var rn,ln,gn,xn,sn=(be||Te.isSubplotConstrained)&&!wt.fixedrange&&he[wt._id],fn=(Ee||Te.isSubplotConstrained)&&!Wt.fixedrange&&de[Wt._id];if(sn?(rn=pn,gn=me||Te.isSubplotConstrained?mt[0]:Et(wt,rn)):Te.xaHash[wt._id]?(rn=pn,gn=mt[0]*wt._length/ke._length):Te.yaHash[wt._id]?(rn=An,gn=se==="ns"?-mt[1]*wt._length/ve._length:Et(wt,rn,{n:"top",s:"bottom"}[se])):gn=Ut(wt,rn=xt(wt,pn,An)),rn>1&&(wt.maxallowed!==void 0&&be===(wt.range[0]<wt.range[1]?"e":"w")||wt.minallowed!==void 0&&be===(wt.range[0]<wt.range[1]?"w":"e"))&&(rn=1,gn=0),fn?(ln=An,xn=pe||Te.isSubplotConstrained?mt[1]:Et(Wt,ln)):Te.yaHash[Wt._id]?(ln=An,xn=mt[1]*Wt._length/ve._length):Te.xaHash[Wt._id]?(ln=pn,xn=ee==="ew"?-mt[0]*Wt._length/ke._length:Et(Wt,ln,{e:"right",w:"left"}[ee])):xn=Ut(Wt,ln=xt(Wt,pn,An)),ln>1&&(Wt.maxallowed!==void 0&&Ee===(Wt.range[0]<Wt.range[1]?"n":"s")||Wt.minallowed!==void 0&&Ee===(Wt.range[0]<Wt.range[1]?"s":"n"))&&(ln=1,xn=0),rn||ln){rn||(rn=1),ln||(ln=1);var bn=wt._offset-gn/rn,wn=Wt._offset-xn/ln;ht.clipRect.call(u.setTranslate,gn,xn).call(u.setScale,rn,ln),ht.plot.call(u.setTranslate,bn,wn).call(u.setScale,1/rn,1/ln),rn===ht.xScaleFactor&&ln===ht.yScaleFactor||(u.setPointGroupScale(ht.zoomScalePts,rn,ln),u.setTextPointsScale(ht.zoomScaleTxt,rn,ln)),u.hideOutsideRangePoints(ht.clipOnAxisFalseTraces,ht),ht.xScaleFactor=rn,ht.yScaleFactor=ln}}}}function xt(mt,kt,ht){return mt.fixedrange?0:be&&we.xaHash[mt._id]?kt:Ee&&(we.isSubplotConstrained?we.xaHash:we.yaHash)[mt._id]?ht:0}function Ut(mt,kt){return kt?(mt.range=mt._r.slice(),h(mt,kt),Et(mt,kt)):0}function Et(mt,kt,ht){return mt._length*(1-kt)*x[ht||mt.constraintoward||"middle"]}return pe.length*me.length!=1&&U(Ot,function(mt){if(q._context._scrollZoom.cartesian||q._fullLayout._enablescrollzoom){if(Ve(),q._transitioningWithDuration)return mt.preventDefault(),void mt.stopPropagation();$e(),clearTimeout(Ye);var kt=-mt.deltaY;if(isFinite(kt)||(kt=mt.wheelDelta/10),isFinite(kt)){var ht,wt=Math.exp(-Math.min(Math.max(kt,-20),20)/200),Wt=Ze.draglayer.select(".nsewdrag").node().getBoundingClientRect(),jt=(mt.clientX-Wt.left)/Wt.width,Jt=(Wt.bottom-mt.clientY)/Wt.height;if(be){for(me||(jt=.5),ht=0;ht<X.length;ht++)qt(X[ht],jt,wt);vt("x"),Ne[2]*=wt,Ne[0]+=Ne[2]*jt*(1/wt-1)}if(Ee){for(pe||(Jt=.5),ht=0;ht<ae.length;ht++)qt(ae[ht],Jt,wt);vt("y"),Ne[3]*=wt,Ne[1]+=Ne[3]*(1-Jt)*(1/wt-1)}ot(Ne),Lt(),q.emit("plotly_relayouting",Xe),Ye=setTimeout(function(){q._fullLayout&&(Ne=[0,0,re,ue],It())},Fe),mt.preventDefault()}else D.log("Did not find wheel motion attributes: ",mt)}function qt(Xt,$t,pn){if(!Xt.fixedrange){var An=D.simpleMap(Xt.range,Xt.r2l),rn=An[0]+(An[1]-An[0])*$t;Xt.range=An.map(function(ln){return Xt.l2r(rn+(ln-rn)*pn)})}}}),Ot},makeDragger:A,makeRectDragger:I,makeZoombox:R,makeCorners:N,updateZoombox:j,xyCorners:G,transitionZoombox:W,removeZoombox:Y,showDoubleClickNotifier:J,attachWheelEventHandler:U}},95284:function($,F,m){var L=m(45568),D=m(32141),E=m(14751),T=m(27983),k=m(51680).makeDragBox,M=m(54826).DRAGGERSIZE;F.initInteractions=function(b){var a=b._fullLayout;if(b._context.staticPlot)L.select(b).selectAll(".drag").remove();else if(a._has("cartesian")||a._has("splom")){Object.keys(a._plots||{}).sort(function(u,i){if((a._plots[u].mainplot&&!0)===(a._plots[i].mainplot&&!0)){var l=u.split("y"),d=i.split("y");return l[0]===d[0]?Number(l[1]||1)-Number(d[1]||1):Number(l[0]||1)-Number(d[0]||1)}return a._plots[u].mainplot?1:-1}).forEach(function(u){var i=a._plots[u],l=i.xaxis,d=i.yaxis;if(!i.mainplot){var v=k(b,i,l._offset,d._offset,l._length,d._length,"ns","ew");v.onmousemove=function(c){b._fullLayout._rehover=function(){b._fullLayout._hoversubplot===u&&b._fullLayout._plots[u]&&D.hover(b,c,u)},D.hover(b,c,u),b._fullLayout._lasthover=v,b._fullLayout._hoversubplot=u},v.onmouseout=function(c){b._dragging||(b._fullLayout._hoversubplot=null,E.unhover(b,c))},b._context.showAxisDragHandles&&(k(b,i,l._offset-M,d._offset-M,M,M,"n","w"),k(b,i,l._offset+l._length,d._offset-M,M,M,"n","e"),k(b,i,l._offset-M,d._offset+d._length,M,M,"s","w"),k(b,i,l._offset+l._length,d._offset+d._length,M,M,"s","e"))}if(b._context.showAxisDragHandles){if(u===l._mainSubplot){var y=l._mainLinePosition;l.side==="top"&&(y-=M),k(b,i,l._offset+.1*l._length,y,.8*l._length,M,"","ew"),k(b,i,l._offset,y,.1*l._length,M,"","w"),k(b,i,l._offset+.9*l._length,y,.1*l._length,M,"","e")}if(u===d._mainSubplot){var p=d._mainLinePosition;d.side!=="right"&&(p-=M),k(b,i,p,d._offset+.1*d._length,M,.8*d._length,"ns",""),k(b,i,p,d._offset+.9*d._length,M,.1*d._length,"s",""),k(b,i,p,d._offset,M,.1*d._length,"n","")}}});var t=a._hoverlayer.node();t.onmousemove=function(u){u.target=b._fullLayout._lasthover,D.hover(b,u,a._hoversubplot)},t.onclick=function(u){u.target=b._fullLayout._lasthover,D.click(b,u)},t.onmousedown=function(u){b._fullLayout._lasthover.onmousedown(u)},F.updateFx(b)}},F.updateFx=function(b){var a=b._fullLayout,t=a.dragmode==="pan"?"move":"crosshair";T(a._draggers,t)}},20706:function($,F,m){var L=m(33626),D=m(34809),E=m(5975);$.exports=function(T){return function(k,M){var b=k[T];if(Array.isArray(b))for(var a=L.subplotsRegistry.cartesian,t=a.idRegex,u=M._subplots,i=u.xaxis,l=u.yaxis,d=u.cartesian,v=M._has("cartesian")||M._has("gl2d"),y=0;y<b.length;y++){var p=b[y];if(D.isPlainObject(p)){var c=E.cleanId(p.xref,"x",!1),x=E.cleanId(p.yref,"y",!1),f=t.x.test(c),n=t.y.test(x);if(f||n){v||D.pushUnique(M._basePlotModules,a);var o=!1;f&&i.indexOf(c)===-1&&(i.push(c),o=!0),n&&l.indexOf(x)===-1&&(l.push(x),o=!0),o&&f&&n&&d.push(c+x)}}}}}},37703:function($,F,m){var L=m(45568),D=m(33626),E=m(34809),T=m(44122),k=m(62203),M=m(4173).eV,b=m(5975),a=m(54826),t=m(62972),u=E.ensureSingle;function i(c,x,f){return E.ensureSingle(c,x,f,function(n){n.datum(f)})}var l=a.zindexSeparator;function d(c,x,f,n,o){for(var s,r,g,e=a.traceLayerClasses,h=c._fullLayout,_=h._zindices,w=h._modules,S=[],O=[],A=0;A<_.length;A++)for(var I=_[A],B=0;B<w.length;B++){var C=(s=w[B]).name,z=D.modules[C].categories;if(z.svg){var P=s.layerName||C+"layer",R=P+(A?Number(A)+1:""),N=s.plot;g=(r=M(f,N,I))[0],f=r[1],g.length&&S.push({i:e.indexOf(P),zindex:A,className:R,plotMethod:N,cdModule:g}),z.zoomScale&&O.push("."+R)}}S.sort(function(Y,J){return(Y.zindex||0)-(J.zindex||0)||Y.i-J.i});var j=x.plot.selectAll("g.mlayer").data(S,function(Y){return Y.className});if(j.enter().append("g").attr("class",function(Y){return Y.className}).classed("mlayer",!0).classed("rangeplot",x.isRangePlot),j.exit().remove(),j.order(),j.each(function(Y){var J=L.select(this),G=Y.className;Y.plotMethod(c,x,Y.cdModule,J,n,o),a.clipOnAxisFalseQuery.indexOf("."+G)===-1&&k.setClipUrl(J,x.layerClipId,c)}),h._has("scattergl")&&(s=D.getModule("scattergl"),g=M(f,s)[0],s.plot(c,x,g)),!c._context.staticPlot&&(x._hasClipOnAxisFalse&&(x.clipOnAxisFalseTraces=x.plot.selectAll(a.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),O.length)){var W=x.plot.selectAll(O.join(",")).selectAll(".trace");x.zoomScalePts=W.selectAll("path.point"),x.zoomScaleTxt=W.selectAll(".textpoint")}}function v(c,x){var f=c._fullLayout,n=x.plotgroup,o=x.id,s=o.indexOf(l)!==-1,r=a.layerValue2layerClass[x.xaxis.layer],g=a.layerValue2layerClass[x.yaxis.layer],e=f._hasOnlyLargeSploms;if(!x.mainplot||f._zindices.length>1)if(e)x.xlines=u(n,"path","xlines-above"),x.ylines=u(n,"path","ylines-above"),x.xaxislayer=u(n,"g","xaxislayer-above"),x.yaxislayer=u(n,"g","yaxislayer-above");else{if(!s){var h=u(n,"g","layer-subplot");x.shapelayer=u(h,"g","shapelayer"),x.imagelayer=u(h,"g","imagelayer"),x.minorGridlayer=u(n,"g","minor-gridlayer"),x.gridlayer=u(n,"g","gridlayer"),x.zerolinelayer=u(n,"g","zerolinelayer");var _=u(n,"g","layer-between");x.shapelayerBetween=u(_,"g","shapelayer"),x.imagelayerBetween=u(_,"g","imagelayer"),u(n,"path","xlines-below"),u(n,"path","ylines-below"),x.overlinesBelow=u(n,"g","overlines-below"),u(n,"g","xaxislayer-below"),u(n,"g","yaxislayer-below"),x.overaxesBelow=u(n,"g","overaxes-below")}x.overplot=u(n,"g","overplot"),x.plot=u(x.overplot,"g",o),s||(x.xlines=u(n,"path","xlines-above"),x.ylines=u(n,"path","ylines-above"),x.overlinesAbove=u(n,"g","overlines-above"),u(n,"g","xaxislayer-above"),u(n,"g","yaxislayer-above"),x.overaxesAbove=u(n,"g","overaxes-above"),x.xlines=n.select(".xlines-"+r),x.ylines=n.select(".ylines-"+g),x.xaxislayer=n.select(".xaxislayer-"+r),x.yaxislayer=n.select(".yaxislayer-"+g))}else{var w=x.mainplotinfo,S=w.plotgroup,O=o+"-x",A=o+"-y";x.minorGridlayer=w.minorGridlayer,x.gridlayer=w.gridlayer,x.zerolinelayer=w.zerolinelayer,u(w.overlinesBelow,"path",O),u(w.overlinesBelow,"path",A),u(w.overaxesBelow,"g",O),u(w.overaxesBelow,"g",A),x.plot=u(w.overplot,"g",o),u(w.overlinesAbove,"path",O),u(w.overlinesAbove,"path",A),u(w.overaxesAbove,"g",O),u(w.overaxesAbove,"g",A),x.xlines=S.select(".overlines-"+r).select("."+O),x.ylines=S.select(".overlines-"+g).select("."+A),x.xaxislayer=S.select(".overaxes-"+r).select("."+O),x.yaxislayer=S.select(".overaxes-"+g).select("."+A)}s||(e||(i(x.minorGridlayer,"g",x.xaxis._id),i(x.minorGridlayer,"g",x.yaxis._id),x.minorGridlayer.selectAll("g").map(function(I){return I[0]}).sort(b.idSort),i(x.gridlayer,"g",x.xaxis._id),i(x.gridlayer,"g",x.yaxis._id),x.gridlayer.selectAll("g").map(function(I){return I[0]}).sort(b.idSort)),x.xlines.style("fill","none").classed("crisp",!0),x.ylines.style("fill","none").classed("crisp",!0))}function y(c,x){if(c){var f={};for(var n in c.each(function(g){var e=g[0];L.select(this).remove(),p(e,x),f[e]=!0}),x._plots)for(var o=x._plots[n].overlays||[],s=0;s<o.length;s++){var r=o[s];f[r.id]&&r.plot.selectAll(".trace").remove()}}}function p(c,x){x._draggers.selectAll("g."+c).remove(),x._defs.select("#clip"+x._uid+c+"plot").remove()}F.name="cartesian",F.attr=["xaxis","yaxis"],F.idRoot=["x","y"],F.idRegex=a.idRegex,F.attrRegex=a.attrRegex,F.attributes=m(55126),F.layoutAttributes=m(25829),F.supplyLayoutDefaults=m(74098),F.transitionAxes=m(84982),F.finalizeSubplots=function(c,x){var f,n,o,s=x._subplots,r=s.xaxis,g=s.yaxis,e=s.cartesian,h=e.concat(s.gl2d||[]),_={},w={};for(f=0;f<h.length;f++){var S=h[f].split("y");_[S[0]]=1,w["y"+S[1]]=1}for(f=0;f<r.length;f++)_[n=r[f]]||(o=(c[b.id2name(n)]||{}).anchor,a.idRegex.y.test(o)||(o="y"),e.push(n+o),h.push(n+o),w[o]||(w[o]=1,E.pushUnique(g,o)));for(f=0;f<g.length;f++)w[o=g[f]]||(n=(c[b.id2name(o)]||{}).anchor,a.idRegex.x.test(n)||(n="x"),e.push(n+o),h.push(n+o),_[n]||(_[n]=1,E.pushUnique(r,n)));if(!h.length){for(var O in n="",o="",c)a.attrRegex.test(O)&&(O.charAt(0)==="x"?(!n||+O.substr(5)<+n.substr(5))&&(n=O):(!o||+O.substr(5)<+o.substr(5))&&(o=O));n=n?b.name2id(n):"x",o=o?b.name2id(o):"y",r.push(n),g.push(o),e.push(n+o)}},F.plot=function(c,x,f,n){var o,s=c._fullLayout,r=s._subplots.cartesian,g=c.calcdata;if(!Array.isArray(x))for(x=[],o=0;o<g.length;o++)x.push(o);for(var e=s._zindices,h=0;h<e.length;h++){var _=e[h];for(o=0;o<r.length;o++){var w=r[o],S=s._plots[w];if(h>0){var O=S.id;if(O.indexOf(l)!==-1)continue;O+=l+(h+1),S=E.extendFlat({},S,{id:O,plot:s._cartesianlayer.selectAll(".subplot").select("."+O)})}for(var A,I=[],B=0;B<g.length;B++){var C=g[B],z=C[0].trace;_===(z.zorder||0)&&z.xaxis+z.yaxis===w&&((x.indexOf(z.index)!==-1||z.carpet)&&(A&&A[0].trace.xaxis+A[0].trace.yaxis===w&&["tonextx","tonexty","tonext"].indexOf(z.fill)!==-1&&I.indexOf(A)===-1&&I.push(A),I.push(C)),A=C)}d(c,S,I,f,n)}}},F.clean=function(c,x,f,n){var o,s,r,g=n._plots||{},e=x._plots||{},h=n._subplots||{};if(n._hasOnlyLargeSploms&&!x._hasOnlyLargeSploms)for(r in g)(o=g[r]).plotgroup&&o.plotgroup.remove();var _=n._has&&n._has("gl"),w=x._has&&x._has("gl");if(_&&!w)for(r in g)(o=g[r])._scene&&o._scene.destroy();if(h.xaxis&&h.yaxis){var S=b.listIds({_fullLayout:n});for(s=0;s<S.length;s++){var O=S[s];x[b.id2name(O)]||n._infolayer.selectAll(".g-"+O+"title").remove()}}var A=n._has&&n._has("cartesian"),I=x._has&&x._has("cartesian");if(A&&!I)y(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(h.cartesian)for(s=0;s<h.cartesian.length;s++){var B=h.cartesian[s];if(B.indexOf(l)===-1&&!e[B]){var C="."+B+",."+B+"-x,."+B+"-y";n._cartesianlayer.selectAll(C).remove(),p(B,n)}}},F.drawFramework=function(c){var x,f=c._fullLayout,n=c.calcdata,o={};for(x=0;x<n.length;x++){var s=n[x][0],r=s.trace.zorder||0;o[r]||(o[r]=[]),o[r].push(s)}var g=Object.keys(o).map(Number).sort(E.sorterAsc);g.length||(g=[0]),f._zindices=g;var e=function(A){var I,B,C,z,P,R,N=A._fullLayout,j=N._zindices.length,W=N._subplots.cartesian,Y=W.length,J=[],G=[];for(I=0;I<Y;I++){C=W[I],P=(z=N._plots[C]).xaxis,R=z.yaxis;var H=P._mainAxis,U=R._mainAxis,Z=H._id+U._id,q=N._plots[Z];z.overlays=[],Z!==C&&q?(z.mainplot=Z,z.mainplotinfo=q,G.push(C)):(z.mainplot=void 0,z.mainplotinfo=void 0,J.push(C))}for(I=0;I<G.length;I++)C=G[I],(z=N._plots[C]).mainplotinfo.overlays.push(z);var Q=J.concat(G),ne=[];for(I=0;I<Y;I++){C=Q[I],P=(z=N._plots[C]).xaxis,R=z.yaxis;for(var ie=[],le=1;le<=j;le++){var fe="";for(le>1&&(fe+=l+le),ie.push(C+fe),B=0;B<z.overlays.length;B++)ie.push(z.overlays[B].id+fe)}ie=ie.concat([P.layer,R.layer,P.overlaying||"",R.overlaying||""]),ne.push(ie)}return ne}(c),h=e.length,_=[];for(x=0;x<h;x++)_[x]=e[x].slice();for(var w=1;w<g.length;w++){var S=[];for(x=0;x<h;x++)S[x]=e[x].slice(),S[x][0]+=l+(w+1);_=_.concat(S)}var O=f._cartesianlayer.selectAll(".subplot").data(_,String);O.enter().append("g").attr("class",function(A){return"subplot "+A[0]}),O.order(),O.exit().call(y,f),O.each(function(A){var I=A[0],B=I.indexOf(l),C=B!==-1,z=C?I.slice(0,B):I,P=f._plots[I];P||(P=E.extendFlat({},f._plots[z]))&&(P.id=I,f._plots[I]=P,f._subplots.cartesian.push(I)),P&&(P.plotgroup=L.select(this),v(c,P),C||(P.draglayer=u(f._draggers,"g",I)))})},F.rangePlot=function(c,x,f){v(c,x),d(c,x,f),T.style(c)},F.toSVG=function(c){var x=c._fullLayout._glimages,f=L.select(c).selectAll(".svg-container");f.filter(function(n,o){return o===f.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var n=this,o=n.toDataURL("image/png");x.append("svg:image").attr({xmlns:t.svg,"xlink:href":o,preserveAspectRatio:"none",x:0,y:0,width:n.style.width,height:n.style.height})})},F.updateFx=m(95284).updateFx},25829:function($,F,m){var L=m(80337),D=m(10229),E=m(94850).T,T=m(93049).extendFlat,k=m(78032).templatedArray,M=m(80712).descriptionWithDates,b=m(63821).ONEDAY,a=m(54826),t=a.HOUR_PATTERN,u=a.WEEKDAY_PATTERN,i={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=T({},i,{values:i.values.slice().concat(["sync"])});function d(e){return{valType:"integer",min:0,dflt:e?5:0,editType:"ticks"}}var v={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},p={valType:"data_array",editType:"ticks"},c={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function x(e){var h={valType:"number",min:0,editType:"ticks"};return e||(h.dflt=5),h}function f(e){var h={valType:"number",min:0,editType:"ticks"};return e||(h.dflt=1),h}var n={valType:"color",dflt:D.defaultLine,editType:"ticks"},o={valType:"color",dflt:D.lightLine,editType:"ticks"};function s(e){var h={valType:"number",min:0,editType:"ticks"};return e||(h.dflt=1),h}var r=T({},E,{editType:"ticks"}),g={valType:"boolean",editType:"ticks"};$.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:D.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:L({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[a.idRegex.x.toString(),a.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"calc"},rangebreaks:k("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[u,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:b},editType:"calc"}),tickmode:l,nticks:d(),tick0:v,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:p,ticktext:{valType:"data_array",editType:"ticks"},ticks:c,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:x(),tickwidth:f(),tickcolor:n,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:T({},E,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:L({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:M("tick label")},tickformatstops:k("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:M("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:D.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:g,gridcolor:o,gridwidth:s(),griddash:r,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:D.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:D.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"plot"},minor:{tickmode:i,nticks:d("minor"),tick0:v,dtick:y,tickvals:p,ticks:c,ticklen:x("minor"),tickwidth:f("minor"),tickcolor:n,gridcolor:o,gridwidth:s("minor"),griddash:r,showgrid:g,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:L({editType:"ticks"})}}},74098:function($,F,m){var L=m(34809),D=m(78766),E=m(36040).isUnifiedHover,T=m(45265),k=m(78032),M=m(6704),b=m(25829),a=m(4392),t=m(97655),u=m(84391),i=m(40957),l=m(5975),d=l.id2name,v=l.name2id,y=m(54826).AX_ID_PATTERN,p=m(33626),c=p.traceIs,x=p.getComponentMethod;function f(n,o,s){Array.isArray(n[o])?n[o].push(s):n[o]=[s]}$.exports=function(n,o,s){var r,g,e=o.autotypenumbers,h={},_={},w={},S={},O={},A={},I={},B={},C={},z={};for(r=0;r<s.length;r++){var P=s[r];if(c(P,"cartesian")||c(P,"gl2d")){var R,N;if(P.xaxis)R=d(P.xaxis),f(h,R,P);else if(P.xaxes)for(g=0;g<P.xaxes.length;g++)f(h,d(P.xaxes[g]),P);if(P.yaxis)N=d(P.yaxis),f(h,N,P);else if(P.yaxes)for(g=0;g<P.yaxes.length;g++)f(h,d(P.yaxes[g]),P);P.type==="funnel"?P.orientation==="h"?(R&&(_[R]=!0),N&&(I[N]=!0)):N&&(w[N]=!0):P.type==="image"?(N&&(B[N]=!0),R&&(B[R]=!0)):(N&&(O[N]=!0,A[N]=!0),c(P,"carpet")&&(P.type!=="carpet"||P._cheater)||R&&(S[R]=!0)),P.type==="carpet"&&P._cheater&&R&&(_[R]=!0),c(P,"2dMap")&&(C[R]=!0,C[N]=!0),c(P,"oriented")&&(z[P.orientation==="h"?N:R]=!0)}}var j=o._subplots,W=j.xaxis,Y=j.yaxis,J=L.simpleMap(W,d),G=L.simpleMap(Y,d),H=J.concat(G),U=D.background;W.length&&Y.length&&(U=L.coerce(n,o,M,"plot_bgcolor"));var Z,q,Q,ne,ie,le=D.combine(U,o.paper_bgcolor);function fe(){var Le=h[Z]||[];ie._traceIndices=Le.map(function($e){return $e._expandedIndex}),ie._annIndices=[],ie._shapeIndices=[],ie._selectionIndices=[],ie._imgIndices=[],ie._subplotsWith=[],ie._counterAxes=[],ie._name=ie._attr=Z,ie._id=q}function pe(Le,$e){return L.coerce(ne,ie,b,Le,$e)}function me(Le,$e){return L.coerce2(ne,ie,b,Le,$e)}function ke(Le){return Le==="x"?Y:W}function ve(Le,$e){for(var st=Le==="x"?J:G,Ot=[],Je=0;Je<st.length;Je++){var at=st[Je];at===$e||(n[at]||{}).overlaying||Ot.push(v(at))}return Ot}var he={x:ke("x"),y:ke("y")},de=he.x.concat(he.y),X={},ae=[];function K(){var Le=ne.matches;y.test(Le)&&de.indexOf(Le)===-1&&(X[Le]=ne.type,ae=Object.keys(X))}var ge=T(n,o),re=E(ge);for(r=0;r<H.length;r++){Z=H[r],q=v(Z),Q=Z.charAt(0),L.isPlainObject(n[Z])||(n[Z]={}),ne=n[Z],ie=k.newContainer(o,Z,Q+"axis"),fe();var ue=Q==="x"&&!S[Z]&&_[Z]||Q==="y"&&!O[Z]&&w[Z],we=Q==="y"&&(!A[Z]&&I[Z]||B[Z]),Te={hasMinor:!0,letter:Q,font:o.font,outerTicks:C[Z],showGrid:!z[Z],data:h[Z]||[],bgColor:le,calendar:o.calendar,automargin:!0,visibleDflt:ue,reverseDflt:we,autotypenumbersDflt:e,splomStash:((o._splomAxes||{})[Q]||{})[q],noAutotickangles:Q==="y"};pe("uirevision",o.uirevision),a(ne,ie,pe,Te),t(ne,ie,pe,Te,o);var ee=re&&Q===ge.charAt(0),se=me("spikecolor",re?ie.color:void 0),ce=me("spikethickness",re?1.5:void 0),be=me("spikedash",re?"dot":void 0),Ee=me("spikemode",re?"across":void 0),Se=me("spikesnap");pe("showspikes",!!(ee||se||ce||be||Ee||Se))||(delete ie.spikecolor,delete ie.spikethickness,delete ie.spikedash,delete ie.spikemode,delete ie.spikesnap);var De=d(ne.overlaying),Ge=[0,1];if(o[De]!==void 0){var Xe=d(o[De].anchor);o[Xe]!==void 0&&(Ge=o[Xe].domain)}i(ne,ie,pe,{letter:Q,counterAxes:he[Q],overlayableAxes:ve(Q,Z),grid:o.grid,overlayingDomain:Ge}),pe("title.standoff"),K(),ie._input=ne}for(r=0;r<ae.length;){q=ae[r++],Q=(Z=d(q)).charAt(0),L.isPlainObject(n[Z])||(n[Z]={}),ne=n[Z],ie=k.newContainer(o,Z,Q+"axis"),fe();var Ke={letter:Q,font:o.font,outerTicks:C[Z],showGrid:!z[Z],data:[],bgColor:le,calendar:o.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:e,splomStash:((o._splomAxes||{})[Q]||{})[q]};pe("uirevision",o.uirevision),ie.type=X[q]||"linear",t(ne,ie,pe,Ke,o),i(ne,ie,pe,{letter:Q,counterAxes:he[Q],overlayableAxes:ve(Q,Z),grid:o.grid}),pe("fixedrange"),K(),ie._input=ne}var ut=x("rangeslider","handleDefaults"),Tt=x("rangeselector","handleDefaults");for(r=0;r<J.length;r++)Z=J[r],ne=n[Z],ie=o[Z],ut(n,o,Z),ie.type==="date"&&Tt(ne,ie,o,G,ie.calendar),pe("fixedrange");for(r=0;r<G.length;r++){Z=G[r],ne=n[Z],ie=o[Z];var je=o[d(ie.anchor)];pe("fixedrange",x("rangeslider","isVisible")(je))}u.handleDefaults(n,o,{axIds:de.concat(ae).sort(l.idSort),axHasImage:B})}},97405:function($,F,m){var L=m(65657).mix,D=m(10229),E=m(34809);$.exports=function(T,k,M,b){var a=(b=b||{}).dfltColor;function t(n,o){return E.coerce2(T,k,b.attributes,n,o)}var u=t("linecolor",a),i=t("linewidth");M("showline",b.showLine||!!u||!!i)||(delete k.linecolor,delete k.linewidth);var l=t("gridcolor",L(a,b.bgColor,b.blend||D.lightFraction).toRgbString()),d=t("gridwidth"),v=t("griddash");if(M("showgrid",b.showGrid||!!l||!!d||!!v)||(delete k.gridcolor,delete k.gridwidth,delete k.griddash),b.hasMinor){var y=t("minor.gridcolor",L(k.gridcolor,b.bgColor,67).toRgbString()),p=t("minor.gridwidth",k.gridwidth||1),c=t("minor.griddash",k.griddash||"solid");M("minor.showgrid",!!y||!!p||!!c)||(delete k.minor.gridcolor,delete k.minor.gridwidth,delete k.minor.griddash)}if(!b.noZeroLine){var x=t("zerolinecolor",a),f=t("zerolinewidth");M("zeroline",b.showGrid||!!x||!!f)||(delete k.zerolinecolor,delete k.zerolinewidth)}}},40957:function($,F,m){var L=m(10721),D=m(34809);$.exports=function(E,T,k,M){var b,a,t,u,i,l,d=M.counterAxes||[],v=M.overlayableAxes||[],y=M.letter,p=M.grid,c=M.overlayingDomain;p&&(a=p._domains[y][p._axisMap[T._id]],b=p._anchors[T._id],a&&(t=p[y+"side"].split(" ")[0],u=p.domain[y][t==="right"||t==="top"?1:0])),a=a||[0,1],b=b||(L(E.position)?"free":d[0]||"free"),t=t||(y==="x"?"bottom":"left"),u=u||0,i=0,l=!1;var x=D.coerce(E,T,{anchor:{valType:"enumerated",values:["free"].concat(d),dflt:b}},"anchor"),f=D.coerce(E,T,{side:{valType:"enumerated",values:y==="x"?["bottom","top"]:["left","right"],dflt:t}},"side");x==="free"&&(y==="y"&&(k("autoshift")&&(u=f==="left"?c[0]:c[1],l=!T.automargin||T.automargin,i=f==="left"?-3:3),k("shift",i)),k("position",u)),k("automargin",l);var n=!1;if(v.length&&(n=D.coerce(E,T,{overlaying:{valType:"enumerated",values:[!1].concat(v),dflt:!1}},"overlaying")),!n){var o=k("domain",a);o[0]>o[1]-.000244140625&&(T.domain=a),D.noneOrAll(E.domain,T.domain,a),T.tickmode==="sync"&&(T.tickmode="auto")}return k("layer"),T}},54616:function($,F,m){var L=m(87703);$.exports=function(D,E,T,k,M){M||(M={});var b=M.tickSuffixDflt,a=L(D);T("tickprefix")&&T("showtickprefix",a),T("ticksuffix",b)&&T("showticksuffix",a)}},90259:function($,F,m){var L=m(75511);$.exports=function(D,E,T,k){var M=E._template||{},b=E.type||M.type||"-";T("minallowed"),T("maxallowed");var a,t=T("range");t||k.noInsiderange||b==="log"||(!(a=T("insiderange"))||a[0]!==null&&a[1]!==null||(E.insiderange=!1,a=void 0),a&&(t=T("range",a)));var u,i=E.getAutorangeDflt(t,k),l=T("autorange",i);!t||(t[0]!==null||t[1]!==null)&&(t[0]!==null&&t[1]!==null||l!=="reversed"&&l!==!0)&&(t[0]===null||l!=="min"&&l!=="max reversed")&&(t[1]===null||l!=="max"&&l!=="min reversed")||(t=void 0,delete E.range,E.autorange=!0,u=!0),u||(l=T("autorange",i=E.getAutorangeDflt(t,k))),l&&(L(T,l,t),b!=="linear"&&b!=="-"||T("rangemode")),E.cleanRange()}},67611:function($,F,m){var L=m(4530).FROM_BL;$.exports=function(D,E,T){T===void 0&&(T=L[D.constraintoward||"center"]);var k=[D.r2l(D.range[0]),D.r2l(D.range[1])],M=k[0]+(k[1]-k[0])*T;D.range=D._input.range=[D.l2r(M+(k[0]-M)*E),D.l2r(M+(k[1]-M)*E)],D.setScale()}},19091:function($,F,m){var L=m(45568),D=m(42696).aL,E=m(34809),T=E.numberFormat,k=m(10721),M=E.cleanNumber,b=E.ms2DateTime,a=E.dateTime2ms,t=E.ensureNumber,u=E.isArrayOrTypedArray,i=m(63821),l=i.FP_SAFE,d=i.BADNUM,v=i.LOG_CLIP,y=i.ONEWEEK,p=i.ONEDAY,c=i.ONEHOUR,x=i.ONEMIN,f=i.ONESEC,n=m(5975),o=m(54826),s=o.HOUR_PATTERN,r=o.WEEKDAY_PATTERN;function g(h){return Math.pow(10,h)}function e(h){return h!=null}$.exports=function(h,_){_=_||{};var w=h._id||"x",S=w.charAt(0);function O(H,U){if(H>0)return Math.log(H)/Math.LN10;if(H<=0&&U&&h.range&&h.range.length===2){var Z=h.range[0],q=h.range[1];return .5*(Z+q-2*v*Math.abs(Z-q))}return d}function A(H,U,Z,q){if((q||{}).msUTC&&k(H))return+H;var Q=a(H,Z||h.calendar);if(Q===d){if(!k(H))return d;H=+H;var ne=Math.floor(10*E.mod(H+.05,1)),ie=Math.round(H-ne/10);Q=a(new Date(ie))+ne/10}return Q}function I(H,U,Z){return b(H,U,Z||h.calendar)}function B(H){return h._categories[Math.round(H)]}function C(H){if(e(H)){if(h._categoriesMap===void 0&&(h._categoriesMap={}),h._categoriesMap[H]!==void 0)return h._categoriesMap[H];h._categories.push(typeof H=="number"?String(H):H);var U=h._categories.length-1;return h._categoriesMap[H]=U,U}return d}function z(H){if(h._categoriesMap)return h._categoriesMap[H]}function P(H){var U=z(H);return U!==void 0?U:k(H)?+H:void 0}function R(H){return k(H)?+H:z(H)}function N(H,U,Z){return L.round(Z+U*H,2)}function j(H,U,Z){return(H-Z)/U}var W=function(H){return k(H)?N(H,h._m,h._b):d},Y=function(H){return j(H,h._m,h._b)};if(h.rangebreaks){var J=S==="y";W=function(H){if(!k(H))return d;var U=h._rangebreaks.length;if(!U)return N(H,h._m,h._b);var Z=J;h.range[0]>h.range[1]&&(Z=!Z);for(var q=Z?-1:1,Q=q*H,ne=0,ie=0;ie<U;ie++){var le=q*h._rangebreaks[ie].min,fe=q*h._rangebreaks[ie].max;if(Q<le)break;if(!(Q>fe)){ne=Q<(le+fe)/2?ie:ie+1;break}ne=ie+1}var pe=h._B[ne]||0;return isFinite(pe)?N(H,h._m2,pe):0},Y=function(H){var U=h._rangebreaks.length;if(!U)return j(H,h._m,h._b);for(var Z=0,q=0;q<U&&!(H<h._rangebreaks[q].pmin);q++)H>h._rangebreaks[q].pmax&&(Z=q+1);return j(H,h._m2,h._B[Z])}}h.c2l=h.type==="log"?O:t,h.l2c=h.type==="log"?g:t,h.l2p=W,h.p2l=Y,h.c2p=h.type==="log"?function(H,U){return W(O(H,U))}:W,h.p2c=h.type==="log"?function(H){return g(Y(H))}:Y,["linear","-"].indexOf(h.type)!==-1?(h.d2r=h.r2d=h.d2c=h.r2c=h.d2l=h.r2l=M,h.c2d=h.c2r=h.l2d=h.l2r=t,h.d2p=h.r2p=function(H){return h.l2p(M(H))},h.p2d=h.p2r=Y,h.cleanPos=t):h.type==="log"?(h.d2r=h.d2l=function(H,U){return O(M(H),U)},h.r2d=h.r2c=function(H){return g(M(H))},h.d2c=h.r2l=M,h.c2d=h.l2r=t,h.c2r=O,h.l2d=g,h.d2p=function(H,U){return h.l2p(h.d2r(H,U))},h.p2d=function(H){return g(Y(H))},h.r2p=function(H){return h.l2p(M(H))},h.p2r=Y,h.cleanPos=t):h.type==="date"?(h.d2r=h.r2d=E.identity,h.d2c=h.r2c=h.d2l=h.r2l=A,h.c2d=h.c2r=h.l2d=h.l2r=I,h.d2p=h.r2p=function(H,U,Z){return h.l2p(A(H,0,Z))},h.p2d=h.p2r=function(H,U,Z){return I(Y(H),U,Z)},h.cleanPos=function(H){return E.cleanDate(H,d,h.calendar)}):h.type==="category"?(h.d2c=h.d2l=C,h.r2d=h.c2d=h.l2d=B,h.d2r=h.d2l_noadd=P,h.r2c=function(H){var U=R(H);return U!==void 0?U:h.fraction2r(.5)},h.l2r=h.c2r=t,h.r2l=R,h.d2p=function(H){return h.l2p(h.r2c(H))},h.p2d=function(H){return B(Y(H))},h.r2p=h.d2p,h.p2r=Y,h.cleanPos=function(H){return typeof H=="string"&&H!==""?H:t(H)}):h.type==="multicategory"&&(h.r2d=h.c2d=h.l2d=B,h.d2r=h.d2l_noadd=P,h.r2c=function(H){var U=P(H);return U!==void 0?U:h.fraction2r(.5)},h.r2c_just_indices=z,h.l2r=h.c2r=t,h.r2l=P,h.d2p=function(H){return h.l2p(h.r2c(H))},h.p2d=function(H){return B(Y(H))},h.r2p=h.d2p,h.p2r=Y,h.cleanPos=function(H){return Array.isArray(H)||typeof H=="string"&&H!==""?H:t(H)},h.setupMultiCategory=function(H){var U,Z,q=h._traceIndices,Q=h._matchGroup;if(Q&&h._categories.length===0){for(var ne in Q)if(ne!==w){var ie=_[n.id2name(ne)];q=q.concat(ie._traceIndices)}}var le=[[0,{}],[0,{}]],fe=[];for(U=0;U<q.length;U++){var pe=H[q[U]];if(S in pe){var me=pe[S],ke=pe._length||E.minRowLength(me);if(u(me[0])&&u(me[1]))for(Z=0;Z<ke;Z++){var ve=me[0][Z],he=me[1][Z];e(ve)&&e(he)&&(fe.push([ve,he]),ve in le[0][1]||(le[0][1][ve]=le[0][0]++),he in le[1][1]||(le[1][1][he]=le[1][0]++))}}}for(fe.sort(function(de,X){var ae=le[0][1],K=ae[de[0]]-ae[X[0]];if(K)return K;var ge=le[1][1];return ge[de[1]]-ge[X[1]]}),U=0;U<fe.length;U++)C(fe[U])}),h.fraction2r=function(H){var U=h.r2l(h.range[0]),Z=h.r2l(h.range[1]);return h.l2r(U+H*(Z-U))},h.r2fraction=function(H){var U=h.r2l(h.range[0]),Z=h.r2l(h.range[1]);return(h.r2l(H)-U)/(Z-U)},h.limitRange=function(H){var U=h.minallowed,Z=h.maxallowed;if(U!==void 0||Z!==void 0){H||(H="range");var q=E.nestedProperty(h,H).get(),Q=E.simpleMap(q,h.r2l),ne=Q[1]<Q[0];ne&&Q.reverse();var ie=E.simpleMap([U,Z],h.r2l);if(U!==void 0&&Q[0]<ie[0]&&(q[ne?1:0]=U),Z!==void 0&&Q[1]>ie[1]&&(q[ne?0:1]=Z),q[0]===q[1]){var le=h.l2r(U),fe=h.l2r(Z);if(U!==void 0){var pe=le+1;Z!==void 0&&(pe=Math.min(pe,fe)),q[ne?1:0]=pe}if(Z!==void 0){var me=fe+1;U!==void 0&&(me=Math.max(me,le)),q[ne?0:1]=me}}}},h.cleanRange=function(H,U){h._cleanRange(H,U),h.limitRange(H)},h._cleanRange=function(H,U){U||(U={}),H||(H="range");var Z,q,Q=E.nestedProperty(h,H).get();if(q=(q=h.type==="date"?E.dfltRange(h.calendar):S==="y"?o.DFLTRANGEY:h._name==="realaxis"?[0,1]:U.dfltRange||o.DFLTRANGEX).slice(),h.rangemode!=="tozero"&&h.rangemode!=="nonnegative"||(q[0]=0),Q&&Q.length===2){var ne=Q[0]===null,ie=Q[1]===null;for(h.type!=="date"||h.autorange||(Q[0]=E.cleanDate(Q[0],d,h.calendar),Q[1]=E.cleanDate(Q[1],d,h.calendar)),Z=0;Z<2;Z++)if(h.type==="date"){if(!E.isDateTime(Q[Z],h.calendar)){h[H]=q;break}if(h.r2l(Q[0])===h.r2l(Q[1])){var le=E.constrain(h.r2l(Q[0]),E.MIN_MS+1e3,E.MAX_MS-1e3);Q[0]=h.l2r(le-1e3),Q[1]=h.l2r(le+1e3);break}}else{if(!k(Q[Z])){if(ne||ie||!k(Q[1-Z])){h[H]=q;break}Q[Z]=Q[1-Z]*(Z?10:.1)}if(Q[Z]<-l?Q[Z]=-l:Q[Z]>l&&(Q[Z]=l),Q[0]===Q[1]){var fe=Math.max(1,Math.abs(1e-6*Q[0]));Q[0]-=fe,Q[1]+=fe}}}else E.nestedProperty(h,H).set(q)},h.setScale=function(H){var U=_._size;if(h.overlaying){var Z=n.getFromId({_fullLayout:_},h.overlaying);h.domain=Z.domain}var q=H&&h._r?"_r":"range",Q=h.calendar;h.cleanRange(q);var ne,ie,le=h.r2l(h[q][0],Q),fe=h.r2l(h[q][1],Q),pe=S==="y";if(pe?(h._offset=U.t+(1-h.domain[1])*U.h,h._length=U.h*(h.domain[1]-h.domain[0]),h._m=h._length/(le-fe),h._b=-h._m*fe):(h._offset=U.l+h.domain[0]*U.w,h._length=U.w*(h.domain[1]-h.domain[0]),h._m=h._length/(fe-le),h._b=-h._m*le),h._rangebreaks=[],h._lBreaks=0,h._m2=0,h._B=[],h.rangebreaks&&(h._rangebreaks=h.locateBreaks(Math.min(le,fe),Math.max(le,fe)),h._rangebreaks.length)){for(ne=0;ne<h._rangebreaks.length;ne++)ie=h._rangebreaks[ne],h._lBreaks+=Math.abs(ie.max-ie.min);var me=pe;le>fe&&(me=!me),me&&h._rangebreaks.reverse();var ke=me?-1:1;for(h._m2=ke*h._length/(Math.abs(fe-le)-h._lBreaks),h._B.push(-h._m2*(pe?fe:le)),ne=0;ne<h._rangebreaks.length;ne++)ie=h._rangebreaks[ne],h._B.push(h._B[h._B.length-1]-ke*h._m2*(ie.max-ie.min));for(ne=0;ne<h._rangebreaks.length;ne++)(ie=h._rangebreaks[ne]).pmin=W(ie.min),ie.pmax=W(ie.max)}if(!isFinite(h._m)||!isFinite(h._b)||h._length<0)throw _._replotting=!1,new Error("Something went wrong with axis scaling")},h.maskBreaks=function(H){var U,Z,q,Q,ne,ie=h.rangebreaks||[];ie._cachedPatterns||(ie._cachedPatterns=ie.map(function(ve){return ve.enabled&&ve.bounds?E.simpleMap(ve.bounds,ve.pattern?M:h.d2c):null})),ie._cachedValues||(ie._cachedValues=ie.map(function(ve){return ve.enabled&&ve.values?E.simpleMap(ve.values,h.d2c).sort(E.sorterAsc):null}));for(var le=0;le<ie.length;le++){var fe=ie[le];if(fe.enabled){if(fe.bounds){var pe=fe.pattern;switch(Z=(U=ie._cachedPatterns[le])[0],q=U[1],pe){case r:Q=(ne=new Date(H)).getUTCDay(),Z>q&&(q+=7,Q<Z&&(Q+=7));break;case s:Q=(ne=new Date(H)).getUTCHours()+(ne.getUTCMinutes()/60+ne.getUTCSeconds()/3600+ne.getUTCMilliseconds()/36e5),Z>q&&(q+=24,Q<Z&&(Q+=24));break;case"":Q=H}if(Q>=Z&&Q<q)return d}else for(var me=ie._cachedValues[le],ke=0;ke<me.length;ke++)if(q=(Z=me[ke])+fe.dvalue,H>=Z&&H<q)return d}}return H},h.locateBreaks=function(H,U){var Z,q,Q,ne,ie=[];if(!h.rangebreaks)return ie;var le=h.rangebreaks.slice().sort(function(ge,re){return ge.pattern===r&&re.pattern===s?-1:re.pattern===r&&ge.pattern===s?1:0}),fe=function(ge,re){if((ge=E.constrain(ge,H,U))!==(re=E.constrain(re,H,U))){for(var ue=!0,we=0;we<ie.length;we++){var Te=ie[we];ge<Te.max&&re>=Te.min&&(ge<Te.min&&(Te.min=ge),re>Te.max&&(Te.max=re),ue=!1)}ue&&ie.push({min:ge,max:re})}};for(Z=0;Z<le.length;Z++){var pe=le[Z];if(pe.enabled)if(pe.bounds){var me=H,ke=U;pe.pattern&&(me=Math.floor(me)),Q=(q=E.simpleMap(pe.bounds,pe.pattern?M:h.r2l))[0],ne=q[1];var ve,he,de=new Date(me);switch(pe.pattern){case r:he=y,ve=(ne-Q+(ne<Q?7:0))*p,me+=Q*p-(de.getUTCDay()*p+de.getUTCHours()*c+de.getUTCMinutes()*x+de.getUTCSeconds()*f+de.getUTCMilliseconds());break;case s:he=p,ve=(ne-Q+(ne<Q?24:0))*c,me+=Q*c-(de.getUTCHours()*c+de.getUTCMinutes()*x+de.getUTCSeconds()*f+de.getUTCMilliseconds());break;default:me=Math.min(q[0],q[1]),ve=he=(ke=Math.max(q[0],q[1]))-me}for(var X=me;X<ke;X+=he)fe(X,X+ve)}else for(var ae=E.simpleMap(pe.values,h.d2c),K=0;K<ae.length;K++)fe(Q=ae[K],ne=Q+pe.dvalue)}return ie.sort(function(ge,re){return ge.min-re.min}),ie},h.makeCalcdata=function(H,U,Z){var q,Q,ne,ie,le=h.type,fe=le==="date"&&H[U+"calendar"];if(U in H){if(q=H[U],ie=H._length||E.minRowLength(q),E.isTypedArray(q)&&(le==="linear"||le==="log")){if(ie===q.length)return q;if(q.subarray)return q.subarray(0,ie)}if(le==="multicategory")return function(ke,ve){for(var he=new Array(ve),de=0;de<ve;de++){var X=(ke[0]||[])[de],ae=(ke[1]||[])[de];he[de]=z([X,ae])}return he}(q,ie);for(Q=new Array(ie),ne=0;ne<ie;ne++)Q[ne]=h.d2c(q[ne],0,fe,Z)}else{var pe=U+"0"in H?h.d2c(H[U+"0"],0,fe):0,me=H["d"+U]?Number(H["d"+U]):1;for(q=H[{x:"y",y:"x"}[U]],ie=H._length||q.length,Q=new Array(ie),ne=0;ne<ie;ne++)Q[ne]=pe+ne*me}if(h.rangebreaks)for(ne=0;ne<ie;ne++)Q[ne]=h.maskBreaks(Q[ne]);return Q},h.isValidRange=function(H,U){return Array.isArray(H)&&H.length===2&&(U&&H[0]===null||k(h.r2l(H[0])))&&(U&&H[1]===null||k(h.r2l(H[1])))},h.getAutorangeDflt=function(H,U){var Z=!h.isValidRange(H,"nullOk");return Z&&U&&U.reverseDflt?Z="reversed":H&&(H[0]===null&&H[1]===null?Z=!0:H[0]===null&&H[1]!==null?Z="min":H[0]!==null&&H[1]===null&&(Z="max")),Z},h.isReversed=function(){var H=h.autorange;return H==="reversed"||H==="min reversed"||H==="max reversed"},h.isPtWithinRange=function(H,U){var Z=h.c2l(H[S],null,U),q=h.r2l(h.range[0]),Q=h.r2l(h.range[1]);return q<Q?q<=Z&&Z<=Q:Q<=Z&&Z<=q},h._emptyCategories=function(){h._categories=[],h._categoriesMap={}},h.clearCalc=function(){var H=h._matchGroup;if(H){var U=null,Z=null;for(var q in H){var Q=_[n.id2name(q)];if(Q._categories){U=Q._categories,Z=Q._categoriesMap;break}}U&&Z?(h._categories=U,h._categoriesMap=Z):h._emptyCategories()}else h._emptyCategories();if(h._initialCategories)for(var ne=0;ne<h._initialCategories.length;ne++)C(h._initialCategories[ne])},h.sortByInitialCategories=function(){var H=[];if(h._emptyCategories(),h._initialCategories)for(var U=0;U<h._initialCategories.length;U++)C(h._initialCategories[U]);H=H.concat(h._traceIndices);var Z=h._matchGroup;for(var q in Z)if(w!==q){var Q=_[n.id2name(q)];Q._categories=h._categories,Q._categoriesMap=h._categoriesMap,H=H.concat(Q._traceIndices)}return H};var G=_._d3locale;h.type==="date"&&(h._dateFormat=G?G.timeFormat:D,h._extraFormat=_._extraFormat),h._separators=_.separators,h._numFormat=G?G.numberFormat:T,delete h._minDtick,delete h._forceTick0}},87703:function($){$.exports=function(F){var m=["showexponent","showtickprefix","showticksuffix"].filter(function(L){return F[L]!==void 0});if(m.every(function(L){return F[L]===F[m[0]]})||m.length===1)return F[m[0]]}},12036:function($,F,m){var L=m(34809),D=m(78766).contrast,E=m(25829),T=m(87703),k=m(59008);function M(b,a){function t(u,i){return L.coerce(b,a,E.tickformatstops,u,i)}t("enabled")&&(t("dtickrange"),t("value"))}$.exports=function(b,a,t,u,i){i||(i={});var l=t("labelalias");L.isPlainObject(l)||delete a.labelalias;var d=T(b);if(t("showticklabels")){i.noTicklabelshift||t("ticklabelshift"),i.noTicklabelstandoff||t("ticklabelstandoff");var v=i.font||{},y=a.color,p=(a.ticklabelposition||"").indexOf("inside")!==-1?D(i.bgColor):y&&y!==E.color.dflt?y:v.color;if(L.coerceFont(t,"tickfont",v,{overrideDflt:{color:p}}),i.noTicklabelstep||u==="multicategory"||u==="log"||t("ticklabelstep"),!i.noAng){var c=t("tickangle");i.noAutotickangles||c!=="auto"||t("autotickangles")}if(u!=="category"){var x=t("tickformat");k(b,a,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:M}),a.tickformatstops.length||delete a.tickformatstops,i.noExp||x||u==="date"||(t("showexponent",d),t("exponentformat"),t("minexponent"),t("separatethousands"))}}}},87433:function($,F,m){var L=m(34809),D=m(25829);$.exports=function(E,T,k,M){var b=M.isMinor,a=b?E.minor||{}:E,t=b?T.minor:T,u=b?D.minor:D,i=b?"minor.":"",l=L.coerce2(a,t,u,"ticklen",b?.6*(T.ticklen||5):void 0),d=L.coerce2(a,t,u,"tickwidth",b?T.tickwidth||1:void 0),v=L.coerce2(a,t,u,"tickcolor",(b?T.tickcolor:void 0)||t.color);k(i+"ticks",!b&&M.outerTicks||l||d||v?"outside":"")||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},22777:function($,F,m){var L=m(68599),D=m(34809).isArrayOrTypedArray,E=m(87800).isTypedArraySpec,T=m(87800).decodeTypedArraySpec;$.exports=function(k,M,b,a,t){t||(t={});var u=t.isMinor,i=u?k.minor||{}:k,l=u?M.minor:M,d=u?"minor.":"";function v(n){var o=i[n];return E(o)&&(o=T(o)),o!==void 0?o:(l._template||{})[n]}var y=v("tick0"),p=v("dtick"),c=v("tickvals"),x=b(d+"tickmode",D(c)?"array":p?"linear":"auto");if(x==="auto"||x==="sync")b(d+"nticks");else if(x==="linear"){var f=l.dtick=L.dtick(p,a);l.tick0=L.tick0(y,a,M.calendar,f)}else a!=="multicategory"&&(b(d+"tickvals")===void 0?l.tickmode="auto":u||b("ticktext"))}},84982:function($,F,m){var L=m(45568),D=m(33626),E=m(34809),T=m(62203),k=m(29714);$.exports=function(M,b,a,t){var u=M._fullLayout;if(b.length!==0){var i,l,d,v;t&&(i=t());var y=L.ease(a.easing);return M._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(v),v=null,function(){for(var x={},f=0;f<b.length;f++){var n=b[f],o=n.plotinfo.xaxis,s=n.plotinfo.yaxis;n.xr0&&(x[o._name+".range"]=n.xr0.slice()),n.yr0&&(x[s._name+".range"]=n.yr0.slice())}return D.call("relayout",M,x).then(function(){for(var r=0;r<b.length;r++)p(b[r].plotinfo)})}()}),l=Date.now(),v=window.requestAnimationFrame(function x(){d=Date.now();for(var f=Math.min(1,(d-l)/a.duration),n=y(f),o=0;o<b.length;o++)c(b[o],n);d-l>a.duration?(function(){for(var s={},r=0;r<b.length;r++){var g=b[r],e=g.plotinfo.xaxis,h=g.plotinfo.yaxis;g.xr1&&(s[e._name+".range"]=g.xr1.slice()),g.yr1&&(s[h._name+".range"]=g.yr1.slice())}i&&i(),D.call("relayout",M,s).then(function(){for(var _=0;_<b.length;_++)p(b[_].plotinfo)})}(),v=window.cancelAnimationFrame(x)):v=window.requestAnimationFrame(x)}),Promise.resolve()}function p(x){var f=x.xaxis,n=x.yaxis;u._defs.select("#"+x.clipId+"> rect").call(T.setTranslate,0,0).call(T.setScale,1,1),x.plot.call(T.setTranslate,f._offset,n._offset).call(T.setScale,1,1);var o=x.plot.selectAll(".scatterlayer .trace");o.selectAll(".point").call(T.setPointGroupScale,1,1),o.selectAll(".textpoint").call(T.setTextPointsScale,1,1),o.call(T.hideOutsideRangePoints,x)}function c(x,f){var n=x.plotinfo,o=n.xaxis,s=n.yaxis,r=o._length,g=s._length,e=!!x.xr1,h=!!x.yr1,_=[];if(e){var w=E.simpleMap(x.xr0,o.r2l),S=E.simpleMap(x.xr1,o.r2l),O=w[1]-w[0],A=S[1]-S[0];_[0]=(w[0]*(1-f)+f*S[0]-w[0])/(w[1]-w[0])*r,_[2]=r*(1-f+f*A/O),o.range[0]=o.l2r(w[0]*(1-f)+f*S[0]),o.range[1]=o.l2r(w[1]*(1-f)+f*S[1])}else _[0]=0,_[2]=r;if(h){var I=E.simpleMap(x.yr0,s.r2l),B=E.simpleMap(x.yr1,s.r2l),C=I[1]-I[0],z=B[1]-B[0];_[1]=(I[1]*(1-f)+f*B[1]-I[1])/(I[0]-I[1])*g,_[3]=g*(1-f+f*z/C),s.range[0]=o.l2r(I[0]*(1-f)+f*B[0]),s.range[1]=s.l2r(I[1]*(1-f)+f*B[1])}else _[1]=0,_[3]=g;k.drawOne(M,o,{skipTitle:!0}),k.drawOne(M,s,{skipTitle:!0}),k.redrawComponents(M,[o._id,s._id]);var P=e?r/_[2]:1,R=h?g/_[3]:1,N=e?_[0]:0,j=h?_[1]:0,W=e?_[0]/_[2]*r:0,Y=h?_[1]/_[3]*g:0,J=o._offset-W,G=s._offset-Y;n.clipRect.call(T.setTranslate,N,j).call(T.setScale,1/P,1/R),n.plot.call(T.setTranslate,J,G).call(T.setScale,P,R),T.setPointGroupScale(n.zoomScalePts,1/P,1/R),T.setTextPointsScale(n.zoomScaleTxt,1/P,1/R)}k.redrawComponents(M)}},4392:function($,F,m){var L=m(33626).traceIs,D=m(9666);function E(k){return{v:"x",h:"y"}[k.orientation||"v"]}function T(k,M){var b=E(k),a=L(k,"box-violin"),t=L(k._fullInput||{},"candlestick");return a&&!t&&M===b&&k[b]===void 0&&k[b+"0"]===void 0}$.exports=function(k,M,b,a){b("autotypenumbers",a.autotypenumbersDflt),b("type",(a.splomStash||{}).type)==="-"&&(function(t,u){if(t.type==="-"){var i,l=t._id,d=l.charAt(0);l.indexOf("scene")!==-1&&(l=d);var v=function(s,r,g){for(var e=0;e<s.length;e++){var h=s[e];if(h.type==="splom"&&h._length>0&&(h["_"+g+"axes"]||{})[r]||(h[g+"axis"]||g)===r&&(T(h,g)||(h[g]||[]).length||h[g+"0"]))return h}}(u,l,d);if(v)if(v.type!=="histogram"||d!=={v:"y",h:"x"}[v.orientation||"v"]){var y=d+"calendar",p=v[y],c={noMultiCategory:!L(v,"cartesian")||L(v,"noMultiCategory")};if(v.type==="box"&&v._hasPreCompStats&&d==={h:"x",v:"y"}[v.orientation||"v"]&&(c.noMultiCategory=!0),c.autotypenumbers=t.autotypenumbers,T(v,d)){var x=E(v),f=[];for(i=0;i<u.length;i++){var n=u[i];L(n,"box-violin")&&(n[d+"axis"]||d)===l&&(n[x]!==void 0?f.push(n[x][0]):n.name!==void 0?f.push(n.name):f.push("text"),n[y]!==p&&(p=void 0))}t.type=D(f,p,c)}else if(v.type==="splom"){var o=v.dimensions[v._axesDim[l]];o.visible&&(t.type=D(o.values,p,c))}else t.type=D(v[d]||[v[d+"0"]],p,c)}else t.type="linear"}}(M,a.data),M.type==="-"?M.type="linear":k.type=M.type)}},90251:function($,F,m){var L=m(33626),D=m(34809);function E(b,a,t){var u,i,l,d=!1;if(a.type==="data")u=b._fullData[a.traces!==null?a.traces[0]:0];else{if(a.type!=="layout")return!1;u=b._fullLayout}return i=D.nestedProperty(u,a.prop).get(),(l=t[a.type]=t[a.type]||{}).hasOwnProperty(a.prop)&&l[a.prop]!==i&&(d=!0),l[a.prop]=i,{changed:d,value:i}}function T(b,a){var t=[],u=a[0],i={};if(typeof u=="string")i[u]=a[1];else{if(!D.isPlainObject(u))return t;i=u}return M(i,function(l,d,v){t.push({type:"layout",prop:l,value:v})},"",0),t}function k(b,a){var t,u,i,l,d=[];if(u=a[0],i=a[1],t=a[2],l={},typeof u=="string")l[u]=i;else{if(!D.isPlainObject(u))return d;l=u,t===void 0&&(t=i)}return t===void 0&&(t=null),M(l,function(v,y,p){var c,x;if(Array.isArray(p)){x=p.slice();var f=Math.min(x.length,b.data.length);t&&(f=Math.min(f,t.length)),c=[];for(var n=0;n<f;n++)c[n]=t?t[n]:n}else x=p,c=t?t.slice():null;if(c===null)Array.isArray(x)&&(x=x[0]);else if(Array.isArray(c)){if(!Array.isArray(x)){var o=x;x=[];for(var s=0;s<c.length;s++)x[s]=o}x.length=Math.min(c.length,x.length)}d.push({type:"data",prop:v,traces:c,value:x})},"",0),d}function M(b,a,t,u){Object.keys(b).forEach(function(i){var l=b[i];if(i[0]!=="_"){var d=t+(u>0?".":"")+i;D.isPlainObject(l)?M(l,a,d,u+1):a(d,i,l)}})}F.manageCommandObserver=function(b,a,t,u){var i={},l=!0;a&&a._commandObserver&&(i=a._commandObserver),i.cache||(i.cache={}),i.lookupTable={};var d=F.hasSimpleAPICommandBindings(b,t,i.lookupTable);if(a&&a._commandObserver){if(d)return i;if(a._commandObserver.remove)return a._commandObserver.remove(),a._commandObserver=null,i}if(d){E(b,d,i.cache),i.check=function(){if(l){var p=E(b,d,i.cache);return p.changed&&u&&i.lookupTable[p.value]!==void 0&&(i.disable(),Promise.resolve(u({value:p.value,type:d.type,prop:d.prop,traces:d.traces,index:i.lookupTable[p.value]})).then(i.enable,i.enable)),p.changed}};for(var v=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],y=0;y<v.length;y++)b._internalOn(v[y],i.check);i.remove=function(){for(var p=0;p<v.length;p++)b._removeInternalListener(v[p],i.check)}}else D.log("Unable to automatically bind plot updates to API command"),i.lookupTable={},i.remove=function(){};return i.disable=function(){l=!1},i.enable=function(){l=!0},a&&(a._commandObserver=i),i},F.hasSimpleAPICommandBindings=function(b,a,t){var u,i,l=a.length;for(u=0;u<l;u++){var d,v=a[u],y=v.method,p=v.args;if(Array.isArray(p)||(p=[]),!y)return!1;var c=F.computeAPICommandBindings(b,y,p);if(c.length!==1)return!1;if(i){if((d=c[0]).type!==i.type||d.prop!==i.prop)return!1;if(Array.isArray(i.traces)){if(!Array.isArray(d.traces))return!1;d.traces.sort();for(var x=0;x<i.traces.length;x++)if(i.traces[x]!==d.traces[x])return!1}else if(d.prop!==i.prop)return!1}else i=c[0],Array.isArray(i.traces)&&i.traces.sort();var f=(d=c[0]).value;if(Array.isArray(f)){if(f.length!==1)return!1;f=f[0]}t&&(t[f]=u)}return i},F.executeAPICommand=function(b,a,t){if(a==="skip")return Promise.resolve();var u=L.apiMethodRegistry[a],i=[b];Array.isArray(t)||(t=[]);for(var l=0;l<t.length;l++)i.push(t[l]);return u.apply(null,i).catch(function(d){return D.warn("API call to Plotly."+a+" rejected.",d),Promise.reject(d)})},F.computeAPICommandBindings=function(b,a,t){var u;switch(Array.isArray(t)||(t=[]),a){case"restyle":u=k(b,t);break;case"relayout":u=T(0,t);break;case"update":u=k(b,[t[0],t[2]]).concat(T(0,[t[1]]));break;case"animate":u=function(i,l){return Array.isArray(l[0])&&l[0].length===1&&["string","number"].indexOf(typeof l[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:l[0][0].toString()}]:[]}(0,t);break;default:u=[]}return u}},13792:function($,F,m){var L=m(93049).extendFlat;F.u=function(D,E){E=E||{};var T={valType:"info_array",editType:(D=D||{}).editType,items:[{valType:"number",min:0,max:1,editType:D.editType},{valType:"number",min:0,max:1,editType:D.editType}],dflt:[0,1]},k=(D.name&&D.name,D.trace,E.description&&E.description,{x:L({},T,{}),y:L({},T,{}),editType:D.editType});return D.noGridCell||(k.row={valType:"integer",min:0,dflt:0,editType:D.editType},k.column={valType:"integer",min:0,dflt:0,editType:D.editType}),k},F.N=function(D,E,T,k){var M=k&&k.x||[0,1],b=k&&k.y||[0,1],a=E.grid;if(a){var t=T("domain.column");t!==void 0&&(t<a.columns?M=a._domains.x[t]:delete D.domain.column);var u=T("domain.row");u!==void 0&&(u<a.rows?b=a._domains.y[u]:delete D.domain.row)}var i=T("domain.x",M),l=T("domain.y",b);i[0]<i[1]||(D.domain.x=M.slice()),l[0]<l[1]||(D.domain.y=b.slice())}},80337:function($){$.exports=function(F){var m=F.variantValues,L=F.editType,D=F.colorEditType;D===void 0&&(D=L);var E={editType:L,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};F.noNumericWeightValues&&(E.valType="enumerated",E.values=E.extras,E.extras=void 0,E.min=void 0,E.max=void 0);var T={family:{valType:"string",noBlank:!0,strict:!0,editType:L},size:{valType:"number",min:1,editType:L},color:{valType:"color",editType:D},weight:E,style:{editType:L,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:F.noFontVariant?void 0:{editType:L,valType:"enumerated",values:m||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:F.noFontTextcase?void 0:{editType:L,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:F.noFontLineposition?void 0:{editType:L,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:F.noFontShadow?void 0:{editType:L,valType:"string",dflt:F.autoShadowDflt?"auto":"none"},editType:L};return F.autoSize&&(T.size.dflt="auto"),F.autoColor&&(T.color.dflt="auto"),F.arrayOk&&(T.family.arrayOk=!0,T.weight.arrayOk=!0,T.style.arrayOk=!0,F.noFontVariant||(T.variant.arrayOk=!0),F.noFontTextcase||(T.textcase.arrayOk=!0),F.noFontLineposition||(T.lineposition.arrayOk=!0),F.noFontShadow||(T.shadow.arrayOk=!0),T.size.arrayOk=!0,T.color.arrayOk=!0),T}},58935:function($){$.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},4173:function($,F,m){var L=m(33626),D=m(54826).SUBPLOT_PATTERN;F.eV=function(E,T,k){var M,b=[],a=[];if(!(M=typeof T=="string"?L.getModule(T).plot:typeof T=="function"?T:T.plot))return[b,E];for(var t=k,u=0;u<E.length;u++){var i=E[u],l=i[0].trace,d=l.zorder!==void 0;l.visible===!0&&l._length!==0&&(!l._module||l._module.plot!==M||d&&l.zorder!==t?a.push(i):b.push(i))}return[b,a]},F.KO=function(E,T,k){if(!L.subplotsRegistry[T])return[];var M,b,a,t=L.subplotsRegistry[T].attr,u=[];if(T==="gl2d"){var i=k.match(D);b="x"+i[1],a="y"+i[2]}for(var l=0;l<E.length;l++)M=E[l],T==="gl2d"&&L.traceIs(M,"gl2d")?M[t[0]]===b&&M[t[1]]===a&&u.push(M):M[t]===k&&u.push(M);return u}},77055:function($,F,m){var L=m(99978),D=m(20573),E=m(44039),T=m(54826),k=m(74043);function M(b,a){this.element=b,this.plot=a,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}$.exports=function(b){var a=b.mouseContainer,t=b.glplot,u=new M(a,t);function i(){b.xaxis.autorange=!1,b.yaxis.autorange=!1}function l(d,v,y){var p,c,x=b.calcDataBox(),f=t.viewBox,n=u.lastPos[0],o=u.lastPos[1],s=T.MINDRAG*t.pixelRatio,r=T.MINZOOM*t.pixelRatio;function g(O,A,I){var B=Math.min(A,I),C=Math.max(A,I);B!==C?(x[O]=B,x[O+2]=C,u.dataBox=x,b.setRanges(x)):(b.selectBox.selectBox=[0,0,1,1],b.glplot.setDirty())}switch(v*=t.pixelRatio,y*=t.pixelRatio,y=f[3]-f[1]-y,b.fullLayout.dragmode){case"zoom":if(d){var e=v/(f[2]-f[0])*(x[2]-x[0])+x[0],h=y/(f[3]-f[1])*(x[3]-x[1])+x[1];u.boxInited||(u.boxStart[0]=e,u.boxStart[1]=h,u.dragStart[0]=v,u.dragStart[1]=y),u.boxEnd[0]=e,u.boxEnd[1]=h,u.boxInited=!0,u.boxEnabled||u.boxStart[0]===u.boxEnd[0]&&u.boxStart[1]===u.boxEnd[1]||(u.boxEnabled=!0);var _=Math.abs(u.dragStart[0]-v)<r,w=Math.abs(u.dragStart[1]-y)<r;if(!function(){for(var O=b.graphDiv._fullLayout._axisConstraintGroups,A=b.xaxis._id,I=b.yaxis._id,B=0;B<O.length;B++)if(O[B][A]!==-1){if(O[B][I]!==-1)return!0;break}return!1}()||_&&w)_&&(u.boxEnd[0]=u.boxStart[0]),w&&(u.boxEnd[1]=u.boxStart[1]);else{p=u.boxEnd[0]-u.boxStart[0],c=u.boxEnd[1]-u.boxStart[1];var S=(x[3]-x[1])/(x[2]-x[0]);Math.abs(p*S)>Math.abs(c)?(u.boxEnd[1]=u.boxStart[1]+Math.abs(p)*S*(c>=0?1:-1),u.boxEnd[1]<x[1]?(u.boxEnd[1]=x[1],u.boxEnd[0]=u.boxStart[0]+(x[1]-u.boxStart[1])/Math.abs(S)):u.boxEnd[1]>x[3]&&(u.boxEnd[1]=x[3],u.boxEnd[0]=u.boxStart[0]+(x[3]-u.boxStart[1])/Math.abs(S))):(u.boxEnd[0]=u.boxStart[0]+Math.abs(c)/S*(p>=0?1:-1),u.boxEnd[0]<x[0]?(u.boxEnd[0]=x[0],u.boxEnd[1]=u.boxStart[1]+(x[0]-u.boxStart[0])*Math.abs(S)):u.boxEnd[0]>x[2]&&(u.boxEnd[0]=x[2],u.boxEnd[1]=u.boxStart[1]+(x[2]-u.boxStart[0])*Math.abs(S)))}}else u.boxEnabled?(p=u.boxStart[0]!==u.boxEnd[0],c=u.boxStart[1]!==u.boxEnd[1],p||c?(p&&(g(0,u.boxStart[0],u.boxEnd[0]),b.xaxis.autorange=!1),c&&(g(1,u.boxStart[1],u.boxEnd[1]),b.yaxis.autorange=!1),b.relayoutCallback()):b.glplot.setDirty(),u.boxEnabled=!1,u.boxInited=!1):u.boxInited&&(u.boxInited=!1);break;case"pan":u.boxEnabled=!1,u.boxInited=!1,d?(u.panning||(u.dragStart[0]=v,u.dragStart[1]=y),Math.abs(u.dragStart[0]-v)<s&&(v=u.dragStart[0]),Math.abs(u.dragStart[1]-y)<s&&(y=u.dragStart[1]),p=(n-v)*(x[2]-x[0])/(t.viewBox[2]-t.viewBox[0]),c=(o-y)*(x[3]-x[1])/(t.viewBox[3]-t.viewBox[1]),x[0]+=p,x[2]+=p,x[1]+=c,x[3]+=c,b.setRanges(x),u.panning=!0,u.lastInputTime=Date.now(),i(),b.cameraChanged(),b.handleAnnotations()):u.panning&&(u.panning=!1,b.relayoutCallback())}u.lastPos[0]=v,u.lastPos[1]=y}return u.mouseListener=L(a,l),a.addEventListener("touchstart",function(d){var v=E(d.changedTouches[0],a);l(0,v[0],v[1]),l(1,v[0],v[1]),d.preventDefault()},!!k&&{passive:!1}),a.addEventListener("touchmove",function(d){d.preventDefault();var v=E(d.changedTouches[0],a);l(1,v[0],v[1]),d.preventDefault()},!!k&&{passive:!1}),a.addEventListener("touchend",function(d){l(0,u.lastPos[0],u.lastPos[1]),d.preventDefault()},!!k&&{passive:!1}),u.wheelListener=D(a,function(d,v){if(!b.scrollZoom)return!1;var y=b.calcDataBox(),p=t.viewBox,c=u.lastPos[0],x=u.lastPos[1],f=Math.exp(5*v/(p[3]-p[1])),n=c/(p[2]-p[0])*(y[2]-y[0])+y[0],o=x/(p[3]-p[1])*(y[3]-y[1])+y[1];return y[0]=(y[0]-n)*f+n,y[2]=(y[2]-n)*f+n,y[1]=(y[1]-o)*f+o,y[3]=(y[3]-o)*f+o,b.setRanges(y),u.lastInputTime=Date.now(),i(),b.cameraChanged(),b.handleAnnotations(),b.relayoutCallback(),!0},!0),u}},10749:function($,F,m){var L=m(29714),D=m(55010);function E(M){this.scene=M,this.gl=M.gl,this.pixelRatio=M.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var T=E.prototype,k=["xaxis","yaxis"];T.merge=function(M){var b,a,t,u,i,l,d,v,y,p,c;for(this.titleEnable=!1,this.backgroundColor=D(M.plot_bgcolor),p=0;p<2;++p){var x=(b=k[p]).charAt(0);for(t=(a=M[this.scene[b]._name]).title.text===this.scene.fullLayout._dfltTitle[x]?"":a.title.text,c=0;c<=2;c+=2)this.labelEnable[p+c]=!1,this.labels[p+c]=t,this.labelColor[p+c]=D(a.title.font.color),this.labelFont[p+c]=a.title.font.family,this.labelSize[p+c]=a.title.font.size,this.labelPad[p+c]=this.getLabelPad(b,a),this.tickEnable[p+c]=!1,this.tickColor[p+c]=D((a.tickfont||{}).color),this.tickAngle[p+c]=a.tickangle==="auto"?0:Math.PI*-a.tickangle/180,this.tickPad[p+c]=this.getTickPad(a),this.tickMarkLength[p+c]=0,this.tickMarkWidth[p+c]=a.tickwidth||0,this.tickMarkColor[p+c]=D(a.tickcolor),this.borderLineEnable[p+c]=!1,this.borderLineColor[p+c]=D(a.linecolor),this.borderLineWidth[p+c]=a.linewidth||0;d=this.hasSharedAxis(a),i=this.hasAxisInDfltPos(b,a)&&!d,l=this.hasAxisInAltrPos(b,a)&&!d,u=a.mirror||!1,v=d?String(u).indexOf("all")!==-1:!!u,y=d?u==="allticks":String(u).indexOf("ticks")!==-1,i?this.labelEnable[p]=!0:l&&(this.labelEnable[p+2]=!0),i?this.tickEnable[p]=a.showticklabels:l&&(this.tickEnable[p+2]=a.showticklabels),(i||v)&&(this.borderLineEnable[p]=a.showline),(l||v)&&(this.borderLineEnable[p+2]=a.showline),(i||y)&&(this.tickMarkLength[p]=this.getTickMarkLength(a)),(l||y)&&(this.tickMarkLength[p+2]=this.getTickMarkLength(a)),this.gridLineEnable[p]=a.showgrid,this.gridLineColor[p]=D(a.gridcolor),this.gridLineWidth[p]=a.gridwidth,this.zeroLineEnable[p]=a.zeroline,this.zeroLineColor[p]=D(a.zerolinecolor),this.zeroLineWidth[p]=a.zerolinewidth}},T.hasSharedAxis=function(M){var b=this.scene,a=b.fullLayout._subplots.gl2d;return L.findSubplotsWithAxis(a,M).indexOf(b.id)!==0},T.hasAxisInDfltPos=function(M,b){var a=b.side;return M==="xaxis"?a==="bottom":M==="yaxis"?a==="left":void 0},T.hasAxisInAltrPos=function(M,b){var a=b.side;return M==="xaxis"?a==="top":M==="yaxis"?a==="right":void 0},T.getLabelPad=function(M,b){var a=1.5,t=b.title.font.size,u=b.showticklabels;return M==="xaxis"?b.side==="top"?t*(a+(u?1:0))-10:t*(a+(u?.5:0))-10:M==="yaxis"?b.side==="right"?10+t*(a+(u?1:.5)):10+t*(a+(u?.5:0)):void 0},T.getTickPad=function(M){return M.ticks==="outside"?10+M.ticklen:15},T.getTickMarkLength=function(M){if(!M.ticks)return 0;var b=M.ticklen;return M.ticks==="inside"?-b:b},$.exports=function(M){return new E(M)}},46966:function($,F,m){var L=m(13582).overrideAll,D=m(27672),E=m(6704),T=m(62972),k=m(54826),M=m(37703),b=m(6811),a=m(4173).KO;F.name="gl2d",F.attr=["xaxis","yaxis"],F.idRoot=["x","y"],F.idRegex=k.idRegex,F.attrRegex=k.attrRegex,F.attributes=m(55126),F.supplyLayoutDefaults=function(t,u,i){u._has("cartesian")||M.supplyLayoutDefaults(t,u,i)},F.layoutAttrOverrides=L(M.layoutAttributes,"plot","from-root"),F.baseLayoutAttrOverrides=L({plot_bgcolor:E.plot_bgcolor,hoverlabel:b.hoverlabel},"plot","nested"),F.plot=function(t){for(var u=t._fullLayout,i=t._fullData,l=u._subplots.gl2d,d=0;d<l.length;d++){var v=l[d],y=u._plots[v],p=a(i,"gl2d",v),c=y._scene2d;c===void 0&&(c=new D({id:v,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio},u),y._scene2d=c),c.plot(p,t.calcdata,u,t.layout)}},F.clean=function(t,u,i,l){for(var d=l._subplots.gl2d||[],v=0;v<d.length;v++){var y=d[v],p=l._plots[y];p._scene2d&&a(t,"gl2d",y).length===0&&(p._scene2d.destroy(),delete l._plots[y])}M.clean.apply(this,arguments)},F.drawFramework=function(t){t._context.staticPlot||M.drawFramework(t)},F.toSVG=function(t){for(var u=t._fullLayout,i=u._subplots.gl2d,l=0;l<i.length;l++){var d=u._plots[i[l]]._scene2d,v=d.toImage("png");u._glimages.append("svg:image").attr({xmlns:T.svg,"xlink:href":v,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),d.destroy()}},F.updateFx=function(t){for(var u=t._fullLayout,i=u._subplots.gl2d,l=0;l<i.length;l++)u._plots[i[l]]._scene2d.updateFx(u.dragmode)}},27672:function($,F,m){var L,D,E=m(33626),T=m(29714),k=m(32141),M=m(99098).gl_plot2d,b=m(99098).gl_spikes2d,a=m(99098).gl_select_box,t=m(22248),u=m(10749),i=m(77055),l=m(97464),d=m(84391),v=d.enforce,y=d.clean,p=m(32919).doAutoRange,c=m(70414),x=c.drawMode,f=c.selectMode,n=["xaxis","yaxis"],o=m(54826).SUBPLOT_PATTERN;function s(g,e){this.container=g.container,this.graphDiv=g.graphDiv,this.pixelRatio=g.plotGlPixelRatio||window.devicePixelRatio,this.id=g.id,this.staticPlot=!!g.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(e),this.makeFramework(),this.stopped||(this.glplotOptions=u(this),this.glplotOptions.merge(e),this.glplot=M(this.glplotOptions),this.camera=i(this),this.traces={},this.spikes=b(this.glplot),this.selectBox=a(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}$.exports=s;var r=s.prototype;r.makeFramework=function(){if(this.staticPlot){if(!(D||(L=document.createElement("canvas"),D=t({canvas:L,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=L,this.gl=D}else{var g=this.container.querySelector(".gl-canvas-focus"),e=t({canvas:g,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!e)return l(this),void(this.stopped=!0);this.canvas=g,this.gl=e}var h=this.canvas;h.style.width="100%",h.style.height="100%",h.style.position="absolute",h.style.top="0px",h.style.left="0px",h.style["pointer-events"]="none",this.updateSize(h);var _=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");_.style.position="absolute",_.style.top=_.style.left="0px",_.style.width=_.style.height="100%",_.style["z-index"]=20,_.style["pointer-events"]="none";var w=this.mouseContainer=document.createElement("div");w.style.position="absolute",w.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var S=this.container;S.appendChild(_),S.appendChild(w);var O=this;w.addEventListener("mouseout",function(){O.isMouseOver=!1,O.unhover()}),w.addEventListener("mouseover",function(){O.isMouseOver=!0})},r.toImage=function(g){g||(g="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(L),this.updateSize(this.canvas);var e=this.glplot.gl,h=e.drawingBufferWidth,_=e.drawingBufferHeight;e.clearColor(1,1,1,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),e.bindFramebuffer(e.FRAMEBUFFER,null);var w=new Uint8Array(h*_*4);e.readPixels(0,0,h,_,e.RGBA,e.UNSIGNED_BYTE,w);for(var S=0,O=_-1;S<O;++S,--O)for(var A=0;A<h;++A)for(var I=0;I<4;++I){var B=w[4*(h*S+A)+I];w[4*(h*S+A)+I]=w[4*(h*O+A)+I],w[4*(h*O+A)+I]=B}var C=document.createElement("canvas");C.width=h,C.height=_;var z,P=C.getContext("2d",{willReadFrequently:!0}),R=P.createImageData(h,_);switch(R.data.set(w),P.putImageData(R,0,0),g){case"jpeg":z=C.toDataURL("image/jpeg");break;case"webp":z=C.toDataURL("image/webp");break;default:z=C.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(L),z},r.updateSize=function(g){g||(g=this.canvas);var e=this.pixelRatio,h=this.fullLayout,_=h.width,w=h.height,S=0|Math.ceil(e*_),O=0|Math.ceil(e*w);return g.width===S&&g.height===O||(g.width=S,g.height=O),g},r.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var g=[T.calcTicks(this.xaxis),T.calcTicks(this.yaxis)],e=0;e<2;++e)for(var h=0;h<g[e].length;++h)g[e][h].text=g[e][h].text+"";return g},r.updateRefs=function(g){this.fullLayout=g;var e=this.id.match(o),h="xaxis"+e[1],_="yaxis"+e[2];this.xaxis=this.fullLayout[h],this.yaxis=this.fullLayout[_]},r.relayoutCallback=function(){var g=this.graphDiv,e=this.xaxis,h=this.yaxis,_=g.layout,w={},S=w[e._name+".range"]=e.range.slice(),O=w[h._name+".range"]=h.range.slice();w[e._name+".autorange"]=e.autorange,w[h._name+".autorange"]=h.autorange,E.call("_storeDirectGUIEdit",g.layout,g._fullLayout._preGUI,w);var A=_[e._name];A.range=S,A.autorange=e.autorange;var I=_[h._name];I.range=O,I.autorange=h.autorange,w.lastInputTime=this.camera.lastInputTime,g.emit("plotly_relayout",w)},r.cameraChanged=function(){var g=this.camera;this.glplot.setDataBox(this.calcDataBox());var e=this.computeTickMarks();(function(h,_){for(var w=0;w<2;++w){var S=h[w],O=_[w];if(S.length!==O.length)return!0;for(var A=0;A<S.length;++A)if(S[A].x!==O[A].x)return!0}return!1})(e,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=e,this.glplotOptions.dataBox=g.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},r.handleAnnotations=function(){for(var g=this.graphDiv,e=this.fullLayout.annotations,h=0;h<e.length;h++){var _=e[h];_.xref===this.xaxis._id&&_.yref===this.yaxis._id&&E.getComponentMethod("annotations","drawOne")(g,h)}},r.destroy=function(){if(this.glplot){var g=this.traces;g&&Object.keys(g).map(function(e){g[e].dispose(),delete g[e]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},r.plot=function(g,e,h){var _=this.glplot;this.updateRefs(h),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(g,e),this.updateFx(h.dragmode);var w=h.width,S=h.height;this.updateSize(this.canvas);var O=this.glplotOptions;O.merge(h),O.screenBox=[0,0,w,S];var A={_fullLayout:{_axisConstraintGroups:h._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:h._size}};y(A,this.xaxis),y(A,this.yaxis);var I,B,C=h._size,z=this.xaxis.domain,P=this.yaxis.domain;for(O.viewBox=[C.l+z[0]*C.w,C.b+P[0]*C.h,w-C.r-(1-z[1])*C.w,S-C.t-(1-P[1])*C.h],this.mouseContainer.style.width=C.w*(z[1]-z[0])+"px",this.mouseContainer.style.height=C.h*(P[1]-P[0])+"px",this.mouseContainer.height=C.h*(P[1]-P[0]),this.mouseContainer.style.left=C.l+z[0]*C.w+"px",this.mouseContainer.style.top=C.t+(1-P[1])*C.h+"px",B=0;B<2;++B)(I=this[n[B]])._length=O.viewBox[B+2]-O.viewBox[B],p(this.graphDiv,I),I.setScale();v(A),O.ticks=this.computeTickMarks(),O.dataBox=this.calcDataBox(),O.merge(h),_.update(O),this.glplot.draw()},r.calcDataBox=function(){var g=this.xaxis,e=this.yaxis,h=g.range,_=e.range,w=g.r2l,S=e.r2l;return[w(h[0]),S(_[0]),w(h[1]),S(_[1])]},r.setRanges=function(g){var e=this.xaxis,h=this.yaxis,_=e.l2r,w=h.l2r;e.range=[_(g[0]),_(g[2])],h.range=[w(g[1]),w(g[3])]},r.updateTraces=function(g,e){var h,_,w,S=Object.keys(this.traces);this.fullData=g;e:for(h=0;h<S.length;h++){var O=S[h],A=this.traces[O];for(_=0;_<g.length;_++)if((w=g[_]).uid===O&&w.type===A.type)continue e;A.dispose(),delete this.traces[O]}for(h=0;h<g.length;h++){w=g[h];var I=e[h],B=this.traces[w.uid];B?B.update(w,I):(B=w._module.plot(this,w,I),this.traces[w.uid]=B)}this.glplot.objects.sort(function(C,z){return C._trace.index-z._trace.index})},r.updateFx=function(g){f(g)||x(g)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=g==="pan"?"move":g==="zoom"?"crosshair":null},r.emitPointAction=function(g,e){for(var h,_=g.trace.uid,w=g.pointIndex,S=0;S<this.fullData.length;S++)this.fullData[S].uid===_&&(h=this.fullData[S]);var O={x:g.traceCoord[0],y:g.traceCoord[1],curveNumber:h.index,pointNumber:w,data:h._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};k.appendArrayPointValue(O,h,w),this.graphDiv.emit(e,{points:[O]})},r.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var g=this.glplot,e=this.camera,h=e.mouseListener,_=this.lastButtonState===1&&h.buttons===0,w=this.fullLayout;this.lastButtonState=h.buttons,this.cameraChanged();var S,O=h.x*g.pixelRatio,A=this.canvas.height-g.pixelRatio*h.y;if(e.boxEnabled&&w.dragmode==="zoom"){this.selectBox.enabled=!0;for(var I=this.selectBox.selectBox=[Math.min(e.boxStart[0],e.boxEnd[0]),Math.min(e.boxStart[1],e.boxEnd[1]),Math.max(e.boxStart[0],e.boxEnd[0]),Math.max(e.boxStart[1],e.boxEnd[1])],B=0;B<2;B++)e.boxStart[B]===e.boxEnd[B]&&(I[B]=g.dataBox[B],I[B+2]=g.dataBox[B+2]);g.setDirty()}else if(!e.panning&&this.isMouseOver){this.selectBox.enabled=!1;var C=w._size,z=this.xaxis.domain,P=this.yaxis.domain,R=(S=g.pick(O/g.pixelRatio+C.l+z[0]*C.w,A/g.pixelRatio-(C.t+(1-P[1])*C.h)))&&S.object._trace.handlePick(S);if(R&&_&&this.emitPointAction(R,"plotly_click"),S&&S.object._trace.hoverinfo!=="skip"&&w.hovermode&&R&&(!this.lastPickResult||this.lastPickResult.traceUid!==R.trace.uid||this.lastPickResult.dataCoord[0]!==R.dataCoord[0]||this.lastPickResult.dataCoord[1]!==R.dataCoord[1])){var N=R;this.lastPickResult={traceUid:R.trace?R.trace.uid:null,dataCoord:R.dataCoord.slice()},this.spikes.update({center:S.dataCoord}),N.screenCoord=[((g.viewBox[2]-g.viewBox[0])*(S.dataCoord[0]-g.dataBox[0])/(g.dataBox[2]-g.dataBox[0])+g.viewBox[0])/g.pixelRatio,(this.canvas.height-(g.viewBox[3]-g.viewBox[1])*(S.dataCoord[1]-g.dataBox[1])/(g.dataBox[3]-g.dataBox[1])-g.viewBox[1])/g.pixelRatio],this.emitPointAction(R,"plotly_hover");var j=this.fullData[N.trace.index]||{},W=N.pointIndex,Y=k.castHoverinfo(j,w,W);if(Y&&Y!=="all"){var J=Y.split("+");J.indexOf("x")===-1&&(N.traceCoord[0]=void 0),J.indexOf("y")===-1&&(N.traceCoord[1]=void 0),J.indexOf("z")===-1&&(N.traceCoord[2]=void 0),J.indexOf("text")===-1&&(N.textLabel=void 0),J.indexOf("name")===-1&&(N.name=void 0)}k.loneHover({x:N.screenCoord[0],y:N.screenCoord[1],xLabel:this.hoverFormatter("xaxis",N.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",N.traceCoord[1]),zLabel:N.traceCoord[2],text:N.textLabel,name:N.name,color:k.castHoverOption(j,W,"bgcolor")||N.color,borderColor:k.castHoverOption(j,W,"bordercolor"),fontFamily:k.castHoverOption(j,W,"font.family"),fontSize:k.castHoverOption(j,W,"font.size"),fontColor:k.castHoverOption(j,W,"font.color"),nameLength:k.castHoverOption(j,W,"namelength"),textAlign:k.castHoverOption(j,W,"align")},{container:this.svgContainer,gd:this.graphDiv})}}S||this.unhover(),g.draw()}},r.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),k.loneUnhover(this.svgContainer))},r.hoverFormatter=function(g,e){if(e!==void 0){var h=this[g];return T.tickText(h,h.c2l(e),"hover").text}}},25802:function($){function F(m,L){var D,E,T=[0,0,0,0];for(D=0;D<4;++D)for(E=0;E<4;++E)T[E]+=m[4*D+E]*L[D];return T}$.exports=function(m,L){return F(m.projection,F(m.view,F(m.model,[L[0],L[1],L[2],1])))}},6704:function($,F,m){var L=m(80337),D=m(49722),E=m(10229),T=m(64101),k=m(52307),M=m(57891),b=m(93049).extendFlat,a=L({editType:"calc"});a.family.dflt='"Open Sans", verdana, arial, sans-serif',a.size.dflt=12,a.color.dflt=E.defaultLine,$.exports={font:a,title:{text:{valType:"string",editType:"layoutstyle"},font:L({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:L({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:b(M({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:E.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:E.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:E.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:T.newshape,activeshape:T.activeshape,newselection:k.newselection,activeselection:k.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:b({},D.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:L({editType:"layoutstyle"})}}},57891:function($){$.exports=function(F){var m=F.editType;return{t:{valType:"number",dflt:0,editType:m},r:{valType:"number",dflt:0,editType:m},b:{valType:"number",dflt:0,editType:m},l:{valType:"number",dflt:0,editType:m},editType:m}}},44122:function($,F,m){var L=m(45568),D=m(42696).de,E=m(36464).OE,T=m(10721),k=m(93229),M=m(33626),b=m(57297),a=m(78032),t=m(34809),u=m(78766),i=m(63821).BADNUM,l=m(5975),d=m(78534).clearOutline,v=m(26667),y=m(49722),p=m(58935),c=m(4173).eV,x=t.relinkPrivateKeys,f=t._,n=$.exports={};t.extendFlat(n,M),n.attributes=m(9829),n.attributes.type.values=n.allTypes,n.fontAttrs=m(80337),n.layoutAttributes=m(6704);var o=n.transformsRegistry,s=m(90251);n.executeAPICommand=s.executeAPICommand,n.computeAPICommandBindings=s.computeAPICommandBindings,n.manageCommandObserver=s.manageCommandObserver,n.hasSimpleAPICommandBindings=s.hasSimpleAPICommandBindings,n.redrawText=function(P){return P=t.getGraphDiv(P),new Promise(function(R){setTimeout(function(){P._fullLayout&&(M.getComponentMethod("annotations","draw")(P),M.getComponentMethod("legend","draw")(P),M.getComponentMethod("colorbar","draw")(P),R(n.previousPromises(P)))},300)})},n.resize=function(P){var R;P=t.getGraphDiv(P);var N=new Promise(function(j,W){P&&!t.isHidden(P)||W(new Error("Resize must be passed a displayed plot div element.")),P._redrawTimer&&clearTimeout(P._redrawTimer),P._resolveResize&&(R=P._resolveResize),P._resolveResize=j,P._redrawTimer=setTimeout(function(){if(!P.layout||P.layout.width&&P.layout.height||t.isHidden(P))j(P);else{delete P.layout.width,delete P.layout.height;var Y=P.changed;P.autoplay=!0,M.call("relayout",P,{autosize:!0}).then(function(){P.changed=Y,P._resolveResize===j&&(delete P._resolveResize,j(P))})}},100)});return R&&R(N),N},n.previousPromises=function(P){if((P._promises||[]).length)return Promise.all(P._promises).then(function(){P._promises=[]})},n.addLinks=function(P){if(P._context.showLink||P._context.showSources){var R=P._fullLayout,N=t.ensureSingle(R._paper,"text","js-plot-link-container",function(H){H.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var U=L.select(this);U.append("tspan").classed("js-link-to-tool",!0),U.append("tspan").classed("js-link-spacer",!0),U.append("tspan").classed("js-sourcelinks",!0)})}),j=N.node(),W={y:R._paper.attr("height")-9};document.body.contains(j)&&j.getComputedTextLength()>=R.width-20?(W["text-anchor"]="start",W.x=5):(W["text-anchor"]="end",W.x=R._paper.attr("width")-7),N.attr(W);var Y=N.select(".js-link-to-tool"),J=N.select(".js-link-spacer"),G=N.select(".js-sourcelinks");P._context.showSources&&P._context.showSources(P),P._context.showLink&&function(H,U){U.text("");var Z=U.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(H._context.linkText+" ");if(H._context.sendData)Z.on("click",function(){n.sendDataToCloud(H)});else{var q=window.location.pathname.split("/"),Q=window.location.search;Z.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+q[2].split(".")[0]+"/"+q[1]+Q})}}(P,Y),J.text(Y.text()&&G.text()?" - ":"")}},n.sendDataToCloud=function(P){var R=(window.PLOTLYENV||{}).BASE_URL||P._context.plotlyServerURL;if(R){P.emit("plotly_beforeexport");var N=L.select(P).append("div").attr("id","hiddenform").style("display","none"),j=N.append("form").attr({action:R+"/external",method:"post",target:"_blank"});return j.append("input").attr({type:"text",name:"data"}).node().value=n.graphJson(P,!1,"keepdata"),j.node().submit(),N.remove(),P.emit("plotly_afterexport"),!1}};var r=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],g=["year","month","dayMonth","dayMonthYear"];function e(P,R){var N=P._context.locale;N||(N="en-US");var j=!1,W={};function Y(q){for(var Q=!0,ne=0;ne<R.length;ne++){var ie=R[ne];W[ie]||(q[ie]?W[ie]=q[ie]:Q=!1)}Q&&(j=!0)}for(var J=0;J<2;J++){for(var G=P._context.locales,H=0;H<2;H++){var U=(G[N]||{}).format;if(U&&(Y(U),j))break;G=M.localeRegistry}var Z=N.split("-")[0];if(j||Z===N)break;N=Z}return j||Y(M.localeRegistry.en.format),W}function h(P,R){var N={_fullLayout:R},j=P._id.charAt(0)==="x",W=P._mainAxis._anchorAxis,Y="",J="",G="";if(W&&(G=W._mainAxis._id,Y=j?P._id+G:G+P._id),!Y||!R._plots[Y]){Y="";for(var H=P._counterAxes,U=0;U<H.length;U++){var Z=H[U],q=j?P._id+Z:Z+P._id;J||(J=q);var Q=l.getFromId(N,Z);if(G&&Q.overlaying===G){Y=q;break}}}return Y||J}function _(P){var R=P.transforms;if(Array.isArray(R)&&R.length)for(var N=0;N<R.length;N++){var j=R[N],W=j._module||o[j.type];if(W&&W.makesData)return!0}return!1}function w(P,R,N,j){for(var W=P.transforms,Y=[P],J=0;J<W.length;J++){var G=W[J],H=o[G.type];H&&H.transform&&(Y=H.transform(Y,{transform:G,fullTrace:P,fullData:R,layout:N,fullLayout:j,transformIndex:J}))}return Y}function S(P){return typeof P=="string"&&P.substr(P.length-2)==="px"&&parseFloat(P)}function O(P){var R=P.margin;if(!P._size){var N=P._size={l:Math.round(R.l),r:Math.round(R.r),t:Math.round(R.t),b:Math.round(R.b),p:Math.round(R.pad)};N.w=Math.round(P.width)-N.l-N.r,N.h=Math.round(P.height)-N.t-N.b}P._pushmargin||(P._pushmargin={}),P._pushmarginIds||(P._pushmarginIds={}),P._reservedMargin||(P._reservedMargin={})}n.supplyDefaults=function(P,R){var N=R&&R.skipUpdateCalc,j=P._fullLayout||{};if(j._skipDefaults)delete j._skipDefaults;else{var W,Y=P._fullLayout={},J=P.layout||{},G=P._fullData||[],H=P._fullData=[],U=P.data||[],Z=P.calcdata||[],q=P._context||{};P._transitionData||n.createTransitionData(P),Y._dfltTitle={plot:f(P,"Click to enter Plot title"),subtitle:f(P,"Click to enter Plot subtitle"),x:f(P,"Click to enter X axis title"),y:f(P,"Click to enter Y axis title"),colorbar:f(P,"Click to enter Colorscale title"),annotation:f(P,"new text")},Y._traceWord=f(P,"trace");var Q=e(P,r);if(Y._mapboxAccessToken=q.mapboxAccessToken,j._initialAutoSizeIsDone){var ne=j.width,ie=j.height;n.supplyLayoutGlobalDefaults(J,Y,Q),J.width||(Y.width=ne),J.height||(Y.height=ie),n.sanitizeMargins(Y)}else{n.supplyLayoutGlobalDefaults(J,Y,Q);var le=!J.width||!J.height,fe=Y.autosize,pe=q.autosizable;le&&(fe||pe)?n.plotAutoSize(P,J,Y):le&&n.sanitizeMargins(Y),!fe&&le&&(J.width=Y.width,J.height=Y.height)}Y._d3locale=function(be,Ee){return be.decimal=Ee.charAt(0),be.thousands=Ee.charAt(1),{numberFormat:function(Se){try{Se=E(be).format(t.adjustFormat(Se))}catch{return t.warnBadFormat(Se),t.noFormat}return Se},timeFormat:D(be).utcFormat}}(Q,Y.separators),Y._extraFormat=e(P,g),Y._initialAutoSizeIsDone=!0,Y._dataLength=U.length,Y._modules=[],Y._visibleModules=[],Y._basePlotModules=[];var me=Y._subplots=function(){var be,Ee,Se=M.collectableSubplotTypes,De={};if(!Se){Se=[];var Ge=M.subplotsRegistry;for(var Xe in Ge){var Ke=Ge[Xe].attr;if(Ke&&(Se.push(Xe),Array.isArray(Ke)))for(Ee=0;Ee<Ke.length;Ee++)t.pushUnique(Se,Ke[Ee])}}for(be=0;be<Se.length;be++)De[Se[be]]=[];return De}(),ke=Y._splomAxes={x:{},y:{}},ve=Y._splomSubplots={};Y._splomGridDflt={},Y._scatterStackOpts={},Y._firstScatter={},Y._alignmentOpts={},Y._colorAxes={},Y._requestRangeslider={},Y._traceUids=function(be,Ee){var Se,De,Ge=Ee.length,Xe=[];for(Se=0;Se<be.length;Se++){var Ke=be[Se]._fullInput;Ke!==De&&Xe.push(Ke),De=Ke}var ut=Xe.length,Tt=new Array(Ge),je={};function Le(Ot,Je){Tt[Je]=Ot,je[Ot]=1}function $e(Ot,Je){if(Ot&&typeof Ot=="string"&&!je[Ot])return Le(Ot,Je),!0}for(Se=0;Se<Ge;Se++){var st=Ee[Se].uid;typeof st=="number"&&(st=String(st)),$e(st,Se)||Se<ut&&$e(Xe[Se].uid,Se)||Le(t.randstr(je),Se)}return Tt}(G,U),Y._globalTransforms=(P._context||{}).globalTransforms,n.supplyDataDefaults(U,H,J,Y);var he=Object.keys(ke.x),de=Object.keys(ke.y);if(he.length>1&&de.length>1){for(M.getComponentMethod("grid","sizeDefaults")(J,Y),W=0;W<he.length;W++)t.pushUnique(me.xaxis,he[W]);for(W=0;W<de.length;W++)t.pushUnique(me.yaxis,de[W]);for(var X in ve)t.pushUnique(me.cartesian,X)}if(Y._has=n._hasPlotType.bind(Y),G.length===H.length)for(W=0;W<H.length;W++)x(H[W],G[W]);n.supplyLayoutModuleDefaults(J,Y,H,P._transitionData);var ae=Y._visibleModules,K=[];for(W=0;W<ae.length;W++){var ge=ae[W].crossTraceDefaults;ge&&t.pushUnique(K,ge)}for(W=0;W<K.length;W++)K[W](H,Y);Y._hasOnlyLargeSploms=Y._basePlotModules.length===1&&Y._basePlotModules[0].name==="splom"&&he.length>15&&de.length>15&&Y.shapes.length===0&&Y.images.length===0,n.linkSubplots(H,Y,G,j),n.cleanPlot(H,Y,G,j);var re=!(!j._has||!j._has("gl2d")),ue=!(!Y._has||!Y._has("gl2d")),we=!(!j._has||!j._has("cartesian"))||re,Te=!(!Y._has||!Y._has("cartesian"))||ue;we&&!Te?j._bgLayer.remove():Te&&!we&&(Y._shouldCreateBgLayer=!0),j._zoomlayer&&!P._dragging&&d({_fullLayout:j}),function(be,Ee){var Se,De=[];Ee.meta&&(Se=Ee._meta={meta:Ee.meta,layout:{meta:Ee.meta}});for(var Ge=0;Ge<be.length;Ge++){var Xe=be[Ge];Xe.meta?De[Xe.index]=Xe._meta={meta:Xe.meta}:Ee.meta&&(Xe._meta={meta:Ee.meta}),Ee.meta&&(Xe._meta.layout={meta:Ee.meta})}De.length&&(Se||(Se=Ee._meta={}),Se.data=De)}(H,Y),x(Y,j),M.getComponentMethod("colorscale","crossTraceDefaults")(H,Y),Y._preGUI||(Y._preGUI={}),Y._tracePreGUI||(Y._tracePreGUI={});var ee,se=Y._tracePreGUI,ce={};for(ee in se)ce[ee]="old";for(W=0;W<H.length;W++)ce[ee=H[W]._fullInput.uid]||(se[ee]={}),ce[ee]="new";for(ee in ce)ce[ee]==="old"&&delete se[ee];O(Y),M.getComponentMethod("rangeslider","makeData")(Y),N||Z.length!==H.length||n.supplyDefaultsUpdateCalc(Z,H)}},n.supplyDefaultsUpdateCalc=function(P,R){for(var N=0;N<R.length;N++){var j=R[N],W=(P[N]||[])[0];if(W&&W.trace){var Y=W.trace;if(Y._hasCalcTransform){var J,G,H,U=Y._arrayAttrs;for(J=0;J<U.length;J++)G=U[J],H=t.nestedProperty(Y,G).get().slice(),t.nestedProperty(j,G).set(H)}W.trace=j}}},n.createTransitionData=function(P){P._transitionData||(P._transitionData={}),P._transitionData._frames||(P._transitionData._frames=[]),P._transitionData._frameHash||(P._transitionData._frameHash={}),P._transitionData._counter||(P._transitionData._counter=0),P._transitionData._interruptCallbacks||(P._transitionData._interruptCallbacks=[])},n._hasPlotType=function(P){var R,N=this._basePlotModules||[];for(R=0;R<N.length;R++)if(N[R].name===P)return!0;var j=this._modules||[];for(R=0;R<j.length;R++){var W=j[R].name;if(W===P)return!0;var Y=M.modules[W];if(Y&&Y.categories[P])return!0}return!1},n.cleanPlot=function(P,R,N,j){var W,Y,J=j._basePlotModules||[];for(W=0;W<J.length;W++){var G=J[W];G.clean&&G.clean(P,R,N,j)}var H=j._has&&j._has("gl"),U=R._has&&R._has("gl");H&&!U&&j._glcontainer!==void 0&&(j._glcontainer.selectAll(".gl-canvas").remove(),j._glcontainer.selectAll(".no-webgl").remove(),j._glcanvas=null);var Z=!!j._infolayer;e:for(W=0;W<N.length;W++){var q=N[W].uid;for(Y=0;Y<P.length;Y++)if(q===P[Y].uid)continue e;Z&&j._infolayer.select(".cb"+q).remove()}},n.linkSubplots=function(P,R,N,j){var W,Y,J=j._plots||{},G=R._plots={},H=R._subplots,U={_fullData:P,_fullLayout:R},Z=H.cartesian.concat(H.gl2d||[]);for(W=0;W<Z.length;W++){var q,Q=Z[W],ne=J[Q],ie=l.getFromId(U,Q,"x"),le=l.getFromId(U,Q,"y");for(ne?q=G[Q]=ne:(q=G[Q]={}).id=Q,ie._counterAxes.push(le._id),le._counterAxes.push(ie._id),ie._subplotsWith.push(Q),le._subplotsWith.push(Q),q.xaxis=ie,q.yaxis=le,q._hasClipOnAxisFalse=!1,Y=0;Y<P.length;Y++){var fe=P[Y];if(fe.xaxis===q.xaxis._id&&fe.yaxis===q.yaxis._id&&fe.cliponaxis===!1){q._hasClipOnAxisFalse=!0;break}}}var pe,me=l.list(U,null,!0);for(W=0;W<me.length;W++){var ke=null;(pe=me[W]).overlaying&&(ke=l.getFromId(U,pe.overlaying))&&ke.overlaying&&(pe.overlaying=!1,ke=null),pe._mainAxis=ke||pe,ke&&(pe.domain=ke.domain.slice()),pe._anchorAxis=pe.anchor==="free"?null:l.getFromId(U,pe.anchor)}for(W=0;W<me.length;W++)if((pe=me[W])._counterAxes.sort(l.idSort),pe._subplotsWith.sort(t.subplotSort),pe._mainSubplot=h(pe,R),pe._counterAxes.length&&(pe.spikemode&&pe.spikemode.indexOf("across")!==-1||pe.automargin&&pe.mirror&&pe.anchor!=="free"||M.getComponentMethod("rangeslider","isVisible")(pe))){var ve=1,he=0;for(Y=0;Y<pe._counterAxes.length;Y++){var de=l.getFromId(U,pe._counterAxes[Y]);ve=Math.min(ve,de.domain[0]),he=Math.max(he,de.domain[1])}ve<he&&(pe._counterDomainMin=ve,pe._counterDomainMax=he)}},n.clearExpandedTraceDefaultColors=function(P){var R,N,j;for(N=[],(R=P._module._colorAttrs)||(P._module._colorAttrs=R=[],b.crawl(P._module.attributes,function(W,Y,J,G){N[G]=Y,N.length=G+1,W.valType==="color"&&W.dflt===void 0&&R.push(N.join("."))})),j=0;j<R.length;j++)t.nestedProperty(P,"_input."+R[j]).get()||t.nestedProperty(P,R[j]).set(null)},n.supplyDataDefaults=function(P,R,N,j){var W,Y,J,G=j._modules,H=j._visibleModules,U=j._basePlotModules,Z=0,q=0;function Q(X){R.push(X);var ae=X._module;ae&&(t.pushUnique(G,ae),X.visible===!0&&t.pushUnique(H,ae),t.pushUnique(U,X._module.basePlotModule),Z++,X._input.visible!==!1&&q++)}j._transformModules=[];var ne={},ie=[],le=(N.template||{}).data||{},fe=a.traceTemplater(le);for(W=0;W<P.length;W++){if(J=P[W],(Y=fe.newTrace(J)).uid=j._traceUids[W],n.supplyTraceDefaults(J,Y,q,j,W),Y.index=W,Y._input=J,Y._expandedIndex=Z,Y.transforms&&Y.transforms.length)for(var pe=J.visible!==!1&&Y.visible===!1,me=w(Y,R,N,j),ke=0;ke<me.length;ke++){var ve=me[ke],he={_template:Y._template,type:Y.type,uid:Y.uid+ke};pe&&ve.visible===!1&&delete ve.visible,n.supplyTraceDefaults(ve,he,Z,j,W),x(he,ve),he.index=W,he._input=J,he._fullInput=Y,he._expandedIndex=Z,he._expandedInput=ve,Q(he)}else Y._fullInput=Y,Y._expandedInput=Y,Q(Y);M.traceIs(Y,"carpetAxis")&&(ne[Y.carpet]=Y),M.traceIs(Y,"carpetDependent")&&ie.push(W)}for(W=0;W<ie.length;W++)if((Y=R[ie[W]]).visible){var de=ne[Y.carpet];Y._carpet=de,de&&de.visible?(Y.xaxis=de.xaxis,Y.yaxis=de.yaxis):Y.visible=!1}},n.supplyAnimationDefaults=function(P){var R;P=P||{};var N={};function j(W,Y){return t.coerce(P||{},N,y,W,Y)}if(j("mode"),j("direction"),j("fromcurrent"),Array.isArray(P.frame))for(N.frame=[],R=0;R<P.frame.length;R++)N.frame[R]=n.supplyAnimationFrameDefaults(P.frame[R]||{});else N.frame=n.supplyAnimationFrameDefaults(P.frame||{});if(Array.isArray(P.transition))for(N.transition=[],R=0;R<P.transition.length;R++)N.transition[R]=n.supplyAnimationTransitionDefaults(P.transition[R]||{});else N.transition=n.supplyAnimationTransitionDefaults(P.transition||{});return N},n.supplyAnimationFrameDefaults=function(P){var R={};function N(j,W){return t.coerce(P||{},R,y.frame,j,W)}return N("duration"),N("redraw"),R},n.supplyAnimationTransitionDefaults=function(P){var R={};function N(j,W){return t.coerce(P||{},R,y.transition,j,W)}return N("duration"),N("easing"),R},n.supplyFrameDefaults=function(P){var R={};function N(j,W){return t.coerce(P,R,p,j,W)}return N("group"),N("name"),N("traces"),N("baseframe"),N("data"),N("layout"),R},n.supplyTraceDefaults=function(P,R,N,j,W){var Y,J=j.colorway||u.defaults,G=J[N%J.length];function H(ke,ve){return t.coerce(P,R,n.attributes,ke,ve)}var U=H("visible");H("type"),H("name",j._traceWord+" "+W),H("uirevision",j.uirevision);var Z=n.getModule(R);if(R._module=Z,Z){var q=Z.basePlotModule,Q=q.attr,ne=q.attributes;if(Q&&ne){var ie=j._subplots,le="";if(U||q.name!=="gl2d"){if(Array.isArray(Q))for(Y=0;Y<Q.length;Y++){var fe=Q[Y],pe=t.coerce(P,R,ne,fe);ie[fe]&&t.pushUnique(ie[fe],pe),le+=pe}else le=t.coerce(P,R,ne,Q);ie[q.name]&&t.pushUnique(ie[q.name],le)}}}if(U){if(H("customdata"),H("ids"),H("meta"),M.traceIs(R,"showLegend")?(t.coerce(P,R,Z.attributes.showlegend?Z.attributes:n.attributes,"showlegend"),H("legend"),H("legendwidth"),H("legendgroup"),H("legendgrouptitle.text"),H("legendrank"),R._dfltShowLegend=!0):R._dfltShowLegend=!1,Z&&Z.supplyDefaults(P,R,G,j),M.traceIs(R,"noOpacity")||H("opacity"),M.traceIs(R,"notLegendIsolatable")&&(R.visible=!!R.visible),M.traceIs(R,"noHover")||(R.hovertemplate||t.coerceHoverinfo(P,R,j),R.type!=="parcats"&&M.getComponentMethod("fx","supplyDefaults")(P,R,G,j)),Z&&Z.selectPoints){var me=H("selectedpoints");t.isTypedArray(me)&&(R.selectedpoints=Array.from(me))}n.supplyTransformDefaults(P,R,j)}return R},n.hasMakesDataTransform=_,n.supplyTransformDefaults=function(P,R,N){if(R._length||_(P)){var j=N._globalTransforms||[],W=N._transformModules||[];if(Array.isArray(P.transforms)||j.length!==0)for(var Y=P.transforms||[],J=j.concat(Y),G=R.transforms=[],H=0;H<J.length;H++){var U,Z=J[H],q=Z.type,Q=o[q],ne=!(Z._module&&Z._module===Q),ie=Q&&typeof Q.transform=="function";Q||t.warn("Unrecognized transform type "+q+"."),Q&&Q.supplyDefaults&&(ne||ie)?((U=Q.supplyDefaults(Z,R,N,P)).type=q,U._module=Q,t.pushUnique(W,Q)):U=t.extendFlat({},Z),G.push(U)}}},n.supplyLayoutGlobalDefaults=function(P,R,N){function j(Z,q){return t.coerce(P,R,n.layoutAttributes,Z,q)}var W=P.template;t.isPlainObject(W)&&(R.template=W,R._template=W.layout,R._dataTemplate=W.data),j("autotypenumbers");var Y=t.coerceFont(j,"font"),J=Y.size;t.coerceFont(j,"title.font",Y,{overrideDflt:{size:Math.round(1.4*J)}}),j("title.text",R._dfltTitle.plot),j("title.xref");var G=j("title.yref");j("title.pad.t"),j("title.pad.r"),j("title.pad.b"),j("title.pad.l");var H=j("title.automargin");j("title.x"),j("title.xanchor"),j("title.y"),j("title.yanchor"),j("title.subtitle.text",R._dfltTitle.subtitle),t.coerceFont(j,"title.subtitle.font",Y,{overrideDflt:{size:Math.round(.7*R.title.font.size)}}),H&&(G==="paper"&&(R.title.y!==0&&(R.title.y=1),R.title.yanchor==="auto"&&(R.title.yanchor=R.title.y===0?"top":"bottom")),G==="container"&&(R.title.y==="auto"&&(R.title.y=1),R.title.yanchor==="auto"&&(R.title.yanchor=R.title.y<.5?"bottom":"top"))),j("uniformtext.mode")&&j("uniformtext.minsize"),j("autosize",!(P.width&&P.height)),j("width"),j("height"),j("minreducedwidth"),j("minreducedheight"),j("margin.l"),j("margin.r"),j("margin.t"),j("margin.b"),j("margin.pad"),j("margin.autoexpand"),P.width&&P.height&&n.sanitizeMargins(R),M.getComponentMethod("grid","sizeDefaults")(P,R),j("paper_bgcolor"),j("separators",N.decimal+N.thousands),j("hidesources"),j("colorway"),j("datarevision");var U=j("uirevision");j("editrevision",U),j("selectionrevision",U),M.getComponentMethod("modebar","supplyLayoutDefaults")(P,R),M.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(P,R,j),M.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(P,R,j),j("meta"),t.isPlainObject(P.transition)&&(j("transition.duration"),j("transition.easing"),j("transition.ordering")),M.getComponentMethod("calendars","handleDefaults")(P,R,"calendar"),M.getComponentMethod("fx","supplyLayoutGlobalDefaults")(P,R,j),t.coerce(P,R,v,"scattermode")},n.plotAutoSize=function(P,R,N){var j,W,Y=P._context||{},J=Y.frameMargins,G=t.isPlotDiv(P);if(G&&P.emit("plotly_autosize"),Y.fillFrame)j=window.innerWidth,W=window.innerHeight,document.body.style.overflow="hidden";else{var H=G?window.getComputedStyle(P):{};if(j=S(H.width)||S(H.maxWidth)||N.width,W=S(H.height)||S(H.maxHeight)||N.height,T(J)&&J>0){var U=1-2*J;j=Math.round(U*j),W=Math.round(U*W)}}var Z=n.layoutAttributes.width.min,q=n.layoutAttributes.height.min;j<Z&&(j=Z),W<q&&(W=q);var Q=!R.width&&Math.abs(N.width-j)>1,ne=!R.height&&Math.abs(N.height-W)>1;(ne||Q)&&(Q&&(N.width=j),ne&&(N.height=W)),P._initialAutoSize||(P._initialAutoSize={width:j,height:W}),n.sanitizeMargins(N)},n.supplyLayoutModuleDefaults=function(P,R,N,j){var W,Y,J,G=M.componentsRegistry,H=R._basePlotModules,U=M.subplotsRegistry.cartesian;for(W in G)(J=G[W]).includeBasePlot&&J.includeBasePlot(P,R);for(var Z in H.length||H.push(U),R._has("cartesian")&&(M.getComponentMethod("grid","contentDefaults")(P,R),U.finalizeSubplots(P,R)),R._subplots)R._subplots[Z].sort(t.subplotSort);for(Y=0;Y<H.length;Y++)(J=H[Y]).supplyLayoutDefaults&&J.supplyLayoutDefaults(P,R,N);var q=R._modules;for(Y=0;Y<q.length;Y++)(J=q[Y]).supplyLayoutDefaults&&J.supplyLayoutDefaults(P,R,N);var Q=R._transformModules;for(Y=0;Y<Q.length;Y++)(J=Q[Y]).supplyLayoutDefaults&&J.supplyLayoutDefaults(P,R,N,j);for(W in G)(J=G[W]).supplyLayoutDefaults&&J.supplyLayoutDefaults(P,R,N)},n.purge=function(P){var R=P._fullLayout||{};R._glcontainer!==void 0&&(R._glcontainer.selectAll(".gl-canvas").remove(),R._glcontainer.remove(),R._glcanvas=null),R._modeBar&&R._modeBar.destroy(),P._transitionData&&(P._transitionData._interruptCallbacks&&(P._transitionData._interruptCallbacks.length=0),P._transitionData._animationRaf&&window.cancelAnimationFrame(P._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(P),delete P.data,delete P.layout,delete P._fullData,delete P._fullLayout,delete P.calcdata,delete P.empty,delete P.fid,delete P.undoqueue,delete P.undonum,delete P.autoplay,delete P.changed,delete P._promises,delete P._redrawTimer,delete P._hmlumcount,delete P._hmpixcount,delete P._transitionData,delete P._transitioning,delete P._initialAutoSize,delete P._transitioningWithDuration,delete P._dragging,delete P._dragged,delete P._dragdata,delete P._hoverdata,delete P._snapshotInProgress,delete P._editing,delete P._mouseDownTime,delete P._legendMouseDownTime,P.removeAllListeners&&P.removeAllListeners()},n.style=function(P){var R,N=P._fullLayout._visibleModules,j=[];for(R=0;R<N.length;R++){var W=N[R];W.style&&t.pushUnique(j,W.style)}for(R=0;R<j.length;R++)j[R](P)},n.sanitizeMargins=function(P){if(P&&P.margin){var R,N=P.width,j=P.height,W=P.margin,Y=N-(W.l+W.r),J=j-(W.t+W.b);Y<0&&(R=(N-1)/(W.l+W.r),W.l=Math.floor(R*W.l),W.r=Math.floor(R*W.r)),J<0&&(R=(j-1)/(W.t+W.b),W.t=Math.floor(R*W.t),W.b=Math.floor(R*W.b))}},n.clearAutoMarginIds=function(P){P._fullLayout._pushmarginIds={}},n.allowAutoMargin=function(P,R){P._fullLayout._pushmarginIds[R]=1},n.autoMargin=function(P,R,N){var j=P._fullLayout,W=j.width,Y=j.height,J=j.margin,G=j.minreducedwidth,H=j.minreducedheight,U=t.constrain(W-J.l-J.r,2,G),Z=t.constrain(Y-J.t-J.b,2,H),q=Math.max(0,W-U),Q=Math.max(0,Y-Z),ne=j._pushmargin,ie=j._pushmarginIds;if(J.autoexpand!==!1){if(N){var le=N.pad;if(le===void 0&&(le=Math.min(12,J.l,J.r,J.t,J.b)),q){var fe=(N.l+N.r)/q;fe>1&&(N.l/=fe,N.r/=fe)}if(Q){var pe=(N.t+N.b)/Q;pe>1&&(N.t/=pe,N.b/=pe)}var me=N.xl!==void 0?N.xl:N.x,ke=N.xr!==void 0?N.xr:N.x,ve=N.yt!==void 0?N.yt:N.y,he=N.yb!==void 0?N.yb:N.y;ne[R]={l:{val:me,size:N.l+le},r:{val:ke,size:N.r+le},b:{val:he,size:N.b+le},t:{val:ve,size:N.t+le}},ie[R]=1}else delete ne[R],delete ie[R];if(!j._replotting)return n.doAutoMargin(P)}},n.doAutoMargin=function(P){var R=P._fullLayout,N=R.width,j=R.height;R._size||(R._size={}),O(R);var W=R._size,Y=R.margin,J={t:0,b:0,l:0,r:0},G=t.extendFlat({},W),H=Y.l,U=Y.r,Z=Y.t,q=Y.b,Q=R._pushmargin,ne=R._pushmarginIds,ie=R.minreducedwidth,le=R.minreducedheight;if(Y.autoexpand!==!1){for(var fe in Q)ne[fe]||delete Q[fe];var pe=P._fullLayout._reservedMargin;for(var me in pe)for(var ke in pe[me]){var ve=pe[me][ke];J[ke]=Math.max(J[ke],ve)}for(var he in Q.base={l:{val:0,size:H},r:{val:1,size:U},t:{val:1,size:Z},b:{val:0,size:q}},J){var de=0;for(var X in Q)X!=="base"&&T(Q[X][he].size)&&(de=Q[X][he].size>de?Q[X][he].size:de);var ae=Math.max(0,Y[he]-de);J[he]=Math.max(0,J[he]-ae)}for(var K in Q){var ge=Q[K].l||{},re=Q[K].b||{},ue=ge.val,we=ge.size,Te=re.val,ee=re.size,se=N-J.r-J.l,ce=j-J.t-J.b;for(var be in Q){if(T(we)&&Q[be].r){var Ee=Q[be].r.val,Se=Q[be].r.size;if(Ee>ue){var De=(we*Ee+(Se-se)*ue)/(Ee-ue),Ge=(Se*(1-ue)+(we-se)*(1-Ee))/(Ee-ue);De+Ge>H+U&&(H=De,U=Ge)}}if(T(ee)&&Q[be].t){var Xe=Q[be].t.val,Ke=Q[be].t.size;if(Xe>Te){var ut=(ee*Xe+(Ke-ce)*Te)/(Xe-Te),Tt=(Ke*(1-Te)+(ee-ce)*(1-Xe))/(Xe-Te);ut+Tt>q+Z&&(q=ut,Z=Tt)}}}}}var je=t.constrain(N-Y.l-Y.r,2,ie),Le=t.constrain(j-Y.t-Y.b,2,le),$e=Math.max(0,N-je),st=Math.max(0,j-Le);if($e){var Ot=(H+U)/$e;Ot>1&&(H/=Ot,U/=Ot)}if(st){var Je=(q+Z)/st;Je>1&&(q/=Je,Z/=Je)}if(W.l=Math.round(H)+J.l,W.r=Math.round(U)+J.r,W.t=Math.round(Z)+J.t,W.b=Math.round(q)+J.b,W.p=Math.round(Y.pad),W.w=Math.round(N)-W.l-W.r,W.h=Math.round(j)-W.t-W.b,!R._replotting&&(n.didMarginChange(G,W)||function(gt){if("_redrawFromAutoMarginCount"in gt._fullLayout)return!1;var Oe=l.list(gt,"",!0);for(var Be in Oe)if(Oe[Be].autoshift||Oe[Be].shift)return!0;return!1}(P))){"_redrawFromAutoMarginCount"in R?R._redrawFromAutoMarginCount++:R._redrawFromAutoMarginCount=1;var at=3*(1+Object.keys(ne).length);if(R._redrawFromAutoMarginCount<at)return M.call("_doPlot",P);R._size=G,t.warn("Too many auto-margin redraws.")}(function(gt){var Oe=l.list(gt,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Be){for(var it=0;it<Oe.length;it++){var tt=Oe[it][Be];tt&&tt()}})})(P)};var A=["l","r","t","b","p","w","h"];function I(P,R,N){var j=!1,W=[n.previousPromises,function(){if(P._transitionData)return P._transitioning=!1,function(J){var G=Promise.resolve();if(!J)return G;for(;J.length;)G=G.then(J.shift());return G}(P._transitionData._interruptCallbacks)},N.prepareFn,n.rehover,n.reselect,function(){return P.emit("plotly_transitioning",[]),new Promise(function(J){P._transitioning=!0,R.duration>0&&(P._transitioningWithDuration=!0),P._transitionData._interruptCallbacks.push(function(){j=!0}),N.redraw&&P._transitionData._interruptCallbacks.push(function(){return M.call("redraw",P)}),P._transitionData._interruptCallbacks.push(function(){P.emit("plotly_transitioninterrupted",[])});var G=0,H=0;function U(){return G++,function(){var Z;H++,j||H!==G||(Z=J,P._transitionData&&(function(q){if(q)for(;q.length;)q.shift()}(P._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(N.redraw)return M.call("redraw",P)}).then(function(){P._transitioning=!1,P._transitioningWithDuration=!1,P.emit("plotly_transitioned",[])}).then(Z)))}}N.runFn(U),setTimeout(U())})}],Y=t.syncOrAsync(W,P);return Y&&Y.then||(Y=Promise.resolve()),Y.then(function(){return P})}n.didMarginChange=function(P,R){for(var N=0;N<A.length;N++){var j=A[N],W=P[j],Y=R[j];if(!T(W)||Math.abs(Y-W)>1)return!0}return!1},n.graphJson=function(P,R,N,j,W,Y){(W&&R&&!P._fullData||W&&!R&&!P._fullLayout)&&n.supplyDefaults(P);var J=W?P._fullData:P.data,G=W?P._fullLayout:P.layout,H=(P._transitionData||{})._frames;function U(Q,ne){if(typeof Q=="function")return ne?"_function_":null;if(t.isPlainObject(Q)){var ie,le={};return Object.keys(Q).sort().forEach(function(ke){if(["_","["].indexOf(ke.charAt(0))===-1)if(typeof Q[ke]!="function"){if(N==="keepdata"){if(ke.substr(ke.length-3)==="src")return}else if(N==="keepstream"){if(typeof(ie=Q[ke+"src"])=="string"&&ie.indexOf(":")>0&&!t.isPlainObject(Q.stream))return}else if(N!=="keepall"&&typeof(ie=Q[ke+"src"])=="string"&&ie.indexOf(":")>0)return;le[ke]=U(Q[ke],ne)}else ne&&(le[ke]="_function")}),le}var fe=Array.isArray(Q),pe=t.isTypedArray(Q);if((fe||pe)&&Q.dtype&&Q.shape){var me=Q.bdata;return U({dtype:Q.dtype,shape:Q.shape,bdata:t.isArrayBuffer(me)?k.encode(me):me},ne)}return fe?Q.map(function(ke){return U(ke,ne)}):pe?t.simpleMap(Q,t.identity):t.isJSDate(Q)?t.ms2DateTimeLocal(+Q):Q}var Z={data:(J||[]).map(function(Q){var ne=U(Q);return R&&delete ne.fit,ne})};if(!R&&(Z.layout=U(G),W)){var q=G._size;Z.layout.computed={margin:{b:q.b,l:q.l,r:q.r,t:q.t}}}return H&&(Z.frames=U(H)),Y&&(Z.config=U(P._context,!0)),j==="object"?Z:JSON.stringify(Z)},n.modifyFrames=function(P,R){var N,j,W,Y=P._transitionData._frames,J=P._transitionData._frameHash;for(N=0;N<R.length;N++)switch((j=R[N]).type){case"replace":W=j.value;var G=(Y[j.index]||{}).name,H=W.name;Y[j.index]=J[H]=W,H!==G&&(delete J[G],J[H]=W);break;case"insert":J[(W=j.value).name]=W,Y.splice(j.index,0,W);break;case"delete":delete J[(W=Y[j.index]).name],Y.splice(j.index,1)}return Promise.resolve()},n.computeFrame=function(P,R){var N,j,W,Y,J=P._transitionData._frameHash;if(!R)throw new Error("computeFrame must be given a string frame name");var G=J[R.toString()];if(!G)return!1;for(var H=[G],U=[G.name];G.baseframe&&(G=J[G.baseframe.toString()])&&U.indexOf(G.name)===-1;)H.push(G),U.push(G.name);for(var Z={};G=H.pop();)if(G.layout&&(Z.layout=n.extendLayout(Z.layout,G.layout)),G.data){if(Z.data||(Z.data=[]),!(j=G.traces))for(j=[],N=0;N<G.data.length;N++)j[N]=N;for(Z.traces||(Z.traces=[]),N=0;N<G.data.length;N++)(W=j[N])!=null&&((Y=Z.traces.indexOf(W))===-1&&(Y=Z.data.length,Z.traces[Y]=W),Z.data[Y]=n.extendTrace(Z.data[Y],G.data[N]))}return Z},n.recomputeFrameHash=function(P){for(var R=P._transitionData._frameHash={},N=P._transitionData._frames,j=0;j<N.length;j++){var W=N[j];W&&W.name&&(R[W.name]=W)}},n.extendObjectWithContainers=function(P,R,N){var j,W,Y,J,G,H,U,Z=t.extendDeepNoArrays({},R||{}),q=t.expandObjectPaths(Z),Q={};if(N&&N.length)for(Y=0;Y<N.length;Y++)(W=(j=t.nestedProperty(q,N[Y])).get())===void 0?t.nestedProperty(Q,N[Y]).set(null):(j.set(null),t.nestedProperty(Q,N[Y]).set(W));if(P=t.extendDeepNoArrays(P||{},q),N&&N.length){for(Y=0;Y<N.length;Y++)if(H=t.nestedProperty(Q,N[Y]).get()){for(U=(G=t.nestedProperty(P,N[Y])).get(),Array.isArray(U)||(U=[],G.set(U)),J=0;J<H.length;J++){var ne=H[J];U[J]=ne===null?null:n.extendObjectWithContainers(U[J],ne)}G.set(U)}}return P},n.dataArrayContainers=["transforms","dimensions"],n.layoutArrayContainers=M.layoutArrayContainers,n.extendTrace=function(P,R){return n.extendObjectWithContainers(P,R,n.dataArrayContainers)},n.extendLayout=function(P,R){return n.extendObjectWithContainers(P,R,n.layoutArrayContainers)},n.transition=function(P,R,N,j,W,Y){var J={redraw:W.redraw},G={},H=[];return J.prepareFn=function(){for(var U=Array.isArray(R)?R.length:0,Z=j.slice(0,U),q=0;q<Z.length;q++){var Q=Z[q],ne=P._fullData[Q]._module;if(ne){if(ne.animatable){var ie=ne.basePlotModule.name;G[ie]||(G[ie]=[]),G[ie].push(Q)}P.data[Z[q]]=n.extendTrace(P.data[Z[q]],R[q])}}var le=t.expandObjectPaths(t.extendDeepNoArrays({},N)),fe=/^[xy]axis[0-9]*$/;for(var pe in le)fe.test(pe)&&delete le[pe].range;n.extendLayout(P.layout,le),delete P.calcdata,n.supplyDefaults(P),n.doCalcdata(P);var me=t.expandObjectPaths(N);if(me){var ke=P._fullLayout._plots;for(var ve in ke){var he=ke[ve],de=he.xaxis,X=he.yaxis,ae=de.range.slice(),K=X.range.slice(),ge=null,re=null,ue=null,we=null;Array.isArray(me[de._name+".range"])?ge=me[de._name+".range"].slice():Array.isArray((me[de._name]||{}).range)&&(ge=me[de._name].range.slice()),Array.isArray(me[X._name+".range"])?re=me[X._name+".range"].slice():Array.isArray((me[X._name]||{}).range)&&(re=me[X._name].range.slice()),ae&&ge&&(de.r2l(ae[0])!==de.r2l(ge[0])||de.r2l(ae[1])!==de.r2l(ge[1]))&&(ue={xr0:ae,xr1:ge}),K&&re&&(X.r2l(K[0])!==X.r2l(re[0])||X.r2l(K[1])!==X.r2l(re[1]))&&(we={yr0:K,yr1:re}),(ue||we)&&H.push(t.extendFlat({plotinfo:he},ue,we))}}return Promise.resolve()},J.runFn=function(U){var Z,q,Q=P._fullLayout._basePlotModules,ne=H.length;if(N)for(q=0;q<Q.length;q++)Q[q].transitionAxes&&Q[q].transitionAxes(P,H,Y,U);for(var ie in ne?((Z=t.extendFlat({},Y)).duration=0,delete G.cartesian):Z=Y,G){var le=G[ie];P._fullData[le[0]]._module.basePlotModule.plot(P,le,Z,U)}},I(P,Y,J)},n.transitionFromReact=function(P,R,N,j){var W=P._fullLayout,Y=W.transition,J={},G=[];return J.prepareFn=function(){var H=W._plots;for(var U in J.redraw=!1,R.anim==="some"&&(J.redraw=!0),N.anim==="some"&&(J.redraw=!0),H){var Z=H[U],q=Z.xaxis,Q=Z.yaxis,ne=j[q._name].range.slice(),ie=j[Q._name].range.slice(),le=q.range.slice(),fe=Q.range.slice();q.setScale(),Q.setScale();var pe=null,me=null;q.r2l(ne[0])===q.r2l(le[0])&&q.r2l(ne[1])===q.r2l(le[1])||(pe={xr0:ne,xr1:le}),Q.r2l(ie[0])===Q.r2l(fe[0])&&Q.r2l(ie[1])===Q.r2l(fe[1])||(me={yr0:ie,yr1:fe}),(pe||me)&&G.push(t.extendFlat({plotinfo:Z},pe,me))}return Promise.resolve()},J.runFn=function(H){for(var U,Z,q,Q=P._fullData,ne=P._fullLayout._basePlotModules,ie=[],le=0;le<Q.length;le++)ie.push(le);function fe(){if(P._fullLayout)for(var me=0;me<ne.length;me++)ne[me].transitionAxes&&ne[me].transitionAxes(P,G,U,H)}function pe(){if(P._fullLayout)for(var me=0;me<ne.length;me++)ne[me].plot(P,q,Z,H)}G.length&&R.anim?Y.ordering==="traces first"?(U=t.extendFlat({},Y,{duration:0}),q=ie,Z=Y,setTimeout(fe,Y.duration),pe()):(U=Y,q=null,Z=t.extendFlat({},Y,{duration:0}),setTimeout(pe,U.duration),fe()):G.length?(U=Y,fe()):R.anim&&(q=ie,Z=Y,pe())},I(P,Y,J)},n.doCalcdata=function(P,R){var N,j,W,Y,J=l.list(P),G=P._fullData,H=P._fullLayout,U=new Array(G.length),Z=(P.calcdata||[]).slice();for(P.calcdata=U,H._numBoxes=0,H._numViolins=0,H._violinScaleGroupStats={},P._hmpixcount=0,P._hmlumcount=0,H._piecolormap={},H._sunburstcolormap={},H._treemapcolormap={},H._iciclecolormap={},H._funnelareacolormap={},W=0;W<G.length;W++)Array.isArray(R)&&R.indexOf(W)===-1&&(U[W]=Z[W]);for(W=0;W<G.length;W++)(N=G[W])._arrayAttrs=b.findArrayAttributes(N),N._extremes={};var q=H._subplots.polar||[];for(W=0;W<q.length;W++)J.push(H[q[W]].radialaxis,H[q[W]].angularaxis);for(var Q in H._colorAxes){var ne=H[Q];ne.cauto!==!1&&(delete ne.cmin,delete ne.cmax)}var ie=!1;function le(me){if(N=G[me],j=N._module,N.visible===!0&&N.transforms){if(j&&j.calc){var ke=j.calc(P,N);ke[0]&&ke[0].t&&ke[0].t._scene&&delete ke[0].t._scene.dirty}for(Y=0;Y<N.transforms.length;Y++){var ve=N.transforms[Y];(j=o[ve.type])&&j.calcTransform&&(N._hasCalcTransform=!0,ie=!0,j.calcTransform(P,N,ve))}}}function fe(me,ke){if(N=G[me],!!(j=N._module).isContainer===ke){var ve=[];if(N.visible===!0&&N._length!==0){delete N._indexToPoints;var he=N.transforms||[];for(Y=he.length-1;Y>=0;Y--)if(he[Y].enabled){N._indexToPoints=he[Y]._indexToPoints;break}j&&j.calc&&(ve=j.calc(P,N))}Array.isArray(ve)&&ve[0]||(ve=[{x:i,y:i}]),ve[0].t||(ve[0].t={}),ve[0].trace=N,U[me]=ve}}for(C(J,G,H),W=0;W<G.length;W++)fe(W,!0);for(W=0;W<G.length;W++)le(W);for(ie&&C(J,G,H),W=0;W<G.length;W++)fe(W,!0);for(W=0;W<G.length;W++)fe(W,!1);z(P);var pe=function(me,ke){var ve,he,de,X,ae,K=[];function ge(Be,it,tt){var ft=it._id.charAt(0);if(Be==="histogram2dcontour"){var pt=it._counterAxes[0],_e=l.getFromId(ke,pt),Ae=ft==="x"||pt==="x"&&_e.type==="category",Ve=ft==="y"||pt==="y"&&_e.type==="category";return function(He,We){return He===0||We===0||Ae&&He===tt[We].length-1||Ve&&We===tt.length-1?-1:(ft==="y"?We:He)-1}}return function(He,We){return ft==="y"?We:He}}var re={min:function(Be){return t.aggNums(Math.min,null,Be)},max:function(Be){return t.aggNums(Math.max,null,Be)},sum:function(Be){return t.aggNums(function(it,tt){return it+tt},null,Be)},total:function(Be){return t.aggNums(function(it,tt){return it+tt},null,Be)},mean:function(Be){return t.mean(Be)},"geometric mean":function(Be){return t.geometricMean(Be)},median:function(Be){return t.median(Be)}};function ue(Be,it){return Be[1]-it[1]}function we(Be,it){return it[1]-Be[1]}for(ve=0;ve<me.length;ve++){var Te=me[ve];if(Te.type==="category"){var ee=Te.categoryorder.match(B);if(ee){var se=ee[1],ce=ee[2],be=Te._id.charAt(0),Ee=be==="x",Se=[];for(he=0;he<Te._categories.length;he++)Se.push([Te._categories[he],[]]);for(he=0;he<Te._traceIndices.length;he++){var De=Te._traceIndices[he],Ge=ke._fullData[De];if(Ge.visible===!0){var Xe=Ge.type;M.traceIs(Ge,"histogram")&&(delete Ge._xautoBinFinished,delete Ge._yautoBinFinished);var Ke=Xe==="splom",ut=Xe==="scattergl",Tt=ke.calcdata[De];for(de=0;de<Tt.length;de++){var je,Le,$e=Tt[de];if(Ke){var st=Ge._axesDim[Te._id];if(!Ee){var Ot=Ge._diag[st][0];Ot&&(Te=ke._fullLayout[l.id2name(Ot)])}var Je=$e.trace.dimensions[st].values;for(X=0;X<Je.length;X++)for(je=Te._categoriesMap[Je[X]],ae=0;ae<$e.trace.dimensions.length;ae++)if(ae!==st){var at=$e.trace.dimensions[ae];Se[je][1].push(at.values[X])}}else if(ut){for(X=0;X<$e.t.x.length;X++)Ee?(je=$e.t.x[X],Le=$e.t.y[X]):(je=$e.t.y[X],Le=$e.t.x[X]),Se[je][1].push(Le);$e.t&&$e.t._scene&&delete $e.t._scene.dirty}else if($e.hasOwnProperty("z")){Le=$e.z;var gt=ge(Ge.type,Te,Le);for(X=0;X<Le.length;X++)for(ae=0;ae<Le[X].length;ae++)(je=gt(ae,X))+1&&Se[je][1].push(Le[X][ae])}else for((je=$e.p)===void 0&&(je=$e[be]),(Le=$e.s)===void 0&&(Le=$e.v),Le===void 0&&(Le=Ee?$e.y:$e.x),Array.isArray(Le)||(Le=Le===void 0?[]:[Le]),X=0;X<Le.length;X++)Se[je][1].push(Le[X])}}}Te._categoriesValue=Se;var Oe=[];for(he=0;he<Se.length;he++)Oe.push([Se[he][0],re[se](Se[he][1])]);Oe.sort(ce==="descending"?we:ue),Te._categoriesAggregatedValue=Oe,Te._initialCategories=Oe.map(function(Be){return Be[0]}),K=K.concat(Te.sortByInitialCategories())}}}return K}(J,P);if(pe.length){for(H._numBoxes=0,H._numViolins=0,W=0;W<pe.length;W++)fe(pe[W],!0);for(W=0;W<pe.length;W++)fe(pe[W],!1);z(P)}M.getComponentMethod("fx","calc")(P),M.getComponentMethod("errorbars","calc")(P)};var B=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function C(P,R,N){var j={};function W(H){H.clearCalc(),H.type==="multicategory"&&H.setupMultiCategory(R),j[H._id]=1}t.simpleMap(P,W);for(var Y=N._axisMatchGroups||[],J=0;J<Y.length;J++)for(var G in Y[J])j[G]||W(N[l.id2name(G)])}function z(P){var R,N,j,W=P._fullLayout,Y=W._visibleModules,J={};for(N=0;N<Y.length;N++){var G=Y[N],H=G.crossTraceCalc;if(H){var U=G.basePlotModule.name;J[U]?t.pushUnique(J[U],H):J[U]=[H]}}for(j in J){var Z=J[j],q=W._subplots[j];if(Array.isArray(q))for(R=0;R<q.length;R++){var Q=q[R],ne=j==="cartesian"?W._plots[Q]:W[Q];for(N=0;N<Z.length;N++)Z[N](P,ne,Q)}else for(N=0;N<Z.length;N++)Z[N](P)}}n.rehover=function(P){P._fullLayout._rehover&&P._fullLayout._rehover()},n.redrag=function(P){P._fullLayout._redrag&&P._fullLayout._redrag()},n.reselect=function(P){var R=P._fullLayout,N=(P.layout||{}).selections,j=R._previousSelections;R._previousSelections=N;var W=R._reselect||JSON.stringify(N)!==JSON.stringify(j);M.getComponentMethod("selections","reselect")(P,W)},n.generalUpdatePerTraceModule=function(P,R,N,j){var W,Y=R.traceHash,J={};for(W=0;W<N.length;W++){var G=N[W],H=G[0].trace;H.visible&&(J[H.type]=J[H.type]||[],J[H.type].push(G))}for(var U in Y)if(!J[U]){var Z=Y[U][0];Z[0].trace.visible=!1,J[U]=[Z]}for(var q in J){var Q=J[q];Q[0][0].trace._module.plot(P,R,t.filterVisible(Q),j)}R.traceHash=J},n.plotBasePlot=function(P,R,N,j,W){var Y=M.getModule(P),J=c(R.calcdata,Y)[0];Y.plot(R,J,j,W)},n.cleanBasePlot=function(P,R,N,j,W){var Y=W._has&&W._has(P),J=N._has&&N._has(P);Y&&!J&&W["_"+P+"layer"].selectAll("g.trace").remove()}},3208:function($,F,m){var L=m(87296);function D(E){var T=E.description?" "+E.description:"",k=E.keys||[];if(k.length>0){for(var M=[],b=0;b<k.length;b++)M[b]="`"+k[b]+"`";T+="Finally, the template string has access to ",T=k.length===1?T+"variable "+M[0]:T+"variables "+M.slice(0,-1).join(", ")+" and "+M.slice(-1)+"."}return T}L.FORMAT_LINK,L.DATE_FORMAT_LINK,F.rb=function(E,T){E=E||{},D(T=T||{});var k={valType:"string",dflt:"",editType:E.editType||"none"};return E.arrayOk!==!1&&(k.arrayOk=!0),k},F.ay=function(E,T){E=E||{},D(T=T||{});var k={valType:"string",dflt:"",editType:E.editType||"calc"};return E.arrayOk!==!1&&(k.arrayOk=!0),k},F.LF=function(E,T){return T=T||{},(E=E||{}).newshape,D(T),{valType:"string",dflt:"",editType:E.editType||"arraydraw"}}},33626:function($,F,m){var L=m(48636),D=m(4969),E=m(36539),T=m(56174),k=m(95425).addStyleRule,M=m(93049),b=m(9829),a=m(6704),t=M.extendFlat,u=M.extendDeepAll;function i(n){var o=n.name,s=n.categories,r=n.meta;if(F.modules[o])L.log("Type "+o+" already registered");else{F.subplotsRegistry[n.basePlotModule.name]||function(A){var I=A.name;if(F.subplotsRegistry[I])L.log("Plot type "+I+" already registered.");else for(var B in y(A),F.subplotsRegistry[I]=A,F.componentsRegistry)x(B,A.name)}(n.basePlotModule);for(var g={},e=0;e<s.length;e++)g[s[e]]=!0,F.allCategories[s[e]]=!0;for(var h in F.modules[o]={_module:n,categories:g},r&&Object.keys(r).length&&(F.modules[o].meta=r),F.allTypes.push(o),F.componentsRegistry)p(h,o);n.layoutAttributes&&t(F.traceLayoutAttributes,n.layoutAttributes);var _=n.basePlotModule,w=_.name;if(w==="mapbox"){var S=_.constants.styleRules;for(var O in S)k(".js-plotly-plot .plotly .mapboxgl-"+O,S[O])}w==="map"&&m(96144),w!=="geo"&&w!=="mapbox"&&w!=="map"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function l(n){if(typeof n.name!="string")throw new Error("Component module *name* must be a string.");var o=n.name;for(var s in F.componentsRegistry[o]=n,n.layoutAttributes&&(n.layoutAttributes._isLinkedToArray&&E(F.layoutArrayContainers,o),y(n)),F.modules)p(o,s);for(var r in F.subplotsRegistry)x(o,r);for(var g in F.transformsRegistry)c(o,g);n.schema&&n.schema.layout&&u(a,n.schema.layout)}function d(n){if(typeof n.name!="string")throw new Error("Transform module *name* must be a string.");var o="Transform module "+n.name,s=typeof n.transform=="function",r=typeof n.calcTransform=="function";if(!s&&!r)throw new Error(o+" is missing a *transform* or *calcTransform* method.");for(var g in s&&r&&L.log([o+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),T(n.attributes)||L.log(o+" registered without an *attributes* object."),typeof n.supplyDefaults!="function"&&L.log(o+" registered without a *supplyDefaults* method."),F.transformsRegistry[n.name]=n,F.componentsRegistry)c(g,n.name)}function v(n){var o=n.name,s=o.split("-")[0],r=n.dictionary,g=n.format,e=r&&Object.keys(r).length,h=g&&Object.keys(g).length,_=F.localeRegistry,w=_[o];if(w||(_[o]=w={}),s!==o){var S=_[s];S||(_[s]=S={}),e&&S.dictionary===w.dictionary&&(S.dictionary=r),h&&S.format===w.format&&(S.format=g)}e&&(w.dictionary=r),h&&(w.format=g)}function y(n){if(n.layoutAttributes){var o=n.layoutAttributes._arrayAttrRegexps;if(o)for(var s=0;s<o.length;s++)E(F.layoutArrayRegexes,o[s])}}function p(n,o){var s=F.componentsRegistry[n].schema;if(s&&s.traces){var r=s.traces[o];r&&u(F.modules[o]._module.attributes,r)}}function c(n,o){var s=F.componentsRegistry[n].schema;if(s&&s.transforms){var r=s.transforms[o];r&&u(F.transformsRegistry[o].attributes,r)}}function x(n,o){var s=F.componentsRegistry[n].schema;if(s&&s.subplots){var r=F.subplotsRegistry[o],g=r.layoutAttributes,e=r.attr==="subplot"?r.name:r.attr;Array.isArray(e)&&(e=e[0]);var h=s.subplots[e];g&&h&&u(g,h)}}function f(n){return typeof n=="object"&&(n=n.type),n}F.modules={},F.allCategories={},F.allTypes=[],F.subplotsRegistry={},F.transformsRegistry={},F.componentsRegistry={},F.layoutArrayContainers=[],F.layoutArrayRegexes=[],F.traceLayoutAttributes={},F.localeRegistry={},F.apiMethodRegistry={},F.collectableSubplotTypes=null,F.register=function(n){if(F.collectableSubplotTypes=null,!n)throw new Error("No argument passed to Plotly.register.");n&&!Array.isArray(n)&&(n=[n]);for(var o=0;o<n.length;o++){var s=n[o];if(!s)throw new Error("Invalid module was attempted to be registered!");switch(s.moduleType){case"trace":i(s);break;case"transform":d(s);break;case"component":l(s);break;case"locale":v(s);break;case"apiMethod":var r=s.name;F.apiMethodRegistry[r]=s.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},F.getModule=function(n){var o=F.modules[f(n)];return!!o&&o._module},F.traceIs=function(n,o){if((n=f(n))==="various")return!1;var s=F.modules[n];return s||(n&&L.log("Unrecognized trace type "+n+"."),s=F.modules[b.type.dflt]),!!s.categories[o]},F.getTransformIndices=function(n,o){for(var s=[],r=n.transforms||[],g=0;g<r.length;g++)r[g].type===o&&s.push(g);return s},F.hasTransform=function(n,o){for(var s=n.transforms||[],r=0;r<s.length;r++)if(s[r].type===o)return!0;return!1},F.getComponentMethod=function(n,o){var s=F.componentsRegistry[n];return s&&s[o]||D},F.call=function(){var n=arguments[0],o=[].slice.call(arguments,1);return F.apiMethodRegistry[n].apply(null,o)}},3164:function($,F,m){var L=m(33626),D=m(34809),E=D.extendFlat,T=D.extendDeep;function k(M){var b;switch(M){case"themes__thumb":b={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":b={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:b={}}return b}$.exports=function(M,b){var a,t,u=M.data,i=M.layout,l=T([],u),d=T({},i,k(b.tileClass)),v=M._context||{};if(b.width&&(d.width=b.width),b.height&&(d.height=b.height),b.tileClass==="thumbnail"||b.tileClass==="themes__thumb"){d.annotations=[];var y=Object.keys(d);for(a=0;a<y.length;a++)t=y[a],["xaxis","yaxis","zaxis"].indexOf(t.slice(0,5))>-1&&(d[y[a]].title={text:""});for(a=0;a<l.length;a++){var p=l[a];p.showscale=!1,p.marker&&(p.marker.showscale=!1),L.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(b.annotations))for(a=0;a<b.annotations.length;a++)d.annotations.push(b.annotations[a]);var c=Object.keys(d).filter(function(s){return s.match(/^scene\d*$/)});if(c.length){var x={};for(b.tileClass==="thumbnail"&&(x={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),a=0;a<c.length;a++){var f=d[c[a]];f.xaxis||(f.xaxis={}),f.yaxis||(f.yaxis={}),f.zaxis||(f.zaxis={}),E(f.xaxis,x),E(f.yaxis,x),E(f.zaxis,x),f._scene=null}}var n=document.createElement("div");b.tileClass&&(n.className=b.tileClass);var o={gd:n,td:n,layout:d,data:l,config:{staticPlot:b.staticPlot===void 0||b.staticPlot,plotGlPixelRatio:b.plotGlPixelRatio===void 0?2:b.plotGlPixelRatio,displaylogo:b.displaylogo||!1,showLink:b.showLink||!1,showTips:b.showTips||!1,mapboxAccessToken:v.mapboxAccessToken}};return b.setBackground!=="transparent"&&(o.config.setBackground=b.setBackground||"opaque"),o.gd.defaultLayout=k(b.tileClass),o}},26452:function($,F,m){var L=m(34809),D=m(80491),E=m(33353),T=m(84619);$.exports=function(k,M){var b;return L.isPlainObject(k)||(b=L.getGraphDiv(k)),(M=M||{}).format=M.format||"png",M.width=M.width||null,M.height=M.height||null,M.imageDataOnly=!0,new Promise(function(a,t){b&&b._snapshotInProgress&&t(new Error("Snapshotting already in progress.")),L.isIE()&&M.format!=="svg"&&t(new Error(T.MSG_IE_BAD_FORMAT)),b&&(b._snapshotInProgress=!0);var u=D(k,M),i=M.filename||k.fn||"newplot";i+="."+M.format.replace("-","."),u.then(function(l){return b&&(b._snapshotInProgress=!1),E(l,i,M.format)}).then(function(l){a(l)}).catch(function(l){b&&(b._snapshotInProgress=!1),t(l)})})}},33353:function($,F,m){var L=m(34809),D=m(84619);$.exports=function(E,T,k){var M=document.createElement("a"),b="download"in M;return new Promise(function(a,t){var u,i;if(L.isIE())return u=D.createBlob(E,"svg"),window.navigator.msSaveBlob(u,T),u=null,a(T);if(b)return u=D.createBlob(E,k),i=D.createObjectURL(u),M.href=i,M.download=T,document.body.appendChild(M),M.click(),document.body.removeChild(M),D.revokeObjectURL(i),u=null,a(T);if(L.isSafari()){var l=k==="svg"?",":";base64,";return D.octetStream(l+encodeURIComponent(E)),a(T)}t(new Error("download error"))})}},84619:function($,F,m){var L=m(33626);F.getDelay=function(E){return E._has&&(E._has("gl3d")||E._has("gl2d")||E._has("mapbox")||E._has("map"))?500:0},F.getRedrawFunc=function(E){return function(){L.getComponentMethod("colorbar","draw")(E)}},F.encodeSVG=function(E){return"data:image/svg+xml,"+encodeURIComponent(E)},F.encodeJSON=function(E){return"data:application/json,"+encodeURIComponent(E)};var D=window.URL||window.webkitURL;F.createObjectURL=function(E){return D.createObjectURL(E)},F.revokeObjectURL=function(E){return D.revokeObjectURL(E)},F.createBlob=function(E,T){if(T==="svg")return new window.Blob([E],{type:"image/svg+xml;charset=utf-8"});if(T==="full-json")return new window.Blob([E],{type:"application/json;charset=utf-8"});var k=function(M){for(var b=M.length,a=new ArrayBuffer(b),t=new Uint8Array(a),u=0;u<b;u++)t[u]=M.charCodeAt(u);return a}(window.atob(E));return new window.Blob([k],{type:"image/"+T})},F.octetStream=function(E){document.location.href="data:application/octet-stream"+E},F.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,F.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},6170:function($,F,m){var L=m(84619),D={getDelay:L.getDelay,getRedrawFunc:L.getRedrawFunc,clone:m(3164),toSVG:m(6243),svgToImg:m(72914),toImage:m(76896),downloadImage:m(26452)};$.exports=D},72914:function($,F,m){var L=m(34809),D=m(7683).EventEmitter,E=m(84619);$.exports=function(T){var k=T.emitter||new D,M=new Promise(function(b,a){var t=window.Image,u=T.svg,i=T.format||"png";if(L.isIE()&&i!=="svg"){var l=new Error(E.MSG_IE_BAD_FORMAT);return a(l),T.promise?M:k.emit("error",l)}var d,v,y=T.canvas,p=T.scale||1,c=T.width||300,x=T.height||150,f=p*c,n=p*x,o=y.getContext("2d",{willReadFrequently:!0}),s=new t;i==="svg"||L.isSafari()?v=E.encodeSVG(u):(d=E.createBlob(u,"svg"),v=E.createObjectURL(d)),y.width=f,y.height=n,s.onload=function(){var r;switch(d=null,E.revokeObjectURL(v),i!=="svg"&&o.drawImage(s,0,0,f,n),i){case"jpeg":r=y.toDataURL("image/jpeg");break;case"png":r=y.toDataURL("image/png");break;case"webp":r=y.toDataURL("image/webp");break;case"svg":r=v;break;default:var g="Image format is not jpeg, png, svg or webp.";if(a(new Error(g)),!T.promise)return k.emit("error",g)}b(r),T.promise||k.emit("success",r)},s.onerror=function(r){if(d=null,E.revokeObjectURL(v),a(r),!T.promise)return k.emit("error",r)},s.src=v});return T.promise?M:k}},76896:function($,F,m){var L=m(7683).EventEmitter,D=m(33626),E=m(34809),T=m(84619),k=m(3164),M=m(6243),b=m(72914);$.exports=function(a,t){var u=new L,i=k(a,{format:"png"}),l=i.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);var d=T.getRedrawFunc(l);return D.call("_doPlot",l,i.data,i.layout,i.config).then(d).then(function(){var v=T.getDelay(l._fullLayout);setTimeout(function(){var y=M(l),p=document.createElement("canvas");p.id=E.randstr(),(u=b({format:t.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:p,emitter:u,svg:y})).clean=function(){l&&document.body.removeChild(l)}},v)}).catch(function(v){u.emit("error",v)}),u}},6243:function($,F,m){var L=m(45568),D=m(34809),E=m(62203),T=m(78766),k=m(62972),M=/"/g,b="TOBESTRIPPED",a=new RegExp('("'+b+")|("+b+'")',"g");$.exports=function(t,u,i){var l,d=t._fullLayout,v=d._paper,y=d._toppaper,p=d.width,c=d.height;v.insert("rect",":first-child").call(E.setRect,0,0,p,c).call(T.fill,d.paper_bgcolor);var x=d._basePlotModules||[];for(l=0;l<x.length;l++){var f=x[l];f.toSVG&&f.toSVG(t)}if(y){var n=y.node().childNodes,o=Array.prototype.slice.call(n);for(l=0;l<o.length;l++){var s=o[l];s.childNodes.length&&v.node().appendChild(s)}}d._draggers&&d._draggers.remove(),v.node().style.background="",v.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var g=L.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){g.style({visibility:null,display:null});var e=this.style.fontFamily;e&&e.indexOf('"')!==-1&&g.style("font-family",e.replace(M,b));var h=this.style.fontWeight;!h||h!=="normal"&&h!=="400"||g.style("font-weight",void 0);var _=this.style.fontStyle;_&&_==="normal"&&g.style("font-style",void 0);var w=this.style.fontVariant;w&&w==="normal"&&g.style("font-variant",void 0)}else g.remove()}),v.selectAll(".gradient_filled,.pattern_filled").each(function(){var g=L.select(this),e=this.style.fill;e&&e.indexOf("url(")!==-1&&g.style("fill",e.replace(M,b));var h=this.style.stroke;h&&h.indexOf("url(")!==-1&&g.style("stroke",h.replace(M,b))}),u!=="pdf"&&u!=="eps"||v.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),v.node().setAttributeNS(k.xmlns,"xmlns",k.svg),v.node().setAttributeNS(k.xmlns,"xmlns:xlink",k.xlink),u==="svg"&&i&&(v.attr("width",i*p),v.attr("height",i*c),v.attr("viewBox","0 0 "+p+" "+c));var r=new window.XMLSerializer().serializeToString(v.node());return r=(r=(r=function(g){var e=L.select("body").append("div").style({display:"none"}).html(""),h=g.replace(/(&[^;]*;)/gi,function(_){return _==="&lt;"?"&#60;":_==="&rt;"?"&#62;":_.indexOf("<")!==-1||_.indexOf(">")!==-1?"":e.html(_).text()});return e.remove(),h}(r)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(a,"'"),D.isIE()&&(r=(r=(r=r.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),r}},35374:function($,F,m){var L=m(34809);$.exports=function(D,E){for(var T=0;T<D.length;T++)D[T].i=T;L.mergeArray(E.text,D,"tx"),L.mergeArray(E.hovertext,D,"htx");var k=E.marker;if(k){L.mergeArray(k.opacity,D,"mo",!0),L.mergeArray(k.color,D,"mc");var M=k.line;M&&(L.mergeArray(M.color,D,"mlc"),L.mergeArrayCastPositive(M.width,D,"mlw"))}}},24782:function($,F,m){var L=m(10721),D=m(34809).isArrayOrTypedArray,E=m(63821).BADNUM,T=m(33626),k=m(29714),M=m(84391).getAxisGroup,b=m(2880);function a(x,f,n,o,s){if(o.length){var r,g,e,h;switch(function(_,w){var S,O;for(S=0;S<w.length;S++){var A,I=w[S],B=I[0].trace,C=B.type==="funnel"?B._base:B.base,z=B.orientation==="h"?B.xcalendar:B.ycalendar,P=_.type==="category"||_.type==="multicategory"?function(){return null}:_.d2c;if(D(C)){for(O=0;O<Math.min(C.length,I.length);O++)A=P(C[O],0,z),L(A)?(I[O].b=+A,I[O].hasB=1):I[O].b=0;for(;O<I.length;O++)I[O].b=0}else{A=P(C,0,z);var R=L(A);for(A=R?A:0,O=0;O<I.length;O++)I[O].b=A,R&&(I[O].hasB=1)}}}(n,o),s.mode){case"overlay":t(f,n,o,s);break;case"group":for(r=[],g=[],e=0;e<o.length;e++)(h=o[e])[0].trace.offset===void 0?g.push(h):r.push(h);g.length&&function(_,w,S,O,A){var I=new b(O,{posAxis:w,sepNegVal:!1,overlapNoMerge:!A.norm});(function(B,C,z,P){for(var R=B._fullLayout,N=z.positions,j=z.distinctPositions,W=z.minDiff,Y=z.traces,J=Y.length,G=N.length!==j.length,H=W*(1-P.gap),U=M(R,C._id)+Y[0][0].trace.orientation,Z=R._alignmentOpts[U]||{},q=0;q<J;q++){var Q,ne,ie=Y[q],le=ie[0].trace,fe=Z[le.alignmentgroup]||{},pe=Object.keys(fe.offsetGroups||{}).length,me=(Q=pe?H/pe:G?H/J:H)*(1-(P.groupgap||0));ne=pe?((2*le._offsetIndex+1-pe)*Q-me)/2:G?((2*q+1-J)*Q-me)/2:-me/2;var ke=ie[0].t;ke.barwidth=me,ke.poffset=ne,ke.bargroupwidth=H,ke.bardelta=W}z.binWidth=Y[0][0].t.barwidth/100,i(z),l(C,z),d(C,z,G)})(_,w,I,A),function(B,C){for(var z=B.traces,P=0;P<z.length;P++){var R=z[P];if(R[0].trace.base===void 0)for(var N=new b([R],{posAxis:C,sepNegVal:!0,overlapNoMerge:!0}),j=0;j<R.length;j++){var W=R[j];if(W.p!==E){var Y=N.put(W.p,W.b+W.s);Y&&(W.b=Y)}}}}(I,w),A.norm?(y(I),p(S,I,A)):v(S,I)}(x,f,n,g,s),r.length&&t(f,n,r,s);break;case"stack":case"relative":for(r=[],g=[],e=0;e<o.length;e++)(h=o[e])[0].trace.base===void 0?g.push(h):r.push(h);(function(_){if(!(_.length<2)){var w,S,O,A,I,B;for(w=0;w<_.length&&(A=(S=_[w][0].trace).marker?S.marker.cornerradius:void 0)===void 0;w++);if(A!==void 0)for(I=L(A)?+A:+A.slice(0,-1),B=L(A)?"px":"%",w=0;w<_.length;w++)(O=_[w][0].t).cornerradiusvalue=I,O.cornerradiusform=B}})(g),g.length&&function(_,w,S,O,A){var I=new b(O,{posAxis:w,sepNegVal:A.mode==="relative",overlapNoMerge:!(A.norm||A.mode==="stack"||A.mode==="relative")});u(w,I,A),function(R,N,j){var W,Y,J,G,H,U,Z=c(R),q=N.traces;for(G=0;G<q.length;G++)if((Y=(W=q[G])[0].trace).type==="funnel")for(H=0;H<W.length;H++)(U=W[H]).s!==E&&N.put(U.p,-.5*U.s);for(G=0;G<q.length;G++){J=(Y=(W=q[G])[0].trace).type==="funnel";var Q=[];for(H=0;H<W.length;H++)if((U=W[H]).s!==E){var ne;ne=J?U.s:U.s+U.b;var ie=N.put(U.p,ne),le=ie+ne;U.b=ie,U[Z]=le,j.norm||(Q.push(le),U.hasB&&Q.push(ie))}j.norm||(Y._extremes[R._id]=k.findExtremes(R,Q,{tozero:!0,padded:!0}))}}(S,I,A);for(var B=0;B<O.length;B++)for(var C=O[B],z=0;z<C.length;z++){var P=C[z];P.s!==E&&P.b+P.s===I.get(P.p,P.s)&&(P._outmost=!0)}A.norm&&p(S,I,A)}(0,f,n,g,s),r.length&&t(f,n,r,s)}(function(_){var w,S,O,A,I,B,C;for(w=0;w<_.length;w++)O=(S=_[w])[0].trace,(A=S[0].t).cornerradiusvalue===void 0&&(I=O.marker?O.marker.cornerradius:void 0)!==void 0&&(B=L(I)?+I:+I.slice(0,-1),C=L(I)?"px":"%",A.cornerradiusvalue=B,A.cornerradiusform=C)})(o),function(_,w){var S,O,A,I=c(w),B={},C=1/0,z=-1/0;for(S=0;S<_.length;S++)for(A=_[S],O=0;O<A.length;O++){var P=A[O].p;L(P)&&(C=Math.min(C,P),z=Math.max(z,P))}var R=1e4/(z-C),N=B.round=function(le){return String(Math.round(R*(le-C)))},j={},W={},Y=_.some(function(le){var fe=le[0].trace;return"marker"in fe&&fe.marker.cornerradius});for(S=0;S<_.length;S++){(A=_[S])[0].t.extents=B;var J=A[0].t.poffset,G=D(J);for(O=0;O<A.length;O++){var H=A[O],U=H[I]-H.w/2;if(L(U)){var Z=H[I]+H.w/2,q=N(H.p);B[q]?B[q]=[Math.min(U,B[q][0]),Math.max(Z,B[q][1])]:B[q]=[U,Z]}if(H.p0=H.p+(G?J[O]:J),H.p1=H.p0+H.w,H.s0=H.b,H.s1=H.s0+H.s,Y){var Q=Math.min(H.s0,H.s1)||0,ne=Math.max(H.s0,H.s1)||0,ie=H[I];j[ie]=ie in j?Math.min(j[ie],Q):Q,W[ie]=ie in W?Math.max(W[ie],ne):ne}}}Y&&function(le,fe,pe,me){for(var ke=c(me),ve=0;ve<le.length;ve++)for(var he=le[ve],de=0;de<he.length;de++){var X=he[de],ae=X[ke];X._sMin=fe[ae],X._sMax=pe[ae]}}(_,j,W,w)}(o,f)}}function t(x,f,n,o){for(var s=0;s<n.length;s++){var r=n[s],g=new b([r],{posAxis:x,sepNegVal:!1,overlapNoMerge:!o.norm});u(x,g,o),o.norm?(y(g),p(f,g,o)):v(f,g)}}function u(x,f,n){for(var o=f.minDiff,s=f.traces,r=o*(1-n.gap),g=r*(1-(n.groupgap||0)),e=-g/2,h=0;h<s.length;h++){var _=s[h][0].t;_.barwidth=g,_.poffset=e,_.bargroupwidth=r,_.bardelta=o}f.binWidth=s[0][0].t.barwidth/100,i(f),l(x,f),d(x,f)}function i(x){var f,n,o=x.traces;for(f=0;f<o.length;f++){var s,r=o[f],g=r[0],e=g.trace,h=g.t,_=e._offset||e.offset,w=h.poffset;if(D(_)){for(s=Array.prototype.slice.call(_,0,r.length),n=0;n<s.length;n++)L(s[n])||(s[n]=w);for(n=s.length;n<r.length;n++)s.push(w);h.poffset=s}else _!==void 0&&(h.poffset=_);var S=e._width||e.width,O=h.barwidth;if(D(S)){var A=Array.prototype.slice.call(S,0,r.length);for(n=0;n<A.length;n++)L(A[n])||(A[n]=O);for(n=A.length;n<r.length;n++)A.push(O);if(h.barwidth=A,_===void 0){for(s=[],n=0;n<r.length;n++)s.push(w+(O-A[n])/2);h.poffset=s}}else S!==void 0&&(h.barwidth=S,_===void 0&&(h.poffset=w+(O-S)/2))}}function l(x,f){for(var n=f.traces,o=c(x),s=0;s<n.length;s++)for(var r=n[s],g=r[0].t,e=g.poffset,h=D(e),_=g.barwidth,w=D(_),S=0;S<r.length;S++){var O=r[S],A=O.w=w?_[S]:_;O.p===void 0&&(O.p=O[o],O["orig_"+o]=O[o]);var I=(h?e[S]:e)+A/2;O[o]=O.p+I}}function d(x,f,n){var o=f.traces,s=f.minDiff/2;k.minDtick(x,f.minDiff,f.distinctPositions[0],n);for(var r=0;r<o.length;r++){var g,e,h,_,w=o[r],S=w[0],O=S.trace,A=[];for(_=0;_<w.length;_++)e=(g=w[_]).p-s,h=g.p+s,A.push(e,h);if(O.width||O.offset){var I=S.t,B=I.poffset,C=I.barwidth,z=D(B),P=D(C);for(_=0;_<w.length;_++){g=w[_];var R=z?B[_]:B,N=P?C[_]:C;h=(e=g.p+R)+N,A.push(e,h)}}O._extremes[x._id]=k.findExtremes(x,A,{padded:!1})}}function v(x,f){for(var n=f.traces,o=c(x),s=0;s<n.length;s++){for(var r=n[s],g=r[0].trace,e=g.type==="scatter",h=g.orientation==="v",_=[],w=!1,S=0;S<r.length;S++){var O=r[S],A=e?0:O.b,I=e?h?O.y:O.x:A+O.s;O[o]=I,_.push(I),O.hasB&&_.push(A),O.hasB&&O.b||(w=!0)}g._extremes[x._id]=k.findExtremes(x,_,{tozero:w,padded:!0})}}function y(x){for(var f=x.traces,n=0;n<f.length;n++)for(var o=f[n],s=0;s<o.length;s++){var r=o[s];r.s!==E&&x.put(r.p,r.b+r.s)}}function p(x,f,n){var o=f.traces,s=c(x),r=n.norm==="fraction"?1:100,g=r/1e9,e=x.l2c(x.c2l(0)),h=n.mode==="stack"?r:e;function _(j){return L(x.c2l(j))&&(j<e-g||j>h+g||!L(e))}for(var w=0;w<o.length;w++){for(var S=o[w],O=S[0].trace,A=[],I=!1,B=!1,C=0;C<S.length;C++){var z=S[C];if(z.s!==E){var P=Math.abs(r/f.get(z.p,z.s));z.b*=P,z.s*=P;var R=z.b,N=R+z.s;z[s]=N,A.push(N),B=B||_(N),z.hasB&&(A.push(R),B=B||_(R)),z.hasB&&z.b||(I=!0)}}O._extremes[x._id]=k.findExtremes(x,A,{tozero:I,padded:B})}}function c(x){return x._id.charAt(0)}$.exports={crossTraceCalc:function(x,f){for(var n=f.xaxis,o=f.yaxis,s=x._fullLayout,r=x._fullData,g=x.calcdata,e=[],h=[],_=0;_<r.length;_++){var w=r[_];if(w.visible===!0&&T.traceIs(w,"bar")&&w.xaxis===n._id&&w.yaxis===o._id&&(w.orientation==="h"?e.push(g[_]):h.push(g[_]),w._computePh))for(var S=x.calcdata[_],O=0;O<S.length;O++)typeof S[O].ph0=="function"&&(S[O].ph0=S[O].ph0()),typeof S[O].ph1=="function"&&(S[O].ph1=S[O].ph1())}var A={xCat:n.type==="category"||n.type==="multicategory",yCat:o.type==="category"||o.type==="multicategory",mode:s.barmode,norm:s.barnorm,gap:s.bargap,groupgap:s.bargroupgap};a(x,n,o,h,A),a(x,o,n,e,A)},setGroupPositions:a}},2880:function($,F,m){$.exports=D;var L=m(34809).distinctVals;function D(E,T){this.traces=E,this.sepNegVal=T.sepNegVal,this.overlapNoMerge=T.overlapNoMerge;for(var k=1/0,M=T.posAxis._id.charAt(0),b=[],a=0;a<E.length;a++){for(var t=E[a],u=0;u<t.length;u++){var i=t[u],l=i.p;l===void 0&&(l=i[M]),l!==void 0&&b.push(l)}t[0]&&t[0].width1&&(k=Math.min(t[0].width1,k))}this.positions=b;var d=L(b);this.distinctPositions=d.vals,d.vals.length===1&&k!==1/0?this.minDiff=k:this.minDiff=Math.min(d.minDiff,k);var v=(T.posAxis||{}).type;v!=="category"&&v!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}D.prototype.put=function(E,T){var k=this.getLabel(E,T),M=this.bins[k]||0;return this.bins[k]=M+T,M},D.prototype.get=function(E,T){var k=this.getLabel(E,T);return this.bins[k]||0},D.prototype.getLabel=function(E,T){return(T<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?E:Math.round(E/this.binWidth))}},81658:function($,F,m){var L=m(36640),D=m(9829),E=m(80337),T=m(80712).axisHoverFormat,k=m(3208).rb,M=m(3208).ay,b=m(87163),a=m(93049).extendFlat;$.exports=a({z:{valType:"data_array",editType:"calc"},x:a({},L.x,{impliedEdits:{xtype:"array"}}),x0:a({},L.x0,{impliedEdits:{xtype:"scaled"}}),dx:a({},L.dx,{impliedEdits:{xtype:"scaled"}}),y:a({},L.y,{impliedEdits:{ytype:"array"}}),y0:a({},L.y0,{impliedEdits:{ytype:"scaled"}}),dy:a({},L.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:a({},L.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:a({},L.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:a({},L.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:a({},L.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:a({},L.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:a({},L.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:k(),texttemplate:M({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:E({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:a({},D.showlegend,{dflt:!1}),zorder:L.zorder},{transforms:void 0},b("",{cLetter:"z",autoColorDflt:!1}))},51670:function($,F,m){var L=m(33626),D=m(34809),E=m(29714),T=m(40528),k=m(19226),M=m(28379),b=m(87869),a=m(93877),t=m(69295),u=m(78106),i=m(80924),l=m(63821).BADNUM;function d(v){for(var y=[],p=v.length,c=0;c<p;c++){var x=v[c];x!==l&&y.push(x)}return y}$.exports=function(v,y){var p,c,x,f,n,o,s,r,g,e,h,_=E.getFromId(v,y.xaxis||"x"),w=E.getFromId(v,y.yaxis||"y"),S=L.traceIs(y,"contour"),O=L.traceIs(y,"histogram"),A=L.traceIs(y,"gl2d"),I=S?"best":y.zsmooth;if(_._minDtick=0,w._minDtick=0,O)f=(h=k(v,y)).orig_x,p=h.x,c=h.x0,x=h.dx,r=h.orig_y,n=h.y,o=h.y0,s=h.dy,g=h.z;else{var B=y.z;D.isArray1D(B)?(b(y,_,w,"x","y",["z"]),p=y._x,n=y._y,B=y._z):(f=y.x?_.makeCalcdata(y,"x"):[],r=y.y?w.makeCalcdata(y,"y"):[],p=T(y,_,"x",f).vals,n=T(y,w,"y",r).vals,y._x=p,y._y=n),c=y.x0,x=y.dx,o=y.y0,s=y.dy,g=a(B,y,_,w)}function C(G){I=y._input.zsmooth=y.zsmooth=!1,D.warn('cannot use zsmooth: "fast": '+G)}function z(G){if(G.length>1){var H=(G[G.length-1]-G[0])/(G.length-1),U=Math.abs(H/100);for(e=0;e<G.length-1;e++)if(Math.abs(G[e+1]-G[e]-H)>U)return!1}return!0}(_.rangebreaks||w.rangebreaks)&&(g=function(G,H,U){for(var Z=[],q=-1,Q=0;Q<U.length;Q++)if(H[Q]!==l){Z[++q]=[];for(var ne=0;ne<U[Q].length;ne++)G[ne]!==l&&Z[q].push(U[Q][ne])}return Z}(p,n,g),O||(p=d(p),n=d(n),y._x=p,y._y=n)),O||!S&&!y.connectgaps||(y._emptypoints=u(g),t(g,y._emptypoints)),y._islinear=!1,_.type==="log"||w.type==="log"?I==="fast"&&C("log axis found"):z(p)?z(n)?y._islinear=!0:I==="fast"&&C("y scale is not linear"):I==="fast"&&C("x scale is not linear");var P=D.maxRowLength(g),R=y.xtype==="scaled"?"":p,N=i(y,R,c,x,P,_),j=y.ytype==="scaled"?"":n,W=i(y,j,o,s,g.length,w);A||(y._extremes[_._id]=E.findExtremes(_,N),y._extremes[w._id]=E.findExtremes(w,W));var Y={x:N,y:W,z:g,text:y._text||y.text,hovertext:y._hovertext||y.hovertext};if(y.xperiodalignment&&f&&(Y.orig_x=f),y.yperiodalignment&&r&&(Y.orig_y=r),R&&R.length===N.length-1&&(Y.xCenter=R),j&&j.length===W.length-1&&(Y.yCenter=j),O&&(Y.xRanges=h.xRanges,Y.yRanges=h.yRanges,Y.pts=h.pts),S||M(v,y,{vals:g,cLetter:"z"}),S&&y.contours&&y.contours.coloring==="heatmap"){var J={type:y.type==="contour"?"heatmap":"histogram2d",xcalendar:y.xcalendar,ycalendar:y.ycalendar};Y.xfill=i(J,R,c,x,P,_),Y.yfill=i(J,j,o,s,g.length,w)}return[Y]}},93877:function($,F,m){var L=m(10721),D=m(34809),E=m(63821).BADNUM;$.exports=function(T,k,M,b){var a,t,u,i,l,d;function v(n){if(L(n))return+n}if(k&&k.transpose){for(a=0,l=0;l<T.length;l++)a=Math.max(a,T[l].length);if(a===0)return!1;u=function(n){return n.length},i=function(n,o,s){return(n[s]||[])[o]}}else a=T.length,u=function(n,o){return n[o].length},i=function(n,o,s){return(n[o]||[])[s]};var y=function(n,o,s){return o===E||s===E?E:i(n,o,s)};function p(n){if(k&&k.type!=="carpet"&&k.type!=="contourcarpet"&&n&&n.type==="category"&&k["_"+n._id.charAt(0)].length){var o=n._id.charAt(0),s={},r=k["_"+o+"CategoryMap"]||k[o];for(l=0;l<r.length;l++)s[r[l]]=l;return function(g){var e=s[n._categories[g]];return e+1?e:E}}return D.identity}var c=p(M),x=p(b);b&&b.type==="category"&&(a=b._categories.length);var f=new Array(a);for(l=0;l<a;l++)for(t=M&&M.type==="category"?M._categories.length:u(T,l),f[l]=new Array(t),d=0;d<t;d++)f[l][d]=v(y(T,x(l),c(d)));return f}},12431:function($){$.exports={min:"zmin",max:"zmax"}},87869:function($,F,m){var L=m(34809),D=m(63821).BADNUM,E=m(40528);$.exports=function(T,k,M,b,a,t){var u=T._length,i=k.makeCalcdata(T,b),l=M.makeCalcdata(T,a);i=E(T,k,b,i).vals,l=E(T,M,a,l).vals;var d,v,y,p,c=T.text,x=c!==void 0&&L.isArray1D(c),f=T.hovertext,n=f!==void 0&&L.isArray1D(f),o=L.distinctVals(i),s=o.vals,r=L.distinctVals(l),g=r.vals,e=[],h=g.length,_=s.length;for(d=0;d<t.length;d++)e[d]=L.init2dArray(h,_);x&&(y=L.init2dArray(h,_)),n&&(p=L.init2dArray(h,_));var w=L.init2dArray(h,_);for(d=0;d<u;d++)if(i[d]!==D&&l[d]!==D){var S=L.findBin(i[d]+o.minDiff/2,s),O=L.findBin(l[d]+r.minDiff/2,g);for(v=0;v<t.length;v++){var A=T[t[v]];e[v][O][S]=A[d],w[O][S]=d}x&&(y[O][S]=c[d]),n&&(p[O][S]=f[d])}for(T["_"+b]=s,T["_"+a]=g,v=0;v<t.length;v++)T["_"+t[v]]=e[v];x&&(T._text=y),n&&(T._hovertext=p),k&&k.type==="category"&&(T["_"+b+"CategoryMap"]=s.map(function(I){return k._categories[I]})),M&&M.type==="category"&&(T["_"+a+"CategoryMap"]=g.map(function(I){return M._categories[I]})),T._after2before=w}},78106:function($,F,m){var L=m(34809).maxRowLength;$.exports=function(D){var E,T,k,M,b,a,t,u,i=[],l={},d=[],v=D[0],y=[],p=[0,0,0],c=L(D);for(T=0;T<D.length;T++)for(E=y,y=v,v=D[T+1]||[],k=0;k<c;k++)y[k]===void 0&&((a=(y[k-1]!==void 0?1:0)+(y[k+1]!==void 0?1:0)+(E[k]!==void 0?1:0)+(v[k]!==void 0?1:0))?(T===0&&a++,k===0&&a++,T===D.length-1&&a++,k===y.length-1&&a++,a<4&&(l[[T,k]]=[T,k,a]),i.push([T,k,a])):d.push([T,k]));for(;d.length;){for(t={},u=!1,b=d.length-1;b>=0;b--)(a=((l[[(T=(M=d[b])[0])-1,k=M[1]]]||p)[2]+(l[[T+1,k]]||p)[2]+(l[[T,k-1]]||p)[2]+(l[[T,k+1]]||p)[2])/20)&&(t[M]=[T,k,a],d.splice(b,1),u=!0);if(!u)throw"findEmpties iterated with no new neighbors";for(M in t)l[M]=t[M],i.push(t[M])}return i.sort(function(x,f){return f[2]-x[2]})}},69295:function($,F,m){var L=m(34809),D=[[-1,0],[1,0],[0,-1],[0,1]];function E(k){return .5-.25*Math.min(1,.5*k)}function T(k,M,b){var a,t,u,i,l,d,v,y,p,c,x,f,n,o=0;for(i=0;i<M.length;i++){for(t=(a=M[i])[0],u=a[1],x=k[t][u],c=0,p=0,l=0;l<4;l++)(v=k[t+(d=D[l])[0]])&&(y=v[u+d[1]])!==void 0&&(c===0?f=n=y:(f=Math.min(f,y),n=Math.max(n,y)),p++,c+=y);if(p===0)throw"iterateInterp2d order is wrong: no defined neighbors";k[t][u]=c/p,x===void 0?p<4&&(o=1):(k[t][u]=(1+b)*k[t][u]-b*x,n>f&&(o=Math.max(o,Math.abs(k[t][u]-x)/(n-f))))}return o}$.exports=function(k,M){var b,a=1;for(T(k,M),b=0;b<M.length&&!(M[b][2]<4);b++);for(M=M.slice(b),b=0;b<100&&a>.01;b++)a=T(k,M,E(a));return a>.01&&L.log("interp2d didn't converge quickly",a),k}},80924:function($,F,m){var L=m(33626),D=m(34809).isArrayOrTypedArray;$.exports=function(E,T,k,M,b,a){var t,u,i,l=[],d=L.traceIs(E,"contour"),v=L.traceIs(E,"histogram"),y=L.traceIs(E,"gl2d");if(D(T)&&T.length>1&&!v&&a.type!=="category"){var p=T.length;if(!(p<=b))return d?T.slice(0,b):T.slice(0,b+1);if(d||y)l=Array.from(T).slice(0,b);else if(b===1)l=a.type==="log"?[.5*T[0],2*T[0]]:[T[0]-.5,T[0]+.5];else if(a.type==="log"){for(l=[Math.pow(T[0],1.5)/Math.pow(T[1],.5)],i=1;i<p;i++)l.push(Math.sqrt(T[i-1]*T[i]));l.push(Math.pow(T[p-1],1.5)/Math.pow(T[p-2],.5))}else{for(l=[1.5*T[0]-.5*T[1]],i=1;i<p;i++)l.push(.5*(T[i-1]+T[i]));l.push(1.5*T[p-1]-.5*T[p-2])}if(p<b){var c,x=l[l.length-1];if(a.type==="log")for(c=x/l[l.length-2],i=p;i<b;i++)x*=c,l.push(x);else for(c=x-l[l.length-2],i=p;i<b;i++)x+=c,l.push(x)}}else{var f=E[a._id.charAt(0)+"calendar"];for(t=v?a.r2c(k,0,f):D(T)&&T.length===1?T[0]:k===void 0?0:(a.type==="log"?a.d2c:a.r2c)(k,0,f),u=M||1,i=d||y?0:-.5;i<b;i++)l.push(t+u*i)}return l}},86073:function($,F,m){var L=m(10721),D=m(34809),E=m(33626);function T(k,M){var b=M(k);return(b?M(k+"type","array"):"scaled")==="scaled"&&(M(k+"0"),M("d"+k)),b}$.exports=function(k,M,b,a,t,u){var i,l,d=b("z");if(t=t||"x",u=u||"y",d===void 0||!d.length)return 0;if(D.isArray1D(d)){i=b(t),l=b(u);var v=D.minRowLength(i),y=D.minRowLength(l);if(v===0||y===0)return 0;M._length=Math.min(v,y,d.length)}else{if(i=T(t,b),l=T(u,b),!function(p){for(var c,x=!0,f=!1,n=!1,o=0;o<p.length;o++){if(c=p[o],!D.isArrayOrTypedArray(c)){x=!1;break}c.length>0&&(f=!0);for(var s=0;s<c.length;s++)if(L(c[s])){n=!0;break}}return x&&f&&n}(d))return 0;b("transpose"),M._length=null}return k.type==="heatmapgl"||E.getComponentMethod("calendars","handleTraceDefaults")(k,M,[t,u],a),!0}},29751:function($,F,m){for(var L=m(81658),D=m(87163),E=m(93049).extendFlat,T=m(13582).overrideAll,k=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],M={},b=0;b<k.length;b++){var a=k[b];M[a]=L[a]}M.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},E(M,D("",{cLetter:"z",autoColorDflt:!1})),$.exports=T(M,"calc","nested")},89987:function($,F,m){var L=m(99098).gl_heatmap2d,D=m(29714),E=m(55010);function T(M,b){this.scene=M,this.uid=b,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=L(M.glplot,this.options),this.heatmap._trace=this}var k=T.prototype;k.handlePick=function(M){var b=this.options,a=b.shape,t=M.pointId,u=t%a[0],i=Math.floor(t/a[0]),l=t;return{trace:this,dataCoord:M.dataCoord,traceCoord:[b.x[u],b.y[i],b.z[l]],textLabel:this.textLabels[t],name:this.name,pointIndex:[i,u],hoverinfo:this.hoverinfo}},k.update=function(M,b){var a=b[0];this.index=M.index,this.name=M.name,this.hoverinfo=M.hoverinfo;var t=a.z;this.options.z=[].concat.apply([],t);var u=t[0].length,i=t.length;this.options.shape=[u,i],this.options.x=a.x,this.options.y=a.y,this.options.zsmooth=M.zsmooth;var l=function(c){for(var x=c.colorscale,f=c.zmin,n=c.zmax,o=x.length,s=new Array(o),r=new Array(4*o),g=0;g<o;g++){var e=x[g],h=E(e[1]);s[g]=f+e[0]*(n-f);for(var _=0;_<4;_++)r[4*g+_]=h[_]}return{colorLevels:s,colorValues:r}}(M);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],M.text),this.heatmap.update(this.options);var d,v,y=this.scene.xaxis,p=this.scene.yaxis;M.zsmooth===!1&&(d={ppad:a.x[1]-a.x[0]},v={ppad:a.y[1]-a.y[0]}),M._extremes[y._id]=D.findExtremes(y,a.x,d),M._extremes[p._id]=D.findExtremes(p,a.y,v)},k.dispose=function(){this.heatmap.dispose()},$.exports=function(M,b,a){var t=new T(M,b.uid);return t.update(b,a),t}},51312:function($,F,m){var L=m(34809),D=m(86073),E=m(39356),T=m(29751);$.exports=function(k,M,b,a){function t(u,i){return L.coerce(k,M,T,u,i)}D(k,M,t,a)?(t("text"),t("zsmooth"),E(k,M,a,t,{prefix:"",cLetter:"z"})):M.visible=!1}},72892:function($,F,m){$.exports={attributes:m(29751),supplyDefaults:m(51312),colorbar:m(12431),calc:m(51670),plot:m(89987),moduleType:"trace",name:"heatmapgl",basePlotModule:m(46966),categories:["gl","gl2d","2dMap"],meta:{}}},48198:function($){$.exports=function(F,m){for(var L=F.length,D=0,E=0;E<L;E++)m[E]?(F[E]/=m[E],D+=F[E]):F[E]=null;return D}},34870:function($,F,m){var L=m(10721);$.exports={count:function(D,E,T){return T[D]++,1},sum:function(D,E,T,k){var M=k[E];return L(M)?(M=Number(M),T[D]+=M,M):0},avg:function(D,E,T,k,M){var b=k[E];return L(b)&&(b=Number(b),T[D]+=b,M[D]++),0},min:function(D,E,T,k){var M=k[E];if(L(M)){if(M=Number(M),!L(T[D]))return T[D]=M,M;if(T[D]>M){var b=M-T[D];return T[D]=M,b}}return 0},max:function(D,E,T,k){var M=k[E];if(L(M)){if(M=Number(M),!L(T[D]))return T[D]=M,M;if(T[D]<M){var b=M-T[D];return T[D]=M,b}}return 0}}},64852:function($,F,m){var L=m(63821),D=L.ONEAVGYEAR,E=L.ONEAVGMONTH,T=L.ONEDAY,k=L.ONEHOUR,M=L.ONEMIN,b=L.ONESEC,a=m(29714).tickIncrement;function t(d,v,y,p){if(d*v<=0)return 1/0;for(var c=Math.abs(v-d),x=y.type==="date",f=u(c,x),n=0;n<10;n++){var o=u(80*f,x);if(f===o||!i(o,d,v,x,y,p))break;f=o}return f}function u(d,v){return v&&d>b?d>T?d>1.1*D?D:d>1.1*E?E:T:d>k?k:d>M?M:b:Math.pow(10,Math.floor(Math.log(d)/Math.LN10))}function i(d,v,y,p,c,x){if(p&&d>T){var f=l(v,c,x),n=l(y,c,x),o=d===D?0:1;return f[o]!==n[o]}return Math.floor(y/d)-Math.floor(v/d)>.1}function l(d,v,y){var p=v.c2d(d,D,y).split("-");return p[0]===""&&(p.unshift(),p[0]="-"+p[0]),p}$.exports=function(d,v,y,p,c){var x,f,n=-1.1*v,o=-.1*v,s=d-o,r=y[0],g=y[1],e=Math.min(t(r+o,r+s,p,c),t(g+o,g+s,p,c)),h=Math.min(t(r+n,r+o,p,c),t(g+n,g+o,p,c));if(e>h&&h<Math.abs(g-r)/4e3?(x=e,f=!1):(x=Math.min(e,h),f=!0),p.type==="date"&&x>T){var _=x===D?1:6,w=x===D?"M12":"M1";return function(S,O){var A=p.c2d(S,D,c),I=A.indexOf("-",_);I>0&&(A=A.substr(0,I));var B=p.d2c(A,0,c);if(B<S){var C=a(B,w,!1,c);(B+C)/2<S+d&&(B=C)}return O&&f?a(B,w,!0,c):B}}return function(S,O){var A=x*Math.round(S/x);return A+x/10<S&&A+.9*x<S+d&&(A+=x),O&&f&&(A-=x),A}}},53616:function($,F,m){var L=m(10721),D=m(34809),E=m(33626),T=m(29714),k=m(35374),M=m(34870),b=m(58665),a=m(48198),t=m(64852);function u(i,l,d,v,y){var p,c,x,f,n,o,s,r=v+"bins",g=i._fullLayout,e=l["_"+v+"bingroup"],h=g._histogramBinOpts[e],_=g.barmode==="overlay",w=function(fe){return d.r2c(fe,0,f)},S=function(fe){return d.c2r(fe,0,f)},O=d.type==="date"?function(fe){return fe||fe===0?D.cleanDate(fe,null,f):null}:function(fe){return L(fe)?Number(fe):null};function A(fe,pe,me){pe[fe+"Found"]?(pe[fe]=O(pe[fe]),pe[fe]===null&&(pe[fe]=me[fe])):(o[fe]=pe[fe]=me[fe],D.nestedProperty(c[0],r+"."+fe).set(me[fe]))}if(l["_"+v+"autoBinFinished"])delete l["_"+v+"autoBinFinished"];else{c=h.traces;var I=[],B=!0,C=!1,z=!1;for(p=0;p<c.length;p++)if((x=c[p]).visible){var P=h.dirs[p];n=x["_"+P+"pos0"]=d.makeCalcdata(x,P),I=D.concat(I,n),delete x["_"+v+"autoBinFinished"],l.visible===!0&&(B?B=!1:(delete x._autoBin,x["_"+v+"autoBinFinished"]=1),E.traceIs(x,"2dMap")&&(C=!0),x.type==="histogram2dcontour"&&(z=!0))}f=c[0][v+"calendar"];var R=T.autoBin(I,d,h.nbins,C,f,h.sizeFound&&h.size),N=c[0]._autoBin={};if(o=N[h.dirs[0]]={},z&&(h.size||(R.start=S(T.tickIncrement(w(R.start),R.size,!0,f))),h.end===void 0&&(R.end=S(T.tickIncrement(w(R.end),R.size,!1,f)))),_&&!E.traceIs(l,"2dMap")&&R._dataSpan===0&&d.type!=="category"&&d.type!=="multicategory"&&l.bingroup===""&&l.xbins===void 0){if(y)return[R,n,!0];R=function(fe,pe,me,ke,ve){var he,de,X,ae=fe._fullLayout,K=function(De,Ge){for(var Xe=Ge.xaxis,Ke=Ge.yaxis,ut=Ge.orientation,Tt=[],je=De._fullData,Le=0;Le<je.length;Le++){var $e=je[Le];$e.type==="histogram"&&$e.visible===!0&&$e.orientation===ut&&$e.xaxis===Xe&&$e.yaxis===Ke&&Tt.push($e)}return Tt}(fe,pe),ge=!1,re=1/0,ue=[pe];for(he=0;he<K.length;he++)if((de=K[he])===pe)ge=!0;else if(ge){var we=u(fe,de,me,ke,!0),Te=we[0],ee=we[2];de["_"+ke+"autoBinFinished"]=1,de["_"+ke+"pos0"]=we[1],ee?ue.push(de):re=Math.min(re,Te.size)}else X=ae._histogramBinOpts[de["_"+ke+"bingroup"]],re=Math.min(re,X.size||de[ve].size);var se=new Array(ue.length);for(he=0;he<ue.length;he++)for(var ce=ue[he]["_"+ke+"pos0"],be=0;be<ce.length;be++)if(ce[be]!==void 0){se[he]=ce[be];break}for(isFinite(re)||(re=D.distinctVals(se).minDiff),he=0;he<ue.length;he++){var Ee=(de=ue[he])[ke+"calendar"],Se={start:me.c2r(se[he]-re/2,0,Ee),end:me.c2r(se[he]+re/2,0,Ee),size:re};de._input[ve]=de[ve]=Se,(X=ae._histogramBinOpts[de["_"+ke+"bingroup"]])&&D.extendFlat(X,Se)}return pe[ve]}(i,l,d,v,r)}(s=x.cumulative||{}).enabled&&s.currentbin!=="include"&&(s.direction==="decreasing"?R.start=S(T.tickIncrement(w(R.start),R.size,!0,f)):R.end=S(T.tickIncrement(w(R.end),R.size,!1,f))),h.size=R.size,h.sizeFound||(o.size=R.size,D.nestedProperty(c[0],r+".size").set(R.size)),A("start",h,R),A("end",h,R)}n=l["_"+v+"pos0"],delete l["_"+v+"pos0"];var j=l._input[r]||{},W=D.extendFlat({},h),Y=h.start,J=d.r2l(j.start),G=J!==void 0;if((h.startFound||G)&&J!==d.r2l(Y)){var H=G?J:D.aggNums(Math.min,null,n),U={type:d.type==="category"||d.type==="multicategory"?"linear":d.type,r2l:d.r2l,dtick:h.size,tick0:Y,calendar:f,range:[H,T.tickIncrement(H,h.size,!1,f)].map(d.l2r)},Z=T.tickFirst(U);Z>d.r2l(H)&&(Z=T.tickIncrement(Z,h.size,!0,f)),W.start=d.l2r(Z),G||D.nestedProperty(l,r+".start").set(W.start)}var q=h.end,Q=d.r2l(j.end),ne=Q!==void 0;if((h.endFound||ne)&&Q!==d.r2l(q)){var ie=ne?Q:D.aggNums(Math.max,null,n);W.end=d.l2r(ie),ne||D.nestedProperty(l,r+".start").set(W.end)}var le="autobin"+v;return l._input[le]===!1&&(l._input[r]=D.extendFlat({},l[r]||{}),delete l._input[le],delete l[le]),[W,n]}$.exports={calc:function(i,l){var d,v,y,p,c=[],x=[],f=l.orientation==="h",n=T.getFromId(i,f?l.yaxis:l.xaxis),o=f?"y":"x",s={x:"y",y:"x"}[o],r=l[o+"calendar"],g=l.cumulative,e=u(i,l,n,o),h=e[0],_=e[1],w=typeof h.size=="string",S=[],O=w?S:h,A=[],I=[],B=[],C=0,z=l.histnorm,P=l.histfunc,R=z.indexOf("density")!==-1;g.enabled&&R&&(z=z.replace(/ ?density$/,""),R=!1);var N,j=P==="max"||P==="min"?null:0,W=M.count,Y=b[z],J=!1,G=function(de){return n.r2c(de,0,r)};for(D.isArrayOrTypedArray(l[s])&&P!=="count"&&(N=l[s],J=P==="avg",W=M[P]),d=G(h.start),y=G(h.end)+(d-T.tickIncrement(d,h.size,!1,r))/1e6;d<y&&c.length<1e6&&(v=T.tickIncrement(d,h.size,!1,r),c.push((d+v)/2),x.push(j),B.push([]),S.push(d),R&&A.push(1/(v-d)),J&&I.push(0),!(v<=d));)d=v;S.push(d),w||n.type!=="date"||(O={start:G(O.start),end:G(O.end),size:O.size}),i._fullLayout._roundFnOpts||(i._fullLayout._roundFnOpts={});var H=l["_"+o+"bingroup"],U={leftGap:1/0,rightGap:1/0};H&&(i._fullLayout._roundFnOpts[H]||(i._fullLayout._roundFnOpts[H]=U),U=i._fullLayout._roundFnOpts[H]);var Z,q=x.length,Q=!0,ne=U.leftGap,ie=U.rightGap,le={};for(d=0;d<_.length;d++){var fe=_[d];(p=D.findBin(fe,O))>=0&&p<q&&(C+=W(p,d,x,N,I),Q&&B[p].length&&fe!==_[B[p][0]]&&(Q=!1),B[p].push(d),le[d]=p,ne=Math.min(ne,fe-S[p]),ie=Math.min(ie,S[p+1]-fe))}U.leftGap=ne,U.rightGap=ie,Q||(Z=function(de,X){return function(){var ae=i._fullLayout._roundFnOpts[H];return t(ae.leftGap,ae.rightGap,S,n,r)(de,X)}}),J&&(C=a(x,I)),Y&&Y(x,C,A),g.enabled&&function(de,X,ae){var K,ge,re;function ue(Te){re=de[Te],de[Te]/=2}function we(Te){ge=de[Te],de[Te]=re+ge/2,re+=ge}if(ae==="half")if(X==="increasing")for(ue(0),K=1;K<de.length;K++)we(K);else for(ue(de.length-1),K=de.length-2;K>=0;K--)we(K);else if(X==="increasing"){for(K=1;K<de.length;K++)de[K]+=de[K-1];ae==="exclude"&&(de.unshift(0),de.pop())}else{for(K=de.length-2;K>=0;K--)de[K]+=de[K+1];ae==="exclude"&&(de.push(0),de.shift())}}(x,g.direction,g.currentbin);var pe=Math.min(c.length,x.length),me=[],ke=0,ve=pe-1;for(d=0;d<pe;d++)if(x[d]){ke=d;break}for(d=pe-1;d>=ke;d--)if(x[d]){ve=d;break}for(d=ke;d<=ve;d++)if(L(c[d])&&L(x[d])){var he={p:c[d],s:x[d],b:0};g.enabled||(he.pts=B[d],Q?he.ph0=he.ph1=B[d].length?_[B[d][0]]:c[d]:(l._computePh=!0,he.ph0=Z(S[d]),he.ph1=Z(S[d+1],!0))),me.push(he)}return me.length===1&&(me[0].width1=T.tickIncrement(me[0].p,h.size,!1,r)-me[0].p),k(me,l),D.isArrayOrTypedArray(l.selectedpoints)&&D.tagSelected(me,l,le),me},calcAllAutoBins:u}},58665:function($){$.exports={percent:function(F,m){for(var L=F.length,D=100/m,E=0;E<L;E++)F[E]*=D},probability:function(F,m){for(var L=F.length,D=0;D<L;D++)F[D]/=m},density:function(F,m,L,D){var E=F.length;D=D||1;for(var T=0;T<E;T++)F[T]*=L[T]*D},"probability density":function(F,m,L,D){var E=F.length;D&&(m/=D);for(var T=0;T<E;T++)F[T]*=L[T]/m}}},19226:function($,F,m){var L=m(34809),D=m(29714),E=m(34870),T=m(58665),k=m(48198),M=m(64852),b=m(53616).calcAllAutoBins;function a(i,l,d,v){var y,p=new Array(i);if(v)for(y=0;y<i;y++)p[y]=1/(l[y+1]-l[y]);else{var c=1/d;for(y=0;y<i;y++)p[y]=c}return p}function t(i,l){return{start:i(l.start),end:i(l.end),size:l.size}}function u(i,l,d,v,y,p){var c,x=i.length-1,f=new Array(x),n=M(d,v,i,y,p);for(c=0;c<x;c++){var o=(l||[])[c];f[c]=o===void 0?[n(i[c]),n(i[c+1],!0)]:[o,o]}return f}$.exports=function(i,l){var d,v,y,p,c=D.getFromId(i,l.xaxis),x=D.getFromId(i,l.yaxis),f=l.xcalendar,n=l.ycalendar,o=function(Ke){return c.r2c(Ke,0,f)},s=function(Ke){return x.r2c(Ke,0,n)},r=b(i,l,c,"x"),g=r[0],e=r[1],h=b(i,l,x,"y"),_=h[0],w=h[1],S=l._length;e.length>S&&e.splice(S,e.length-S),w.length>S&&w.splice(S,w.length-S);var O=[],A=[],I=[],B=typeof g.size=="string",C=typeof _.size=="string",z=[],P=[],R=B?z:g,N=C?P:_,j=0,W=[],Y=[],J=l.histnorm,G=l.histfunc,H=J.indexOf("density")!==-1,U=G==="max"||G==="min"?null:0,Z=E.count,q=T[J],Q=!1,ne=[],ie=[],le="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";le&&G!=="count"&&(Q=G==="avg",Z=E[G]);var fe=g.size,pe=o(g.start),me=o(g.end)+(pe-D.tickIncrement(pe,fe,!1,f))/1e6;for(d=pe;d<me;d=D.tickIncrement(d,fe,!1,f))A.push(U),z.push(d),Q&&I.push(0);z.push(d);var ke,ve=A.length,he=(d-pe)/ve,de=(ke=pe+he/2,c.c2r(ke,0,f)),X=_.size,ae=s(_.start),K=s(_.end)+(ae-D.tickIncrement(ae,X,!1,n))/1e6;for(d=ae;d<K;d=D.tickIncrement(d,X,!1,n)){O.push(A.slice()),P.push(d);var ge=new Array(ve);for(v=0;v<ve;v++)ge[v]=[];Y.push(ge),Q&&W.push(I.slice())}P.push(d);var re=O.length,ue=(d-ae)/re,we=function(Ke){return x.c2r(Ke,0,n)}(ae+ue/2);H&&(ne=a(A.length,R,he,B),ie=a(O.length,N,ue,C)),B||c.type!=="date"||(R=t(o,R)),C||x.type!=="date"||(N=t(s,N));var Te=!0,ee=!0,se=new Array(ve),ce=new Array(re),be=1/0,Ee=1/0,Se=1/0,De=1/0;for(d=0;d<S;d++){var Ge=e[d],Xe=w[d];y=L.findBin(Ge,R),p=L.findBin(Xe,N),y>=0&&y<ve&&p>=0&&p<re&&(j+=Z(y,d,O[p],le,W[p]),Y[p][y].push(d),Te&&(se[y]===void 0?se[y]=Ge:se[y]!==Ge&&(Te=!1)),ee&&(ce[p]===void 0?ce[p]=Xe:ce[p]!==Xe&&(ee=!1)),be=Math.min(be,Ge-z[y]),Ee=Math.min(Ee,z[y+1]-Ge),Se=Math.min(Se,Xe-P[p]),De=Math.min(De,P[p+1]-Xe))}if(Q)for(p=0;p<re;p++)j+=k(O[p],W[p]);if(q)for(p=0;p<re;p++)q(O[p],j,ne,ie[p]);return{x:e,xRanges:u(z,Te&&se,be,Ee,c,f),x0:de,dx:he,y:w,yRanges:u(P,ee&&ce,Se,De,x,n),y0:we,dy:ue,z:O,pts:Y}}},59549:function($,F,m){var L=m(87163),D=m(25829),E=m(80337),T=m(13792).u,k=m(93049).extendFlat,M=m(78032).templatedArray;$.exports={domain:T({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:E({editType:"plot"}),tickfont:E({autoShadowDflt:!0,editType:"plot"}),rangefont:E({editType:"plot"}),dimensions:M("dimension",{label:{valType:"string",editType:"plot"},tickvals:k({},D.tickvals,{editType:"plot"}),ticktext:k({},D.ticktext,{editType:"plot"}),tickformat:k({},D.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:k({editType:"calc"},L("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},23245:function($,F,m){var L=m(77911),D=m(45568),E=m(71293).keyFun,T=m(71293).repeat,k=m(34809).sorterAsc,M=m(34809).strTranslate,b=L.bar.snapRatio;function a(h,_){return h*(1-b)+_*b}var t=L.bar.snapClose;function u(h,_){return h*(1-t)+_*t}function i(h,_,w,S){if(function(j,W){for(var Y=0;Y<W.length;Y++)if(j>=W[Y][0]&&j<=W[Y][1])return!0;return!1}(w,S))return w;var O=h?-1:1,A=0,I=_.length-1;if(O<0){var B=A;A=I,I=B}for(var C=_[A],z=C,P=A;O*P<O*I;P+=O){var R=P+O,N=_[R];if(O*w<O*u(C,N))return a(C,z);if(O*w<O*N||R===I)return a(N,C);z=C,C=N}}function l(h){h.attr("x",-L.bar.captureWidth/2).attr("width",L.bar.captureWidth)}function d(h){h.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function v(h){if(!h.brush.filterSpecified)return"0,"+h.height;for(var _,w,S,O=y(h.brush.filter.getConsolidated(),h.height),A=[0],I=O.length?O[0][0]:null,B=0;B<O.length;B++)w=(_=O[B])[1]-_[0],A.push(I),A.push(w),(S=B+1)<O.length&&(I=O[S][0]-_[1]);return A.push(h.height),A}function y(h,_){return h.map(function(w){return w.map(function(S){return Math.max(0,S*_)}).sort(k)})}function p(){D.select(document.body).style("cursor",null)}function c(h){h.attr("stroke-dasharray",v)}function x(h,_){var w=D.select(h).selectAll(".highlight, .highlight-shadow");c(_?w.transition().duration(L.bar.snapDuration).each("end",_):w)}function f(h,_){var w,S=h.brush,O=NaN,A={};if(S.filterSpecified){var I=h.height,B=S.filter.getConsolidated(),C=y(B,I),z=NaN,P=NaN,R=NaN;for(w=0;w<=C.length;w++){var N=C[w];if(N&&N[0]<=_&&_<=N[1]){z=w;break}if(P=w?w-1:NaN,N&&N[0]>_){R=w;break}}if(O=z,isNaN(O)&&(O=isNaN(P)||isNaN(R)?isNaN(P)?R:P:_-C[P][1]<C[R][0]-_?P:R),!isNaN(O)){var j=C[O],W=function(H,U){var Z=L.bar.handleHeight;if(!(U>H[1]+Z||U<H[0]-Z))return U>=.9*H[1]+.1*H[0]?"n":U<=.9*H[0]+.1*H[1]?"s":"ns"}(j,_);W&&(A.interval=B[O],A.intervalPix=j,A.region=W)}}if(h.ordinal&&!A.region){var Y=h.unitTickvals,J=h.unitToPaddedPx.invert(_);for(w=0;w<Y.length;w++){var G=[.25*Y[Math.max(w-1,0)]+.75*Y[w],.25*Y[Math.min(w+1,Y.length-1)]+.75*Y[w]];if(J>=G[0]&&J<=G[1]){A.clickableOrdinalRange=G;break}}}return A}function n(h,_){D.event.sourceEvent.stopPropagation();var w=_.height-D.mouse(h)[1]-2*L.verticalPadding,S=_.brush.svgBrush;S.wasDragged=!0,S._dragging=!0,S.grabbingBar?S.newExtent=[w-S.grabPoint,w+S.barLength-S.grabPoint].map(_.unitToPaddedPx.invert):S.newExtent=[S.startExtent,_.unitToPaddedPx.invert(w)].sort(k),_.brush.filterSpecified=!0,S.extent=S.stayingIntervals.concat([S.newExtent]),S.brushCallback(_),x(h.parentNode)}function o(h,_){var w=f(_,_.height-D.mouse(h)[1]-2*L.verticalPadding),S="crosshair";w.clickableOrdinalRange?S="pointer":w.region&&(S=w.region+"-resize"),D.select(document.body).style("cursor",S)}function s(h){h.on("mousemove",function(_){D.event.preventDefault(),_.parent.inBrushDrag||o(this,_)}).on("mouseleave",function(_){_.parent.inBrushDrag||p()}).call(D.behavior.drag().on("dragstart",function(_){(function(w,S){D.event.sourceEvent.stopPropagation();var O=S.height-D.mouse(w)[1]-2*L.verticalPadding,A=S.unitToPaddedPx.invert(O),I=S.brush,B=f(S,O),C=B.interval,z=I.svgBrush;if(z.wasDragged=!1,z.grabbingBar=B.region==="ns",z.grabbingBar){var P=C.map(S.unitToPaddedPx);z.grabPoint=O-P[0]-L.verticalPadding,z.barLength=P[1]-P[0]}z.clickableOrdinalRange=B.clickableOrdinalRange,z.stayingIntervals=S.multiselect&&I.filterSpecified?I.filter.getConsolidated():[],C&&(z.stayingIntervals=z.stayingIntervals.filter(function(R){return R[0]!==C[0]&&R[1]!==C[1]})),z.startExtent=B.region?C[B.region==="s"?1:0]:A,S.parent.inBrushDrag=!0,z.brushStartCallback()})(this,_)}).on("drag",function(_){n(this,_)}).on("dragend",function(_){(function(w,S){var O=S.brush,A=O.filter,I=O.svgBrush;I._dragging||(o(w,S),n(w,S),S.brush.svgBrush.wasDragged=!1),I._dragging=!1,D.event.sourceEvent.stopPropagation();var B=I.grabbingBar;if(I.grabbingBar=!1,I.grabLocation=void 0,S.parent.inBrushDrag=!1,p(),!I.wasDragged)return I.wasDragged=void 0,I.clickableOrdinalRange?O.filterSpecified&&S.multiselect?I.extent.push(I.clickableOrdinalRange):(I.extent=[I.clickableOrdinalRange],O.filterSpecified=!0):B?(I.extent=I.stayingIntervals,I.extent.length===0&&g(O)):g(O),I.brushCallback(S),x(w.parentNode),void I.brushEndCallback(O.filterSpecified?A.getConsolidated():[]);var C=function(){A.set(A.getConsolidated())};if(S.ordinal){var z=S.unitTickvals;z[z.length-1]<z[0]&&z.reverse(),I.newExtent=[i(0,z,I.newExtent[0],I.stayingIntervals),i(1,z,I.newExtent[1],I.stayingIntervals)];var P=I.newExtent[1]>I.newExtent[0];I.extent=I.stayingIntervals.concat(P?[I.newExtent]:[]),I.extent.length||g(O),I.brushCallback(S),P?x(w.parentNode,C):(C(),x(w.parentNode))}else C();I.brushEndCallback(O.filterSpecified?A.getConsolidated():[])})(this,_)}))}function r(h,_){return h[0]-_[0]}function g(h){h.filterSpecified=!1,h.svgBrush.extent=[[-1/0,1/0]]}function e(h){for(var _,w=h.slice(),S=[],O=w.shift();O;){for(_=O.slice();(O=w.shift())&&O[0]<=_[1];)_[1]=Math.max(_[1],O[1]);S.push(_)}return S.length===1&&S[0][0]>S[0][1]&&(S=[]),S}$.exports={makeBrush:function(h,_,w,S,O,A){var I,B=function(){var C,z,P=[];return{set:function(R){(P=R.map(function(N){return N.slice().sort(k)}).sort(r)).length===1&&P[0][0]===-1/0&&P[0][1]===1/0&&(P=[[0,-1]]),C=e(P),z=P.reduce(function(N,j){return[Math.min(N[0],j[0]),Math.max(N[1],j[1])]},[1/0,-1/0])},get:function(){return P.slice()},getConsolidated:function(){return C},getBounds:function(){return z}}}();return B.set(w),{filter:B,filterSpecified:_,svgBrush:{extent:[],brushStartCallback:S,brushCallback:(I=O,function(C){var z=C.brush,P=function(N){return N.svgBrush.extent.map(function(j){return j.slice()})}(z),R=P.slice();z.filter.set(R),I()}),brushEndCallback:A}}},ensureAxisBrush:function(h,_,w){var S=h.selectAll("."+L.cn.axisBrush).data(T,E);S.enter().append("g").classed(L.cn.axisBrush,!0),function(O,A,I){var B=I._context.staticPlot,C=O.selectAll(".background").data(T);C.enter().append("rect").classed("background",!0).call(l).call(d).style("pointer-events",B?"none":"auto").attr("transform",M(0,L.verticalPadding)),C.call(s).attr("height",function(R){return R.height-L.verticalPadding});var z=O.selectAll(".highlight-shadow").data(T);z.enter().append("line").classed("highlight-shadow",!0).attr("x",-L.bar.width/2).attr("stroke-width",L.bar.width+L.bar.strokeWidth).attr("stroke",A).attr("opacity",L.bar.strokeOpacity).attr("stroke-linecap","butt"),z.attr("y1",function(R){return R.height}).call(c);var P=O.selectAll(".highlight").data(T);P.enter().append("line").classed("highlight",!0).attr("x",-L.bar.width/2).attr("stroke-width",L.bar.width-L.bar.strokeWidth).attr("stroke",L.bar.fillColor).attr("opacity",L.bar.fillOpacity).attr("stroke-linecap","butt"),P.attr("y1",function(R){return R.height}).call(c)}(S,_,w)},cleanRanges:function(h,_){if(Array.isArray(h[0])?(h=h.map(function(S){return S.sort(k)}),h=_.multiselect?e(h.sort(r)):[h[0]]):h=[h.sort(k)],_.tickvals){var w=_.tickvals.slice().sort(k);if(!(h=h.map(function(S){var O=[i(0,w,S[0],[]),i(1,w,S[1],[])];if(O[1]>O[0])return O}).filter(function(S){return S})).length)return}return h.length>1?h:h[0]}}},79846:function($,F,m){$.exports={attributes:m(59549),supplyDefaults:m(12842),calc:m(20113),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:m(67207),categories:["gl","regl","noOpacity","noHover"],meta:{}}},67207:function($,F,m){var L=m(45568),D=m(4173).eV,E=m(58823),T=m(62972);F.name="parcoords",F.plot=function(k){var M=D(k.calcdata,"parcoords")[0];M.length&&E(k,M)},F.clean=function(k,M,b,a){var t=a._has&&a._has("parcoords"),u=M._has&&M._has("parcoords");t&&!u&&(a._paperdiv.selectAll(".parcoords").remove(),a._glimages.selectAll("*").remove())},F.toSVG=function(k){var M=k._fullLayout._glimages,b=L.select(k).selectAll(".svg-container");b.filter(function(a,t){return t===b.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var a=this,t=a.toDataURL("image/png");M.append("svg:image").attr({xmlns:T.svg,"xlink:href":t,preserveAspectRatio:"none",x:0,y:0,width:a.style.width,height:a.style.height})}),window.setTimeout(function(){L.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},20113:function($,F,m){var L=m(34809).isArrayOrTypedArray,D=m(88856),E=m(71293).wrap;$.exports=function(T,k){var M,b;return D.hasColorscale(k,"line")&&L(k.line.color)?(M=k.line.color,b=D.extractOpts(k.line).colorscale,D.calc(T,k,{vals:M,containerStr:"line",cLetter:"c"})):(M=function(a){for(var t=new Array(a),u=0;u<a;u++)t[u]=.5;return t}(k._length),b=[[0,k.line.color],[1,k.line.color]]),E({lineColor:M,cscale:b})}},77911:function($){$.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},12842:function($,F,m){var L=m(34809),D=m(65477).hasColorscale,E=m(39356),T=m(13792).N,k=m(59008),M=m(29714),b=m(59549),a=m(23245),t=m(77911).maxDimensionCount,u=m(63197);function i(l,d,v,y){function p(o,s){return L.coerce(l,d,b.dimensions,o,s)}var c=p("values"),x=p("visible");if(c&&c.length||(x=d.visible=!1),x){p("label"),p("tickvals"),p("ticktext"),p("tickformat");var f=p("range");d._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:f},M.setConvert(d._ax,y.layout),p("multiselect");var n=p("constraintrange");n&&(d.constraintrange=a.cleanRanges(n,d))}}$.exports=function(l,d,v,y){function p(o,s){return L.coerce(l,d,b,o,s)}var c=l.dimensions;Array.isArray(c)&&c.length>t&&(L.log("parcoords traces support up to "+t+" dimensions at the moment"),c.splice(t));var x=k(l,d,{name:"dimensions",layout:y,handleItemDefaults:i}),f=function(o,s,r,g,e){var h=e("line.color",r);if(D(o,"line")&&L.isArrayOrTypedArray(h)){if(h.length)return e("line.colorscale"),E(o,s,g,e,{prefix:"line.",cLetter:"c"}),h.length;s.line.color=r}return 1/0}(l,d,v,y,p);T(d,y,p),Array.isArray(x)&&x.length||(d.visible=!1),u(d,x,"values",f);var n=L.extendFlat({},y.font,{size:Math.round(y.font.size/1.2)});L.coerceFont(p,"labelfont",n),L.coerceFont(p,"tickfont",n,{autoShadowDflt:!0}),L.coerceFont(p,"rangefont",n),p("labelangle"),p("labelside"),p("unselected.line.color"),p("unselected.line.opacity")}},62935:function($,F,m){var L=m(34809).isTypedArray;F.convertTypedArray=function(D){return L(D)?Array.prototype.slice.call(D):D},F.isOrdinal=function(D){return!!D.tickvals},F.isVisible=function(D){return D.visible||!("visible"in D)}},83910:function($,F,m){var L=m(79846);L.plot=m(58823),$.exports=L},1293:function($,F,m){var L=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),D=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),E=m(77911).maxDimensionCount,T=m(34809),k=1e-6,M=new Uint8Array(4),b=new Uint8Array(4),a={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function t(x,f,n,o,s){var r=x._gl;r.enable(r.SCISSOR_TEST),r.scissor(f,n,o,s),x.clear({color:[0,0,0,0],depth:1})}function u(x,f,n,o,s,r){var g=r.key;n.drawCompleted||(function(e){e.read({x:0,y:0,width:1,height:1,data:M})}(x),n.drawCompleted=!0),function e(h){var _=Math.min(o,s-h*o);h===0&&(window.cancelAnimationFrame(n.currentRafs[g]),delete n.currentRafs[g],t(x,r.scissorX,r.scissorY,r.scissorWidth,r.viewBoxSize[1])),n.clearOnly||(r.count=2*_,r.offset=2*h*o,f(r),h*o+_<s&&(n.currentRafs[g]=window.requestAnimationFrame(function(){e(h+1)})),n.drawCompleted=!1)}(0)}function i(x,f){for(var n=new Array(256),o=0;o<256;o++)n[o]=x(o/255).concat(f);return n}function l(x,f){return(x>>>8*f)%256/255}function d(x,f,n){for(var o=new Array(8*f),s=0,r=0;r<f;r++)for(var g=0;g<2;g++)for(var e=0;e<4;e++){var h=4*x+e,_=n[64*r+h];h===63&&g===0&&(_*=-1),o[s++]=_}return o}function v(x){var f="0"+x;return f.substr(f.length-2)}function y(x){return x<E?"p"+v(x+1)+"_"+v(x+4):"colors"}function p(x,f,n,o,s,r,g,e,h,_,w,S,O,A){for(var I=[[],[]],B=0;B<64;B++)I[0][B]=B===s?1:0,I[1][B]=B===r?1:0;g*=A,e*=A,h*=A,_*=A;var C=x.lines.canvasOverdrag*A,z=x.domain,P=x.canvasWidth*A,R=x.canvasHeight*A,N=x.pad.l*A,j=x.pad.b*A,W=x.layoutHeight*A,Y=x.layoutWidth*A,J=x.deselectedLines.color,G=x.deselectedLines.opacity;return T.extendFlat({key:w,resolution:[P,R],viewBoxPos:[g+C,e],viewBoxSize:[h,_],i0:s,i1:r,dim0A:I[0].slice(0,16),dim0B:I[0].slice(16,32),dim0C:I[0].slice(32,48),dim0D:I[0].slice(48,64),dim1A:I[1].slice(0,16),dim1B:I[1].slice(16,32),dim1C:I[1].slice(32,48),dim1D:I[1].slice(48,64),drwLayer:S,contextColor:[J[0]/255,J[1]/255,J[2]/255,G!=="auto"?J[3]*G:Math.max(.00392156862745098,Math.pow(1/x.lines.color.length,.3333333333333333))],scissorX:(o===f?0:g+C)+(N-C)+Y*z.x[0],scissorWidth:(o===n?P-g+C:h+.5)+(o===f?g+C:0),scissorY:e+j+W*z.y[0],scissorHeight:_,viewportX:N-C+Y*z.x[0],viewportY:j+W*z.y[0],viewportWidth:P,viewportHeight:R},O)}function c(x){var f=2047,n=Math.max(0,Math.floor(x[0]*f),0),o=Math.min(f,Math.ceil(x[1]*f),f);return[Math.min(n,o),Math.max(n,o)]}$.exports=function(x,f){var n,o,s,r,g,e=f.context,h=f.pick,_=f.regl,w=_._gl,S=w.getParameter(w.ALIASED_LINE_WIDTH_RANGE),O=Math.max(S[0],Math.min(S[1],f.viewModel.plotGlPixelRatio)),A={currentRafs:{},drawCompleted:!0,clearOnly:!1},I=function(R){for(var N={},j=0;j<=E;j+=4)N[y(j)]=R.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return N}(_),B=_.texture(a),C=[];P(f);var z=_({profile:!1,blend:{enable:e,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!e,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:_.prop("scissorX"),y:_.prop("scissorY"),width:_.prop("scissorWidth"),height:_.prop("scissorHeight")}},viewport:{x:_.prop("viewportX"),y:_.prop("viewportY"),width:_.prop("viewportWidth"),height:_.prop("viewportHeight")},dither:!1,vert:L,frag:D,primitive:"lines",lineWidth:O,attributes:I,uniforms:{resolution:_.prop("resolution"),viewBoxPos:_.prop("viewBoxPos"),viewBoxSize:_.prop("viewBoxSize"),dim0A:_.prop("dim0A"),dim1A:_.prop("dim1A"),dim0B:_.prop("dim0B"),dim1B:_.prop("dim1B"),dim0C:_.prop("dim0C"),dim1C:_.prop("dim1C"),dim0D:_.prop("dim0D"),dim1D:_.prop("dim1D"),loA:_.prop("loA"),hiA:_.prop("hiA"),loB:_.prop("loB"),hiB:_.prop("hiB"),loC:_.prop("loC"),hiC:_.prop("hiC"),loD:_.prop("loD"),hiD:_.prop("hiD"),palette:B,contextColor:_.prop("contextColor"),maskTexture:_.prop("maskTexture"),drwLayer:_.prop("drwLayer"),maskHeight:_.prop("maskHeight")},offset:_.prop("offset"),count:_.prop("count")});function P(R){n=R.model,o=R.viewModel,s=o.dimensions.slice(),r=s[0]?s[0].values.length:0;var N=n.lines,j=h?N.color.map(function(Y,J){return J/N.color.length}):N.color,W=function(Y,J,G){for(var H,U=new Array(Y*(E+4)),Z=0,q=0;q<Y;q++){for(var Q=0;Q<E;Q++)U[Z++]=Q<J.length?J[Q].paddedUnitValues[q]:.5;U[Z++]=l(q,2),U[Z++]=l(q,1),U[Z++]=l(q,0),U[Z++]=(H=G[q],Math.max(k,Math.min(.999999,H)))}return U}(r,s,j);(function(Y,J,G){for(var H=0;H<=E;H+=4)Y[y(H)](d(H/4,J,G))})(I,r,W),e||h||(B=_.texture(T.extendFlat({data:i(n.unitToColor,255)},a)))}return{render:function(R,N,j){var W,Y,J,G=R.length,H=1/0,U=-1/0;for(W=0;W<G;W++)R[W].dim0.canvasX<H&&(H=R[W].dim0.canvasX,Y=W),R[W].dim1.canvasX>U&&(U=R[W].dim1.canvasX,J=W);G===0&&t(_,0,0,n.canvasWidth,n.canvasHeight);var Z=function(ve){var he,de,X,ae=[[],[]];for(X=0;X<64;X++){var K=!ve&&X<s.length?s[X].brush.filter.getBounds():[-1/0,1/0];ae[0][X]=K[0],ae[1][X]=K[1]}var ge=new Array(16384);for(he=0;he<16384;he++)ge[he]=255;if(!ve)for(he=0;he<s.length;he++){var re=he%8,ue=(he-re)/8,we=Math.pow(2,re),Te=s[he].brush.filter.get();if(!(Te.length<2)){var ee=c(Te[0])[1];for(de=1;de<Te.length;de++){var se=c(Te[de]);for(X=ee+1;X<se[0];X++)ge[8*X+ue]&=~we;ee=Math.max(ee,se[1])}}}var ce={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:ge};return g?g(ce):g=_.texture(ce),{maskTexture:g,maskHeight:2048,loA:ae[0].slice(0,16),loB:ae[0].slice(16,32),loC:ae[0].slice(32,48),loD:ae[0].slice(48,64),hiA:ae[1].slice(0,16),hiB:ae[1].slice(16,32),hiC:ae[1].slice(32,48),hiD:ae[1].slice(48,64)}}(e);for(W=0;W<G;W++){var q=R[W],Q=q.dim0.crossfilterDimensionIndex,ne=q.dim1.crossfilterDimensionIndex,ie=q.canvasX,le=q.canvasY,fe=ie+q.panelSizeX,pe=q.plotGlPixelRatio;if(N||!C[Q]||C[Q][0]!==ie||C[Q][1]!==fe){C[Q]=[ie,fe];var me=p(n,Y,J,W,Q,ne,ie,le,q.panelSizeX,q.panelSizeY,q.dim0.crossfilterDimensionIndex,e?0:h?2:1,Z,pe);A.clearOnly=j;var ke=N?n.lines.blockLineCount:r;u(_,z,A,ke,r,me)}}},readPixel:function(R,N){return _.read({x:R,y:N,width:1,height:1,data:b}),b},readPixels:function(R,N,j,W){var Y=new Uint8Array(4*j*W);return _.read({x:R,y:N,width:j,height:W,data:Y}),Y},destroy:function(){for(var R in x.style["pointer-events"]="none",B.destroy(),g&&g.destroy(),I)I[R].destroy()},update:P}}},63197:function($){$.exports=function(F,m,L,D){var E,T;for(D||(D=1/0),E=0;E<m.length;E++)(T=m[E]).visible&&(D=Math.min(D,T[L].length));for(D===1/0&&(D=0),F._length=D,E=0;E<m.length;E++)(T=m[E]).visible&&(T._length=D);return D}},16019:function($,F,m){var L=m(45568),D=m(34809),E=D.isArrayOrTypedArray,T=D.numberFormat,k=m(16401),M=m(29714),b=D.strRotate,a=D.strTranslate,t=m(30635),u=m(62203),i=m(88856),l=m(71293),d=l.keyFun,v=l.repeat,y=l.unwrap,p=m(62935),c=m(77911),x=m(23245),f=m(1293);function n(z,P,R){return D.aggNums(z,null,P,R)}function o(z,P){return r(n(Math.min,z,P),n(Math.max,z,P))}function s(z){var P=z.range;return P?r(P[0],P[1]):o(z.values,z._length)}function r(z,P){return!isNaN(z)&&isFinite(z)||(z=0),!isNaN(P)&&isFinite(P)||(P=0),z===P&&(z===0?(z-=1,P+=1):(z*=.9,P*=1.1)),[z,P]}function g(z,P,R,N,j){var W,Y,J=s(R);return N?L.scale.ordinal().domain(N.map((W=T(R.tickformat),Y=j,Y?function(G,H){var U=Y[H];return U??W(G)}:W))).range(N.map(function(G){var H=(G-J[0])/(J[1]-J[0]);return z-P+H*(2*P-z)})):L.scale.linear().domain(J).range([z-P,P])}function e(z){if(z.tickvals){var P=s(z);return L.scale.ordinal().domain(z.tickvals).range(z.tickvals.map(function(R){return(R-P[0])/(P[1]-P[0])}))}}function h(z){var P=z.map(function(j){return j[0]}),R=z.map(function(j){var W=k(j[1]);return L.rgb("rgb("+W[0]+","+W[1]+","+W[2]+")")}),N="rgb".split("").map(function(j){return L.scale.linear().clamp(!0).domain(P).range(R.map((W=j,function(Y){return Y[W]})));var W});return function(j){return N.map(function(W){return W(j)})}}function _(z){return z.dimensions.some(function(P){return P.brush.filterSpecified})}function w(z,P,R){var N=y(P),j=N.trace,W=p.convertTypedArray(N.lineColor),Y=j.line,J={color:k(j.unselected.line.color),opacity:j.unselected.line.opacity},G=i.extractOpts(Y),H=G.reversescale?i.flipScale(N.cscale):N.cscale,U=j.domain,Z=j.dimensions,q=z.width,Q=j.labelangle,ne=j.labelside,ie=j.labelfont,le=j.tickfont,fe=j.rangefont,pe=D.extendDeepNoArrays({},Y,{color:W.map(L.scale.linear().domain(s({values:W,range:[G.min,G.max],_length:j._length}))),blockLineCount:c.blockLineCount,canvasOverdrag:c.overdrag*c.canvasPixelRatio}),me=Math.floor(q*(U.x[1]-U.x[0])),ke=Math.floor(z.height*(U.y[1]-U.y[0])),ve=z.margin||{l:80,r:80,t:100,b:80},he=me,de=ke;return{key:R,colCount:Z.filter(p.isVisible).length,dimensions:Z,tickDistance:c.tickDistance,unitToColor:h(H),lines:pe,deselectedLines:J,labelAngle:Q,labelSide:ne,labelFont:ie,tickFont:le,rangeFont:fe,layoutWidth:q,layoutHeight:z.height,domain:U,translateX:U.x[0]*q,translateY:z.height-U.y[1]*z.height,pad:ve,canvasWidth:he*c.canvasPixelRatio+2*pe.canvasOverdrag,canvasHeight:de*c.canvasPixelRatio,width:he,height:de,canvasPixelRatio:c.canvasPixelRatio}}function S(z,P,R){var N=R.width,j=R.height,W=R.dimensions,Y=R.canvasPixelRatio,J=function(q){return N*q/Math.max(1,R.colCount-1)},G=c.verticalPadding/j,H=function(q,Q){return L.scale.linear().range([Q,q-Q])}(j,c.verticalPadding),U={key:R.key,xScale:J,model:R,inBrushDrag:!1},Z={};return U.dimensions=W.filter(p.isVisible).map(function(q,Q){var ne=function(re,ue){return L.scale.linear().domain(s(re)).range([ue,1-ue])}(q,G),ie=Z[q.label];Z[q.label]=(ie||0)+1;var le=q.label+(ie?"__"+ie:""),fe=q.constraintrange,pe=fe&&fe.length;pe&&!E(fe[0])&&(fe=[fe]);var me=pe?fe.map(function(re){return re.map(ne)}):[[-1/0,1/0]],ke=q.values;ke.length>q._length&&(ke=ke.slice(0,q._length));var ve,he=q.tickvals;function de(re,ue){return{val:re,text:ve[ue]}}function X(re,ue){return re.val-ue.val}if(E(he)&&he.length){D.isTypedArray(he)&&(he=Array.from(he)),ve=q.ticktext,E(ve)&&ve.length?ve.length>he.length?ve=ve.slice(0,he.length):he.length>ve.length&&(he=he.slice(0,ve.length)):ve=he.map(T(q.tickformat));for(var ae=1;ae<he.length;ae++)if(he[ae]<he[ae-1]){for(var K=he.map(de).sort(X),ge=0;ge<he.length;ge++)he[ge]=K[ge].val,ve[ge]=K[ge].text;break}}else he=void 0;return ke=p.convertTypedArray(ke),{key:le,label:q.label,tickFormat:q.tickformat,tickvals:he,ticktext:ve,ordinal:p.isOrdinal(q),multiselect:q.multiselect,xIndex:Q,crossfilterDimensionIndex:Q,visibleIndex:q._index,height:j,values:ke,paddedUnitValues:ke.map(ne),unitTickvals:he&&he.map(ne),xScale:J,x:J(Q),canvasX:J(Q)*Y,unitToPaddedPx:H,domainScale:g(j,c.verticalPadding,q,he,ve),ordinalScale:e(q),parent:U,model:R,brush:x.makeBrush(z,pe,me,function(){z.linePickActive(!1)},function(){var re=U;re.focusLayer&&re.focusLayer.render(re.panels,!0);var ue=_(re);!z.contextShown()&&ue?(re.contextLayer&&re.contextLayer.render(re.panels,!0),z.contextShown(!0)):z.contextShown()&&!ue&&(re.contextLayer&&re.contextLayer.render(re.panels,!0,!0),z.contextShown(!1))},function(re){if(U.focusLayer.render(U.panels,!0),U.pickLayer&&U.pickLayer.render(U.panels,!0),z.linePickActive(!0),P&&P.filterChanged){var ue=ne.invert,we=re.map(function(Te){return Te.map(ue).sort(D.sorterAsc)}).sort(function(Te,ee){return Te[0]-ee[0]});P.filterChanged(U.key,q._index,we)}})}}),U}function O(z){z.classed(c.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function A(z,P){var R=P==="top"?1:-1,N=z*Math.PI/180;return{dir:R,dx:Math.sin(N),dy:Math.cos(N),degrees:z}}function I(z,P,R){for(var N=P.panels||(P.panels=[]),j=z.data(),W=0;W<j.length-1;W++){var Y=N[W]||(N[W]={}),J=j[W],G=j[W+1];Y.dim0=J,Y.dim1=G,Y.canvasX=J.canvasX,Y.panelSizeX=G.canvasX-J.canvasX,Y.panelSizeY=P.model.canvasHeight,Y.y=0,Y.canvasY=0,Y.plotGlPixelRatio=R}}function B(z,P){return M.tickText(z._ax,P,!1).text}function C(z,P){if(z.ordinal)return"";var R=z.domainScale.domain(),N=R[P?R.length-1:0];return B(z.model.dimensions[z.visibleIndex],N)}$.exports=function(z,P,R,N){var j=z._context.staticPlot,W=z._fullLayout,Y=W._toppaper,J=W._glcontainer,G=z._context.plotGlPixelRatio,H=z._fullLayout.paper_bgcolor;(function(re){for(var ue=0;ue<re.length;ue++)for(var we=0;we<re[ue].length;we++)for(var Te=re[ue][we].trace,ee=Te.dimensions,se=0;se<ee.length;se++){var ce=ee[se].values,be=ee[se]._ax;be&&(be.range?be.range=r(be.range[0],be.range[1]):be.range=o(ce,Te._length),be.dtick||(be.dtick=.01*(Math.abs(be.range[1]-be.range[0])||1)),be.tickformat=ee[se].tickformat,M.calcTicks(be),be.cleanRange())}})(P);var U,Z,q=(U=!0,Z=!1,{linePickActive:function(re){return arguments.length?U=!!re:U},contextShown:function(re){return arguments.length?Z=!!re:Z}}),Q=P.filter(function(re){return y(re).trace.visible}).map(w.bind(0,R)).map(S.bind(0,q,N));J.each(function(re,ue){return D.extendFlat(re,Q[ue])});var ne=J.selectAll(".gl-canvas").each(function(re){re.viewModel=Q[0],re.viewModel.plotGlPixelRatio=G,re.viewModel.paperColor=H,re.model=re.viewModel?re.viewModel.model:null}),ie=null;ne.filter(function(re){return re.pick}).style("pointer-events",j?"none":"auto").on("mousemove",function(re){if(q.linePickActive()&&re.lineLayer&&N&&N.hover){var ue=L.event,we=this.width,Te=this.height,ee=L.mouse(this),se=ee[0],ce=ee[1];if(se<0||ce<0||se>=we||ce>=Te)return;var be=re.lineLayer.readPixel(se,Te-1-ce),Ee=be[3]!==0,Se=Ee?be[2]+256*(be[1]+256*be[0]):null,De={x:se,y:ce,clientX:ue.clientX,clientY:ue.clientY,dataIndex:re.model.key,curveNumber:Se};Se!==ie&&(Ee?N.hover(De):N.unhover&&N.unhover(De),ie=Se)}}),ne.style("opacity",function(re){return re.pick?0:1}),Y.style("background","rgba(255, 255, 255, 0)");var le=Y.selectAll("."+c.cn.parcoords).data(Q,d);le.exit().remove(),le.enter().append("g").classed(c.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),le.attr("transform",function(re){return a(re.model.translateX,re.model.translateY)});var fe=le.selectAll("."+c.cn.parcoordsControlView).data(v,d);fe.enter().append("g").classed(c.cn.parcoordsControlView,!0),fe.attr("transform",function(re){return a(re.model.pad.l,re.model.pad.t)});var pe=fe.selectAll("."+c.cn.yAxis).data(function(re){return re.dimensions},d);pe.enter().append("g").classed(c.cn.yAxis,!0),fe.each(function(re){I(pe,re,G)}),ne.each(function(re){if(re.viewModel){!re.lineLayer||N?re.lineLayer=f(this,re):re.lineLayer.update(re),(re.key||re.key===0)&&(re.viewModel[re.key]=re.lineLayer);var ue=!re.context||N;re.lineLayer.render(re.viewModel.panels,ue)}}),pe.attr("transform",function(re){return a(re.xScale(re.xIndex),0)}),pe.call(L.behavior.drag().origin(function(re){return re}).on("drag",function(re){var ue=re.parent;q.linePickActive(!1),re.x=Math.max(-c.overdrag,Math.min(re.model.width+c.overdrag,L.event.x)),re.canvasX=re.x*re.model.canvasPixelRatio,pe.sort(function(we,Te){return we.x-Te.x}).each(function(we,Te){we.xIndex=Te,we.x=re===we?we.x:we.xScale(we.xIndex),we.canvasX=we.x*we.model.canvasPixelRatio}),I(pe,ue,G),pe.filter(function(we){return Math.abs(re.xIndex-we.xIndex)!==0}).attr("transform",function(we){return a(we.xScale(we.xIndex),0)}),L.select(this).attr("transform",a(re.x,0)),pe.each(function(we,Te,ee){ee===re.parent.key&&(ue.dimensions[Te]=we)}),ue.contextLayer&&ue.contextLayer.render(ue.panels,!1,!_(ue)),ue.focusLayer.render&&ue.focusLayer.render(ue.panels)}).on("dragend",function(re){var ue=re.parent;re.x=re.xScale(re.xIndex),re.canvasX=re.x*re.model.canvasPixelRatio,I(pe,ue,G),L.select(this).attr("transform",function(we){return a(we.x,0)}),ue.contextLayer&&ue.contextLayer.render(ue.panels,!1,!_(ue)),ue.focusLayer&&ue.focusLayer.render(ue.panels),ue.pickLayer&&ue.pickLayer.render(ue.panels,!0),q.linePickActive(!0),N&&N.axesMoved&&N.axesMoved(ue.key,ue.dimensions.map(function(we){return we.crossfilterDimensionIndex}))})),pe.exit().remove();var me=pe.selectAll("."+c.cn.axisOverlays).data(v,d);me.enter().append("g").classed(c.cn.axisOverlays,!0),me.selectAll("."+c.cn.axis).remove();var ke=me.selectAll("."+c.cn.axis).data(v,d);ke.enter().append("g").classed(c.cn.axis,!0),ke.each(function(re){var ue=re.model.height/re.model.tickDistance,we=re.domainScale,Te=we.domain();L.select(this).call(L.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(ue,re.tickFormat).tickValues(re.ordinal?Te:null).tickFormat(function(ee){return p.isOrdinal(re)?ee:B(re.model.dimensions[re.visibleIndex],ee)}).scale(we)),u.font(ke.selectAll("text"),re.model.tickFont)}),ke.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),ke.selectAll("text").style("cursor","default");var ve=me.selectAll("."+c.cn.axisHeading).data(v,d);ve.enter().append("g").classed(c.cn.axisHeading,!0);var he=ve.selectAll("."+c.cn.axisTitle).data(v,d);he.enter().append("text").classed(c.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",j?"none":"auto"),he.text(function(re){return re.label}).each(function(re){var ue=L.select(this);u.font(ue,re.model.labelFont),t.convertToTspans(ue,z)}).attr("transform",function(re){var ue=A(re.model.labelAngle,re.model.labelSide),we=c.axisTitleOffset;return(ue.dir>0?"":a(0,2*we+re.model.height))+b(ue.degrees)+a(-we*ue.dx,-we*ue.dy)}).attr("text-anchor",function(re){var ue=A(re.model.labelAngle,re.model.labelSide);return 2*Math.abs(ue.dx)>Math.abs(ue.dy)?ue.dir*ue.dx<0?"start":"end":"middle"});var de=me.selectAll("."+c.cn.axisExtent).data(v,d);de.enter().append("g").classed(c.cn.axisExtent,!0);var X=de.selectAll("."+c.cn.axisExtentTop).data(v,d);X.enter().append("g").classed(c.cn.axisExtentTop,!0),X.attr("transform",a(0,-c.axisExtentOffset));var ae=X.selectAll("."+c.cn.axisExtentTopText).data(v,d);ae.enter().append("text").classed(c.cn.axisExtentTopText,!0).call(O),ae.text(function(re){return C(re,!0)}).each(function(re){u.font(L.select(this),re.model.rangeFont)});var K=de.selectAll("."+c.cn.axisExtentBottom).data(v,d);K.enter().append("g").classed(c.cn.axisExtentBottom,!0),K.attr("transform",function(re){return a(0,re.model.height+c.axisExtentOffset)});var ge=K.selectAll("."+c.cn.axisExtentBottomText).data(v,d);ge.enter().append("text").classed(c.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(O),ge.text(function(re){return C(re,!1)}).each(function(re){u.font(L.select(this),re.model.rangeFont)}),x.ensureAxisBrush(me,H,z)}},58823:function($,F,m){var L=m(16019),D=m(22459),E=m(62935).isVisible,T={};function k(M,b,a){var t=b.indexOf(a),u=M.indexOf(t);return u===-1&&(u+=b.length),u}($.exports=function(M,b){var a=M._fullLayout;if(D(M,[],T)){var t={},u={},i={},l={},d=a._size;b.forEach(function(v,y){var p=v[0].trace;i[y]=p.index;var c=l[y]=p._fullInput.index;t[y]=M.data[c].dimensions,u[y]=M.data[c].dimensions.slice()}),L(M,b,{width:d.w,height:d.h,margin:{t:d.t,r:d.r,b:d.b,l:d.l}},{filterChanged:function(v,y,p){var c=u[v][y],x=p.map(function(g){return g.slice()}),f="dimensions["+y+"].constraintrange",n=a._tracePreGUI[M._fullData[i[v]]._fullInput.uid];if(n[f]===void 0){var o=c.constraintrange;n[f]=o||null}var s=M._fullData[i[v]].dimensions[y];x.length?(x.length===1&&(x=x[0]),c.constraintrange=x,s.constraintrange=x.slice(),x=[x]):(delete c.constraintrange,delete s.constraintrange,x=null);var r={};r[f]=x,M.emit("plotly_restyle",[r,[l[v]]])},hover:function(v){M.emit("plotly_hover",v)},unhover:function(v){M.emit("plotly_unhover",v)},axesMoved:function(v,y){var p=function(c,x){return function(f,n){return k(c,x,f)-k(c,x,n)}}(y,u[v].filter(E));t[v].sort(p),u[v].filter(function(c){return!E(c)}).sort(function(c){return u[v].indexOf(c)}).forEach(function(c){t[v].splice(t[v].indexOf(c),1),t[v].splice(u[v].indexOf(c),0,c)}),M.emit("plotly_restyle",[{dimensions:[t[v]]},[l[v]]])}})}}).reglPrecompiled=T},75067:function($,F,m){var L=m(62203),D=m(78766);$.exports=function(E,T,k,M){var b=k.marker.pattern;b&&b.shape?L.pointStyle(E,k,M,T):D.fill(E,T.color)}},37252:function($,F,m){var L=m(34809);function D(E){return E.indexOf("e")!==-1?E.replace(/[.]?0+e/,"e"):E.indexOf(".")!==-1?E.replace(/[.]?0+$/,""):E}F.formatPiePercent=function(E,T){var k=D((100*E).toPrecision(3));return L.numSeparate(k,T)+"%"},F.formatPieValue=function(E,T){var k=D(E.toPrecision(10));return L.numSeparate(k,T)},F.getFirstFilled=function(E,T){if(L.isArrayOrTypedArray(E))for(var k=0;k<T.length;k++){var M=E[T[k]];if(M||M===0||M==="")return M}},F.castOption=function(E,T){return L.isArrayOrTypedArray(E)?F.getFirstFilled(E,T):E||void 0},F.getRotationAngle=function(E){return(E==="auto"?0:E)*Math.PI/180}},32891:function($,F,m){var L=m(78766),D=m(37252).castOption,E=m(75067);$.exports=function(T,k,M,b){var a=M.marker.line,t=D(a.color,k.pts)||L.defaultLine,u=D(a.width,k.pts)||0;T.call(E,k,M,b).style("stroke-width",u).call(L.stroke,t)}},36961:function($,F,m){var L=m(36640);$.exports={x:L.x,y:L.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:L.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},71593:function($,F,m){var L=m(99098).gl_pointcloud2d,D=m(34809).isArrayOrTypedArray,E=m(55010),T=m(32919).findExtremes,k=m(11539);function M(a,t){this.scene=a,this.uid=t,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=L(a.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var b=M.prototype;b.handlePick=function(a){var t=this.idToIndex[a.pointId];return{trace:this,dataCoord:a.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*t],this.pickXYData[2*t+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:D(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},b.update=function(a){this.index=a.index,this.textLabels=a.text,this.name=a.name,this.hoverinfo=a.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(a),this.color=k(a,{})},b.updateFast=function(a){var t,u,i,l,d,v,y=this.xData=this.pickXData=a.x,p=this.yData=this.pickYData=a.y,c=this.pickXYData=a.xy,x=a.xbounds&&a.ybounds,f=a.indices,n=this.bounds;if(c){if(i=c,t=c.length>>>1,x)n[0]=a.xbounds[0],n[2]=a.xbounds[1],n[1]=a.ybounds[0],n[3]=a.ybounds[1];else for(v=0;v<t;v++)l=i[2*v],d=i[2*v+1],l<n[0]&&(n[0]=l),l>n[2]&&(n[2]=l),d<n[1]&&(n[1]=d),d>n[3]&&(n[3]=d);if(f)u=f;else for(u=new Int32Array(t),v=0;v<t;v++)u[v]=v}else for(t=y.length,i=new Float32Array(2*t),u=new Int32Array(t),v=0;v<t;v++)l=y[v],d=p[v],u[v]=v,i[2*v]=l,i[2*v+1]=d,l<n[0]&&(n[0]=l),l>n[2]&&(n[2]=l),d<n[1]&&(n[1]=d),d>n[3]&&(n[3]=d);this.idToIndex=u,this.pointcloudOptions.idToIndex=u,this.pointcloudOptions.positions=i;var o=E(a.marker.color),s=E(a.marker.border.color),r=a.opacity*a.marker.opacity;o[3]*=r,this.pointcloudOptions.color=o;var g=a.marker.blend;g===null&&(g=y.length<100||p.length<100),this.pointcloudOptions.blend=g,s[3]*=r,this.pointcloudOptions.borderColor=s;var e=a.marker.sizemin,h=Math.max(a.marker.sizemax,a.marker.sizemin);this.pointcloudOptions.sizeMin=e,this.pointcloudOptions.sizeMax=h,this.pointcloudOptions.areaRatio=a.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var _=this.scene.xaxis,w=this.scene.yaxis,S=h/2||.5;a._extremes[_._id]=T(_,[n[0],n[2]],{ppad:S}),a._extremes[w._id]=T(w,[n[1],n[3]],{ppad:S})},b.dispose=function(){this.pointcloud.dispose()},$.exports=function(a,t){var u=new M(a,t.uid);return u.update(t),u}},75526:function($,F,m){var L=m(34809),D=m(36961);$.exports=function(E,T,k){function M(b,a){return L.coerce(E,T,D,b,a)}M("x"),M("y"),M("xbounds"),M("ybounds"),E.xy&&E.xy instanceof Float32Array&&(T.xy=E.xy),E.indices&&E.indices instanceof Int32Array&&(T.indices=E.indices),M("text"),M("marker.color",k),M("marker.opacity"),M("marker.blend"),M("marker.sizemin"),M("marker.sizemax"),M("marker.border.color",k),M("marker.border.arearatio"),T._length=null}},15186:function($,F,m){$.exports={attributes:m(36961),supplyDefaults:m(75526),calc:m(37593),plot:m(71593),moduleType:"trace",name:"pointcloud",basePlotModule:m(46966),categories:["gl","gl2d","showLegend"],meta:{}}},99203:function($,F,m){var L=m(34809);$.exports=function(D,E){for(var T=0;T<D.length;T++)D[T].i=T;L.mergeArray(E.text,D,"tx"),L.mergeArray(E.texttemplate,D,"txt"),L.mergeArray(E.hovertext,D,"htx"),L.mergeArray(E.customdata,D,"data"),L.mergeArray(E.textposition,D,"tp"),E.textfont&&(L.mergeArrayCastPositive(E.textfont.size,D,"ts"),L.mergeArray(E.textfont.color,D,"tc"),L.mergeArray(E.textfont.family,D,"tf"),L.mergeArray(E.textfont.weight,D,"tw"),L.mergeArray(E.textfont.style,D,"ty"),L.mergeArray(E.textfont.variant,D,"tv"),L.mergeArray(E.textfont.textcase,D,"tC"),L.mergeArray(E.textfont.lineposition,D,"tE"),L.mergeArray(E.textfont.shadow,D,"tS"));var k=E.marker;if(k){L.mergeArrayCastPositive(k.size,D,"ms"),L.mergeArrayCastPositive(k.opacity,D,"mo"),L.mergeArray(k.symbol,D,"mx"),L.mergeArray(k.angle,D,"ma"),L.mergeArray(k.standoff,D,"mf"),L.mergeArray(k.color,D,"mc");var M=k.line;k.line&&(L.mergeArray(M.color,D,"mlc"),L.mergeArrayCastPositive(M.width,D,"mlw"));var b=k.gradient;b&&b.type!=="none"&&(L.mergeArray(b.type,D,"mgt"),L.mergeArray(b.color,D,"mgc"))}}},36640:function($,F,m){var L=m(80712).axisHoverFormat,D=m(3208).ay,E=m(3208).rb,T=m(87163),k=m(80337),M=m(94850).T,b=m(94850).k,a=m(62203),t=m(32660),u=m(93049).extendFlat,i=m(19326);$.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:L("x"),yhoverformat:L("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:D({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:E({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:u({},M,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:i(!0),fillgradient:u({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:b,marker:u({symbol:{valType:"enumerated",values:a.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:u({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},T("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},T("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:k({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},26544:function($,F,m){var L=m(10721),D=m(34809),E=m(29714),T=m(40528),k=m(63821).BADNUM,M=m(64726),b=m(77272),a=m(99203),t=m(48861);function u(y,p,c,x,f,n,o){var s=p._length,r=y._fullLayout,g=c._id,e=x._id,h=r._firstScatter[d(p)]===p.uid,_=(v(p,r,c,x)||{}).orientation,w=p.fill;c._minDtick=0,x._minDtick=0;var S={padded:!0},O={padded:!0};o&&(S.ppad=O.ppad=o);var A=s<2||f[0]!==f[s-1]||n[0]!==n[s-1];A&&(w==="tozerox"||w==="tonextx"&&(h||_==="h"))?S.tozero=!0:(p.error_y||{}).visible||w!=="tonexty"&&w!=="tozeroy"&&(M.hasMarkers(p)||M.hasText(p))||(S.padded=!1,S.ppad=0),A&&(w==="tozeroy"||w==="tonexty"&&(h||_==="v"))?O.tozero=!0:w!=="tonextx"&&w!=="tozerox"||(O.padded=!1),g&&(p._extremes[g]=E.findExtremes(c,f,S)),e&&(p._extremes[e]=E.findExtremes(x,n,O))}function i(y,p){if(M.hasMarkers(y)){var c,x=y.marker,f=1.6*(y.marker.sizeref||1);if(c=y.marker.sizemode==="area"?function(g){return Math.max(Math.sqrt((g||0)/f),3)}:function(g){return Math.max((g||0)/f,3)},D.isArrayOrTypedArray(x.size)){var n={type:"linear"};E.setConvert(n);for(var o=n.makeCalcdata(y.marker,"size"),s=new Array(p),r=0;r<p;r++)s[r]=c(o[r]);return s}return c(x.size)}}function l(y,p){var c=d(p),x=y._firstScatter;x[c]||(x[c]=p.uid)}function d(y){var p=y.stackgroup;return y.xaxis+y.yaxis+y.type+(p?"-"+p:"")}function v(y,p,c,x){var f=y.stackgroup;if(f){var n=p._scatterStackOpts[c._id+x._id][f],o=n.orientation==="v"?x:c;return o.type==="linear"||o.type==="log"?n:void 0}}$.exports={calc:function(y,p){var c,x,f,n,o,s,r=y._fullLayout,g=p._xA=E.getFromId(y,p.xaxis||"x","x"),e=p._yA=E.getFromId(y,p.yaxis||"y","y"),h=g.makeCalcdata(p,"x"),_=e.makeCalcdata(p,"y"),w=T(p,g,"x",h),S=T(p,e,"y",_),O=w.vals,A=S.vals,I=p._length,B=new Array(I),C=p.ids,z=v(p,r,g,e),P=!1;l(r,p);var R,N="x",j="y";z?(D.pushUnique(z.traceIndices,p._expandedIndex),(c=z.orientation==="v")?(j="s",R="x"):(N="s",R="y"),o=z.stackgaps==="interpolate"):u(y,p,g,e,O,A,i(p,I));var W=!!p.xperiodalignment,Y=!!p.yperiodalignment;for(x=0;x<I;x++){var J=B[x]={},G=L(O[x]),H=L(A[x]);G&&H?(J[N]=O[x],J[j]=A[x],W&&(J.orig_x=h[x],J.xEnd=w.ends[x],J.xStart=w.starts[x]),Y&&(J.orig_y=_[x],J.yEnd=S.ends[x],J.yStart=S.starts[x])):z&&(c?G:H)?(J[R]=c?O[x]:A[x],J.gap=!0,o?(J.s=k,P=!0):J.s=0):J[N]=J[j]=k,C&&(J.id=String(C[x]))}if(a(B,p),b(y,p),t(B,p),z){for(x=0;x<B.length;)B[x][R]===k?B.splice(x,1):x++;if(D.sort(B,function(Q,ne){return Q[R]-ne[R]||Q.i-ne.i}),P){for(x=0;x<B.length-1&&B[x].gap;)x++;for((s=B[x].s)||(s=B[x].s=0),f=0;f<x;f++)B[f].s=s;for(n=B.length-1;n>x&&B[n].gap;)n--;for(s=B[n].s,f=B.length-1;f>n;f--)B[f].s=s;for(;x<n;)if(B[++x].gap){for(f=x+1;B[f].gap;)f++;for(var U=B[x-1][R],Z=B[x-1].s,q=(B[f].s-Z)/(B[f][R]-U);x<f;)B[x].s=Z+(B[x][R]-U)*q,x++}}}return B},calcMarkerSize:i,calcAxisExpansion:u,setFirstScatter:l,getStackOpts:v}},48861:function($,F,m){var L=m(34809);$.exports=function(D,E){L.isArrayOrTypedArray(E.selectedpoints)&&L.tagSelected(D,E)}},77272:function($,F,m){var L=m(65477).hasColorscale,D=m(28379),E=m(64726);$.exports=function(T,k){E.hasLines(k)&&L(k,"line")&&D(T,k,{vals:k.line.color,containerStr:"line",cLetter:"c"}),E.hasMarkers(k)&&(L(k,"marker")&&D(T,k,{vals:k.marker.color,containerStr:"marker",cLetter:"c"}),L(k,"marker.line")&&D(T,k,{vals:k.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},32660:function($){$.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},75603:function($,F,m){var L=m(26544),D=m(24782).setGroupPositions;function E(T,k,M,b,a,t,u){a[b]=!0;var i={i:null,gap:!0,s:0};if(i[u]=M,T.splice(k,0,i),k&&M===T[k-1][u]){var l=T[k-1];i.s=l.s,i.i=l.i,i.gap=l.gap}else t&&(i.s=function(d,v,y,p){var c=d[v-1],x=d[v+1];return x?c?c.s+(x.s-c.s)*(y-c[p])/(x[p]-c[p]):x.s:c.s}(T,k,M,u));k||(T[0].t=T[1].t,T[0].trace=T[1].trace,delete T[1].t,delete T[1].trace)}$.exports=function(T,k){T._fullLayout.scattermode==="group"&&function(R,N){for(var j=N.xaxis,W=N.yaxis,Y=R._fullLayout,J=R._fullData,G=R.calcdata,H=[],U=[],Z=0;Z<J.length;Z++){var q=J[Z];q.visible===!0&&q.type==="scatter"&&q.xaxis===j._id&&q.yaxis===W._id&&(q.orientation==="h"?H.push(G[Z]):q.orientation==="v"&&U.push(G[Z]))}var Q={mode:Y.scattermode,gap:Y.scattergap};D(R,j,W,U,Q),D(R,W,j,H,Q)}(T,k);var M=k.xaxis,b=k.yaxis,a=M._id+b._id,t=T._fullLayout._scatterStackOpts[a];if(t){var u,i,l,d,v,y,p,c,x,f,n,o,s,r,g,e=T.calcdata;for(var h in t){var _=(f=t[h]).traceIndices;if(_.length){for(n=f.stackgaps==="interpolate",o=f.groupnorm,f.orientation==="v"?(s="x",r="y"):(s="y",r="x"),g=new Array(_.length),u=0;u<g.length;u++)g[u]=!1;y=e[_[0]];var w=new Array(y.length);for(u=0;u<y.length;u++)w[u]=y[u][s];for(u=1;u<_.length;u++){for(v=e[_[u]],i=l=0;i<v.length;i++){for(p=v[i][s];p>w[l]&&l<w.length;l++)E(v,i,w[l],u,g,n,s),i++;if(p!==w[l]){for(d=0;d<u;d++)E(e[_[d]],l,p,d,g,n,s);w.splice(l,0,p)}l++}for(;l<w.length;l++)E(v,i,w[l],u,g,n,s),i++}var S=w.length;for(i=0;i<y.length;i++){for(c=y[i][r]=y[i].s,u=1;u<_.length;u++)(v=e[_[u]])[0].trace._rawLength=v[0].trace._length,v[0].trace._length=S,c+=v[i].s,v[i][r]=c;if(o)for(x=(o==="fraction"?c:c/100)||1,u=0;u<_.length;u++){var O=e[_[u]][i];O[r]/=x,O.sNorm=O.s/x}}for(u=0;u<_.length;u++){var A=(v=e[_[u]])[0].trace,I=L.calcMarkerSize(A,A._rawLength),B=Array.isArray(I);if(I&&g[u]||B){var C=I;for(I=new Array(S),i=0;i<S;i++)I[i]=v[i].gap?0:B?C[v[i].i]:C}var z=new Array(S),P=new Array(S);for(i=0;i<S;i++)z[i]=v[i].x,P[i]=v[i].y;L.calcAxisExpansion(T,A,M,b,z,P,I),v[0].t.orientation=f.orientation}}}}}},53044:function($,F,m){var L=m(34809),D=m(36301),E=m(36640);$.exports=function(T,k){var M,b,a;function t(v){return L.coerce(b._input,b,E,v)}if(k.scattermode==="group")for(a=0;a<T.length;a++)(b=T[a]).type==="scatter"&&(M=b._input,D(M,b,k,t));for(a=0;a<T.length;a++){var u=T[a];if(u.type==="scatter"){var i=u.fill;if(i!=="none"&&i!=="toself"&&(u.opacity=void 0,i==="tonexty"||i==="tonextx"))for(var l=a-1;l>=0;l--){var d=T[l];if(d.type==="scatter"&&d.xaxis===u.xaxis&&d.yaxis===u.yaxis){d.opacity=void 0;break}}}}}},40247:function($,F,m){var L=m(34809),D=m(33626),E=m(36640),T=m(32660),k=m(64726),M=m(99867),b=m(99669),a=m(382),t=m(24272),u=m(98168),i=m(91602),l=m(663),d=m(54114),v=m(34809).coercePattern;$.exports=function(y,p,c,x){function f(_,w){return L.coerce(y,p,E,_,w)}var n=M(y,p,x,f);if(n||(p.visible=!1),p.visible){b(y,p,x,f),f("xhoverformat"),f("yhoverformat"),f("zorder");var o=a(y,p,x,f);x.scattermode==="group"&&p.orientation===void 0&&f("orientation","v");var s=!o&&n<T.PTS_LINESONLY?"lines+markers":"lines";f("text"),f("hovertext"),f("mode",s),k.hasMarkers(p)&&t(y,p,c,x,f,{gradient:!0}),k.hasLines(p)&&(u(y,p,c,x,f,{backoff:!0}),i(y,p,f),f("connectgaps"),f("line.simplify")),k.hasText(p)&&(f("texttemplate"),l(y,p,x,f));var r=[];(k.hasMarkers(p)||k.hasText(p))&&(f("cliponaxis"),f("marker.maxdisplayed"),r.push("points")),f("fill",o?o.fillDflt:"none"),p.fill!=="none"&&(d(y,p,c,f,{moduleHasFillgradient:!0}),k.hasLines(p)||i(y,p,f),v(f,"fillpattern",p.fillcolor,!1));var g=(p.line||{}).color,e=(p.marker||{}).color;p.fill!=="tonext"&&p.fill!=="toself"||r.push("fills"),f("hoveron",r.join("+")||"points"),p.hoveron!=="fills"&&f("hovertemplate");var h=D.getComponentMethod("errorbars","supplyDefaults");h(y,p,g||e||c,{axis:"y"}),h(y,p,g||e||c,{axis:"x",inherit:"y"}),L.coerceSelectionMarkerOpacity(p,f)}}},19326:function($){$.exports=function(F){return{valType:"color",editType:"style",anim:!0}}},54114:function($,F,m){var L=m(78766),D=m(34809).isArrayOrTypedArray;$.exports=function(E,T,k,M,b){b||(b={});var a,t=!1;if(T.marker){var u=T.marker.color,i=(T.marker.line||{}).color;u&&!D(u)?t=u:i&&!D(i)&&(t=i)}if(b.moduleHasFillgradient&&M("fillgradient.type")!=="none"){M("fillgradient.start"),M("fillgradient.stop");var l=M("fillgradient.colorscale");l&&(a=function(d){for(var v=L.interpolate(d[0][1],d[1][1],.5),y=2;y<d.length;y++){var p=L.interpolate(d[y-1][1],d[y][1],.5);v=L.interpolate(v,p,d[y-1][0]/d[y][0])}return v}(l))}M("fillcolor",L.addOpacity((T.line||{}).color||t||a||k,.5))}},15294:function($,F,m){var L=m(29714);$.exports=function(D,E,T){var k={},M={_fullLayout:T},b=L.getFromTrace(M,E,"x"),a=L.getFromTrace(M,E,"y"),t=D.orig_x;t===void 0&&(t=D.x);var u=D.orig_y;return u===void 0&&(u=D.y),k.xLabel=L.tickText(b,b.c2l(t),!0).text,k.yLabel=L.tickText(a,a.c2l(u),!0).text,k}},11539:function($,F,m){var L=m(78766),D=m(64726);$.exports=function(E,T){var k,M;if(E.mode==="lines")return(k=E.line.color)&&L.opacity(k)?k:E.fillcolor;if(E.mode==="none")return E.fill?E.fillcolor:"";var b=T.mcc||(E.marker||{}).color,a=T.mlcc||((E.marker||{}).line||{}).color;return(M=b&&L.opacity(b)?b:a&&L.opacity(a)&&(T.mlw||((E.marker||{}).line||{}).width)?a:"")?L.opacity(M)<.3?L.addOpacity(M,.3):M:(k=(E.line||{}).color)&&L.opacity(k)&&D.hasLines(E)&&E.line.width?k:E.fillcolor}},36301:function($,F,m){var L=m(84391).getAxisGroup;$.exports=function(D,E,T,k){var M=E.orientation,b=E[{v:"x",h:"y"}[M]+"axis"],a=L(T,b)+M,t=T._alignmentOpts||{},u=k("alignmentgroup"),i=t[a];i||(i=t[a]={});var l=i[u];l?l.traces.push(E):l=i[u]={traces:[E],alignmentIndex:Object.keys(i).length,offsetGroups:{}};var d=k("offsetgroup"),v=l.offsetGroups,y=v[d];d&&(y||(y=v[d]={offsetIndex:Object.keys(v).length}),E._offsetIndex=y.offsetIndex)}},37255:function($,F,m){var L=m(34809),D=m(32141),E=m(33626),T=m(11539),k=m(78766),M=L.fillText;$.exports=function(b,a,t,u){var i=b.cd,l=i[0].trace,d=b.xa,v=b.ya,y=d.c2p(a),p=v.c2p(t),c=[y,p],x=l.hoveron||"",f=l.mode.indexOf("markers")!==-1?3:.5,n=!!l.xperiodalignment,o=!!l.yperiodalignment;if(x.indexOf("points")!==-1){var s=function(z){var P=Math.max(f,z.mrc||0),R=d.c2p(z.x)-y,N=v.c2p(z.y)-p;return Math.max(Math.sqrt(R*R+N*N)-P,1-f/P)},r=D.getDistanceFunction(u,function(z){if(n){var P=d.c2p(z.xStart),R=d.c2p(z.xEnd);return y>=Math.min(P,R)&&y<=Math.max(P,R)?0:1/0}var N=Math.max(3,z.mrc||0),j=1-1/N,W=Math.abs(d.c2p(z.x)-y);return W<N?j*W/N:W-N+j},function(z){if(o){var P=v.c2p(z.yStart),R=v.c2p(z.yEnd);return p>=Math.min(P,R)&&p<=Math.max(P,R)?0:1/0}var N=Math.max(3,z.mrc||0),j=1-1/N,W=Math.abs(v.c2p(z.y)-p);return W<N?j*W/N:W-N+j},s);if(D.getClosest(i,r,b),b.index!==!1){var g=i[b.index],e=d.c2p(g.x,!0),h=v.c2p(g.y,!0),_=g.mrc||1;b.index=g.i;var w=i[0].t.orientation,S=w&&(g.sNorm||g.s),O=w==="h"?S:g.orig_x!==void 0?g.orig_x:g.x,A=w==="v"?S:g.orig_y!==void 0?g.orig_y:g.y;return L.extendFlat(b,{color:T(l,g),x0:e-_,x1:e+_,xLabelVal:O,y0:h-_,y1:h+_,yLabelVal:A,spikeDistance:s(g),hovertemplate:l.hovertemplate}),M(g,l,b),E.getComponentMethod("errorbars","hoverInfo")(g,l,b),[b]}}function I(z){if(!z)return!1;var P=z.node();try{var R=new DOMPoint(c[0],c[1]);return P.isPointInFill(R)}catch{var N=P.ownerSVGElement.createSVGPoint();return N.x=c[0],N.y=c[1],P.isPointInFill(N)}}if(x.indexOf("fills")!==-1&&l._fillElement&&I(l._fillElement)&&!I(l._fillExclusionElement)){var B=function(z){var P,R,N,j,W,Y,J,G,H,U=[],Z=1/0,q=-1/0,Q=1/0,ne=-1/0;for(P=0;P<z.length;P++){var ie=z[P];ie.contains(c)&&(U.push(ie),Q=Math.min(Q,ie.ymin),ne=Math.max(ne,ie.ymax))}if(U.length===0)return null;for(R=((Q=Math.max(Q,0))+(ne=Math.min(ne,v._length)))/2,P=0;P<U.length;P++)for(j=U[P].pts,N=1;N<j.length;N++)(G=j[N-1][1])>R!=(H=j[N][1])>=R&&(Y=j[N-1][0],J=j[N][0],H-G&&(W=Y+(J-Y)*(R-G)/(H-G),Z=Math.min(Z,W),q=Math.max(q,W)));return{x0:Z=Math.max(Z,0),x1:q=Math.min(q,d._length),y0:R,y1:R}}(l._polygons);B===null&&(B={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var C=k.defaultLine;return k.opacity(l.fillcolor)?C=l.fillcolor:k.opacity((l.line||{}).color)&&(C=l.line.color),L.extendFlat(b,{distance:b.maxHoverDistance,x0:B.x0,x1:B.x1,y0:B.y0,y1:B.y1,color:C,hovertemplate:!1}),delete b.index,l.text&&!L.isArrayOrTypedArray(l.text)?b.text=String(l.text):b.text=l.name,[b]}}},69693:function($,F,m){var L=m(64726);$.exports={hasLines:L.hasLines,hasMarkers:L.hasMarkers,hasText:L.hasText,isBubble:L.isBubble,attributes:m(36640),layoutAttributes:m(26667),supplyDefaults:m(40247),crossTraceDefaults:m(53044),supplyLayoutDefaults:m(12332),calc:m(26544).calc,crossTraceCalc:m(75603),arraysToCalcdata:m(99203),plot:m(36098),colorbar:m(21146),formatLabels:m(15294),style:m(9408).style,styleOnSelect:m(9408).styleOnSelect,hoverPoints:m(37255),selectPoints:m(32665),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:m(37703),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},26667:function($){$.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},12332:function($,F,m){var L=m(34809),D=m(26667);$.exports=function(E,T){var k,M=T.barmode==="group";T.scattermode==="group"&&(k=M?T.bargap:.2,L.coerce(E,T,D,"scattergap",k))}},98168:function($,F,m){var L=m(34809).isArrayOrTypedArray,D=m(65477).hasColorscale,E=m(39356);$.exports=function(T,k,M,b,a,t){t||(t={});var u=(T.marker||{}).color;u&&u._inputArray&&(u=u._inputArray),a("line.color",M),D(T,"line")?E(T,k,b,a,{prefix:"line.",cLetter:"c"}):a("line.color",!L(u)&&u||M),a("line.width"),t.noDash||a("line.dash"),t.backoff&&a("line.backoff")}},5525:function($,F,m){var L=m(62203),D=m(63821),E=D.BADNUM,T=D.LOG_CLIP,k=T+.5,M=T-.5,b=m(34809),a=b.segmentsIntersect,t=b.constrain,u=m(32660);$.exports=function(i,l){var d,v,y,p,c,x,f,n,o,s,r,g,e,h,_,w,S,O,A=l.trace||{},I=l.xaxis,B=l.yaxis,C=I.type==="log",z=B.type==="log",P=I._length,R=B._length,N=l.backoff,j=A.marker,W=l.connectGaps,Y=l.baseTolerance,J=l.shape,G=J==="linear",H=A.fill&&A.fill!=="none",U=[],Z=u.minTolerance,q=i.length,Q=new Array(q),ne=0;function ie(Je){var at=i[Je];if(!at)return!1;var gt=l.linearized?I.l2p(at.x):I.c2p(at.x),Oe=l.linearized?B.l2p(at.y):B.c2p(at.y);if(gt===E){if(C&&(gt=I.c2p(at.x,!0)),gt===E)return!1;z&&Oe===E&&(gt*=Math.abs(I._m*R*(I._m>0?k:M)/(B._m*P*(B._m>0?k:M)))),gt*=1e3}if(Oe===E){if(z&&(Oe=B.c2p(at.y,!0)),Oe===E)return!1;Oe*=1e3}return[gt,Oe]}function le(Je,at,gt,Oe){var Be=gt-Je,it=Oe-at,tt=.5-Je,ft=.5-at,pt=Be*Be+it*it,_e=Be*tt+it*ft;if(_e>0&&_e<pt){var Ae=tt*it-ft*Be;if(Ae*Ae<pt)return!0}}function fe(Je,at){var gt=Je[0]/P,Oe=Je[1]/R,Be=Math.max(0,-gt,gt-1,-Oe,Oe-1);return Be&&S!==void 0&&le(gt,Oe,S,O)&&(Be=0),Be&&at&&le(gt,Oe,at[0]/P,at[1]/R)&&(Be=0),(1+u.toleranceGrowth*Be)*Y}function pe(Je,at){var gt=Je[0]-at[0],Oe=Je[1]-at[1];return Math.sqrt(gt*gt+Oe*Oe)}var me,ke,ve,he,de,X,ae,K=u.maxScreensAway,ge=-P*K,re=P*(1+K),ue=-R*K,we=R*(1+K),Te=[[ge,ue,re,ue],[re,ue,re,we],[re,we,ge,we],[ge,we,ge,ue]];function ee(Je){if(Je[0]<ge||Je[0]>re||Je[1]<ue||Je[1]>we)return[t(Je[0],ge,re),t(Je[1],ue,we)]}function se(Je,at){return Je[0]===at[0]&&(Je[0]===ge||Je[0]===re)||Je[1]===at[1]&&(Je[1]===ue||Je[1]===we)||void 0}function ce(Je,at,gt){return function(Oe,Be){var it=ee(Oe),tt=ee(Be),ft=[];if(it&&tt&&se(it,tt))return ft;it&&ft.push(it),tt&&ft.push(tt);var pt=2*b.constrain((Oe[Je]+Be[Je])/2,at,gt)-((it||Oe)[Je]+(tt||Be)[Je]);return pt&&((it&&tt?pt>0==it[Je]>tt[Je]?it:tt:it||tt)[Je]+=pt),ft}}function be(Je){var at=Je[0],gt=Je[1],Oe=at===Q[ne-1][0],Be=gt===Q[ne-1][1];if(!Oe||!Be)if(ne>1){var it=at===Q[ne-2][0],tt=gt===Q[ne-2][1];Oe&&(at===ge||at===re)&&it?tt?ne--:Q[ne-1]=Je:Be&&(gt===ue||gt===we)&&tt?it?ne--:Q[ne-1]=Je:Q[ne++]=Je}else Q[ne++]=Je}function Ee(Je){Q[ne-1][0]!==Je[0]&&Q[ne-1][1]!==Je[1]&&be([ve,he]),be(Je),de=null,ve=he=0}J==="linear"||J==="spline"?ae=function(Je,at){for(var gt=[],Oe=0,Be=0;Be<4;Be++){var it=Te[Be],tt=a(Je[0],Je[1],at[0],at[1],it[0],it[1],it[2],it[3]);tt&&(!Oe||Math.abs(tt.x-gt[0][0])>1||Math.abs(tt.y-gt[0][1])>1)&&(tt=[tt.x,tt.y],Oe&&pe(tt,Je)<pe(gt[0],Je)?gt.unshift(tt):gt.push(tt),Oe++)}return gt}:J==="hv"||J==="vh"?ae=function(Je,at){var gt=[],Oe=ee(Je),Be=ee(at);return Oe&&Be&&se(Oe,Be)||(Oe&&gt.push(Oe),Be&&gt.push(Be)),gt}:J==="hvh"?ae=ce(0,ge,re):J==="vhv"&&(ae=ce(1,ue,we));var Se=b.isArrayOrTypedArray(j);function De(Je){if(Je&&N&&(Je.i=d,Je.d=i,Je.trace=A,Je.marker=Se?j[Je.i]:j,Je.backoff=N),S=Je[0]/P,O=Je[1]/R,me=Je[0]<ge?ge:Je[0]>re?re:0,ke=Je[1]<ue?ue:Je[1]>we?we:0,me||ke){if(ne)if(de){var at=ae(de,Je);at.length>1&&(Ee(at[0]),Q[ne++]=at[1])}else X=ae(Q[ne-1],Je)[0],Q[ne++]=X;else Q[ne++]=[me||Je[0],ke||Je[1]];var gt=Q[ne-1];me&&ke&&(gt[0]!==me||gt[1]!==ke)?(de&&(ve!==me&&he!==ke?be(ve&&he?(Oe=de,it=(Be=Je)[0]-Oe[0],tt=(Be[1]-Oe[1])/it,(Oe[1]*Be[0]-Be[1]*Oe[0])/it>0?[tt>0?ge:re,we]:[tt>0?re:ge,ue]):[ve||me,he||ke]):ve&&he&&be([ve,he])),be([me,ke])):ve-me&&he-ke&&be([me||ve,ke||he]),de=Je,ve=me,he=ke}else de&&Ee(ae(de,Je)[0]),Q[ne++]=Je;var Oe,Be,it,tt}for(d=0;d<q;d++)if(v=ie(d)){for(ne=0,de=null,De(v),d++;d<q;d++){if(!(p=ie(d))){if(W)continue;break}if(G&&l.simplify){var Ge=ie(d+1);if(s=pe(p,v),H&&(ne===0||ne===q-1)||!(s<fe(p,Ge)*Z)){for(n=[(p[0]-v[0])/s,(p[1]-v[1])/s],c=v,r=s,g=h=_=0,f=!1,y=p,d++;d<i.length;d++){if(x=Ge,Ge=ie(d+1),!x){if(W)continue;break}if(w=(o=[x[0]-v[0],x[1]-v[1]])[0]*n[1]-o[1]*n[0],h=Math.min(h,w),(_=Math.max(_,w))-h>fe(x,Ge))break;y=x,(e=o[0]*n[0]+o[1]*n[1])>r?(r=e,p=x,f=!1):e<g&&(g=e,c=x,f=!0)}if(f?(De(p),y!==c&&De(c)):(c!==v&&De(c),y!==p&&De(p)),De(y),d>=i.length||!x)break;De(x),v=x}}else De(p)}de&&be([ve||de[0],he||de[1]]),U.push(Q.slice(0,ne))}var Xe=J.slice(J.length-1);if(N&&Xe!=="h"&&Xe!=="v"){for(var Ke=!1,ut=-1,Tt=[],je=0;je<U.length;je++)for(var Le=0;Le<U[je].length-1;Le++){var $e=U[je][Le],st=U[je][Le+1],Ot=L.applyBackoff(st,$e);Ot[0]===st[0]&&Ot[1]===st[1]||(Ke=!0),Tt[ut+1]||(Tt[++ut]=[$e,[Ot[0],Ot[1]]])}return Ke?Tt:U}return U}},91602:function($){$.exports=function(F,m,L){L("line.shape")==="spline"&&L("line.smoothing")}},17210:function($){var F={tonextx:1,tonexty:1,tonext:1};$.exports=function(m,L,D){var E,T,k,M,b,a={},t=!1,u=-1,i=0,l=-1;for(T=0;T<D.length;T++)(k=(E=D[T][0].trace).stackgroup||"")?k in a?b=a[k]:(b=a[k]=i,i++):E.fill in F&&l>=0?b=l:(b=l=i,i++),b<u&&(t=!0),E._groupIndex=u=b;var d=D.slice();t&&d.sort(function(y,p){var c=y[0].trace,x=p[0].trace;return c._groupIndex-x._groupIndex||c.index-x.index});var v={};for(T=0;T<d.length;T++)k=(E=d[T][0].trace).stackgroup||"",E.visible===!0?(E._nexttrace=null,E.fill in F&&(M=v[k],E._prevtrace=M||null,M&&(M._nexttrace=E)),E._ownfill=E.fill&&(E.fill.substr(0,6)==="tozero"||E.fill==="toself"||E.fill.substr(0,2)==="to"&&!E._prevtrace),v[k]=E):E._prevtrace=E._nexttrace=E._ownfill=null;return d}},92527:function($,F,m){var L=m(10721);$.exports=function(D,E){E||(E=2);var T=D.marker,k=T.sizeref||1,M=T.sizemin||0,b=T.sizemode==="area"?function(a){return Math.sqrt(a/k)}:function(a){return a/k};return function(a){var t=b(a/E);return L(t)&&t>0?Math.max(t,M):0}}},21146:function($){$.exports={container:"marker",min:"cmin",max:"cmax"}},24272:function($,F,m){var L=m(78766),D=m(65477).hasColorscale,E=m(39356),T=m(64726);$.exports=function(k,M,b,a,t,u){var i=T.isBubble(k),l=(k.line||{}).color;u=u||{},l&&(b=l),t("marker.symbol"),t("marker.opacity",i?.7:1),t("marker.size"),u.noAngle||(t("marker.angle"),u.noAngleRef||t("marker.angleref"),u.noStandOff||t("marker.standoff")),t("marker.color",b),D(k,"marker")&&E(k,M,a,t,{prefix:"marker.",cLetter:"c"}),u.noSelect||(t("selected.marker.color"),t("unselected.marker.color"),t("selected.marker.size"),t("unselected.marker.size")),u.noLine||(t("marker.line.color",l&&!Array.isArray(l)&&M.marker.color!==l?l:i?L.background:L.defaultLine),D(k,"marker.line")&&E(k,M,a,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width",i?1:0)),i&&(t("marker.sizeref"),t("marker.sizemin"),t("marker.sizemode")),u.gradient&&t("marker.gradient.type")!=="none"&&t("marker.gradient.color")}},99669:function($,F,m){var L=m(34809).dateTick0,D=m(63821).ONEWEEK;function E(T,k){return L(k,T%D==0?1:0)}$.exports=function(T,k,M,b,a){if(a||(a={x:!0,y:!0}),a.x){var t=b("xperiod");t&&(b("xperiod0",E(t,k.xcalendar)),b("xperiodalignment"))}if(a.y){var u=b("yperiod");u&&(b("yperiod0",E(u,k.ycalendar)),b("yperiodalignment"))}}},36098:function($,F,m){var L=m(45568),D=m(33626),E=m(34809),T=E.ensureSingle,k=E.identity,M=m(62203),b=m(64726),a=m(5525),t=m(17210),u=m(80899).tester;function i(l,d,v,y,p,c,x){var f,n=l._context.staticPlot;(function(be,Ee,Se,De,Ge){var Xe=Se.xaxis,Ke=Se.yaxis,ut=L.extent(E.simpleMap(Xe.range,Xe.r2c)),Tt=L.extent(E.simpleMap(Ke.range,Ke.r2c)),je=De[0].trace;if(b.hasMarkers(je)){var Le=je.marker.maxdisplayed;if(Le!==0){var $e=De.filter(function(at){return at.x>=ut[0]&&at.x<=ut[1]&&at.y>=Tt[0]&&at.y<=Tt[1]}),st=Math.ceil($e.length/Le),Ot=0;Ge.forEach(function(at,gt){var Oe=at[0].trace;b.hasMarkers(Oe)&&Oe.marker.maxdisplayed>0&&gt<Ee&&Ot++});var Je=Math.round(Ot*st/3+Math.floor(Ot/3)*st/7.1);De.forEach(function(at){delete at.vis}),$e.forEach(function(at,gt){Math.round((gt+Je)%st)===0&&(at.vis=!0)})}}})(0,d,v,y,p);var o=!!x&&x.duration>0;function s(be){return o?be.transition():be}var r=v.xaxis,g=v.yaxis,e=y[0].trace,h=e.line,_=L.select(c),w=T(_,"g","errorbars"),S=T(_,"g","lines"),O=T(_,"g","points"),A=T(_,"g","text");if(D.getComponentMethod("errorbars","plot")(l,w,v,x),e.visible===!0){var I,B;s(_).style("opacity",e.opacity);var C,z,P=e.fill.charAt(e.fill.length-1);P!=="x"&&P!=="y"&&(P=""),P==="y"?(C=1,z=g.c2p(0,!0)):P==="x"&&(C=0,z=r.c2p(0,!0)),y[0][v.isRangePlot?"nodeRangePlot3":"node3"]=_;var R,N,j="",W=[],Y=e._prevtrace,J=null,G=null;Y&&(j=Y._prevRevpath||"",B=Y._nextFill,W=Y._ownPolygons,J=Y._fillsegments,G=Y._fillElement);var H,U,Z,q,Q,ne,ie="",le="",fe=[];e._polygons=[];var pe=[],me=[],ke=E.noop;if(I=e._ownFill,b.hasLines(e)||e.fill!=="none"){B&&B.datum(y),["hv","vh","hvh","vhv"].indexOf(h.shape)!==-1?(H=M.steps(h.shape),U=M.steps(h.shape.split("").reverse().join(""))):H=U=h.shape==="spline"?function(be){var Ee=be[be.length-1];return be.length>1&&be[0][0]===Ee[0]&&be[0][1]===Ee[1]?M.smoothclosed(be.slice(1),h.smoothing):M.smoothopen(be,h.smoothing)}:function(be){return"M"+be.join("L")},Z=function(be){return U(be.reverse())},me=a(y,{xaxis:r,yaxis:g,trace:e,connectGaps:e.connectgaps,baseTolerance:Math.max(h.width||1,3)/4,shape:h.shape,backoff:h.backoff,simplify:h.simplify,fill:e.fill}),pe=new Array(me.length);var ve=0;for(f=0;f<me.length;f++){var he,de=me[f];he&&P?he.push.apply(he,de):(he=de.slice(),pe[ve]=he,ve++)}e._fillElement=null,e._fillExclusionElement=G,e._fillsegments=pe.slice(0,ve),pe=e._fillsegments,me.length&&(q=me[0][0].slice(),ne=(Q=me[me.length-1])[Q.length-1].slice()),ke=function(be){return function(Ee){if(R=H(Ee),N=Z(Ee),ie?P?(ie+="L"+R.substr(1),le=N+"L"+le.substr(1)):(ie+="Z"+R,le=N+"Z"+le):(ie=R,le=N),b.hasLines(e)){var Se=L.select(this);if(Se.datum(y),be)s(Se.style("opacity",0).attr("d",R).call(M.lineGroupStyle)).style("opacity",1);else{var De=s(Se);De.attr("d",R),M.singleLineStyle(y,De)}}}}}var X=S.selectAll(".js-line").data(me);s(X.exit()).style("opacity",0).remove(),X.each(ke(!1)),X.enter().append("path").classed("js-line",!0).style("vector-effect",n?"none":"non-scaling-stroke").call(M.lineGroupStyle).each(ke(!0)),M.setClipUrl(X,v.layerClipId,l);var ae=function(){var be=new Array(pe.length);for(f=0;f<pe.length;f++)be[f]=u(pe[f]);return be},K=function(be){var Ee,Se;if(be&&be.length!==0){for(Ee=new Array(be.length-1+pe.length),Se=0;Se<be.length-1;Se++)Ee[Se]=u(be[Se]);var De=be[be.length-1].slice();for(De.reverse(),Se=0;Se<pe.length;Se++)Ee[be.length-1+Se]=u(pe[Se].concat(De))}else for(Ee=new Array(pe.length),Se=0;Se<pe.length;Se++){var Ge=pe[Se][0].slice(),Xe=pe[Se][pe[Se].length-1].slice();Ge[C]=Xe[C]=z;var Ke=[Xe,Ge].concat(pe[Se]);Ee[Se]=u(Ke)}return Ee};me.length?(I?(I.datum(y),q&&ne&&(P?(q[C]=ne[C]=z,s(I).attr("d","M"+ne+"L"+q+"L"+ie.substr(1)).call(M.singleFillStyle,l),fe=K(null)):(s(I).attr("d",ie+"Z").call(M.singleFillStyle,l),fe=ae())),e._polygons=fe,e._fillElement=I):B&&(e.fill.substr(0,6)==="tonext"&&ie&&j?(e.fill==="tonext"?(s(B).attr("d",ie+"Z"+j+"Z").call(M.singleFillStyle,l),fe=ae(),e._polygons=fe.concat(W)):(s(B).attr("d",ie+"L"+j.substr(1)+"Z").call(M.singleFillStyle,l),fe=K(J),e._polygons=fe),e._fillElement=B):re(B)),e._prevRevpath=le):(I?re(I):B&&re(B),e._prevRevpath=null),e._ownPolygons=fe,O.datum(y),A.datum(y),function(be,Ee,Se){var De,Ge=Se[0].trace,Xe=b.hasMarkers(Ge),Ke=b.hasText(Ge),ut=se(Ge),Tt=ce,je=ce;if(Xe||Ke){var Le=k,$e=Ge.stackgroup,st=$e&&l._fullLayout._scatterStackOpts[r._id+g._id][$e].stackgaps==="infer zero";Ge.marker.maxdisplayed||Ge._needsCull?Le=st?we:ue:$e&&!st&&(Le=Te),Xe&&(Tt=Le),Ke&&(je=Le)}var Ot,Je=(De=be.selectAll("path.point").data(Tt,ut)).enter().append("path").classed("point",!0);o&&Je.call(M.pointStyle,Ge,l).call(M.translatePoints,r,g).style("opacity",0).transition().style("opacity",1),De.order(),Xe&&(Ot=M.makePointStyleFns(Ge)),De.each(function(at){var gt=L.select(this),Oe=s(gt);M.translatePoint(at,Oe,r,g)?(M.singlePointStyle(at,Oe,Ge,Ot,l),v.layerClipId&&M.hideOutsideRangePoint(at,Oe,r,g,Ge.xcalendar,Ge.ycalendar),Ge.customdata&&gt.classed("plotly-customdata",at.data!==null&&at.data!==void 0)):Oe.remove()}),o?De.exit().transition().style("opacity",0).remove():De.exit().remove(),(De=Ee.selectAll("g").data(je,ut)).enter().append("g").classed("textpoint",!0).append("text"),De.order(),De.each(function(at){var gt=L.select(this),Oe=s(gt.select("text"));M.translatePoint(at,Oe,r,g)?v.layerClipId&&M.hideOutsideRangePoint(at,gt,r,g,Ge.xcalendar,Ge.ycalendar):gt.remove()}),De.selectAll("text").call(M.textPointStyle,Ge,l).each(function(at){var gt=r.c2p(at.x),Oe=g.c2p(at.y);L.select(this).selectAll("tspan.line").each(function(){s(L.select(this)).attr({x:gt,y:Oe})})}),De.exit().remove()}(O,A,y);var ge=e.cliponaxis===!1?null:v.layerClipId;M.setClipUrl(O,ge,l),M.setClipUrl(A,ge,l)}function re(be){s(be).attr("d","M0,0Z")}function ue(be){return be.filter(function(Ee){return!Ee.gap&&Ee.vis})}function we(be){return be.filter(function(Ee){return Ee.vis})}function Te(be){return be.filter(function(Ee){return!Ee.gap})}function ee(be){return be.id}function se(be){if(be.ids)return ee}function ce(){return!1}}$.exports=function(l,d,v,y,p,c){var x,f,n=!p,o=!!p&&p.duration>0,s=t(l,d,v);(x=y.selectAll("g.trace").data(s,function(r){return r[0].trace.uid})).enter().append("g").attr("class",function(r){return"trace scatter trace"+r[0].trace.uid}).style("stroke-miterlimit",2),x.order(),function(r,g,e){g.each(function(h){var _=T(L.select(this),"g","fills");M.setClipUrl(_,e.layerClipId,r);var w=h[0].trace,S=[];w._ownfill&&S.push("_ownFill"),w._nexttrace&&S.push("_nextFill");var O=_.selectAll("g").data(S,k);O.enter().append("g"),O.exit().each(function(A){w[A]=null}).remove(),O.order().each(function(A){w[A]=T(L.select(this),"path","js-fill")})})}(l,x,d),o?(c&&(f=c()),L.transition().duration(p.duration).ease(p.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()}).each(function(){y.selectAll("g.trace").each(function(r,g){i(l,g,d,r,s,this,p)})})):x.each(function(r,g){i(l,g,d,r,s,this,p)}),n&&x.exit().remove(),y.selectAll("path:not([d])").remove()}},32665:function($,F,m){var L=m(64726);$.exports=function(D,E){var T,k,M,b,a=D.cd,t=D.xaxis,u=D.yaxis,i=[],l=a[0].trace;if(!L.hasMarkers(l)&&!L.hasText(l))return[];if(E===!1)for(T=0;T<a.length;T++)a[T].selected=0;else for(T=0;T<a.length;T++)k=a[T],M=t.c2p(k.x),b=u.c2p(k.y),k.i!==null&&E.contains([M,b],!1,T,D)?(i.push({pointNumber:k.i,x:t.c2d(k.x),y:u.c2d(k.y)}),k.selected=1):k.selected=0;return i}},382:function($){var F=["orientation","groupnorm","stackgaps"];$.exports=function(m,L,D,E){var T=D._scatterStackOpts,k=E("stackgroup");if(k){var M=L.xaxis+L.yaxis,b=T[M];b||(b=T[M]={});var a=b[k],t=!1;a?a.traces.push(L):(a=b[k]={traceIndices:[],traces:[L]},t=!0);for(var u={orientation:L.x&&!L.y?"h":"v"},i=0;i<F.length;i++){var l=F[i],d=l+"Found";if(!a[d]){var v=m[l]!==void 0,y=l==="orientation";if((v||t)&&(a[l]=E(l,u[l]),y&&(a.fillDflt=a[l]==="h"?"tonextx":"tonexty"),v&&(a[d]=!0,!t&&(delete a.traces[0][l],y))))for(var p=0;p<a.traces.length-1;p++){var c=a.traces[p];c._input.fill!==c.fill&&(c.fill=a.fillDflt)}}}return a}}},9408:function($,F,m){var L=m(45568),D=m(62203),E=m(33626);function T(M,b,a){D.pointStyle(M.selectAll("path.point"),b,a)}function k(M,b,a){D.textPointStyle(M.selectAll("text"),b,a)}$.exports={style:function(M){var b=L.select(M).selectAll("g.trace.scatter");b.style("opacity",function(a){return a[0].trace.opacity}),b.selectAll("g.points").each(function(a){T(L.select(this),a.trace||a[0].trace,M)}),b.selectAll("g.text").each(function(a){k(L.select(this),a.trace||a[0].trace,M)}),b.selectAll("g.trace path.js-line").call(D.lineGroupStyle),b.selectAll("g.trace path.js-fill").call(D.fillGroupStyle,M,!1),E.getComponentMethod("errorbars","style")(b)},stylePoints:T,styleText:k,styleOnSelect:function(M,b,a){var t=b[0].trace;t.selectedpoints?(D.selectedPointStyle(a.selectAll("path.point"),t),D.selectedTextStyle(a.selectAll("text"),t)):(T(a,t,M),k(a,t,M))}}},64726:function($,F,m){var L=m(34809),D=m(87800).isTypedArraySpec;$.exports={hasLines:function(E){return E.visible&&E.mode&&E.mode.indexOf("lines")!==-1},hasMarkers:function(E){return E.visible&&(E.mode&&E.mode.indexOf("markers")!==-1||E.type==="splom")},hasText:function(E){return E.visible&&E.mode&&E.mode.indexOf("text")!==-1},isBubble:function(E){var T=E.marker;return L.isPlainObject(T)&&(L.isArrayOrTypedArray(T.size)||D(T.size))}}},663:function($,F,m){var L=m(34809);$.exports=function(D,E,T,k,M){M=M||{},k("textposition"),L.coerceFont(k,"textfont",M.font||T.font,M),M.noSelect||(k("selected.textfont.color"),k("unselected.textfont.color"))}},99867:function($,F,m){var L=m(34809),D=m(33626);$.exports=function(E,T,k,M){var b,a=M("x"),t=M("y");if(D.getComponentMethod("calendars","handleTraceDefaults")(E,T,["x","y"],k),a){var u=L.minRowLength(a);t?b=Math.min(u,L.minRowLength(t)):(b=u,M("y0"),M("dy"))}else{if(!t)return 0;b=L.minRowLength(t),M("x0"),M("dx")}return T._length=b,b}},37593:function($,F,m){var L=m(99203),D=m(77272);$.exports=function(E,T){var k=[{x:!1,y:!1,trace:T,t:{}}];return L(k,T),D(E,T),k}},92089:function($,F,m){var L=m(9829),D=m(80337),E=m(19326),T=m(36640),k=m(80712).axisHoverFormat,M=m(87163),b=m(62994),a=m(93049).extendFlat,t=m(13582).overrideAll,u=m(29483).DASHES,i=T.line,l=T.marker,d=l.line,v=$.exports=t({x:T.x,x0:T.x0,dx:T.dx,y:T.y,y0:T.y0,dy:T.dy,xperiod:T.xperiod,yperiod:T.yperiod,xperiod0:T.xperiod0,yperiod0:T.yperiod0,xperiodalignment:T.xperiodalignment,yperiodalignment:T.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),text:T.text,hovertext:T.hovertext,textposition:T.textposition,textfont:D({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:i.color,width:i.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:b(u),dflt:"solid"}},marker:a({},M("marker"),{symbol:l.symbol,angle:l.angle,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:l.opacity,colorbar:l.colorbar,line:a({},M("marker.line"),{width:d.width})}),connectgaps:T.connectgaps,fill:a({},T.fill,{dflt:"none"}),fillcolor:E(),selected:{marker:T.selected.marker,textfont:T.selected.textfont},unselected:{marker:T.unselected.marker,textfont:T.unselected.textfont},opacity:L.opacity},"calc","nested");v.x.editType=v.y.editType=v.x0.editType=v.y0.editType="calc+clearAxisTypes",v.hovertemplate=T.hovertemplate,v.texttemplate=T.texttemplate},68258:function($,F,m){var L=m(36544);$.exports={moduleType:"trace",name:"scattergl",basePlotModule:m(37703),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:m(92089),supplyDefaults:m(86590),crossTraceDefaults:m(53044),colorbar:m(21146),formatLabels:m(99185),calc:m(15293),hoverPoints:L.hoverPoints,selectPoints:m(17168),meta:{}}},15293:function($,F,m){var L=m(27549),D=m(34809),E=m(5975),T=m(32919).findExtremes,k=m(40528),M=m(26544),b=M.calcMarkerSize,a=M.calcAxisExpansion,t=M.setFirstScatter,u=m(77272),i=m(19937),l=m(62336),d=m(63821).BADNUM,v=m(29483).TOO_MANY_POINTS;function y(p,c,x){var f=p._extremes[c._id],n=T(c,x._bnds,{padded:!0});f.min=f.min.concat(n.min),f.max=f.max.concat(n.max)}$.exports=function(p,c){var x,f=p._fullLayout,n=c._xA=E.getFromId(p,c.xaxis,"x"),o=c._yA=E.getFromId(p,c.yaxis,"y"),s=f._plots[c.xaxis+c.yaxis],r=c._length,g=r>=v,e=2*r,h={},_=n.makeCalcdata(c,"x"),w=o.makeCalcdata(c,"y"),S=k(c,n,"x",_),O=k(c,o,"y",w),A=S.vals,I=O.vals;c._x=A,c._y=I,c.xperiodalignment&&(c._origX=_,c._xStarts=S.starts,c._xEnds=S.ends),c.yperiodalignment&&(c._origY=w,c._yStarts=O.starts,c._yEnds=O.ends);var B=new Array(e),C=new Array(r);for(x=0;x<r;x++)B[2*x]=A[x]===d?NaN:A[x],B[2*x+1]=I[x]===d?NaN:I[x],C[x]=x;if(n.type==="log")for(x=0;x<e;x+=2)B[x]=n.c2l(B[x]);if(o.type==="log")for(x=1;x<e;x+=2)B[x]=o.c2l(B[x]);g&&n.type!=="log"&&o.type!=="log"?h.tree=L(B):h.ids=C,u(p,c);var z,P=function(N,j,W,Y,J,G){var H=i.style(N,W);if(H.marker&&(H.marker.positions=Y),H.line&&Y.length>1&&D.extendFlat(H.line,i.linePositions(N,W,Y)),H.errorX||H.errorY){var U=i.errorBarPositions(N,W,Y,J,G);H.errorX&&D.extendFlat(H.errorX,U.x),H.errorY&&D.extendFlat(H.errorY,U.y)}return H.text&&(D.extendFlat(H.text,{positions:Y},i.textPosition(N,W,H.text,H.marker)),D.extendFlat(H.textSel,{positions:Y},i.textPosition(N,W,H.text,H.markerSel)),D.extendFlat(H.textUnsel,{positions:Y},i.textPosition(N,W,H.text,H.markerUnsel))),H}(p,0,c,B,A,I),R=l(p,s);return t(f,c),g?P.marker&&(z=P.marker.sizeAvg||Math.max(P.marker.size,3)):z=b(c,r),a(p,c,n,o,A,I,z),P.errorX&&y(c,n,P.errorX),P.errorY&&y(c,o,P.errorY),P.fill&&!R.fill2d&&(R.fill2d=!0),P.marker&&!R.scatter2d&&(R.scatter2d=!0),P.line&&!R.line2d&&(R.line2d=!0),!P.errorX&&!P.errorY||R.error2d||(R.error2d=!0),P.text&&!R.glText&&(R.glText=!0),P.marker&&(P.marker.snap=r),R.lineOptions.push(P.line),R.errorXOptions.push(P.errorX),R.errorYOptions.push(P.errorY),R.fillOptions.push(P.fill),R.markerOptions.push(P.marker),R.markerSelectedOptions.push(P.markerSel),R.markerUnselectedOptions.push(P.markerUnsel),R.textOptions.push(P.text),R.textSelectedOptions.push(P.textSel),R.textUnselectedOptions.push(P.textUnsel),R.selectBatch.push([]),R.unselectBatch.push([]),h._scene=R,h.index=R.count,h.x=A,h.y=I,h.positions=B,R.count++,[{x:!1,y:!1,t:h,trace:c}]}},29483:function($){$.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19937:function($,F,m){var L=m(10721),D=m(96021),E=m(162),T=m(33626),k=m(34809),M=k.isArrayOrTypedArray,b=m(62203),a=m(5975),t=m(46998).formatColor,u=m(64726),i=m(92527),l=m(4075),d=m(29483),v=m(20438).DESELECTDIM,y={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},p=m(36040).appendArrayPointValue;function c(S,O){var A,I=S._fullLayout,B=O._length,C=O.textfont,z=O.textposition,P=M(z)?z:[z],R=C.color,N=C.size,j=C.family,W=C.weight,Y=C.style,J=C.variant,G={},H=S._context.plotGlPixelRatio,U=O.texttemplate;if(U){G.text=[];var Z=I._d3locale,q=Array.isArray(U),Q=q?Math.min(U.length,B):B,ne=q?function(ve){return U[ve]}:function(){return U};for(A=0;A<Q;A++){var ie={i:A},le=O._module.formatLabels(ie,O,I),fe={};p(fe,O,A);var pe=O._meta||{};G.text.push(k.texttemplateString(ne(A),le,Z,fe,ie,pe))}}else M(O.text)&&O.text.length<B?G.text=O.text.slice():G.text=O.text;if(M(G.text))for(A=G.text.length;A<B;A++)G.text[A]="";for(G.opacity=O.opacity,G.font={},G.align=[],G.baseline=[],A=0;A<P.length;A++){var me=P[A].split(/\s+/);switch(me[1]){case"left":G.align.push("right");break;case"right":G.align.push("left");break;default:G.align.push(me[1])}switch(me[0]){case"top":G.baseline.push("bottom");break;case"bottom":G.baseline.push("top");break;default:G.baseline.push(me[0])}}if(M(R))for(G.color=new Array(B),A=0;A<B;A++)G.color[A]=R[A];else G.color=R;if(M(N)||Array.isArray(j)||M(W)||Array.isArray(Y)||Array.isArray(J))for(G.font=new Array(B),A=0;A<B;A++){var ke=G.font[A]={};ke.size=(k.isTypedArray(N)?N[A]:M(N)?L(N[A])?N[A]:0:N)*H,ke.family=Array.isArray(j)?j[A]:j,ke.weight=x(M(W)?W[A]:W),ke.style=Array.isArray(Y)?Y[A]:Y,ke.variant=Array.isArray(J)?J[A]:J}else G.font={size:N*H,family:j,weight:x(W),style:Y,variant:J};return G}function x(S){return S<=1e3?S>500?"bold":"normal":S}function f(S,O){var A,I,B=O._length,C=O.marker,z={},P=M(C.symbol),R=M(C.angle),N=M(C.color),j=M(C.line.color),W=M(C.opacity),Y=M(C.size),J=M(C.line.width);if(P||(I=l.isOpenSymbol(C.symbol)),P||N||j||W||R){z.symbols=new Array(B),z.angles=new Array(B),z.colors=new Array(B),z.borderColors=new Array(B);var G=C.symbol,H=C.angle,U=t(C,C.opacity,B),Z=t(C.line,C.opacity,B);if(!M(Z[0])){var q=Z;for(Z=Array(B),A=0;A<B;A++)Z[A]=q}if(!M(U[0])){var Q=U;for(U=Array(B),A=0;A<B;A++)U[A]=Q}if(!M(G)){var ne=G;for(G=Array(B),A=0;A<B;A++)G[A]=ne}if(!M(H)){var ie=H;for(H=Array(B),A=0;A<B;A++)H[A]=ie}for(z.symbols=G,z.angles=H,z.colors=U,z.borderColors=Z,A=0;A<B;A++)P&&(I=l.isOpenSymbol(C.symbol[A])),I&&(Z[A]=U[A].slice(),U[A]=U[A].slice(),U[A][3]=0);for(z.opacity=O.opacity,z.markers=new Array(B),A=0;A<B;A++)z.markers[A]=w({mx:z.symbols[A],ma:z.angles[A]},O)}else I?(z.color=E(C.color,"uint8"),z.color[3]=0,z.borderColor=E(C.color,"uint8")):(z.color=E(C.color,"uint8"),z.borderColor=E(C.line.color,"uint8")),z.opacity=O.opacity*C.opacity,z.marker=w({mx:C.symbol,ma:C.angle},O);var le,fe=i(O,1);if(Y||J){var pe,me=z.sizes=new Array(B),ke=z.borderSizes=new Array(B),ve=0;if(Y){for(A=0;A<B;A++)me[A]=fe(C.size[A]),ve+=me[A];pe=ve/B}else for(le=fe(C.size),A=0;A<B;A++)me[A]=le;if(J)for(A=0;A<B;A++)ke[A]=C.line.width[A];else for(le=C.line.width,A=0;A<B;A++)ke[A]=le;z.sizeAvg=pe}else z.size=fe(C&&C.size||10),z.borderSizes=fe(C.line.width);return z}function n(S,O,A){var I=O.marker,B={};return A&&(A.marker&&A.marker.symbol?B=f(0,k.extendFlat({},I,A.marker)):A.marker&&(A.marker.size&&(B.size=A.marker.size),A.marker.color&&(B.colors=A.marker.color),A.marker.opacity!==void 0&&(B.opacity=A.marker.opacity))),B}function o(S,O,A){var I={};if(!A)return I;if(A.textfont){var B={opacity:1,text:O.text,texttemplate:O.texttemplate,textposition:O.textposition,textfont:k.extendFlat({},O.textfont)};A.textfont&&k.extendFlat(B.textfont,A.textfont),I=c(S,B)}return I}function s(S,O,A){var I={capSize:2*O.width*A,lineWidth:O.thickness*A,color:O.color};return O.copy_ystyle&&(I=S.error_y),I}var r=d.SYMBOL_SDF_SIZE,g=d.SYMBOL_SIZE,e=d.SYMBOL_STROKE,h={},_=b.symbolFuncs[0](.05*g);function w(S,O){var A,I,B=S.mx;if(B==="circle")return null;var C=b.symbolNumber(B),z=b.symbolFuncs[C%100],P=!!b.symbolNoDot[C%100],R=!!b.symbolNoFill[C%100],N=l.isDotSymbol(B);if(S.ma&&(B+="_"+S.ma),h[B])return h[B];var j=b.getMarkerAngle(S,O);return A=N&&!P?z(1.1*g,j)+_:z(g,j),I=D(A,{w:r,h:r,viewBox:[-g,-g,g,g],stroke:R?e:-e}),h[B]=I,I||null}$.exports={style:function(S,O){var A,I={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},B=S._context.plotGlPixelRatio;if(O.visible!==!0)return I;if(u.hasText(O)&&(I.text=c(S,O),I.textSel=o(S,O,O.selected),I.textUnsel=o(S,O,O.unselected)),u.hasMarkers(O)&&(I.marker=f(0,O),I.markerSel=n(0,O,O.selected),I.markerUnsel=n(0,O,O.unselected),!O.unselected&&M(O.marker.opacity))){var C=O.marker.opacity;for(I.markerUnsel.opacity=new Array(C.length),A=0;A<C.length;A++)I.markerUnsel.opacity[A]=v*C[A]}if(u.hasLines(O)){I.line={overlay:!0,thickness:O.line.width*B,color:O.line.color,opacity:O.opacity};var z=(d.DASHES[O.line.dash]||[1]).slice();for(A=0;A<z.length;++A)z[A]*=O.line.width*B;I.line.dashes=z}return O.error_x&&O.error_x.visible&&(I.errorX=s(O,O.error_x,B)),O.error_y&&O.error_y.visible&&(I.errorY=s(O,O.error_y,B)),O.fill&&O.fill!=="none"&&(I.fill={closed:!0,fill:O.fillcolor,thickness:0}),I},markerStyle:f,markerSelection:n,linePositions:function(S,O,A){var I,B,C=A.length,z=C/2;if(u.hasLines(O)&&z)if(O.line.shape==="hv"){for(I=[],B=0;B<z-1;B++)isNaN(A[2*B])||isNaN(A[2*B+1])?I.push(NaN,NaN,NaN,NaN):(I.push(A[2*B],A[2*B+1]),isNaN(A[2*B+2])||isNaN(A[2*B+3])?I.push(NaN,NaN):I.push(A[2*B+2],A[2*B+1]));I.push(A[C-2],A[C-1])}else if(O.line.shape==="hvh"){for(I=[],B=0;B<z-1;B++)if(isNaN(A[2*B])||isNaN(A[2*B+1])||isNaN(A[2*B+2])||isNaN(A[2*B+3]))isNaN(A[2*B])||isNaN(A[2*B+1])?I.push(NaN,NaN):I.push(A[2*B],A[2*B+1]),I.push(NaN,NaN);else{var P=(A[2*B]+A[2*B+2])/2;I.push(A[2*B],A[2*B+1],P,A[2*B+1],P,A[2*B+3])}I.push(A[C-2],A[C-1])}else if(O.line.shape==="vhv"){for(I=[],B=0;B<z-1;B++)if(isNaN(A[2*B])||isNaN(A[2*B+1])||isNaN(A[2*B+2])||isNaN(A[2*B+3]))isNaN(A[2*B])||isNaN(A[2*B+1])?I.push(NaN,NaN):I.push(A[2*B],A[2*B+1]),I.push(NaN,NaN);else{var R=(A[2*B+1]+A[2*B+3])/2;I.push(A[2*B],A[2*B+1],A[2*B],R,A[2*B+2],R)}I.push(A[C-2],A[C-1])}else if(O.line.shape==="vh"){for(I=[],B=0;B<z-1;B++)isNaN(A[2*B])||isNaN(A[2*B+1])?I.push(NaN,NaN,NaN,NaN):(I.push(A[2*B],A[2*B+1]),isNaN(A[2*B+2])||isNaN(A[2*B+3])?I.push(NaN,NaN):I.push(A[2*B],A[2*B+3]));I.push(A[C-2],A[C-1])}else I=A;var N=!1;for(B=0;B<I.length;B++)if(isNaN(I[B])){N=!0;break}var j=N||I.length>d.TOO_MANY_POINTS||u.hasMarkers(O)?"rect":"round";if(N&&O.connectgaps){var W=I[0],Y=I[1];for(B=0;B<I.length;B+=2)isNaN(I[B])||isNaN(I[B+1])?(I[B]=W,I[B+1]=Y):(W=I[B],Y=I[B+1])}return{join:j,positions:I}},errorBarPositions:function(S,O,A,I,B){var C=T.getComponentMethod("errorbars","makeComputeError"),z=a.getFromId(S,O.xaxis,"x"),P=a.getFromId(S,O.yaxis,"y"),R=A.length/2,N={};function j(W,Y){var J=Y._id.charAt(0),G=O["error_"+J];if(G&&G.visible&&(Y.type==="linear"||Y.type==="log")){for(var H=C(G),U={x:0,y:1}[J],Z={x:[0,1,2,3],y:[2,3,0,1]}[J],q=new Float64Array(4*R),Q=1/0,ne=-1/0,ie=0,le=0;ie<R;ie++,le+=4){var fe=W[ie];if(L(fe)){var pe=A[2*ie+U],me=H(fe,ie),ke=me[0],ve=me[1];if(L(ke)&&L(ve)){var he=fe-ke,de=fe+ve;q[le+Z[0]]=pe-Y.c2l(he),q[le+Z[1]]=Y.c2l(de)-pe,q[le+Z[2]]=0,q[le+Z[3]]=0,Q=Math.min(Q,fe-ke),ne=Math.max(ne,fe+ve)}}}N[J]={positions:A,errors:q,_bnds:[Q,ne]}}}return j(I,z),j(B,P),N},textPosition:function(S,O,A,I){var B,C=O._length,z={};if(u.hasMarkers(O)){var P=A.font,R=A.align,N=A.baseline;for(z.offset=new Array(C),B=0;B<C;B++){var j=I.sizes?I.sizes[B]:I.size,W=M(P)?P[B].size:P.size,Y=M(R)?R.length>1?R[B]:R[0]:R,J=M(N)?N.length>1?N[B]:N[0]:N,G=y[Y],H=y[J],U=j?j/.8+1:0,Z=-H*U-.5*H;z.offset[B]=[G*U/W,Z/W]}}return z}}},86590:function($,F,m){var L=m(34809),D=m(33626),E=m(4075),T=m(92089),k=m(32660),M=m(64726),b=m(99867),a=m(99669),t=m(24272),u=m(98168),i=m(54114),l=m(663);$.exports=function(d,v,y,p){function c(e,h){return L.coerce(d,v,T,e,h)}var x=!!d.marker&&E.isOpenSymbol(d.marker.symbol),f=M.isBubble(d),n=b(d,v,p,c);if(n){a(d,v,p,c),c("xhoverformat"),c("yhoverformat");var o=n<k.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",o),M.hasMarkers(v)&&(t(d,v,y,p,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",x||f?1:0)),M.hasLines(v)&&(c("connectgaps"),u(d,v,y,p,c),c("line.shape")),M.hasText(v)&&(c("texttemplate"),l(d,v,p,c,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var s=(v.line||{}).color,r=(v.marker||{}).color;c("fill"),v.fill!=="none"&&i(d,v,y,c);var g=D.getComponentMethod("errorbars","supplyDefaults");g(d,v,s||r||y,{axis:"y"}),g(d,v,s||r||y,{axis:"x",inherit:"y"}),L.coerceSelectionMarkerOpacity(v,c)}else v.visible=!1}},85686:function($,F,m){var L=m(34809),D=m(78766),E=m(20438).DESELECTDIM;$.exports={styleTextSelection:function(T){var k,M,b=T[0],a=b.trace,t=b.t,u=t._scene,i=t.index,l=u.selectBatch[i],d=u.unselectBatch[i],v=u.textOptions[i],y=u.textSelectedOptions[i]||{},p=u.textUnselectedOptions[i]||{},c=L.extendFlat({},v);if(l.length||d.length){var x=y.color,f=p.color,n=v.color,o=L.isArrayOrTypedArray(n);for(c.color=new Array(a._length),k=0;k<l.length;k++)M=l[k],c.color[M]=x||(o?n[M]:n);for(k=0;k<d.length;k++){M=d[k];var s=o?n[M]:n;c.color[M]=f||(x?s:D.addOpacity(s,E))}}u.glText[i].update(c)}}},99185:function($,F,m){var L=m(15294);$.exports=function(D,E,T){var k=D.i;return"x"in D||(D.x=E._x[k]),"y"in D||(D.y=E._y[k]),L(D,E,T)}},4075:function($,F,m){var L=m(29483);F.isOpenSymbol=function(D){return typeof D=="string"?L.OPEN_RE.test(D):D%200>100},F.isDotSymbol=function(D){return typeof D=="string"?L.DOT_RE.test(D):D>200}},36544:function($,F,m){var L=m(33626),D=m(34809),E=m(11539);function T(k,M,b,a){var t=k.xa,u=k.ya,i=k.distance,l=k.dxy,d=k.index,v={pointNumber:d,x:M[d],y:b[d]};v.tx=D.isArrayOrTypedArray(a.text)?a.text[d]:a.text,v.htx=Array.isArray(a.hovertext)?a.hovertext[d]:a.hovertext,v.data=Array.isArray(a.customdata)?a.customdata[d]:a.customdata,v.tp=Array.isArray(a.textposition)?a.textposition[d]:a.textposition;var y=a.textfont;y&&(v.ts=D.isArrayOrTypedArray(y.size)?y.size[d]:y.size,v.tc=D.isArrayOrTypedArray(y.color)?y.color[d]:y.color,v.tf=Array.isArray(y.family)?y.family[d]:y.family,v.tw=Array.isArray(y.weight)?y.weight[d]:y.weight,v.ty=Array.isArray(y.style)?y.style[d]:y.style,v.tv=Array.isArray(y.variant)?y.variant[d]:y.variant);var p=a.marker;p&&(v.ms=D.isArrayOrTypedArray(p.size)?p.size[d]:p.size,v.mo=D.isArrayOrTypedArray(p.opacity)?p.opacity[d]:p.opacity,v.mx=D.isArrayOrTypedArray(p.symbol)?p.symbol[d]:p.symbol,v.ma=D.isArrayOrTypedArray(p.angle)?p.angle[d]:p.angle,v.mc=D.isArrayOrTypedArray(p.color)?p.color[d]:p.color);var c=p&&p.line;c&&(v.mlc=Array.isArray(c.color)?c.color[d]:c.color,v.mlw=D.isArrayOrTypedArray(c.width)?c.width[d]:c.width);var x=p&&p.gradient;x&&x.type!=="none"&&(v.mgt=Array.isArray(x.type)?x.type[d]:x.type,v.mgc=Array.isArray(x.color)?x.color[d]:x.color);var f=t.c2p(v.x,!0),n=u.c2p(v.y,!0),o=v.mrc||1,s=a.hoverlabel;s&&(v.hbg=Array.isArray(s.bgcolor)?s.bgcolor[d]:s.bgcolor,v.hbc=Array.isArray(s.bordercolor)?s.bordercolor[d]:s.bordercolor,v.hts=D.isArrayOrTypedArray(s.font.size)?s.font.size[d]:s.font.size,v.htc=Array.isArray(s.font.color)?s.font.color[d]:s.font.color,v.htf=Array.isArray(s.font.family)?s.font.family[d]:s.font.family,v.hnl=D.isArrayOrTypedArray(s.namelength)?s.namelength[d]:s.namelength);var r=a.hoverinfo;r&&(v.hi=Array.isArray(r)?r[d]:r);var g=a.hovertemplate;g&&(v.ht=Array.isArray(g)?g[d]:g);var e={};e[k.index]=v;var h=a._origX,_=a._origY,w=D.extendFlat({},k,{color:E(a,v),x0:f-o,x1:f+o,xLabelVal:h?h[d]:v.x,y0:n-o,y1:n+o,yLabelVal:_?_[d]:v.y,cd:e,distance:i,spikeDistance:l,hovertemplate:v.ht});return v.htx?w.text=v.htx:v.tx?w.text=v.tx:a.text&&(w.text=a.text),D.fillText(v,a,w),L.getComponentMethod("errorbars","hoverInfo")(v,a,w),w}$.exports={hoverPoints:function(k,M,b,a){var t,u,i,l,d,v,y,p,c,x,f=k.cd,n=f[0].t,o=f[0].trace,s=k.xa,r=k.ya,g=n.x,e=n.y,h=s.c2p(M),_=r.c2p(b),w=k.distance;if(n.tree){var S=s.p2c(h-w),O=s.p2c(h+w),A=r.p2c(_-w),I=r.p2c(_+w);t=a==="x"?n.tree.range(Math.min(S,O),Math.min(r._rl[0],r._rl[1]),Math.max(S,O),Math.max(r._rl[0],r._rl[1])):n.tree.range(Math.min(S,O),Math.min(A,I),Math.max(S,O),Math.max(A,I))}else t=n.ids;var B=w;if(a==="x"){var C=!!o.xperiodalignment,z=!!o.yperiodalignment;for(v=0;v<t.length;v++){if(l=g[u=t[v]],y=Math.abs(s.c2p(l)-h),C){var P=s.c2p(o._xStarts[u]),R=s.c2p(o._xEnds[u]);y=h>=Math.min(P,R)&&h<=Math.max(P,R)?0:1/0}if(y<B){if(B=y,d=e[u],p=r.c2p(d)-_,z){var N=r.c2p(o._yStarts[u]),j=r.c2p(o._yEnds[u]);p=_>=Math.min(N,j)&&_<=Math.max(N,j)?0:1/0}x=Math.sqrt(y*y+p*p),i=t[v]}}}else for(v=t.length-1;v>-1;v--)l=g[u=t[v]],d=e[u],y=s.c2p(l)-h,p=r.c2p(d)-_,(c=Math.sqrt(y*y+p*p))<B&&(B=x=c,i=u);return k.index=i,k.distance=B,k.dxy=x,i===void 0?[k]:[T(k,g,e,o)]},calcHover:T}},52378:function($,F,m){var L=m(68258);L.plot=m(47731),$.exports=L},47731:function($,F,m){var L=m(62172),D=m(49478),E=m(29978),T=m(74024),k=m(34809),M=m(70414).selectMode,b=m(22459),a=m(64726),t=m(17210),u=m(85686).styleTextSelection,i={};function l(d,v,y,p){var c=d._size,x=d.width*p,f=d.height*p,n=c.l*p,o=c.b*p,s=c.r*p,r=c.t*p,g=c.w*p,e=c.h*p;return[n+v.domain[0]*g,o+y.domain[0]*e,x-s-(1-v.domain[1])*g,f-r-(1-y.domain[1])*e]}($.exports=function(d,v,y){if(y.length){var p,c,x=d._fullLayout,f=v._scene,n=v.xaxis,o=v.yaxis;if(f)if(b(d,["ANGLE_instanced_arrays","OES_element_index_uint"],i)){var s=f.count,r=x._glcanvas.data()[0].regl;if(t(d,v,y),f.dirty){if(!f.line2d&&!f.error2d||f.scatter2d||f.fill2d||f.glText||r.clear({}),f.error2d===!0&&(f.error2d=E(r)),f.line2d===!0&&(f.line2d=D(r)),f.scatter2d===!0&&(f.scatter2d=L(r)),f.fill2d===!0&&(f.fill2d=D(r)),f.glText===!0)for(f.glText=new Array(s),p=0;p<s;p++)f.glText[p]=new T(r);if(f.glText){if(s>f.glText.length){var g=s-f.glText.length;for(p=0;p<g;p++)f.glText.push(new T(r))}else if(s<f.glText.length){var e=f.glText.length-s;f.glText.splice(s,e).forEach(function(U){U.destroy()})}for(p=0;p<s;p++)f.glText[p].update(f.textOptions[p])}if(f.line2d&&(f.line2d.update(f.lineOptions),f.lineOptions=f.lineOptions.map(function(U){if(U&&U.positions){for(var Z=U.positions,q=0;q<Z.length&&(isNaN(Z[q])||isNaN(Z[q+1]));)q+=2;for(var Q=Z.length-2;Q>q&&(isNaN(Z[Q])||isNaN(Z[Q+1]));)Q-=2;U.positions=Z.slice(q,Q+2)}return U}),f.line2d.update(f.lineOptions)),f.error2d){var h=(f.errorXOptions||[]).concat(f.errorYOptions||[]);f.error2d.update(h)}f.scatter2d&&f.scatter2d.update(f.markerOptions),f.fillOrder=k.repeat(null,s),f.fill2d&&(f.fillOptions=f.fillOptions.map(function(U,Z){var q=y[Z];if(U&&q&&q[0]&&q[0].trace){var Q,ne,ie=q[0],le=ie.trace,fe=ie.t,pe=f.lineOptions[Z],me=[];le._ownfill&&me.push(Z),le._nexttrace&&me.push(Z+1),me.length&&(f.fillOrder[Z]=me);var ke,ve,he=[],de=pe&&pe.positions||fe.positions;if(le.fill==="tozeroy"){for(ke=0;ke<de.length&&isNaN(de[ke+1]);)ke+=2;for(ve=de.length-2;ve>ke&&isNaN(de[ve+1]);)ve-=2;de[ke+1]!==0&&(he=[de[ke],0]),he=he.concat(de.slice(ke,ve+2)),de[ve+1]!==0&&(he=he.concat([de[ve],0]))}else if(le.fill==="tozerox"){for(ke=0;ke<de.length&&isNaN(de[ke]);)ke+=2;for(ve=de.length-2;ve>ke&&isNaN(de[ve]);)ve-=2;de[ke]!==0&&(he=[0,de[ke+1]]),he=he.concat(de.slice(ke,ve+2)),de[ve]!==0&&(he=he.concat([0,de[ve+1]]))}else if(le.fill==="toself"||le.fill==="tonext"){for(he=[],Q=0,U.splitNull=!0,ne=0;ne<de.length;ne+=2)(isNaN(de[ne])||isNaN(de[ne+1]))&&((he=he.concat(de.slice(Q,ne))).push(de[Q],de[Q+1]),he.push(null,null),Q=ne+2);he=he.concat(de.slice(Q)),Q&&he.push(de[Q],de[Q+1])}else{var X=le._nexttrace;if(X){var ae=f.lineOptions[Z+1];if(ae){var K=ae.positions;if(le.fill==="tonexty"){for(he=de.slice(),Z=Math.floor(K.length/2);Z--;){var ge=K[2*Z],re=K[2*Z+1];isNaN(ge)||isNaN(re)||he.push(ge,re)}U.fill=X.fillcolor}}}}if(le._prevtrace&&le._prevtrace.fill==="tonext"){var ue=f.lineOptions[Z-1].positions,we=he.length/2,Te=[Q=we];for(ne=0;ne<ue.length;ne+=2)(isNaN(ue[ne])||isNaN(ue[ne+1]))&&(Te.push(ne/2+we+1),Q=ne+2);he=he.concat(ue),U.hole=Te}return U.fillmode=le.fill,U.opacity=le.opacity,U.positions=he,U}}),f.fill2d.update(f.fillOptions))}var _=x.dragmode,w=M(_),S=x.clickmode.indexOf("select")>-1;for(p=0;p<s;p++){var O=y[p][0],A=O.trace,I=O.t,B=I.index,C=A._length,z=I.x,P=I.y;if(A.selectedpoints||w||S){if(w||(w=!0),A.selectedpoints){var R=f.selectBatch[B]=k.selIndices2selPoints(A),N={};for(c=0;c<R.length;c++)N[R[c]]=1;var j=[];for(c=0;c<C;c++)N[c]||j.push(c);f.unselectBatch[B]=j}var W=I.xpx=new Array(C),Y=I.ypx=new Array(C);for(c=0;c<C;c++)W[c]=n.c2p(z[c]),Y[c]=o.c2p(P[c])}else I.xpx=I.ypx=null}if(w){if(f.select2d||(f.select2d=L(x._glcanvas.data()[1].regl)),f.scatter2d){var J=new Array(s);for(p=0;p<s;p++)J[p]=f.selectBatch[p].length||f.unselectBatch[p].length?f.markerUnselectedOptions[p]:{};f.scatter2d.update(J)}f.select2d&&(f.select2d.update(f.markerOptions),f.select2d.update(f.markerSelectedOptions)),f.glText&&y.forEach(function(U){var Z=((U||[])[0]||{}).trace||{};a.hasText(Z)&&u(U)})}else f.scatter2d&&f.scatter2d.update(f.markerOptions);var G={viewport:l(x,n,o,d._context.plotGlPixelRatio),range:[(n._rl||n.range)[0],(o._rl||o.range)[0],(n._rl||n.range)[1],(o._rl||o.range)[1]]},H=k.repeat(G,f.count);f.fill2d&&f.fill2d.update(H),f.line2d&&f.line2d.update(H),f.error2d&&f.error2d.update(H.concat(H)),f.scatter2d&&f.scatter2d.update(H),f.select2d&&f.select2d.update(H),f.glText&&f.glText.forEach(function(U){U.update(G)})}else f.init()}}).reglPrecompiled=i},62336:function($,F,m){var L=m(34809);$.exports=function(D,E){var T=E._scene,k={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},M={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return E._scene||((T=E._scene={}).init=function(){L.extendFlat(T,M,k)},T.init(),T.update=function(b){var a=L.repeat(b,T.count);if(T.fill2d&&T.fill2d.update(a),T.scatter2d&&T.scatter2d.update(a),T.line2d&&T.line2d.update(a),T.error2d&&T.error2d.update(a.concat(a)),T.select2d&&T.select2d.update(a),T.glText)for(var t=0;t<T.count;t++)T.glText[t].update(b)},T.draw=function(){for(var b=T.count,a=T.fill2d,t=T.error2d,u=T.line2d,i=T.scatter2d,l=T.glText,d=T.select2d,v=T.selectBatch,y=T.unselectBatch,p=0;p<b;p++){if(a&&T.fillOrder[p]&&a.draw(T.fillOrder[p]),u&&T.lineOptions[p]&&u.draw(p),t&&(T.errorXOptions[p]&&t.draw(p),T.errorYOptions[p]&&t.draw(p+b)),i&&T.markerOptions[p])if(y[p].length){var c=L.repeat([],T.count);c[p]=y[p],i.draw(c)}else v[p].length||i.draw(p);l[p]&&T.textOptions[p]&&l[p].render()}d&&d.draw(v),T.dirty=!1},T.destroy=function(){T.fill2d&&T.fill2d.destroy&&T.fill2d.destroy(),T.scatter2d&&T.scatter2d.destroy&&T.scatter2d.destroy(),T.error2d&&T.error2d.destroy&&T.error2d.destroy(),T.line2d&&T.line2d.destroy&&T.line2d.destroy(),T.select2d&&T.select2d.destroy&&T.select2d.destroy(),T.glText&&T.glText.forEach(function(b){b.destroy&&b.destroy()}),T.lineOptions=null,T.fillOptions=null,T.markerOptions=null,T.markerSelectedOptions=null,T.markerUnselectedOptions=null,T.errorXOptions=null,T.errorYOptions=null,T.textOptions=null,T.textSelectedOptions=null,T.textUnselectedOptions=null,T.selectBatch=null,T.unselectBatch=null,E._scene=null}),T.dirty||L.extendFlat(T,k),T}},17168:function($,F,m){var L=m(64726),D=m(85686).styleTextSelection;$.exports=function(E,T){var k=E.cd,M=E.xaxis,b=E.yaxis,a=[],t=k[0].trace,u=k[0].t,i=t._length,l=u.x,d=u.y,v=u._scene,y=u.index;if(!v)return a;var p=L.hasText(t),c=L.hasMarkers(t),x=!c&&!p;if(t.visible!==!0||x)return a;var f=[],n=[];if(T!==!1&&!T.degenerate)for(var o=0;o<i;o++)T.contains([u.xpx[o],u.ypx[o]],!1,o,E)?(f.push(o),a.push({pointNumber:o,x:M.c2d(l[o]),y:b.c2d(d[o])})):n.push(o);if(c){var s=v.scatter2d;if(f.length||n.length){if(!v.selectBatch[y].length&&!v.unselectBatch[y].length){var r=new Array(v.count);r[y]=v.markerUnselectedOptions[y],s.update.apply(s,r)}}else{var g=new Array(v.count);g[y]=v.markerOptions[y],s.update.apply(s,g)}}return v.selectBatch[y]=f,v.unselectBatch[y]=n,p&&D(k),a}},68697:function($,F,m){var L=m(36640),D=m(87163),E=m(80712).axisHoverFormat,T=m(3208).rb,k=m(92089),M=m(54826).idRegex,b=m(78032).templatedArray,a=m(93049).extendFlat,t=L.marker,u=t.line,i=a(D("marker.line",{editTypeOverride:"calc"}),{width:a({},u.width,{editType:"calc"}),editType:"calc"}),l=a(D("marker"),{symbol:t.symbol,angle:t.angle,size:a({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:i,editType:"calc"});function d(v){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:M[v],editType:"plot"}}}l.color.editType=l.cmin.editType=l.cmax.editType="style",$.exports={dimensions:b("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:a({},k.text,{}),hovertext:a({},k.hovertext,{}),hovertemplate:T(),xhoverformat:E("x"),yhoverformat:E("y"),marker:l,xaxes:d("x"),yaxes:d("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:k.selected.marker,editType:"calc"},unselected:{marker:k.unselected.marker,editType:"calc"},opacity:k.opacity}},86690:function($,F,m){var L=m(33626),D=m(83595);$.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:m(68697),supplyDefaults:m(52542),colorbar:m(21146),calc:m(55325),plot:m(83027),hoverPoints:m(25600).hoverPoints,selectPoints:m(13392),editStyle:m(27926),meta:{}},L.register(D)},571:function($,F,m){var L=m(49478),D=m(33626),E=m(22459),T=m(4173).eV,k=m(37703),M=m(5975).getFromId,b=m(29714).shouldShowZeroLine,a="splom",t={};function u(l,d,v){for(var y=v.matrixOptions.data.length,p=d._visibleDims,c=v.viewOpts.ranges=new Array(y),x=0;x<p.length;x++){var f=p[x],n=c[x]=new Array(4),o=M(l,d._diag[f][0]);o&&(n[0]=o.r2l(o.range[0]),n[2]=o.r2l(o.range[1]));var s=M(l,d._diag[f][1]);s&&(n[1]=s.r2l(s.range[0]),n[3]=s.r2l(s.range[1]))}v.selectBatch.length||v.unselectBatch.length?v.matrix.update({ranges:c},{ranges:c}):v.matrix.update({ranges:c})}function i(l){var d=l._fullLayout,v=d._glcanvas.data()[0].regl,y=d._splomGrid;y||(y=d._splomGrid=L(v)),y.update(function(p){var c,x=p._context.plotGlPixelRatio,f=p._fullLayout,n=f._size,o=[0,0,f.width*x,f.height*x],s={};function r(N,j,W,Y,J,G){W*=x,Y*=x,J*=x,G*=x;var H=j[N+"color"],U=j[N+"width"],Z=String(H+U);Z in s?s[Z].data.push(NaN,NaN,W,Y,J,G):s[Z]={data:[W,Y,J,G],join:"rect",thickness:U*x,color:H,viewport:o,range:o,overlay:!1}}for(c in f._splomSubplots){var g,e,h=f._plots[c],_=h.xaxis,w=h.yaxis,S=_._gridVals,O=w._gridVals,A=_._offset,I=_._length,B=w._length,C=n.b+w.domain[0]*n.h,z=-w._m,P=-z*w.r2l(w.range[0],w.calendar);if(_.showgrid)for(c=0;c<S.length;c++)g=A+_.l2p(S[c].x),r("grid",_,g,C,g,C+B);if(w.showgrid)for(c=0;c<O.length;c++)r("grid",w,A,e=C+P+z*O[c].x,A+I,e);b(p,_,w)&&(g=A+_.l2p(0),r("zeroline",_,g,C,g,C+B)),b(p,w,_)&&r("zeroline",w,A,e=C+P+0,A+I,e)}var R=[];for(c in s)R.push(s[c]);return R}(l))}$.exports={name:a,attr:k.attr,attrRegex:k.attrRegex,layoutAttributes:k.layoutAttributes,supplyLayoutDefaults:k.supplyLayoutDefaults,drawFramework:k.drawFramework,plot:function(l){var d=l._fullLayout,v=D.getModule(a),y=T(l.calcdata,v)[0];E(l,["ANGLE_instanced_arrays","OES_element_index_uint"],t)&&(d._hasOnlyLargeSploms&&i(l),v.plot(l,{},y))},drag:function(l){var d=l.calcdata,v=l._fullLayout;v._hasOnlyLargeSploms&&i(l);for(var y=0;y<d.length;y++){var p=d[y][0].trace,c=v._splomScenes[p.uid];p.type==="splom"&&c&&c.matrix&&u(l,p,c)}},updateGrid:i,clean:function(l,d,v,y){var p,c={};if(y._splomScenes){for(p=0;p<l.length;p++){var x=l[p];x.type==="splom"&&(c[x.uid]=1)}for(p=0;p<v.length;p++){var f=v[p];if(!c[f.uid]){var n=y._splomScenes[f.uid];n&&n.destroy&&n.destroy(),y._splomScenes[f.uid]=null,delete y._splomScenes[f.uid]}}}Object.keys(y._splomScenes||{}).length===0&&delete y._splomScenes,y._splomGrid&&!d._hasOnlyLargeSploms&&y._hasOnlyLargeSploms&&(y._splomGrid.destroy(),y._splomGrid=null,delete y._splomGrid),k.clean(l,d,v,y)},updateFx:k.updateFx,toSVG:k.toSVG,reglPrecompiled:t}},55325:function($,F,m){var L=m(34809),D=m(5975),E=m(26544).calcMarkerSize,T=m(26544).calcAxisExpansion,k=m(77272),M=m(19937).markerSelection,b=m(19937).markerStyle,a=m(78880),t=m(63821).BADNUM,u=m(29483).TOO_MANY_POINTS;$.exports=function(i,l){var d,v,y,p,c,x,f=l.dimensions,n=l._length,o={},s=o.cdata=[],r=o.data=[],g=l._visibleDims=[];function e(_,w){for(var S=_.makeCalcdata({v:w.values,vcalendar:l.calendar},"v"),O=0;O<S.length;O++)S[O]=S[O]===t?NaN:S[O];s.push(S),r.push(_.type==="log"?L.simpleMap(S,_.c2l):S)}for(d=0;d<f.length;d++)if((y=f[d]).visible){if(p=D.getFromId(i,l._diag[d][0]),c=D.getFromId(i,l._diag[d][1]),p&&c&&p.type!==c.type){L.log("Skipping splom dimension "+d+" with conflicting axis types");continue}p?(e(p,y),c&&c.type==="category"&&(c._categories=p._categories.slice())):e(c,y),g.push(d)}for(k(i,l),L.extendFlat(o,b(i,l)),x=s.length*n>u?o.sizeAvg||Math.max(o.size,3):E(l,n),v=0;v<g.length;v++)y=f[d=g[v]],p=D.getFromId(i,l._diag[d][0])||{},c=D.getFromId(i,l._diag[d][1])||{},T(i,l,p,c,s[v],s[v],x);var h=a(i,l);return h.matrix||(h.matrix=!0),h.matrixOptions=o,h.selectedOptions=M(i,l,l.selected),h.unselectedOptions=M(i,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},52542:function($,F,m){var L=m(34809),D=m(59008),E=m(68697),T=m(64726),k=m(24272),M=m(63197),b=m(4075).isOpenSymbol;function a(t,u){function i(d,v){return L.coerce(t,u,E.dimensions,d,v)}i("label");var l=i("values");l&&l.length?i("visible"):u.visible=!1,i("axis.type"),i("axis.matches")}$.exports=function(t,u,i,l){function d(n,o){return L.coerce(t,u,E,n,o)}var v=D(t,u,{name:"dimensions",handleItemDefaults:a}),y=d("diagonal.visible"),p=d("showupperhalf"),c=d("showlowerhalf");if(M(u,v,"values")&&(y||p||c)){d("text"),d("hovertext"),d("hovertemplate"),d("xhoverformat"),d("yhoverformat"),k(t,u,i,l,d,{noAngleRef:!0,noStandOff:!0});var x=b(u.marker.symbol),f=T.isBubble(u);d("marker.line.width",x||f?1:0),function(n,o,s,r){var g,e,h=o.dimensions,_=h.length,w=o.showupperhalf,S=o.showlowerhalf,O=o.diagonal.visible,A=new Array(_),I=new Array(_);for(g=0;g<_;g++){var B=g?g+1:"";A[g]="x"+B,I[g]="y"+B}var C=r("xaxes",A),z=r("yaxes",I),P=o._diag=new Array(_);o._xaxes={},o._yaxes={};var R=[],N=[];function j(Q,ne,ie,le){if(Q){var fe=Q.charAt(0),pe=s._splomAxes[fe];if(o["_"+fe+"axes"][Q]=1,le.push(Q),!(Q in pe)){var me=pe[Q]={};ie&&(me.label=ie.label||"",ie.visible&&ie.axis&&(ie.axis.type&&(me.type=ie.axis.type),ie.axis.matches&&(me.matches=ne)))}}}var W=!O&&!S,Y=!O&&!w;for(o._axesDim={},g=0;g<_;g++){var J=h[g],G=g===0,H=g===_-1,U=G&&W||H&&Y?void 0:C[g],Z=G&&Y||H&&W?void 0:z[g];j(U,Z,J,R),j(Z,U,J,N),P[g]=[U,Z],o._axesDim[U]=g,o._axesDim[Z]=g}for(g=0;g<R.length;g++)for(e=0;e<N.length;e++){var q=R[g]+N[e];g>e&&w||g<e&&S?s._splomSubplots[q]=1:g!==e||!O&&S&&w||(s._splomSubplots[q]=1)}(!S||!O&&w&&S)&&(s._splomGridDflt.xside="bottom",s._splomGridDflt.yside="left")}(0,u,l,d),L.coerceSelectionMarkerOpacity(u,d)}else u.visible=!1}},27926:function($,F,m){var L=m(34809),D=m(77272),E=m(19937).markerStyle;$.exports=function(T,k){var M=k.trace,b=T._fullLayout._splomScenes[M.uid];if(b){D(T,M),L.extendFlat(b.matrixOptions,E(T,M));var a=L.extendFlat({},b.matrixOptions,b.viewOpts);b.matrix.update(a,null)}}},52875:function($,F){F.getDimIndex=function(m,L){for(var D=L._id,E={x:0,y:1}[D.charAt(0)],T=m._visibleDims,k=0;k<T.length;k++){var M=T[k];if(m._diag[M][E]===D)return k}return!1}},25600:function($,F,m){var L=m(52875),D=m(36544).calcHover,E=m(29714).getFromId,T=m(93049).extendFlat;function k(M,b,a,t){var u=M.cd[0].trace,i=M.scene.matrixOptions.cdata,l=M.xa,d=M.ya,v=l.c2p(b),y=d.c2p(a),p=M.distance,c=L.getDimIndex(u,l),x=L.getDimIndex(u,d);if(c===!1||x===!1)return[M];for(var f,n,o=i[c],s=i[x],r=p,g=0;g<o.length;g++)if(!t||g===M.index){var e=o[g],h=s[g],_=l.c2p(e)-v,w=d.c2p(h)-y,S=Math.sqrt(_*_+w*w);(t||S<r)&&(r=n=S,f=g)}return M.index=f,M.distance=r,M.dxy=n,f===void 0?[M]:[D(M,o,s,u)]}$.exports={hoverPoints:function(M,b,a,t,u){u||(u={});var i=(t||"").charAt(0)==="x",l=(t||"").charAt(0)==="y",d=k(M,b,a);if((i||l)&&u.hoversubplots==="axis"&&d[0])for(var v=(i?M.xa:M.ya)._subplotsWith,y=u.gd,p=T({},M),c=0;c<v.length;c++){var x=v[c];if(x!==M.xa._id+M.ya._id){l?p.xa=E(y,x,"x"):p.ya=E(y,x,"y");var f=k(p,b,a,i||l);d=d.concat(f)}}return d}}},91450:function($,F,m){var L=m(86690);L.basePlotModule=m(571),$.exports=L},83027:function($,F,m){var L=m(31239),D=m(34809),E=m(5975),T=m(70414).selectMode;function k(M,b){var a,t,u,i,l,d=M._fullLayout,v=d._size,y=b.trace,p=b.t,c=d._splomScenes[y.uid],x=c.matrixOptions,f=x.cdata,n=d._glcanvas.data()[0].regl,o=d.dragmode;if(f.length!==0){x.lower=y.showupperhalf,x.upper=y.showlowerhalf,x.diagonal=y.diagonal.visible;var s=y._visibleDims,r=f.length,g=c.viewOpts={};for(g.ranges=new Array(r),g.domains=new Array(r),l=0;l<s.length;l++){u=s[l];var e=g.ranges[l]=new Array(4),h=g.domains[l]=new Array(4);(a=E.getFromId(M,y._diag[u][0]))&&(e[0]=a._rl[0],e[2]=a._rl[1],h[0]=a.domain[0],h[2]=a.domain[1]),(t=E.getFromId(M,y._diag[u][1]))&&(e[1]=t._rl[0],e[3]=t._rl[1],h[1]=t.domain[0],h[3]=t.domain[1])}var _=M._context.plotGlPixelRatio,w=v.l*_,S=v.b*_,O=v.w*_,A=v.h*_;g.viewport=[w,S,O+w,A+S],c.matrix===!0&&(c.matrix=L(n));var I=d.clickmode.indexOf("select")>-1,B=!0;if(T(o)||y.selectedpoints||I){var C=y._length;if(y.selectedpoints){c.selectBatch=y.selectedpoints;var z=y.selectedpoints,P={};for(u=0;u<z.length;u++)P[z[u]]=!0;var R=[];for(u=0;u<C;u++)P[u]||R.push(u);c.unselectBatch=R}var N=p.xpx=new Array(r),j=p.ypx=new Array(r);for(l=0;l<s.length;l++){if(u=s[l],a=E.getFromId(M,y._diag[u][0]))for(N[l]=new Array(C),i=0;i<C;i++)N[l][i]=a.c2p(f[l][i]);if(t=E.getFromId(M,y._diag[u][1]))for(j[l]=new Array(C),i=0;i<C;i++)j[l][i]=t.c2p(f[l][i])}if(c.selectBatch.length||c.unselectBatch.length){var W=D.extendFlat({},x,c.unselectedOptions,g),Y=D.extendFlat({},x,c.selectedOptions,g);c.matrix.update(W,Y),B=!1}}else p.xpx=p.ypx=null;if(B){var J=D.extendFlat({},x,g);c.matrix.update(J,null)}}}$.exports=function(M,b,a){if(a.length)for(var t=0;t<a.length;t++)k(M,a[t][0])}},78880:function($,F,m){var L=m(34809);$.exports=function(D,E){var T=D._fullLayout,k=E.uid,M=T._splomScenes;M||(M=T._splomScenes={});var b={dirty:!0,selectBatch:[],unselectBatch:[]},a=M[E.uid];return a||((a=M[k]=L.extendFlat({},b,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){a.matrix&&a.matrix.draw&&(a.selectBatch.length||a.unselectBatch.length?a.matrix.draw(a.unselectBatch,a.selectBatch):a.matrix.draw()),a.dirty=!1},a.destroy=function(){a.matrix&&a.matrix.destroy&&a.matrix.destroy(),a.matrixOptions=null,a.selectBatch=null,a.unselectBatch=null,a=null}),a.dirty||L.extendFlat(a,b),a}},13392:function($,F,m){var L=m(34809),D=L.pushUnique,E=m(64726),T=m(52875);$.exports=function(k,M){var b=k.cd,a=b[0].trace,t=b[0].t,u=k.scene,i=u.matrixOptions.cdata,l=k.xaxis,d=k.yaxis,v=[];if(!u)return v;var y=!E.hasMarkers(a)&&!E.hasText(a);if(a.visible!==!0||y)return v;var p=T.getDimIndex(a,l),c=T.getDimIndex(a,d);if(p===!1||c===!1)return v;var x=t.xpx[p],f=t.ypx[c],n=i[p],o=i[c],s=(k.scene.selectBatch||[]).slice(),r=[];if(M!==!1&&!M.degenerate)for(var g=0;g<n.length;g++)M.contains([x[g],f[g]],null,g,k)?(v.push({pointNumber:g,x:n[g],y:o[g]}),D(s,g)):s.indexOf(g)!==-1?D(s,g):r.push(g);var e=u.matrixOptions;return s.length||r.length?u.selectBatch.length||u.unselectBatch.length||u.matrix.update(u.unselectedOptions,L.extendFlat({},e,u.selectedOptions,u.viewOpts)):u.matrix.update(e,null),u.selectBatch=s,u.unselectBatch=r,v}},47908:function($,F,m){var L=m(29714),D=m(34809),E=m(57297),T=m(5086).z,k=m(63821).BADNUM;F.moduleType="transform",F.name="aggregate";var M=F.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},b=M.aggregations;function a(l,d,v,y){if(y.enabled){for(var p=y.target,c=D.nestedProperty(d,p),x=c.get(),f=function(s,r){var g=s.func,e=r.d2c,h=r.c2d;switch(g){case"count":return t;case"first":return u;case"last":return i;case"sum":return function(_,w){for(var S=0,O=0;O<w.length;O++){var A=e(_[w[O]]);A!==k&&(S+=A)}return h(S)};case"avg":return function(_,w){for(var S=0,O=0,A=0;A<w.length;A++){var I=e(_[w[A]]);I!==k&&(S+=I,O++)}return O?h(S/O):k};case"min":return function(_,w){for(var S=1/0,O=0;O<w.length;O++){var A=e(_[w[O]]);A!==k&&(S=Math.min(S,A))}return S===1/0?k:h(S)};case"max":return function(_,w){for(var S=-1/0,O=0;O<w.length;O++){var A=e(_[w[O]]);A!==k&&(S=Math.max(S,A))}return S===-1/0?k:h(S)};case"range":return function(_,w){for(var S=1/0,O=-1/0,A=0;A<w.length;A++){var I=e(_[w[A]]);I!==k&&(S=Math.min(S,I),O=Math.max(O,I))}return O===-1/0||S===1/0?k:h(O-S)};case"change":return function(_,w){var S=e(_[w[0]]),O=e(_[w[w.length-1]]);return S===k||O===k?k:h(O-S)};case"median":return function(_,w){for(var S=[],O=0;O<w.length;O++){var A=e(_[w[O]]);A!==k&&S.push(A)}if(!S.length)return k;S.sort(D.sorterAsc);var I=(S.length-1)/2;return h((S[Math.floor(I)]+S[Math.ceil(I)])/2)};case"mode":return function(_,w){for(var S={},O=0,A=k,I=0;I<w.length;I++){var B=e(_[w[I]]);if(B!==k){var C=S[B]=(S[B]||0)+1;C>O&&(O=C,A=B)}}return O?h(A):k};case"rms":return function(_,w){for(var S=0,O=0,A=0;A<w.length;A++){var I=e(_[w[A]]);I!==k&&(S+=I*I,O++)}return O?h(Math.sqrt(S/O)):k};case"stddev":return function(_,w){var S,O=0,A=0,I=1,B=k;for(S=0;S<w.length&&B===k;S++)B=e(_[w[S]]);if(B===k)return k;for(;S<w.length;S++){var C=e(_[w[S]]);if(C!==k){var z=C-B;O+=z,A+=z*z,I++}}var P=s.funcmode==="sample"?I-1:I;return P?Math.sqrt((A-O*O/I)/P):0}}}(y,L.getDataConversions(l,d,p,x)),n=new Array(v.length),o=0;o<v.length;o++)n[o]=f(x,v[o]);c.set(n),y.func==="count"&&D.pushUnique(d._arrayAttrs,p)}}function t(l,d){return d.length}function u(l,d){return l[d[0]]}function i(l,d){return l[d[d.length-1]]}F.supplyDefaults=function(l,d){var v,y={};function p(h,_){return D.coerce(l,y,M,h,_)}if(!p("enabled"))return y;var c=E.findArrayAttributes(d),x={};for(v=0;v<c.length;v++)x[c[v]]=1;var f=p("groups");if(!Array.isArray(f)){if(!x[f])return y.enabled=!1,y;x[f]=0}var n,o=l.aggregations||[],s=y.aggregations=new Array(o.length);function r(h,_){return D.coerce(o[v],n,b,h,_)}for(v=0;v<o.length;v++){n={_index:v};var g=r("target"),e=r("func");r("enabled")&&g&&(x[g]||e==="count"&&x[g]===void 0)?(e==="stddev"&&r("funcmode"),x[g]=0,s[v]=n):s[v]={enabled:!1,_index:v}}for(v=0;v<c.length;v++)x[c[v]]&&s.push({target:c[v],func:b.func.dflt,enabled:!0,_index:-1});return y},F.calcTransform=function(l,d,v){if(v.enabled){var y=v.groups,p=D.getTargetArray(d,{target:y});if(p){var c,x,f,n,o={},s={},r=[],g=T(d.transforms,v),e=p.length;for(d._length&&(e=Math.min(e,d._length)),c=0;c<e;c++)(f=o[x=p[c]])===void 0?(o[x]=r.length,n=[c],r.push(n),s[o[x]]=g(c)):(r[f].push(c),s[o[x]]=(s[o[x]]||[]).concat(g(c)));v._indexToPoints=s;var h=v.aggregations;for(c=0;c<h.length;c++)a(l,d,r,h[c]);typeof y=="string"&&a(l,d,r,{target:y,func:"first",enabled:!0}),d._length=r.length}}}},42849:function($,F,m){var L=m(34809),D=m(33626),E=m(29714),T=m(5086).z,k=m(20726),M=k.COMPARISON_OPS,b=k.INTERVAL_OPS,a=k.SET_OPS;F.moduleType="transform",F.name="filter",F.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(M).concat(b).concat(a),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},F.supplyDefaults=function(t){var u={};function i(v,y){return L.coerce(t,u,F.attributes,v,y)}if(i("enabled")){var l=i("target");if(L.isArrayOrTypedArray(l)&&l.length===0)return u.enabled=!1,u;i("preservegaps"),i("operation"),i("value");var d=D.getComponentMethod("calendars","handleDefaults");d(t,u,"valuecalendar",null),d(t,u,"targetcalendar",null)}return u},F.calcTransform=function(t,u,i){if(i.enabled){var l=L.getTargetArray(u,i);if(l){var d=i.target,v=l.length;u._length&&(v=Math.min(v,u._length));var y=i.targetcalendar,p=u._arrayAttrs,c=i.preservegaps;if(typeof d=="string"){var x=L.nestedProperty(u,d+"calendar").get();x&&(y=x)}var f,n,o=function(w,S,O){var A=w.operation,I=w.value,B=L.isArrayOrTypedArray(I);function C(N){return N.indexOf(A)!==-1}var z,P=function(N){return S(N,0,w.valuecalendar)},R=function(N){return S(N,0,O)};switch(C(M)?z=P(B?I[0]:I):C(b)?z=B?[P(I[0]),P(I[1])]:[P(I),P(I)]:C(a)&&(z=B?I.map(P):[P(I)]),A){case"=":return function(N){return R(N)===z};case"!=":return function(N){return R(N)!==z};case"<":return function(N){return R(N)<z};case"<=":return function(N){return R(N)<=z};case">":return function(N){return R(N)>z};case">=":return function(N){return R(N)>=z};case"[]":return function(N){var j=R(N);return j>=z[0]&&j<=z[1]};case"()":return function(N){var j=R(N);return j>z[0]&&j<z[1]};case"[)":return function(N){var j=R(N);return j>=z[0]&&j<z[1]};case"(]":return function(N){var j=R(N);return j>z[0]&&j<=z[1]};case"][":return function(N){var j=R(N);return j<=z[0]||j>=z[1]};case")(":return function(N){var j=R(N);return j<z[0]||j>z[1]};case"](":return function(N){var j=R(N);return j<=z[0]||j>z[1]};case")[":return function(N){var j=R(N);return j<z[0]||j>=z[1]};case"{}":return function(N){return z.indexOf(R(N))!==-1};case"}{":return function(N){return z.indexOf(R(N))===-1}}}(i,E.getDataToCoordFunc(t,u,d,l),y),s={},r={},g=0;c?(f=function(w){s[w.astr]=L.extendDeep([],w.get()),w.set(new Array(v))},n=function(w,S){var O=s[w.astr][S];w.get()[S]=O}):(f=function(w){s[w.astr]=L.extendDeep([],w.get()),w.set([])},n=function(w,S){var O=s[w.astr][S];w.get().push(O)}),_(f);for(var e=T(u.transforms,i),h=0;h<v;h++)o(l[h])?(_(n,h),r[g++]=e(h)):c&&g++;i._indexToPoints=r,u._length=g}}function _(w,S){for(var O=0;O<p.length;O++)w(L.nestedProperty(u,p[O]),S)}}},50453:function($,F,m){var L=m(34809),D=m(57297),E=m(44122),T=m(5086).z;function k(M,b){var a,t,u,i,l,d,v,y,p,c,x=b.transform,f=b.transformIndex,n=M.transforms[f].groups,o=T(M.transforms,x);if(!L.isArrayOrTypedArray(n)||n.length===0)return[M];var s=L.filterUnique(n),r=new Array(s.length),g=n.length,e=D.findArrayAttributes(M),h=x.styles||[],_={};for(a=0;a<h.length;a++)_[h[a].target]=h[a].value;x.styles&&(c=L.keyedContainer(x,"styles","target","value.name"));var w={},S={};for(a=0;a<s.length;a++){w[d=s[a]]=a,S[d]=0,(v=r[a]=L.extendDeepNoArrays({},M))._group=d,v.transforms[f]._indexToPoints={};var O=null;for(c&&(O=c.get(d)),v.name=O||O===""?O:L.templateString(x.nameformat,{trace:M.name,group:d}),y=v.transforms,v.transforms=[],t=0;t<y.length;t++)v.transforms[t]=L.extendDeepNoArrays({},y[t]);for(t=0;t<e.length;t++)L.nestedProperty(v,e[t]).set([])}for(u=0;u<e.length;u++){for(i=e[u],t=0,p=[];t<s.length;t++)p[t]=L.nestedProperty(r[t],i).get();for(l=L.nestedProperty(M,i).get(),t=0;t<g;t++)p[w[n[t]]].push(l[t])}for(t=0;t<g;t++)(v=r[w[n[t]]]).transforms[f]._indexToPoints[S[n[t]]]=o(t),S[n[t]]++;for(a=0;a<s.length;a++)d=s[a],v=r[a],E.clearExpandedTraceDefaultColors(v),v=L.extendDeepNoArrays(v,_[d]||{});return r}F.moduleType="transform",F.name="groupby",F.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},F.supplyDefaults=function(M,b,a){var t,u={};function i(p,c){return L.coerce(M,u,F.attributes,p,c)}if(!i("enabled"))return u;i("groups"),i("nameformat",a._dataLength>1?"%{group} (%{trace})":"%{group}");var l=M.styles,d=u.styles=[];if(l)for(t=0;t<l.length;t++){var v=d[t]={};L.coerce(l[t],d[t],F.attributes.styles,"target");var y=L.coerce(l[t],d[t],F.attributes.styles,"value");L.isPlainObject(y)?v.value=L.extendDeep({},y):y&&delete v.value}return u},F.transform=function(M,b){var a,t,u,i=[];for(t=0;t<M.length;t++)for(a=k(M[t],b),u=0;u<a.length;u++)i.push(a[u]);return i}},5086:function($,F){F.z=function(m,L){for(var D,E,T=0;T<m.length&&(D=m[T])!==L;T++)D._indexToPoints&&D.enabled!==!1&&(E=D._indexToPoints);var k=E?function(M){return E[M]}:function(M){return[M]};return k}},99855:function($,F,m){var L=m(34809),D=m(29714),E=m(5086).z,T=m(63821).BADNUM;F.moduleType="transform",F.name="sort",F.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},F.supplyDefaults=function(k){var M={};function b(a,t){return L.coerce(k,M,F.attributes,a,t)}return b("enabled")&&(b("target"),b("order")),M},F.calcTransform=function(k,M,b){if(b.enabled){var a=L.getTargetArray(M,b);if(a){var t=b.target,u=a.length;M._length&&(u=Math.min(u,M._length));var i,l,d=M._arrayAttrs,v=function(n,o,s,r){var g,e=new Array(r),h=new Array(r);for(g=0;g<r;g++)e[g]={v:o[g],i:g};for(e.sort(function(_,w){switch(_.order){case"ascending":return function(S,O){var A=w(S.v),I=w(O.v);return A===T?1:I===T?-1:A-I};case"descending":return function(S,O){var A=w(S.v),I=w(O.v);return A===T?1:I===T?-1:I-A}}}(n,s)),g=0;g<r;g++)h[g]=e[g].i;return h}(b,a,D.getDataToCoordFunc(k,M,t,a),u),y=E(M.transforms,b),p={};for(i=0;i<d.length;i++){var c=L.nestedProperty(M,d[i]),x=c.get(),f=new Array(u);for(l=0;l<u;l++)f[l]=x[v[l]];c.set(f)}for(l=0;l<u;l++)p[l]=y(v[l]);b._indexToPoints=p,M._length=u}}}},29697:function($,F){F.version="2.35.3"},99098:function($,F,m){var L=m(45708).hp,D=m(33282);(function(){var E={1964:function(b,a,t){b.exports={alpha_shape:t(3502),convex_hull:t(7352),delaunay_triangulate:t(7642),gl_cone3d:t(6405),gl_error3d:t(9165),gl_heatmap2d:t(2510),gl_line3d:t(5714),gl_mesh3d:t(7201),gl_plot2d:t(1850),gl_plot3d:t(4100),gl_pointcloud2d:t(4696),gl_scatter3d:t(8418),gl_select_box:t(3161),gl_spikes2d:t(4098),gl_streamtube3d:t(7815),gl_surface3d:t(9499),ndarray:t(9618),ndarray_linear_interpolate:t(4317)}},4793:function(b,a,t){function u(ee,se){for(var ce=0;ce<se.length;ce++){var be=se[ce];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ee,i(be.key),be)}}function i(ee){var se=function(ce,be){if(y(ce)!="object"||!ce)return ce;var Ee=ce[Symbol.toPrimitive];if(Ee!==void 0){var Se=Ee.call(ce,"string");if(y(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ce)}(ee);return y(se)=="symbol"?se:se+""}function l(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!ee})()}function d(ee){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(se){return se.__proto__||Object.getPrototypeOf(se)},d(ee)}function v(ee,se){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ce,be){return ce.__proto__=be,ce},v(ee,se)}function y(ee){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},y(ee)}var p=t(7507),c=t(3778),x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.hp=o,a.IS=50;var f=2147483647;function n(ee){if(ee>f)throw new RangeError('The value "'+ee+'" is invalid for option "size"');var se=new Uint8Array(ee);return Object.setPrototypeOf(se,o.prototype),se}function o(ee,se,ce){if(typeof ee=="number"){if(typeof se=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(ee)}return s(ee,se,ce)}function s(ee,se,ce){if(typeof ee=="string")return function(Se,De){if(typeof De=="string"&&De!==""||(De="utf8"),!o.isEncoding(De))throw new TypeError("Unknown encoding: "+De);var Ge=0|w(Se,De),Xe=n(Ge),Ke=Xe.write(Se,De);return Ke!==Ge&&(Xe=Xe.slice(0,Ke)),Xe}(ee,se);if(ArrayBuffer.isView(ee))return function(Se){if(ge(Se,Uint8Array)){var De=new Uint8Array(Se);return h(De.buffer,De.byteOffset,De.byteLength)}return e(Se)}(ee);if(ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+y(ee));if(ge(ee,ArrayBuffer)||ee&&ge(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ge(ee,SharedArrayBuffer)||ee&&ge(ee.buffer,SharedArrayBuffer)))return h(ee,se,ce);if(typeof ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var be=ee.valueOf&&ee.valueOf();if(be!=null&&be!==ee)return o.from(be,se,ce);var Ee=function(Se){if(o.isBuffer(Se)){var De=0|_(Se.length),Ge=n(De);return Ge.length===0||Se.copy(Ge,0,0,De),Ge}return Se.length!==void 0?typeof Se.length!="number"||re(Se.length)?n(0):e(Se):Se.type==="Buffer"&&Array.isArray(Se.data)?e(Se.data):void 0}(ee);if(Ee)return Ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ee[Symbol.toPrimitive]=="function")return o.from(ee[Symbol.toPrimitive]("string"),se,ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+y(ee))}function r(ee){if(typeof ee!="number")throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function g(ee){return r(ee),n(ee<0?0:0|_(ee))}function e(ee){for(var se=ee.length<0?0:0|_(ee.length),ce=n(se),be=0;be<se;be+=1)ce[be]=255&ee[be];return ce}function h(ee,se,ce){if(se<0||ee.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<se+(ce||0))throw new RangeError('"length" is outside of buffer bounds');var be;return be=se===void 0&&ce===void 0?new Uint8Array(ee):ce===void 0?new Uint8Array(ee,se):new Uint8Array(ee,se,ce),Object.setPrototypeOf(be,o.prototype),be}function _(ee){if(ee>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|ee}function w(ee,se){if(o.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||ge(ee,ArrayBuffer))return ee.byteLength;if(typeof ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+y(ee));var ce=ee.length,be=arguments.length>2&&arguments[2]===!0;if(!be&&ce===0)return 0;for(var Ee=!1;;)switch(se){case"ascii":case"latin1":case"binary":return ce;case"utf8":case"utf-8":return X(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ce;case"hex":return ce>>>1;case"base64":return ae(ee).length;default:if(Ee)return be?-1:X(ee).length;se=(""+se).toLowerCase(),Ee=!0}}function S(ee,se,ce){var be=!1;if((se===void 0||se<0)&&(se=0),se>this.length||((ce===void 0||ce>this.length)&&(ce=this.length),ce<=0)||(ce>>>=0)<=(se>>>=0))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return G(this,se,ce);case"utf8":case"utf-8":return j(this,se,ce);case"ascii":return Y(this,se,ce);case"latin1":case"binary":return J(this,se,ce);case"base64":return N(this,se,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,se,ce);default:if(be)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),be=!0}}function O(ee,se,ce){var be=ee[se];ee[se]=ee[ce],ee[ce]=be}function A(ee,se,ce,be,Ee){if(ee.length===0)return-1;if(typeof ce=="string"?(be=ce,ce=0):ce>2147483647?ce=2147483647:ce<-2147483648&&(ce=-2147483648),re(ce=+ce)&&(ce=Ee?0:ee.length-1),ce<0&&(ce=ee.length+ce),ce>=ee.length){if(Ee)return-1;ce=ee.length-1}else if(ce<0){if(!Ee)return-1;ce=0}if(typeof se=="string"&&(se=o.from(se,be)),o.isBuffer(se))return se.length===0?-1:I(ee,se,ce,be,Ee);if(typeof se=="number")return se&=255,typeof Uint8Array.prototype.indexOf=="function"?Ee?Uint8Array.prototype.indexOf.call(ee,se,ce):Uint8Array.prototype.lastIndexOf.call(ee,se,ce):I(ee,[se],ce,be,Ee);throw new TypeError("val must be string, number or Buffer")}function I(ee,se,ce,be,Ee){var Se,De=1,Ge=ee.length,Xe=se.length;if(be!==void 0&&((be=String(be).toLowerCase())==="ucs2"||be==="ucs-2"||be==="utf16le"||be==="utf-16le")){if(ee.length<2||se.length<2)return-1;De=2,Ge/=2,Xe/=2,ce/=2}function Ke(Le,$e){return De===1?Le[$e]:Le.readUInt16BE($e*De)}if(Ee){var ut=-1;for(Se=ce;Se<Ge;Se++)if(Ke(ee,Se)===Ke(se,ut===-1?0:Se-ut)){if(ut===-1&&(ut=Se),Se-ut+1===Xe)return ut*De}else ut!==-1&&(Se-=Se-ut),ut=-1}else for(ce+Xe>Ge&&(ce=Ge-Xe),Se=ce;Se>=0;Se--){for(var Tt=!0,je=0;je<Xe;je++)if(Ke(ee,Se+je)!==Ke(se,je)){Tt=!1;break}if(Tt)return Se}return-1}function B(ee,se,ce,be){ce=Number(ce)||0;var Ee=ee.length-ce;be?(be=Number(be))>Ee&&(be=Ee):be=Ee;var Se,De=se.length;for(be>De/2&&(be=De/2),Se=0;Se<be;++Se){var Ge=parseInt(se.substr(2*Se,2),16);if(re(Ge))return Se;ee[ce+Se]=Ge}return Se}function C(ee,se,ce,be){return K(X(se,ee.length-ce),ee,ce,be)}function z(ee,se,ce,be){return K(function(Ee){for(var Se=[],De=0;De<Ee.length;++De)Se.push(255&Ee.charCodeAt(De));return Se}(se),ee,ce,be)}function P(ee,se,ce,be){return K(ae(se),ee,ce,be)}function R(ee,se,ce,be){return K(function(Ee,Se){for(var De,Ge,Xe,Ke=[],ut=0;ut<Ee.length&&!((Se-=2)<0);++ut)Ge=(De=Ee.charCodeAt(ut))>>8,Xe=De%256,Ke.push(Xe),Ke.push(Ge);return Ke}(se,ee.length-ce),ee,ce,be)}function N(ee,se,ce){return se===0&&ce===ee.length?p.fromByteArray(ee):p.fromByteArray(ee.slice(se,ce))}function j(ee,se,ce){ce=Math.min(ee.length,ce);for(var be=[],Ee=se;Ee<ce;){var Se=ee[Ee],De=null,Ge=Se>239?4:Se>223?3:Se>191?2:1;if(Ee+Ge<=ce){var Xe=void 0,Ke=void 0,ut=void 0,Tt=void 0;switch(Ge){case 1:Se<128&&(De=Se);break;case 2:(192&(Xe=ee[Ee+1]))==128&&(Tt=(31&Se)<<6|63&Xe)>127&&(De=Tt);break;case 3:Xe=ee[Ee+1],Ke=ee[Ee+2],(192&Xe)==128&&(192&Ke)==128&&(Tt=(15&Se)<<12|(63&Xe)<<6|63&Ke)>2047&&(Tt<55296||Tt>57343)&&(De=Tt);break;case 4:Xe=ee[Ee+1],Ke=ee[Ee+2],ut=ee[Ee+3],(192&Xe)==128&&(192&Ke)==128&&(192&ut)==128&&(Tt=(15&Se)<<18|(63&Xe)<<12|(63&Ke)<<6|63&ut)>65535&&Tt<1114112&&(De=Tt)}}De===null?(De=65533,Ge=1):De>65535&&(De-=65536,be.push(De>>>10&1023|55296),De=56320|1023&De),be.push(De),Ee+=Ge}return function(je){var Le=je.length;if(Le<=W)return String.fromCharCode.apply(String,je);for(var $e="",st=0;st<Le;)$e+=String.fromCharCode.apply(String,je.slice(st,st+=W));return $e}(be)}o.TYPED_ARRAY_SUPPORT=function(){try{var ee=new Uint8Array(1),se={foo:function(){return 42}};return Object.setPrototypeOf(se,Uint8Array.prototype),Object.setPrototypeOf(ee,se),ee.foo()===42}catch{return!1}}(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(ee,se,ce){return s(ee,se,ce)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(ee,se,ce){return function(be,Ee,Se){return r(be),be<=0?n(be):Ee!==void 0?typeof Se=="string"?n(be).fill(Ee,Se):n(be).fill(Ee):n(be)}(ee,se,ce)},o.allocUnsafe=function(ee){return g(ee)},o.allocUnsafeSlow=function(ee){return g(ee)},o.isBuffer=function(ee){return ee!=null&&ee._isBuffer===!0&&ee!==o.prototype},o.compare=function(ee,se){if(ge(ee,Uint8Array)&&(ee=o.from(ee,ee.offset,ee.byteLength)),ge(se,Uint8Array)&&(se=o.from(se,se.offset,se.byteLength)),!o.isBuffer(ee)||!o.isBuffer(se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ee===se)return 0;for(var ce=ee.length,be=se.length,Ee=0,Se=Math.min(ce,be);Ee<Se;++Ee)if(ee[Ee]!==se[Ee]){ce=ee[Ee],be=se[Ee];break}return ce<be?-1:be<ce?1:0},o.isEncoding=function(ee){switch(String(ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(ee,se){if(!Array.isArray(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(ee.length===0)return o.alloc(0);var ce;if(se===void 0)for(se=0,ce=0;ce<ee.length;++ce)se+=ee[ce].length;var be=o.allocUnsafe(se),Ee=0;for(ce=0;ce<ee.length;++ce){var Se=ee[ce];if(ge(Se,Uint8Array))Ee+Se.length>be.length?(o.isBuffer(Se)||(Se=o.from(Se)),Se.copy(be,Ee)):Uint8Array.prototype.set.call(be,Se,Ee);else{if(!o.isBuffer(Se))throw new TypeError('"list" argument must be an Array of Buffers');Se.copy(be,Ee)}Ee+=Se.length}return be},o.byteLength=w,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var ee=this.length;if(ee%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var se=0;se<ee;se+=2)O(this,se,se+1);return this},o.prototype.swap32=function(){var ee=this.length;if(ee%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var se=0;se<ee;se+=4)O(this,se,se+3),O(this,se+1,se+2);return this},o.prototype.swap64=function(){var ee=this.length;if(ee%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var se=0;se<ee;se+=8)O(this,se,se+7),O(this,se+1,se+6),O(this,se+2,se+5),O(this,se+3,se+4);return this},o.prototype.toString=function(){var ee=this.length;return ee===0?"":arguments.length===0?j(this,0,ee):S.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(ee){if(!o.isBuffer(ee))throw new TypeError("Argument must be a Buffer");return this===ee||o.compare(this,ee)===0},o.prototype.inspect=function(){var ee="",se=a.IS;return ee=this.toString("hex",0,se).replace(/(.{2})/g,"$1 ").trim(),this.length>se&&(ee+=" ... "),"<Buffer "+ee+">"},x&&(o.prototype[x]=o.prototype.inspect),o.prototype.compare=function(ee,se,ce,be,Ee){if(ge(ee,Uint8Array)&&(ee=o.from(ee,ee.offset,ee.byteLength)),!o.isBuffer(ee))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+y(ee));if(se===void 0&&(se=0),ce===void 0&&(ce=ee?ee.length:0),be===void 0&&(be=0),Ee===void 0&&(Ee=this.length),se<0||ce>ee.length||be<0||Ee>this.length)throw new RangeError("out of range index");if(be>=Ee&&se>=ce)return 0;if(be>=Ee)return-1;if(se>=ce)return 1;if(this===ee)return 0;for(var Se=(Ee>>>=0)-(be>>>=0),De=(ce>>>=0)-(se>>>=0),Ge=Math.min(Se,De),Xe=this.slice(be,Ee),Ke=ee.slice(se,ce),ut=0;ut<Ge;++ut)if(Xe[ut]!==Ke[ut]){Se=Xe[ut],De=Ke[ut];break}return Se<De?-1:De<Se?1:0},o.prototype.includes=function(ee,se,ce){return this.indexOf(ee,se,ce)!==-1},o.prototype.indexOf=function(ee,se,ce){return A(this,ee,se,ce,!0)},o.prototype.lastIndexOf=function(ee,se,ce){return A(this,ee,se,ce,!1)},o.prototype.write=function(ee,se,ce,be){if(se===void 0)be="utf8",ce=this.length,se=0;else if(ce===void 0&&typeof se=="string")be=se,ce=this.length,se=0;else{if(!isFinite(se))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");se>>>=0,isFinite(ce)?(ce>>>=0,be===void 0&&(be="utf8")):(be=ce,ce=void 0)}var Ee=this.length-se;if((ce===void 0||ce>Ee)&&(ce=Ee),ee.length>0&&(ce<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");for(var Se=!1;;)switch(be){case"hex":return B(this,ee,se,ce);case"utf8":case"utf-8":return C(this,ee,se,ce);case"ascii":case"latin1":case"binary":return z(this,ee,se,ce);case"base64":return P(this,ee,se,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,ee,se,ce);default:if(Se)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),Se=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;function Y(ee,se,ce){var be="";ce=Math.min(ee.length,ce);for(var Ee=se;Ee<ce;++Ee)be+=String.fromCharCode(127&ee[Ee]);return be}function J(ee,se,ce){var be="";ce=Math.min(ee.length,ce);for(var Ee=se;Ee<ce;++Ee)be+=String.fromCharCode(ee[Ee]);return be}function G(ee,se,ce){var be=ee.length;(!se||se<0)&&(se=0),(!ce||ce<0||ce>be)&&(ce=be);for(var Ee="",Se=se;Se<ce;++Se)Ee+=ue[ee[Se]];return Ee}function H(ee,se,ce){for(var be=ee.slice(se,ce),Ee="",Se=0;Se<be.length-1;Se+=2)Ee+=String.fromCharCode(be[Se]+256*be[Se+1]);return Ee}function U(ee,se,ce){if(ee%1!=0||ee<0)throw new RangeError("offset is not uint");if(ee+se>ce)throw new RangeError("Trying to access beyond buffer length")}function Z(ee,se,ce,be,Ee,Se){if(!o.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(se>Ee||se<Se)throw new RangeError('"value" argument is out of bounds');if(ce+be>ee.length)throw new RangeError("Index out of range")}function q(ee,se,ce,be,Ee){ke(se,be,Ee,ee,ce,7);var Se=Number(se&BigInt(4294967295));ee[ce++]=Se,Se>>=8,ee[ce++]=Se,Se>>=8,ee[ce++]=Se,Se>>=8,ee[ce++]=Se;var De=Number(se>>BigInt(32)&BigInt(4294967295));return ee[ce++]=De,De>>=8,ee[ce++]=De,De>>=8,ee[ce++]=De,De>>=8,ee[ce++]=De,ce}function Q(ee,se,ce,be,Ee){ke(se,be,Ee,ee,ce,7);var Se=Number(se&BigInt(4294967295));ee[ce+7]=Se,Se>>=8,ee[ce+6]=Se,Se>>=8,ee[ce+5]=Se,Se>>=8,ee[ce+4]=Se;var De=Number(se>>BigInt(32)&BigInt(4294967295));return ee[ce+3]=De,De>>=8,ee[ce+2]=De,De>>=8,ee[ce+1]=De,De>>=8,ee[ce]=De,ce+8}function ne(ee,se,ce,be,Ee,Se){if(ce+be>ee.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("Index out of range")}function ie(ee,se,ce,be,Ee){return se=+se,ce>>>=0,Ee||ne(ee,0,ce,4),c.write(ee,se,ce,be,23,4),ce+4}function le(ee,se,ce,be,Ee){return se=+se,ce>>>=0,Ee||ne(ee,0,ce,8),c.write(ee,se,ce,be,52,8),ce+8}o.prototype.slice=function(ee,se){var ce=this.length;(ee=~~ee)<0?(ee+=ce)<0&&(ee=0):ee>ce&&(ee=ce),(se=se===void 0?ce:~~se)<0?(se+=ce)<0&&(se=0):se>ce&&(se=ce),se<ee&&(se=ee);var be=this.subarray(ee,se);return Object.setPrototypeOf(be,o.prototype),be},o.prototype.readUintLE=o.prototype.readUIntLE=function(ee,se,ce){ee>>>=0,se>>>=0,ce||U(ee,se,this.length);for(var be=this[ee],Ee=1,Se=0;++Se<se&&(Ee*=256);)be+=this[ee+Se]*Ee;return be},o.prototype.readUintBE=o.prototype.readUIntBE=function(ee,se,ce){ee>>>=0,se>>>=0,ce||U(ee,se,this.length);for(var be=this[ee+--se],Ee=1;se>0&&(Ee*=256);)be+=this[ee+--se]*Ee;return be},o.prototype.readUint8=o.prototype.readUInt8=function(ee,se){return ee>>>=0,se||U(ee,1,this.length),this[ee]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(ee,se){return ee>>>=0,se||U(ee,2,this.length),this[ee]|this[ee+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(ee,se){return ee>>>=0,se||U(ee,2,this.length),this[ee]<<8|this[ee+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(ee,se){return ee>>>=0,se||U(ee,4,this.length),(this[ee]|this[ee+1]<<8|this[ee+2]<<16)+16777216*this[ee+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(ee,se){return ee>>>=0,se||U(ee,4,this.length),16777216*this[ee]+(this[ee+1]<<16|this[ee+2]<<8|this[ee+3])},o.prototype.readBigUInt64LE=we(function(ee){ve(ee>>>=0,"offset");var se=this[ee],ce=this[ee+7];se!==void 0&&ce!==void 0||he(ee,this.length-8);var be=se+this[++ee]*Math.pow(2,8)+this[++ee]*Math.pow(2,16)+this[++ee]*Math.pow(2,24),Ee=this[++ee]+this[++ee]*Math.pow(2,8)+this[++ee]*Math.pow(2,16)+ce*Math.pow(2,24);return BigInt(be)+(BigInt(Ee)<<BigInt(32))}),o.prototype.readBigUInt64BE=we(function(ee){ve(ee>>>=0,"offset");var se=this[ee],ce=this[ee+7];se!==void 0&&ce!==void 0||he(ee,this.length-8);var be=se*Math.pow(2,24)+this[++ee]*Math.pow(2,16)+this[++ee]*Math.pow(2,8)+this[++ee],Ee=this[++ee]*Math.pow(2,24)+this[++ee]*Math.pow(2,16)+this[++ee]*Math.pow(2,8)+ce;return(BigInt(be)<<BigInt(32))+BigInt(Ee)}),o.prototype.readIntLE=function(ee,se,ce){ee>>>=0,se>>>=0,ce||U(ee,se,this.length);for(var be=this[ee],Ee=1,Se=0;++Se<se&&(Ee*=256);)be+=this[ee+Se]*Ee;return be>=(Ee*=128)&&(be-=Math.pow(2,8*se)),be},o.prototype.readIntBE=function(ee,se,ce){ee>>>=0,se>>>=0,ce||U(ee,se,this.length);for(var be=se,Ee=1,Se=this[ee+--be];be>0&&(Ee*=256);)Se+=this[ee+--be]*Ee;return Se>=(Ee*=128)&&(Se-=Math.pow(2,8*se)),Se},o.prototype.readInt8=function(ee,se){return ee>>>=0,se||U(ee,1,this.length),128&this[ee]?-1*(255-this[ee]+1):this[ee]},o.prototype.readInt16LE=function(ee,se){ee>>>=0,se||U(ee,2,this.length);var ce=this[ee]|this[ee+1]<<8;return 32768&ce?4294901760|ce:ce},o.prototype.readInt16BE=function(ee,se){ee>>>=0,se||U(ee,2,this.length);var ce=this[ee+1]|this[ee]<<8;return 32768&ce?4294901760|ce:ce},o.prototype.readInt32LE=function(ee,se){return ee>>>=0,se||U(ee,4,this.length),this[ee]|this[ee+1]<<8|this[ee+2]<<16|this[ee+3]<<24},o.prototype.readInt32BE=function(ee,se){return ee>>>=0,se||U(ee,4,this.length),this[ee]<<24|this[ee+1]<<16|this[ee+2]<<8|this[ee+3]},o.prototype.readBigInt64LE=we(function(ee){ve(ee>>>=0,"offset");var se=this[ee],ce=this[ee+7];se!==void 0&&ce!==void 0||he(ee,this.length-8);var be=this[ee+4]+this[ee+5]*Math.pow(2,8)+this[ee+6]*Math.pow(2,16)+(ce<<24);return(BigInt(be)<<BigInt(32))+BigInt(se+this[++ee]*Math.pow(2,8)+this[++ee]*Math.pow(2,16)+this[++ee]*Math.pow(2,24))}),o.prototype.readBigInt64BE=we(function(ee){ve(ee>>>=0,"offset");var se=this[ee],ce=this[ee+7];se!==void 0&&ce!==void 0||he(ee,this.length-8);var be=(se<<24)+this[++ee]*Math.pow(2,16)+this[++ee]*Math.pow(2,8)+this[++ee];return(BigInt(be)<<BigInt(32))+BigInt(this[++ee]*Math.pow(2,24)+this[++ee]*Math.pow(2,16)+this[++ee]*Math.pow(2,8)+ce)}),o.prototype.readFloatLE=function(ee,se){return ee>>>=0,se||U(ee,4,this.length),c.read(this,ee,!0,23,4)},o.prototype.readFloatBE=function(ee,se){return ee>>>=0,se||U(ee,4,this.length),c.read(this,ee,!1,23,4)},o.prototype.readDoubleLE=function(ee,se){return ee>>>=0,se||U(ee,8,this.length),c.read(this,ee,!0,52,8)},o.prototype.readDoubleBE=function(ee,se){return ee>>>=0,se||U(ee,8,this.length),c.read(this,ee,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(ee,se,ce,be){ee=+ee,se>>>=0,ce>>>=0,be||Z(this,ee,se,ce,Math.pow(2,8*ce)-1,0);var Ee=1,Se=0;for(this[se]=255&ee;++Se<ce&&(Ee*=256);)this[se+Se]=ee/Ee&255;return se+ce},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(ee,se,ce,be){ee=+ee,se>>>=0,ce>>>=0,be||Z(this,ee,se,ce,Math.pow(2,8*ce)-1,0);var Ee=ce-1,Se=1;for(this[se+Ee]=255&ee;--Ee>=0&&(Se*=256);)this[se+Ee]=ee/Se&255;return se+ce},o.prototype.writeUint8=o.prototype.writeUInt8=function(ee,se,ce){return ee=+ee,se>>>=0,ce||Z(this,ee,se,1,255,0),this[se]=255&ee,se+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(ee,se,ce){return ee=+ee,se>>>=0,ce||Z(this,ee,se,2,65535,0),this[se]=255&ee,this[se+1]=ee>>>8,se+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(ee,se,ce){return ee=+ee,se>>>=0,ce||Z(this,ee,se,2,65535,0),this[se]=ee>>>8,this[se+1]=255&ee,se+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(ee,se,ce){return ee=+ee,se>>>=0,ce||Z(this,ee,se,4,4294967295,0),this[se+3]=ee>>>24,this[se+2]=ee>>>16,this[se+1]=ee>>>8,this[se]=255&ee,se+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(ee,se,ce){return ee=+ee,se>>>=0,ce||Z(this,ee,se,4,4294967295,0),this[se]=ee>>>24,this[se+1]=ee>>>16,this[se+2]=ee>>>8,this[se+3]=255&ee,se+4},o.prototype.writeBigUInt64LE=we(function(ee){return q(this,ee,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=we(function(ee){return Q(this,ee,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(ee,se,ce,be){if(ee=+ee,se>>>=0,!be){var Ee=Math.pow(2,8*ce-1);Z(this,ee,se,ce,Ee-1,-Ee)}var Se=0,De=1,Ge=0;for(this[se]=255&ee;++Se<ce&&(De*=256);)ee<0&&Ge===0&&this[se+Se-1]!==0&&(Ge=1),this[se+Se]=(ee/De>>0)-Ge&255;return se+ce},o.prototype.writeIntBE=function(ee,se,ce,be){if(ee=+ee,se>>>=0,!be){var Ee=Math.pow(2,8*ce-1);Z(this,ee,se,ce,Ee-1,-Ee)}var Se=ce-1,De=1,Ge=0;for(this[se+Se]=255&ee;--Se>=0&&(De*=256);)ee<0&&Ge===0&&this[se+Se+1]!==0&&(Ge=1),this[se+Se]=(ee/De>>0)-Ge&255;return se+ce},o.prototype.writeInt8=function(ee,se,ce){return ee=+ee,se>>>=0,ce||Z(this,ee,se,1,127,-128),ee<0&&(ee=255+ee+1),this[se]=255&ee,se+1},o.prototype.writeInt16LE=function(ee,se,ce){return ee=+ee,se>>>=0,ce||Z(this,ee,se,2,32767,-32768),this[se]=255&ee,this[se+1]=ee>>>8,se+2},o.prototype.writeInt16BE=function(ee,se,ce){return ee=+ee,se>>>=0,ce||Z(this,ee,se,2,32767,-32768),this[se]=ee>>>8,this[se+1]=255&ee,se+2},o.prototype.writeInt32LE=function(ee,se,ce){return ee=+ee,se>>>=0,ce||Z(this,ee,se,4,2147483647,-2147483648),this[se]=255&ee,this[se+1]=ee>>>8,this[se+2]=ee>>>16,this[se+3]=ee>>>24,se+4},o.prototype.writeInt32BE=function(ee,se,ce){return ee=+ee,se>>>=0,ce||Z(this,ee,se,4,2147483647,-2147483648),ee<0&&(ee=4294967295+ee+1),this[se]=ee>>>24,this[se+1]=ee>>>16,this[se+2]=ee>>>8,this[se+3]=255&ee,se+4},o.prototype.writeBigInt64LE=we(function(ee){return q(this,ee,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=we(function(ee){return Q(this,ee,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(ee,se,ce){return ie(this,ee,se,!0,ce)},o.prototype.writeFloatBE=function(ee,se,ce){return ie(this,ee,se,!1,ce)},o.prototype.writeDoubleLE=function(ee,se,ce){return le(this,ee,se,!0,ce)},o.prototype.writeDoubleBE=function(ee,se,ce){return le(this,ee,se,!1,ce)},o.prototype.copy=function(ee,se,ce,be){if(!o.isBuffer(ee))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),be||be===0||(be=this.length),se>=ee.length&&(se=ee.length),se||(se=0),be>0&&be<ce&&(be=ce),be===ce||ee.length===0||this.length===0)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),ee.length-se<be-ce&&(be=ee.length-se+ce);var Ee=be-ce;return this===ee&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(se,ce,be):Uint8Array.prototype.set.call(ee,this.subarray(ce,be),se),Ee},o.prototype.fill=function(ee,se,ce,be){if(typeof ee=="string"){if(typeof se=="string"?(be=se,se=0,ce=this.length):typeof ce=="string"&&(be=ce,ce=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!o.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(ee.length===1){var Ee=ee.charCodeAt(0);(be==="utf8"&&Ee<128||be==="latin1")&&(ee=Ee)}}else typeof ee=="number"?ee&=255:typeof ee=="boolean"&&(ee=Number(ee));if(se<0||this.length<se||this.length<ce)throw new RangeError("Out of range index");if(ce<=se)return this;var Se;if(se>>>=0,ce=ce===void 0?this.length:ce>>>0,ee||(ee=0),typeof ee=="number")for(Se=se;Se<ce;++Se)this[Se]=ee;else{var De=o.isBuffer(ee)?ee:o.from(ee,be),Ge=De.length;if(Ge===0)throw new TypeError('The value "'+ee+'" is invalid for argument "value"');for(Se=0;Se<ce-se;++Se)this[Se+se]=De[Se%Ge]}return this};var fe={};function pe(ee,se,ce){fe[ee]=function(be){function Ee(){var Ge;return function(Xe,Ke){if(!(Xe instanceof Ke))throw new TypeError("Cannot call a class as a function")}(this,Ee),Ge=function(Xe,Ke,ut){return Ke=d(Ke),function(Tt,je){if(je&&(y(je)=="object"||typeof je=="function"))return je;if(je!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Le){if(Le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Le}(Tt)}(Xe,l()?Reflect.construct(Ke,[],d(Xe).constructor):Ke.apply(Xe,ut))}(this,Ee),Object.defineProperty(Ge,"message",{value:se.apply(Ge,arguments),writable:!0,configurable:!0}),Ge.name="".concat(Ge.name," [").concat(ee,"]"),Ge.stack,delete Ge.name,Ge}return function(Ge,Xe){if(typeof Xe!="function"&&Xe!==null)throw new TypeError("Super expression must either be null or a function");Ge.prototype=Object.create(Xe&&Xe.prototype,{constructor:{value:Ge,writable:!0,configurable:!0}}),Object.defineProperty(Ge,"prototype",{writable:!1}),Xe&&v(Ge,Xe)}(Ee,be),Se=Ee,(De=[{key:"code",get:function(){return ee},set:function(Ge){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ge,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ee,"]: ").concat(this.message)}}])&&u(Se.prototype,De),Object.defineProperty(Se,"prototype",{writable:!1}),Se;var Se,De}(ce)}function me(ee){for(var se="",ce=ee.length,be=ee[0]==="-"?1:0;ce>=be+4;ce-=3)se="_".concat(ee.slice(ce-3,ce)).concat(se);return"".concat(ee.slice(0,ce)).concat(se)}function ke(ee,se,ce,be,Ee,Se){if(ee>ce||ee<se){var De,Ge=typeof se=="bigint"?"n":"";throw De=se===0||se===BigInt(0)?">= 0".concat(Ge," and < 2").concat(Ge," ** ").concat(8*(Se+1)).concat(Ge):">= -(2".concat(Ge," ** ").concat(8*(Se+1)-1).concat(Ge,") and < 2 ** ")+"".concat(8*(Se+1)-1).concat(Ge),new fe.ERR_OUT_OF_RANGE("value",De,ee)}(function(Xe,Ke,ut){ve(Ke,"offset"),Xe[Ke]!==void 0&&Xe[Ke+ut]!==void 0||he(Ke,Xe.length-(ut+1))})(be,Ee,Se)}function ve(ee,se){if(typeof ee!="number")throw new fe.ERR_INVALID_ARG_TYPE(se,"number",ee)}function he(ee,se,ce){throw Math.floor(ee)!==ee?(ve(ee,ce),new fe.ERR_OUT_OF_RANGE("offset","an integer",ee)):se<0?new fe.ERR_BUFFER_OUT_OF_BOUNDS:new fe.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(se),ee)}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(ee){return ee?"".concat(ee," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(ee,se){return'The "'.concat(ee,'" argument must be of type number. Received type ').concat(y(se))},TypeError),pe("ERR_OUT_OF_RANGE",function(ee,se,ce){var be='The value of "'.concat(ee,'" is out of range.'),Ee=ce;return Number.isInteger(ce)&&Math.abs(ce)>Math.pow(2,32)?Ee=me(String(ce)):typeof ce=="bigint"&&(Ee=String(ce),(ce>Math.pow(BigInt(2),BigInt(32))||ce<-Math.pow(BigInt(2),BigInt(32)))&&(Ee=me(Ee)),Ee+="n"),be+" It must be ".concat(se,". Received ").concat(Ee)},RangeError);var de=/[^+/0-9A-Za-z-_]/g;function X(ee,se){var ce;se=se||1/0;for(var be=ee.length,Ee=null,Se=[],De=0;De<be;++De){if((ce=ee.charCodeAt(De))>55295&&ce<57344){if(!Ee){if(ce>56319){(se-=3)>-1&&Se.push(239,191,189);continue}if(De+1===be){(se-=3)>-1&&Se.push(239,191,189);continue}Ee=ce;continue}if(ce<56320){(se-=3)>-1&&Se.push(239,191,189),Ee=ce;continue}ce=65536+(Ee-55296<<10|ce-56320)}else Ee&&(se-=3)>-1&&Se.push(239,191,189);if(Ee=null,ce<128){if((se-=1)<0)break;Se.push(ce)}else if(ce<2048){if((se-=2)<0)break;Se.push(ce>>6|192,63&ce|128)}else if(ce<65536){if((se-=3)<0)break;Se.push(ce>>12|224,ce>>6&63|128,63&ce|128)}else{if(!(ce<1114112))throw new Error("Invalid code point");if((se-=4)<0)break;Se.push(ce>>18|240,ce>>12&63|128,ce>>6&63|128,63&ce|128)}}return Se}function ae(ee){return p.toByteArray(function(se){if((se=(se=se.split("=")[0]).trim().replace(de,"")).length<2)return"";for(;se.length%4!=0;)se+="=";return se}(ee))}function K(ee,se,ce,be){var Ee;for(Ee=0;Ee<be&&!(Ee+ce>=se.length||Ee>=ee.length);++Ee)se[Ee+ce]=ee[Ee];return Ee}function ge(ee,se){return ee instanceof se||ee!=null&&ee.constructor!=null&&ee.constructor.name!=null&&ee.constructor.name===se.name}function re(ee){return ee!=ee}var ue=function(){for(var ee="0123456789abcdef",se=new Array(256),ce=0;ce<16;++ce)for(var be=16*ce,Ee=0;Ee<16;++Ee)se[be+Ee]=ee[ce]+ee[Ee];return se}();function we(ee){return typeof BigInt>"u"?Te:ee}function Te(){throw new Error("BigInt not supported")}},9216:function(b){b.exports=i,b.exports.isMobile=i,b.exports.default=i;var a=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,u=/android|ipad|playbook|silk/i;function i(l){l||(l={});var d=l.ua;if(d||typeof navigator>"u"||(d=navigator.userAgent),d&&d.headers&&typeof d.headers["user-agent"]=="string"&&(d=d.headers["user-agent"]),typeof d!="string")return!1;var v=a.test(d)&&!t.test(d)||!!l.tablet&&u.test(d);return!v&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&d.indexOf("Macintosh")!==-1&&d.indexOf("Safari")!==-1&&(v=!0),v}},6296:function(b,a,t){b.exports=function(y){var p=(y=y||{}).eye||[0,0,1],c=y.center||[0,0,0],x=y.up||[0,1,0],f=y.distanceLimits||[0,1/0],n=y.mode||"turntable",o=u(),s=i(),r=l();return o.setDistanceLimits(f[0],f[1]),o.lookAt(0,p,c,x),s.setDistanceLimits(f[0],f[1]),s.lookAt(0,p,c,x),r.setDistanceLimits(f[0],f[1]),r.lookAt(0,p,c,x),new d({turntable:o,orbit:s,matrix:r},n)};var u=t(7261),i=t(9977),l=t(4192);function d(y,p){this._controllerNames=Object.keys(y),this._controllerList=this._controllerNames.map(function(c){return y[c]}),this._mode=p,this._active=y[p],this._active||(this._mode="turntable",this._active=y.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var v=d.prototype;v.flush=function(y){for(var p=this._controllerList,c=0;c<p.length;++c)p[c].flush(y)},v.idle=function(y){for(var p=this._controllerList,c=0;c<p.length;++c)p[c].idle(y)},v.lookAt=function(y,p,c,x){for(var f=this._controllerList,n=0;n<f.length;++n)f[n].lookAt(y,p,c,x)},v.rotate=function(y,p,c,x){for(var f=this._controllerList,n=0;n<f.length;++n)f[n].rotate(y,p,c,x)},v.pan=function(y,p,c,x){for(var f=this._controllerList,n=0;n<f.length;++n)f[n].pan(y,p,c,x)},v.translate=function(y,p,c,x){for(var f=this._controllerList,n=0;n<f.length;++n)f[n].translate(y,p,c,x)},v.setMatrix=function(y,p){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setMatrix(y,p)},v.setDistanceLimits=function(y,p){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistanceLimits(y,p)},v.setDistance=function(y,p){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistance(y,p)},v.recalcMatrix=function(y){this._active.recalcMatrix(y)},v.getDistance=function(y){return this._active.getDistance(y)},v.getDistanceLimits=function(y){return this._active.getDistanceLimits(y)},v.lastT=function(){return this._active.lastT()},v.setMode=function(y){if(y!==this._mode){var p=this._controllerNames.indexOf(y);if(!(p<0)){var c=this._active,x=this._controllerList[p],f=Math.max(c.lastT(),x.lastT());c.recalcMatrix(f),x.setMatrix(f,c.computedMatrix),this._active=x,this._mode=y,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},v.getMode=function(){return this._mode}},7169:function(b,a,t){var u=typeof WeakMap>"u"?t(1538):WeakMap,i=t(2762),l=t(8116),d=new u;b.exports=function(v){var y=d.get(v),p=y&&(y._triangleBuffer.handle||y._triangleBuffer.buffer);if(!p||!v.isBuffer(p)){var c=i(v,new Float32Array([-1,-1,-1,4,4,-1]));(y=l(v,[{buffer:c,type:v.FLOAT,size:2}]))._triangleBuffer=c,d.set(v,y)}y.bind(),v.drawArrays(v.TRIANGLES,0,3),y.unbind()}},1085:function(b,a,t){var u=t(1371);b.exports=function(i,l,d){l=typeof l=="number"?l:1,d=d||": ";var v=i.split(/\r?\n/),y=String(v.length+l-1).length;return v.map(function(p,c){var x=c+l,f=String(x).length;return u(x,y-f)+d+p}).join(`
`)}},3952:function(b,a,t){b.exports=function(l){var d=l.length;if(d===0)return[];if(d===1)return[0];for(var v=l[0].length,y=[l[0]],p=[0],c=1;c<d;++c)if(y.push(l[c]),i(y,v)){if(p.push(c),p.length===v+1)return p}else y.pop();return p};var u=t(3250);function i(l,d){for(var v=new Array(d+1),y=0;y<l.length;++y)v[y]=l[y];for(y=0;y<=l.length;++y){for(var p=l.length;p<=d;++p){for(var c=new Array(d),x=0;x<d;++x)c[x]=Math.pow(p+1-y,x);v[p]=c}if(u.apply(void 0,v))return!0}return!1}},5995:function(b,a,t){b.exports=function(l,d){return u(d).filter(function(v){for(var y=new Array(v.length),p=0;p<v.length;++p)y[p]=d[v[p]];return i(y)*l<1})};var u=t(7642),i=t(6037)},3502:function(b,a,t){b.exports=function(l,d){return i(u(l,d))};var u=t(5995),i=t(9127)},6468:function(b){b.exports=function(a){return atob(a)}},2642:function(b,a,t){b.exports=function(l,d){for(var v=d.length,y=new Array(v+1),p=0;p<v;++p){for(var c=new Array(v+1),x=0;x<=v;++x)c[x]=l[x][p];y[p]=c}for(y[v]=new Array(v+1),p=0;p<=v;++p)y[v][p]=1;var f=new Array(v+1);for(p=0;p<v;++p)f[p]=d[p];f[v]=1;var n=u(y,f),o=i(n[v+1]);o===0&&(o=1);var s=new Array(v+1);for(p=0;p<=v;++p)s[p]=i(n[p])/o;return s};var u=t(727);function i(l){for(var d=0,v=0;v<l.length;++v)d+=l[v];return d}},7507:function(b,a){a.byteLength=function(p){var c=v(p),x=c[0],f=c[1];return 3*(x+f)/4-f},a.toByteArray=function(p){var c,x,f=v(p),n=f[0],o=f[1],s=new i(function(e,h,_){return 3*(h+_)/4-_}(0,n,o)),r=0,g=o>0?n-4:n;for(x=0;x<g;x+=4)c=u[p.charCodeAt(x)]<<18|u[p.charCodeAt(x+1)]<<12|u[p.charCodeAt(x+2)]<<6|u[p.charCodeAt(x+3)],s[r++]=c>>16&255,s[r++]=c>>8&255,s[r++]=255&c;return o===2&&(c=u[p.charCodeAt(x)]<<2|u[p.charCodeAt(x+1)]>>4,s[r++]=255&c),o===1&&(c=u[p.charCodeAt(x)]<<10|u[p.charCodeAt(x+1)]<<4|u[p.charCodeAt(x+2)]>>2,s[r++]=c>>8&255,s[r++]=255&c),s},a.fromByteArray=function(p){for(var c,x=p.length,f=x%3,n=[],o=16383,s=0,r=x-f;s<r;s+=o)n.push(y(p,s,s+o>r?r:s+o));return f===1?(c=p[x-1],n.push(t[c>>2]+t[c<<4&63]+"==")):f===2&&(c=(p[x-2]<<8)+p[x-1],n.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),n.join("")};for(var t=[],u=[],i=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0;d<64;++d)t[d]=l[d],u[l.charCodeAt(d)]=d;function v(p){var c=p.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=p.indexOf("=");return x===-1&&(x=c),[x,x===c?0:4-x%4]}function y(p,c,x){for(var f,n,o=[],s=c;s<x;s+=3)f=(p[s]<<16&16711680)+(p[s+1]<<8&65280)+(255&p[s+2]),o.push(t[(n=f)>>18&63]+t[n>>12&63]+t[n>>6&63]+t[63&n]);return o.join("")}u[45]=62,u[95]=63},3865:function(b,a,t){var u=t(869);b.exports=function(i,l){return u(i[0].mul(l[1]).add(l[0].mul(i[1])),i[1].mul(l[1]))}},1318:function(b){b.exports=function(a,t){return a[0].mul(t[1]).cmp(t[0].mul(a[1]))}},8697:function(b,a,t){var u=t(869);b.exports=function(i,l){return u(i[0].mul(l[1]),i[1].mul(l[0]))}},7842:function(b,a,t){var u=t(6330),i=t(1533),l=t(2651),d=t(4387),v=t(869),y=t(8697);b.exports=function p(c,x){if(u(c))return x?y(c,p(x)):[c[0].clone(),c[1].clone()];var f,n,o=0;if(i(c))f=c.clone();else if(typeof c=="string")f=d(c);else{if(c===0)return[l(0),l(1)];if(c===Math.floor(c))f=l(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),o-=256;f=l(c)}}if(u(x))f.mul(x[1]),n=x[0].clone();else if(i(x))n=x.clone();else if(typeof x=="string")n=d(x);else if(x)if(x===Math.floor(x))n=l(x);else{for(;x!==Math.floor(x);)x*=Math.pow(2,256),o+=256;n=l(x)}else n=l(1);return o>0?f=f.ushln(o):o<0&&(n=n.ushln(-o)),v(f,n)}},6330:function(b,a,t){var u=t(1533);b.exports=function(i){return Array.isArray(i)&&i.length===2&&u(i[0])&&u(i[1])}},5716:function(b,a,t){var u=t(6859);b.exports=function(i){return i.cmp(new u(0))}},1369:function(b,a,t){var u=t(5716);b.exports=function(i){var l=i.length,d=i.words,v=0;if(l===1)v=d[0];else if(l===2)v=d[0]+67108864*d[1];else for(var y=0;y<l;y++)v+=d[y]*Math.pow(67108864,y);return u(i)*v}},4025:function(b,a,t){var u=t(2361),i=t(8828).countTrailingZeros;b.exports=function(l){var d=i(u.lo(l));if(d<32)return d;var v=i(u.hi(l));return v>20?52:v+32}},1533:function(b,a,t){t(6859),b.exports=function(u){return u&&typeof u=="object"&&!!u.words}},2651:function(b,a,t){var u=t(6859),i=t(2361);b.exports=function(l){var d=i.exponent(l);return d<52?new u(l):new u(l*Math.pow(2,52-d)).ushln(d-52)}},869:function(b,a,t){var u=t(2651),i=t(5716);b.exports=function(l,d){var v=i(l),y=i(d);if(v===0)return[u(0),u(1)];if(y===0)return[u(0),u(0)];y<0&&(l=l.neg(),d=d.neg());var p=l.gcd(d);return p.cmpn(1)?[l.div(p),d.div(p)]:[l,d]}},4387:function(b,a,t){var u=t(6859);b.exports=function(i){return new u(i)}},6504:function(b,a,t){var u=t(869);b.exports=function(i,l){return u(i[0].mul(l[0]),i[1].mul(l[1]))}},7721:function(b,a,t){var u=t(5716);b.exports=function(i){return u(i[0])*u(i[1])}},5572:function(b,a,t){var u=t(869);b.exports=function(i,l){return u(i[0].mul(l[1]).sub(i[1].mul(l[0])),i[1].mul(l[1]))}},946:function(b,a,t){var u=t(1369),i=t(4025);b.exports=function(l){var d=l[0],v=l[1];if(d.cmpn(0)===0)return 0;var y=d.abs().divmod(v.abs()),p=y.div,c=u(p),x=y.mod,f=d.negative!==v.negative?-1:1;if(x.cmpn(0)===0)return f*c;if(c){var n=i(c)+4;return f*(c+(s=u(x.ushln(n).divRound(v)))*Math.pow(2,-n))}var o=v.bitLength()-x.bitLength()+53,s=u(x.ushln(o).divRound(v));return o<1023?f*s*Math.pow(2,-o):f*(s*=Math.pow(2,-1023))*Math.pow(2,1023-o)}},2478:function(b){function a(v,y,p,c,x){for(var f=x+1;c<=x;){var n=c+x>>>1,o=v[n];(p!==void 0?p(o,y):o-y)>=0?(f=n,x=n-1):c=n+1}return f}function t(v,y,p,c,x){for(var f=x+1;c<=x;){var n=c+x>>>1,o=v[n];(p!==void 0?p(o,y):o-y)>0?(f=n,x=n-1):c=n+1}return f}function u(v,y,p,c,x){for(var f=c-1;c<=x;){var n=c+x>>>1,o=v[n];(p!==void 0?p(o,y):o-y)<0?(f=n,c=n+1):x=n-1}return f}function i(v,y,p,c,x){for(var f=c-1;c<=x;){var n=c+x>>>1,o=v[n];(p!==void 0?p(o,y):o-y)<=0?(f=n,c=n+1):x=n-1}return f}function l(v,y,p,c,x){for(;c<=x;){var f=c+x>>>1,n=v[f],o=p!==void 0?p(n,y):n-y;if(o===0)return f;o<=0?c=f+1:x=f-1}return-1}function d(v,y,p,c,x,f){return typeof p=="function"?f(v,y,p,c===void 0?0:0|c,x===void 0?v.length-1:0|x):f(v,y,void 0,p===void 0?0:0|p,c===void 0?v.length-1:0|c)}b.exports={ge:function(v,y,p,c,x){return d(v,y,p,c,x,a)},gt:function(v,y,p,c,x){return d(v,y,p,c,x,t)},lt:function(v,y,p,c,x){return d(v,y,p,c,x,u)},le:function(v,y,p,c,x){return d(v,y,p,c,x,i)},eq:function(v,y,p,c,x){return d(v,y,p,c,x,l)}}},8828:function(b,a){function t(i){var l=32;return(i&=-i)&&l--,65535&i&&(l-=16),16711935&i&&(l-=8),252645135&i&&(l-=4),858993459&i&&(l-=2),1431655765&i&&(l-=1),l}a.INT_BITS=32,a.INT_MAX=2147483647,a.INT_MIN=-2147483648,a.sign=function(i){return(i>0)-(i<0)},a.abs=function(i){var l=i>>31;return(i^l)-l},a.min=function(i,l){return l^(i^l)&-(i<l)},a.max=function(i,l){return i^(i^l)&-(i<l)},a.isPow2=function(i){return!(i&i-1||!i)},a.log2=function(i){var l,d;return l=(i>65535)<<4,l|=d=((i>>>=l)>255)<<3,l|=d=((i>>>=d)>15)<<2,(l|=d=((i>>>=d)>3)<<1)|(i>>>=d)>>1},a.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},a.popCount=function(i){return 16843009*((i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135)>>>24},a.countTrailingZeros=t,a.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,1+(i|=i>>>16)},a.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,(i|=i>>>16)-(i>>>1)},a.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,27030>>>(i&=15)&1};var u=new Array(256);(function(i){for(var l=0;l<256;++l){var d=l,v=l,y=7;for(d>>>=1;d;d>>>=1)v<<=1,v|=1&d,--y;i[l]=v<<y&255}})(u),a.reverse=function(i){return u[255&i]<<24|u[i>>>8&255]<<16|u[i>>>16&255]<<8|u[i>>>24&255]},a.interleave2=function(i,l){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l&=65535)|l<<8))|l<<4))|l<<2))|l<<1))<<1},a.deinterleave2=function(i,l){return(i=65535&((i=16711935&((i=252645135&((i=858993459&((i=i>>>l&1431655765)|i>>>1))|i>>>2))|i>>>4))|i>>>16))<<16>>16},a.interleave3=function(i,l,d){return i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2),(i|=(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<1)|(d=1227133513&((d=3272356035&((d=251719695&((d=4278190335&((d&=1023)|d<<16))|d<<8))|d<<4))|d<<2))<<2},a.deinterleave3=function(i,l){return(i=1023&((i=4278190335&((i=251719695&((i=3272356035&((i=i>>>l&1227133513)|i>>>2))|i>>>4))|i>>>8))|i>>>16))<<22>>22},a.nextCombination=function(i){var l=i|i-1;return l+1|(~l&-~l)-1>>>t(i)+1}},6859:function(b,a,t){(function(u,i){function l(C,z){if(!C)throw new Error(z||"Assertion failed")}function d(C,z){C.super_=z;var P=function(){};P.prototype=z.prototype,C.prototype=new P,C.prototype.constructor=C}function v(C,z,P){if(v.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(z!=="le"&&z!=="be"||(P=z,z=10),this._init(C||0,z||10,P||"be"))}var y;typeof u=="object"?u.exports=v:i.BN=v,v.BN=v,v.wordSize=26;try{y=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t(7790).Buffer}catch{}function p(C,z){var P=C.charCodeAt(z);return P>=65&&P<=70?P-55:P>=97&&P<=102?P-87:P-48&15}function c(C,z,P){var R=p(C,P);return P-1>=z&&(R|=p(C,P-1)<<4),R}function x(C,z,P,R){for(var N=0,j=Math.min(C.length,P),W=z;W<j;W++){var Y=C.charCodeAt(W)-48;N*=R,N+=Y>=49?Y-49+10:Y>=17?Y-17+10:Y}return N}v.isBN=function(C){return C instanceof v||C!==null&&typeof C=="object"&&C.constructor.wordSize===v.wordSize&&Array.isArray(C.words)},v.max=function(C,z){return C.cmp(z)>0?C:z},v.min=function(C,z){return C.cmp(z)<0?C:z},v.prototype._init=function(C,z,P){if(typeof C=="number")return this._initNumber(C,z,P);if(typeof C=="object")return this._initArray(C,z,P);z==="hex"&&(z=16),l(z===(0|z)&&z>=2&&z<=36);var R=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(R++,this.negative=1),R<C.length&&(z===16?this._parseHex(C,R,P):(this._parseBase(C,z,R),P==="le"&&this._initArray(this.toArray(),z,P)))},v.prototype._initNumber=function(C,z,P){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(l(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),P==="le"&&this._initArray(this.toArray(),z,P)},v.prototype._initArray=function(C,z,P){if(l(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var N,j,W=0;if(P==="be")for(R=C.length-1,N=0;R>=0;R-=3)j=C[R]|C[R-1]<<8|C[R-2]<<16,this.words[N]|=j<<W&67108863,this.words[N+1]=j>>>26-W&67108863,(W+=24)>=26&&(W-=26,N++);else if(P==="le")for(R=0,N=0;R<C.length;R+=3)j=C[R]|C[R+1]<<8|C[R+2]<<16,this.words[N]|=j<<W&67108863,this.words[N+1]=j>>>26-W&67108863,(W+=24)>=26&&(W-=26,N++);return this.strip()},v.prototype._parseHex=function(C,z,P){this.length=Math.ceil((C.length-z)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var N,j=0,W=0;if(P==="be")for(R=C.length-1;R>=z;R-=2)N=c(C,z,R)<<j,this.words[W]|=67108863&N,j>=18?(j-=18,W+=1,this.words[W]|=N>>>26):j+=8;else for(R=(C.length-z)%2==0?z+1:z;R<C.length;R+=2)N=c(C,z,R)<<j,this.words[W]|=67108863&N,j>=18?(j-=18,W+=1,this.words[W]|=N>>>26):j+=8;this.strip()},v.prototype._parseBase=function(C,z,P){this.words=[0],this.length=1;for(var R=0,N=1;N<=67108863;N*=z)R++;R--,N=N/z|0;for(var j=C.length-P,W=j%R,Y=Math.min(j,j-W)+P,J=0,G=P;G<Y;G+=R)J=x(C,G,G+R,z),this.imuln(N),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J);if(W!==0){var H=1;for(J=x(C,G,C.length,z),G=0;G<W;G++)H*=z;this.imuln(H),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J)}this.strip()},v.prototype.copy=function(C){C.words=new Array(this.length);for(var z=0;z<this.length;z++)C.words[z]=this.words[z];C.length=this.length,C.negative=this.negative,C.red=this.red},v.prototype.clone=function(){var C=new v(null);return this.copy(C),C},v.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},v.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},v.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},v.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],n=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],o=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function s(C,z,P){P.negative=z.negative^C.negative;var R=C.length+z.length|0;P.length=R,R=R-1|0;var N=0|C.words[0],j=0|z.words[0],W=N*j,Y=67108863&W,J=W/67108864|0;P.words[0]=Y;for(var G=1;G<R;G++){for(var H=J>>>26,U=67108863&J,Z=Math.min(G,z.length-1),q=Math.max(0,G-C.length+1);q<=Z;q++){var Q=G-q|0;H+=(W=(N=0|C.words[Q])*(j=0|z.words[q])+U)/67108864|0,U=67108863&W}P.words[G]=0|U,J=0|H}return J!==0?P.words[G]=0|J:P.length--,P.strip()}v.prototype.toString=function(C,z){var P;if(z=0|z||1,(C=C||10)===16||C==="hex"){P="";for(var R=0,N=0,j=0;j<this.length;j++){var W=this.words[j],Y=(16777215&(W<<R|N)).toString(16);P=(N=W>>>24-R&16777215)!=0||j!==this.length-1?f[6-Y.length]+Y+P:Y+P,(R+=2)>=26&&(R-=26,j--)}for(N!==0&&(P=N.toString(16)+P);P.length%z!=0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}if(C===(0|C)&&C>=2&&C<=36){var J=n[C],G=o[C];P="";var H=this.clone();for(H.negative=0;!H.isZero();){var U=H.modn(G).toString(C);P=(H=H.idivn(G)).isZero()?U+P:f[J-U.length]+U+P}for(this.isZero()&&(P="0"+P);P.length%z!=0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}l(!1,"Base should be between 2 and 36")},v.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},v.prototype.toJSON=function(){return this.toString(16)},v.prototype.toBuffer=function(C,z){return l(y!==void 0),this.toArrayLike(y,C,z)},v.prototype.toArray=function(C,z){return this.toArrayLike(Array,C,z)},v.prototype.toArrayLike=function(C,z,P){var R=this.byteLength(),N=P||Math.max(1,R);l(R<=N,"byte array longer than desired length"),l(N>0,"Requested array length <= 0"),this.strip();var j,W,Y=z==="le",J=new C(N),G=this.clone();if(Y){for(W=0;!G.isZero();W++)j=G.andln(255),G.iushrn(8),J[W]=j;for(;W<N;W++)J[W]=0}else{for(W=0;W<N-R;W++)J[W]=0;for(W=0;!G.isZero();W++)j=G.andln(255),G.iushrn(8),J[N-W-1]=j}return J},Math.clz32?v.prototype._countBits=function(C){return 32-Math.clz32(C)}:v.prototype._countBits=function(C){var z=C,P=0;return z>=4096&&(P+=13,z>>>=13),z>=64&&(P+=7,z>>>=7),z>=8&&(P+=4,z>>>=4),z>=2&&(P+=2,z>>>=2),P+z},v.prototype._zeroBits=function(C){if(C===0)return 26;var z=C,P=0;return!(8191&z)&&(P+=13,z>>>=13),!(127&z)&&(P+=7,z>>>=7),!(15&z)&&(P+=4,z>>>=4),!(3&z)&&(P+=2,z>>>=2),!(1&z)&&P++,P},v.prototype.bitLength=function(){var C=this.words[this.length-1],z=this._countBits(C);return 26*(this.length-1)+z},v.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,z=0;z<this.length;z++){var P=this._zeroBits(this.words[z]);if(C+=P,P!==26)break}return C},v.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},v.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},v.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},v.prototype.isNeg=function(){return this.negative!==0},v.prototype.neg=function(){return this.clone().ineg()},v.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},v.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var z=0;z<C.length;z++)this.words[z]=this.words[z]|C.words[z];return this.strip()},v.prototype.ior=function(C){return l((this.negative|C.negative)==0),this.iuor(C)},v.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},v.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},v.prototype.iuand=function(C){var z;z=this.length>C.length?C:this;for(var P=0;P<z.length;P++)this.words[P]=this.words[P]&C.words[P];return this.length=z.length,this.strip()},v.prototype.iand=function(C){return l((this.negative|C.negative)==0),this.iuand(C)},v.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},v.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},v.prototype.iuxor=function(C){var z,P;this.length>C.length?(z=this,P=C):(z=C,P=this);for(var R=0;R<P.length;R++)this.words[R]=z.words[R]^P.words[R];if(this!==z)for(;R<z.length;R++)this.words[R]=z.words[R];return this.length=z.length,this.strip()},v.prototype.ixor=function(C){return l((this.negative|C.negative)==0),this.iuxor(C)},v.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},v.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},v.prototype.inotn=function(C){l(typeof C=="number"&&C>=0);var z=0|Math.ceil(C/26),P=C%26;this._expand(z),P>0&&z--;for(var R=0;R<z;R++)this.words[R]=67108863&~this.words[R];return P>0&&(this.words[R]=~this.words[R]&67108863>>26-P),this.strip()},v.prototype.notn=function(C){return this.clone().inotn(C)},v.prototype.setn=function(C,z){l(typeof C=="number"&&C>=0);var P=C/26|0,R=C%26;return this._expand(P+1),this.words[P]=z?this.words[P]|1<<R:this.words[P]&~(1<<R),this.strip()},v.prototype.iadd=function(C){var z,P,R;if(this.negative!==0&&C.negative===0)return this.negative=0,z=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,z=this.isub(C),C.negative=1,z._normSign();this.length>C.length?(P=this,R=C):(P=C,R=this);for(var N=0,j=0;j<R.length;j++)z=(0|P.words[j])+(0|R.words[j])+N,this.words[j]=67108863&z,N=z>>>26;for(;N!==0&&j<P.length;j++)z=(0|P.words[j])+N,this.words[j]=67108863&z,N=z>>>26;if(this.length=P.length,N!==0)this.words[this.length]=N,this.length++;else if(P!==this)for(;j<P.length;j++)this.words[j]=P.words[j];return this},v.prototype.add=function(C){var z;return C.negative!==0&&this.negative===0?(C.negative=0,z=this.sub(C),C.negative^=1,z):C.negative===0&&this.negative!==0?(this.negative=0,z=C.sub(this),this.negative=1,z):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},v.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var z=this.iadd(C);return C.negative=1,z._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var P,R,N=this.cmp(C);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;N>0?(P=this,R=C):(P=C,R=this);for(var j=0,W=0;W<R.length;W++)j=(z=(0|P.words[W])-(0|R.words[W])+j)>>26,this.words[W]=67108863&z;for(;j!==0&&W<P.length;W++)j=(z=(0|P.words[W])+j)>>26,this.words[W]=67108863&z;if(j===0&&W<P.length&&P!==this)for(;W<P.length;W++)this.words[W]=P.words[W];return this.length=Math.max(this.length,W),P!==this&&(this.negative=1),this.strip()},v.prototype.sub=function(C){return this.clone().isub(C)};var r=function(C,z,P){var R,N,j,W=C.words,Y=z.words,J=P.words,G=0,H=0|W[0],U=8191&H,Z=H>>>13,q=0|W[1],Q=8191&q,ne=q>>>13,ie=0|W[2],le=8191&ie,fe=ie>>>13,pe=0|W[3],me=8191&pe,ke=pe>>>13,ve=0|W[4],he=8191&ve,de=ve>>>13,X=0|W[5],ae=8191&X,K=X>>>13,ge=0|W[6],re=8191&ge,ue=ge>>>13,we=0|W[7],Te=8191&we,ee=we>>>13,se=0|W[8],ce=8191&se,be=se>>>13,Ee=0|W[9],Se=8191&Ee,De=Ee>>>13,Ge=0|Y[0],Xe=8191&Ge,Ke=Ge>>>13,ut=0|Y[1],Tt=8191&ut,je=ut>>>13,Le=0|Y[2],$e=8191&Le,st=Le>>>13,Ot=0|Y[3],Je=8191&Ot,at=Ot>>>13,gt=0|Y[4],Oe=8191&gt,Be=gt>>>13,it=0|Y[5],tt=8191&it,ft=it>>>13,pt=0|Y[6],_e=8191&pt,Ae=pt>>>13,Ve=0|Y[7],He=8191&Ve,We=Ve>>>13,Pe=0|Y[8],Ue=8191&Pe,Ne=Pe>>>13,Ye=0|Y[9],Fe=8191&Ye,Ze=Ye>>>13;P.negative=C.negative^z.negative,P.length=19;var rt=(G+(R=Math.imul(U,Xe))|0)+((8191&(N=(N=Math.imul(U,Ke))+Math.imul(Z,Xe)|0))<<13)|0;G=((j=Math.imul(Z,Ke))+(N>>>13)|0)+(rt>>>26)|0,rt&=67108863,R=Math.imul(Q,Xe),N=(N=Math.imul(Q,Ke))+Math.imul(ne,Xe)|0,j=Math.imul(ne,Ke);var vt=(G+(R=R+Math.imul(U,Tt)|0)|0)+((8191&(N=(N=N+Math.imul(U,je)|0)+Math.imul(Z,Tt)|0))<<13)|0;G=((j=j+Math.imul(Z,je)|0)+(N>>>13)|0)+(vt>>>26)|0,vt&=67108863,R=Math.imul(le,Xe),N=(N=Math.imul(le,Ke))+Math.imul(fe,Xe)|0,j=Math.imul(fe,Ke),R=R+Math.imul(Q,Tt)|0,N=(N=N+Math.imul(Q,je)|0)+Math.imul(ne,Tt)|0,j=j+Math.imul(ne,je)|0;var Lt=(G+(R=R+Math.imul(U,$e)|0)|0)+((8191&(N=(N=N+Math.imul(U,st)|0)+Math.imul(Z,$e)|0))<<13)|0;G=((j=j+Math.imul(Z,st)|0)+(N>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,R=Math.imul(me,Xe),N=(N=Math.imul(me,Ke))+Math.imul(ke,Xe)|0,j=Math.imul(ke,Ke),R=R+Math.imul(le,Tt)|0,N=(N=N+Math.imul(le,je)|0)+Math.imul(fe,Tt)|0,j=j+Math.imul(fe,je)|0,R=R+Math.imul(Q,$e)|0,N=(N=N+Math.imul(Q,st)|0)+Math.imul(ne,$e)|0,j=j+Math.imul(ne,st)|0;var St=(G+(R=R+Math.imul(U,Je)|0)|0)+((8191&(N=(N=N+Math.imul(U,at)|0)+Math.imul(Z,Je)|0))<<13)|0;G=((j=j+Math.imul(Z,at)|0)+(N>>>13)|0)+(St>>>26)|0,St&=67108863,R=Math.imul(he,Xe),N=(N=Math.imul(he,Ke))+Math.imul(de,Xe)|0,j=Math.imul(de,Ke),R=R+Math.imul(me,Tt)|0,N=(N=N+Math.imul(me,je)|0)+Math.imul(ke,Tt)|0,j=j+Math.imul(ke,je)|0,R=R+Math.imul(le,$e)|0,N=(N=N+Math.imul(le,st)|0)+Math.imul(fe,$e)|0,j=j+Math.imul(fe,st)|0,R=R+Math.imul(Q,Je)|0,N=(N=N+Math.imul(Q,at)|0)+Math.imul(ne,Je)|0,j=j+Math.imul(ne,at)|0;var It=(G+(R=R+Math.imul(U,Oe)|0)|0)+((8191&(N=(N=N+Math.imul(U,Be)|0)+Math.imul(Z,Oe)|0))<<13)|0;G=((j=j+Math.imul(Z,Be)|0)+(N>>>13)|0)+(It>>>26)|0,It&=67108863,R=Math.imul(ae,Xe),N=(N=Math.imul(ae,Ke))+Math.imul(K,Xe)|0,j=Math.imul(K,Ke),R=R+Math.imul(he,Tt)|0,N=(N=N+Math.imul(he,je)|0)+Math.imul(de,Tt)|0,j=j+Math.imul(de,je)|0,R=R+Math.imul(me,$e)|0,N=(N=N+Math.imul(me,st)|0)+Math.imul(ke,$e)|0,j=j+Math.imul(ke,st)|0,R=R+Math.imul(le,Je)|0,N=(N=N+Math.imul(le,at)|0)+Math.imul(fe,Je)|0,j=j+Math.imul(fe,at)|0,R=R+Math.imul(Q,Oe)|0,N=(N=N+Math.imul(Q,Be)|0)+Math.imul(ne,Oe)|0,j=j+Math.imul(ne,Be)|0;var ot=(G+(R=R+Math.imul(U,tt)|0)|0)+((8191&(N=(N=N+Math.imul(U,ft)|0)+Math.imul(Z,tt)|0))<<13)|0;G=((j=j+Math.imul(Z,ft)|0)+(N>>>13)|0)+(ot>>>26)|0,ot&=67108863,R=Math.imul(re,Xe),N=(N=Math.imul(re,Ke))+Math.imul(ue,Xe)|0,j=Math.imul(ue,Ke),R=R+Math.imul(ae,Tt)|0,N=(N=N+Math.imul(ae,je)|0)+Math.imul(K,Tt)|0,j=j+Math.imul(K,je)|0,R=R+Math.imul(he,$e)|0,N=(N=N+Math.imul(he,st)|0)+Math.imul(de,$e)|0,j=j+Math.imul(de,st)|0,R=R+Math.imul(me,Je)|0,N=(N=N+Math.imul(me,at)|0)+Math.imul(ke,Je)|0,j=j+Math.imul(ke,at)|0,R=R+Math.imul(le,Oe)|0,N=(N=N+Math.imul(le,Be)|0)+Math.imul(fe,Oe)|0,j=j+Math.imul(fe,Be)|0,R=R+Math.imul(Q,tt)|0,N=(N=N+Math.imul(Q,ft)|0)+Math.imul(ne,tt)|0,j=j+Math.imul(ne,ft)|0;var xt=(G+(R=R+Math.imul(U,_e)|0)|0)+((8191&(N=(N=N+Math.imul(U,Ae)|0)+Math.imul(Z,_e)|0))<<13)|0;G=((j=j+Math.imul(Z,Ae)|0)+(N>>>13)|0)+(xt>>>26)|0,xt&=67108863,R=Math.imul(Te,Xe),N=(N=Math.imul(Te,Ke))+Math.imul(ee,Xe)|0,j=Math.imul(ee,Ke),R=R+Math.imul(re,Tt)|0,N=(N=N+Math.imul(re,je)|0)+Math.imul(ue,Tt)|0,j=j+Math.imul(ue,je)|0,R=R+Math.imul(ae,$e)|0,N=(N=N+Math.imul(ae,st)|0)+Math.imul(K,$e)|0,j=j+Math.imul(K,st)|0,R=R+Math.imul(he,Je)|0,N=(N=N+Math.imul(he,at)|0)+Math.imul(de,Je)|0,j=j+Math.imul(de,at)|0,R=R+Math.imul(me,Oe)|0,N=(N=N+Math.imul(me,Be)|0)+Math.imul(ke,Oe)|0,j=j+Math.imul(ke,Be)|0,R=R+Math.imul(le,tt)|0,N=(N=N+Math.imul(le,ft)|0)+Math.imul(fe,tt)|0,j=j+Math.imul(fe,ft)|0,R=R+Math.imul(Q,_e)|0,N=(N=N+Math.imul(Q,Ae)|0)+Math.imul(ne,_e)|0,j=j+Math.imul(ne,Ae)|0;var Ut=(G+(R=R+Math.imul(U,He)|0)|0)+((8191&(N=(N=N+Math.imul(U,We)|0)+Math.imul(Z,He)|0))<<13)|0;G=((j=j+Math.imul(Z,We)|0)+(N>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,R=Math.imul(ce,Xe),N=(N=Math.imul(ce,Ke))+Math.imul(be,Xe)|0,j=Math.imul(be,Ke),R=R+Math.imul(Te,Tt)|0,N=(N=N+Math.imul(Te,je)|0)+Math.imul(ee,Tt)|0,j=j+Math.imul(ee,je)|0,R=R+Math.imul(re,$e)|0,N=(N=N+Math.imul(re,st)|0)+Math.imul(ue,$e)|0,j=j+Math.imul(ue,st)|0,R=R+Math.imul(ae,Je)|0,N=(N=N+Math.imul(ae,at)|0)+Math.imul(K,Je)|0,j=j+Math.imul(K,at)|0,R=R+Math.imul(he,Oe)|0,N=(N=N+Math.imul(he,Be)|0)+Math.imul(de,Oe)|0,j=j+Math.imul(de,Be)|0,R=R+Math.imul(me,tt)|0,N=(N=N+Math.imul(me,ft)|0)+Math.imul(ke,tt)|0,j=j+Math.imul(ke,ft)|0,R=R+Math.imul(le,_e)|0,N=(N=N+Math.imul(le,Ae)|0)+Math.imul(fe,_e)|0,j=j+Math.imul(fe,Ae)|0,R=R+Math.imul(Q,He)|0,N=(N=N+Math.imul(Q,We)|0)+Math.imul(ne,He)|0,j=j+Math.imul(ne,We)|0;var Et=(G+(R=R+Math.imul(U,Ue)|0)|0)+((8191&(N=(N=N+Math.imul(U,Ne)|0)+Math.imul(Z,Ue)|0))<<13)|0;G=((j=j+Math.imul(Z,Ne)|0)+(N>>>13)|0)+(Et>>>26)|0,Et&=67108863,R=Math.imul(Se,Xe),N=(N=Math.imul(Se,Ke))+Math.imul(De,Xe)|0,j=Math.imul(De,Ke),R=R+Math.imul(ce,Tt)|0,N=(N=N+Math.imul(ce,je)|0)+Math.imul(be,Tt)|0,j=j+Math.imul(be,je)|0,R=R+Math.imul(Te,$e)|0,N=(N=N+Math.imul(Te,st)|0)+Math.imul(ee,$e)|0,j=j+Math.imul(ee,st)|0,R=R+Math.imul(re,Je)|0,N=(N=N+Math.imul(re,at)|0)+Math.imul(ue,Je)|0,j=j+Math.imul(ue,at)|0,R=R+Math.imul(ae,Oe)|0,N=(N=N+Math.imul(ae,Be)|0)+Math.imul(K,Oe)|0,j=j+Math.imul(K,Be)|0,R=R+Math.imul(he,tt)|0,N=(N=N+Math.imul(he,ft)|0)+Math.imul(de,tt)|0,j=j+Math.imul(de,ft)|0,R=R+Math.imul(me,_e)|0,N=(N=N+Math.imul(me,Ae)|0)+Math.imul(ke,_e)|0,j=j+Math.imul(ke,Ae)|0,R=R+Math.imul(le,He)|0,N=(N=N+Math.imul(le,We)|0)+Math.imul(fe,He)|0,j=j+Math.imul(fe,We)|0,R=R+Math.imul(Q,Ue)|0,N=(N=N+Math.imul(Q,Ne)|0)+Math.imul(ne,Ue)|0,j=j+Math.imul(ne,Ne)|0;var mt=(G+(R=R+Math.imul(U,Fe)|0)|0)+((8191&(N=(N=N+Math.imul(U,Ze)|0)+Math.imul(Z,Fe)|0))<<13)|0;G=((j=j+Math.imul(Z,Ze)|0)+(N>>>13)|0)+(mt>>>26)|0,mt&=67108863,R=Math.imul(Se,Tt),N=(N=Math.imul(Se,je))+Math.imul(De,Tt)|0,j=Math.imul(De,je),R=R+Math.imul(ce,$e)|0,N=(N=N+Math.imul(ce,st)|0)+Math.imul(be,$e)|0,j=j+Math.imul(be,st)|0,R=R+Math.imul(Te,Je)|0,N=(N=N+Math.imul(Te,at)|0)+Math.imul(ee,Je)|0,j=j+Math.imul(ee,at)|0,R=R+Math.imul(re,Oe)|0,N=(N=N+Math.imul(re,Be)|0)+Math.imul(ue,Oe)|0,j=j+Math.imul(ue,Be)|0,R=R+Math.imul(ae,tt)|0,N=(N=N+Math.imul(ae,ft)|0)+Math.imul(K,tt)|0,j=j+Math.imul(K,ft)|0,R=R+Math.imul(he,_e)|0,N=(N=N+Math.imul(he,Ae)|0)+Math.imul(de,_e)|0,j=j+Math.imul(de,Ae)|0,R=R+Math.imul(me,He)|0,N=(N=N+Math.imul(me,We)|0)+Math.imul(ke,He)|0,j=j+Math.imul(ke,We)|0,R=R+Math.imul(le,Ue)|0,N=(N=N+Math.imul(le,Ne)|0)+Math.imul(fe,Ue)|0,j=j+Math.imul(fe,Ne)|0;var kt=(G+(R=R+Math.imul(Q,Fe)|0)|0)+((8191&(N=(N=N+Math.imul(Q,Ze)|0)+Math.imul(ne,Fe)|0))<<13)|0;G=((j=j+Math.imul(ne,Ze)|0)+(N>>>13)|0)+(kt>>>26)|0,kt&=67108863,R=Math.imul(Se,$e),N=(N=Math.imul(Se,st))+Math.imul(De,$e)|0,j=Math.imul(De,st),R=R+Math.imul(ce,Je)|0,N=(N=N+Math.imul(ce,at)|0)+Math.imul(be,Je)|0,j=j+Math.imul(be,at)|0,R=R+Math.imul(Te,Oe)|0,N=(N=N+Math.imul(Te,Be)|0)+Math.imul(ee,Oe)|0,j=j+Math.imul(ee,Be)|0,R=R+Math.imul(re,tt)|0,N=(N=N+Math.imul(re,ft)|0)+Math.imul(ue,tt)|0,j=j+Math.imul(ue,ft)|0,R=R+Math.imul(ae,_e)|0,N=(N=N+Math.imul(ae,Ae)|0)+Math.imul(K,_e)|0,j=j+Math.imul(K,Ae)|0,R=R+Math.imul(he,He)|0,N=(N=N+Math.imul(he,We)|0)+Math.imul(de,He)|0,j=j+Math.imul(de,We)|0,R=R+Math.imul(me,Ue)|0,N=(N=N+Math.imul(me,Ne)|0)+Math.imul(ke,Ue)|0,j=j+Math.imul(ke,Ne)|0;var ht=(G+(R=R+Math.imul(le,Fe)|0)|0)+((8191&(N=(N=N+Math.imul(le,Ze)|0)+Math.imul(fe,Fe)|0))<<13)|0;G=((j=j+Math.imul(fe,Ze)|0)+(N>>>13)|0)+(ht>>>26)|0,ht&=67108863,R=Math.imul(Se,Je),N=(N=Math.imul(Se,at))+Math.imul(De,Je)|0,j=Math.imul(De,at),R=R+Math.imul(ce,Oe)|0,N=(N=N+Math.imul(ce,Be)|0)+Math.imul(be,Oe)|0,j=j+Math.imul(be,Be)|0,R=R+Math.imul(Te,tt)|0,N=(N=N+Math.imul(Te,ft)|0)+Math.imul(ee,tt)|0,j=j+Math.imul(ee,ft)|0,R=R+Math.imul(re,_e)|0,N=(N=N+Math.imul(re,Ae)|0)+Math.imul(ue,_e)|0,j=j+Math.imul(ue,Ae)|0,R=R+Math.imul(ae,He)|0,N=(N=N+Math.imul(ae,We)|0)+Math.imul(K,He)|0,j=j+Math.imul(K,We)|0,R=R+Math.imul(he,Ue)|0,N=(N=N+Math.imul(he,Ne)|0)+Math.imul(de,Ue)|0,j=j+Math.imul(de,Ne)|0;var wt=(G+(R=R+Math.imul(me,Fe)|0)|0)+((8191&(N=(N=N+Math.imul(me,Ze)|0)+Math.imul(ke,Fe)|0))<<13)|0;G=((j=j+Math.imul(ke,Ze)|0)+(N>>>13)|0)+(wt>>>26)|0,wt&=67108863,R=Math.imul(Se,Oe),N=(N=Math.imul(Se,Be))+Math.imul(De,Oe)|0,j=Math.imul(De,Be),R=R+Math.imul(ce,tt)|0,N=(N=N+Math.imul(ce,ft)|0)+Math.imul(be,tt)|0,j=j+Math.imul(be,ft)|0,R=R+Math.imul(Te,_e)|0,N=(N=N+Math.imul(Te,Ae)|0)+Math.imul(ee,_e)|0,j=j+Math.imul(ee,Ae)|0,R=R+Math.imul(re,He)|0,N=(N=N+Math.imul(re,We)|0)+Math.imul(ue,He)|0,j=j+Math.imul(ue,We)|0,R=R+Math.imul(ae,Ue)|0,N=(N=N+Math.imul(ae,Ne)|0)+Math.imul(K,Ue)|0,j=j+Math.imul(K,Ne)|0;var Wt=(G+(R=R+Math.imul(he,Fe)|0)|0)+((8191&(N=(N=N+Math.imul(he,Ze)|0)+Math.imul(de,Fe)|0))<<13)|0;G=((j=j+Math.imul(de,Ze)|0)+(N>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,R=Math.imul(Se,tt),N=(N=Math.imul(Se,ft))+Math.imul(De,tt)|0,j=Math.imul(De,ft),R=R+Math.imul(ce,_e)|0,N=(N=N+Math.imul(ce,Ae)|0)+Math.imul(be,_e)|0,j=j+Math.imul(be,Ae)|0,R=R+Math.imul(Te,He)|0,N=(N=N+Math.imul(Te,We)|0)+Math.imul(ee,He)|0,j=j+Math.imul(ee,We)|0,R=R+Math.imul(re,Ue)|0,N=(N=N+Math.imul(re,Ne)|0)+Math.imul(ue,Ue)|0,j=j+Math.imul(ue,Ne)|0;var jt=(G+(R=R+Math.imul(ae,Fe)|0)|0)+((8191&(N=(N=N+Math.imul(ae,Ze)|0)+Math.imul(K,Fe)|0))<<13)|0;G=((j=j+Math.imul(K,Ze)|0)+(N>>>13)|0)+(jt>>>26)|0,jt&=67108863,R=Math.imul(Se,_e),N=(N=Math.imul(Se,Ae))+Math.imul(De,_e)|0,j=Math.imul(De,Ae),R=R+Math.imul(ce,He)|0,N=(N=N+Math.imul(ce,We)|0)+Math.imul(be,He)|0,j=j+Math.imul(be,We)|0,R=R+Math.imul(Te,Ue)|0,N=(N=N+Math.imul(Te,Ne)|0)+Math.imul(ee,Ue)|0,j=j+Math.imul(ee,Ne)|0;var Jt=(G+(R=R+Math.imul(re,Fe)|0)|0)+((8191&(N=(N=N+Math.imul(re,Ze)|0)+Math.imul(ue,Fe)|0))<<13)|0;G=((j=j+Math.imul(ue,Ze)|0)+(N>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,R=Math.imul(Se,He),N=(N=Math.imul(Se,We))+Math.imul(De,He)|0,j=Math.imul(De,We),R=R+Math.imul(ce,Ue)|0,N=(N=N+Math.imul(ce,Ne)|0)+Math.imul(be,Ue)|0,j=j+Math.imul(be,Ne)|0;var qt=(G+(R=R+Math.imul(Te,Fe)|0)|0)+((8191&(N=(N=N+Math.imul(Te,Ze)|0)+Math.imul(ee,Fe)|0))<<13)|0;G=((j=j+Math.imul(ee,Ze)|0)+(N>>>13)|0)+(qt>>>26)|0,qt&=67108863,R=Math.imul(Se,Ue),N=(N=Math.imul(Se,Ne))+Math.imul(De,Ue)|0,j=Math.imul(De,Ne);var Xt=(G+(R=R+Math.imul(ce,Fe)|0)|0)+((8191&(N=(N=N+Math.imul(ce,Ze)|0)+Math.imul(be,Fe)|0))<<13)|0;G=((j=j+Math.imul(be,Ze)|0)+(N>>>13)|0)+(Xt>>>26)|0,Xt&=67108863;var $t=(G+(R=Math.imul(Se,Fe))|0)+((8191&(N=(N=Math.imul(Se,Ze))+Math.imul(De,Fe)|0))<<13)|0;return G=((j=Math.imul(De,Ze))+(N>>>13)|0)+($t>>>26)|0,$t&=67108863,J[0]=rt,J[1]=vt,J[2]=Lt,J[3]=St,J[4]=It,J[5]=ot,J[6]=xt,J[7]=Ut,J[8]=Et,J[9]=mt,J[10]=kt,J[11]=ht,J[12]=wt,J[13]=Wt,J[14]=jt,J[15]=Jt,J[16]=qt,J[17]=Xt,J[18]=$t,G!==0&&(J[19]=G,P.length++),P};function g(C,z,P){return new e().mulp(C,z,P)}function e(C,z){this.x=C,this.y=z}Math.imul||(r=s),v.prototype.mulTo=function(C,z){var P,R=this.length+C.length;return P=this.length===10&&C.length===10?r(this,C,z):R<63?s(this,C,z):R<1024?function(N,j,W){W.negative=j.negative^N.negative,W.length=N.length+j.length;for(var Y=0,J=0,G=0;G<W.length-1;G++){var H=J;J=0;for(var U=67108863&Y,Z=Math.min(G,j.length-1),q=Math.max(0,G-N.length+1);q<=Z;q++){var Q=G-q,ne=(0|N.words[Q])*(0|j.words[q]),ie=67108863&ne;U=67108863&(ie=ie+U|0),J+=(H=(H=H+(ne/67108864|0)|0)+(ie>>>26)|0)>>>26,H&=67108863}W.words[G]=U,Y=H,H=J}return Y!==0?W.words[G]=Y:W.length--,W.strip()}(this,C,z):g(this,C,z),P},e.prototype.makeRBT=function(C){for(var z=new Array(C),P=v.prototype._countBits(C)-1,R=0;R<C;R++)z[R]=this.revBin(R,P,C);return z},e.prototype.revBin=function(C,z,P){if(C===0||C===P-1)return C;for(var R=0,N=0;N<z;N++)R|=(1&C)<<z-N-1,C>>=1;return R},e.prototype.permute=function(C,z,P,R,N,j){for(var W=0;W<j;W++)R[W]=z[C[W]],N[W]=P[C[W]]},e.prototype.transform=function(C,z,P,R,N,j){this.permute(j,C,z,P,R,N);for(var W=1;W<N;W<<=1)for(var Y=W<<1,J=Math.cos(2*Math.PI/Y),G=Math.sin(2*Math.PI/Y),H=0;H<N;H+=Y)for(var U=J,Z=G,q=0;q<W;q++){var Q=P[H+q],ne=R[H+q],ie=P[H+q+W],le=R[H+q+W],fe=U*ie-Z*le;le=U*le+Z*ie,ie=fe,P[H+q]=Q+ie,R[H+q]=ne+le,P[H+q+W]=Q-ie,R[H+q+W]=ne-le,q!==Y&&(fe=J*U-G*Z,Z=J*Z+G*U,U=fe)}},e.prototype.guessLen13b=function(C,z){var P=1|Math.max(z,C),R=1&P,N=0;for(P=P/2|0;P;P>>>=1)N++;return 1<<N+1+R},e.prototype.conjugate=function(C,z,P){if(!(P<=1))for(var R=0;R<P/2;R++){var N=C[R];C[R]=C[P-R-1],C[P-R-1]=N,N=z[R],z[R]=-z[P-R-1],z[P-R-1]=-N}},e.prototype.normalize13b=function(C,z){for(var P=0,R=0;R<z/2;R++){var N=8192*Math.round(C[2*R+1]/z)+Math.round(C[2*R]/z)+P;C[R]=67108863&N,P=N<67108864?0:N/67108864|0}return C},e.prototype.convert13b=function(C,z,P,R){for(var N=0,j=0;j<z;j++)N+=0|C[j],P[2*j]=8191&N,N>>>=13,P[2*j+1]=8191&N,N>>>=13;for(j=2*z;j<R;++j)P[j]=0;l(N===0),l((-8192&N)==0)},e.prototype.stub=function(C){for(var z=new Array(C),P=0;P<C;P++)z[P]=0;return z},e.prototype.mulp=function(C,z,P){var R=2*this.guessLen13b(C.length,z.length),N=this.makeRBT(R),j=this.stub(R),W=new Array(R),Y=new Array(R),J=new Array(R),G=new Array(R),H=new Array(R),U=new Array(R),Z=P.words;Z.length=R,this.convert13b(C.words,C.length,W,R),this.convert13b(z.words,z.length,G,R),this.transform(W,j,Y,J,R,N),this.transform(G,j,H,U,R,N);for(var q=0;q<R;q++){var Q=Y[q]*H[q]-J[q]*U[q];J[q]=Y[q]*U[q]+J[q]*H[q],Y[q]=Q}return this.conjugate(Y,J,R),this.transform(Y,J,Z,j,R,N),this.conjugate(Z,j,R),this.normalize13b(Z,R),P.negative=C.negative^z.negative,P.length=C.length+z.length,P.strip()},v.prototype.mul=function(C){var z=new v(null);return z.words=new Array(this.length+C.length),this.mulTo(C,z)},v.prototype.mulf=function(C){var z=new v(null);return z.words=new Array(this.length+C.length),g(this,C,z)},v.prototype.imul=function(C){return this.clone().mulTo(C,this)},v.prototype.imuln=function(C){l(typeof C=="number"),l(C<67108864);for(var z=0,P=0;P<this.length;P++){var R=(0|this.words[P])*C,N=(67108863&R)+(67108863&z);z>>=26,z+=R/67108864|0,z+=N>>>26,this.words[P]=67108863&N}return z!==0&&(this.words[P]=z,this.length++),this},v.prototype.muln=function(C){return this.clone().imuln(C)},v.prototype.sqr=function(){return this.mul(this)},v.prototype.isqr=function(){return this.imul(this.clone())},v.prototype.pow=function(C){var z=function(j){for(var W=new Array(j.bitLength()),Y=0;Y<W.length;Y++){var J=Y/26|0,G=Y%26;W[Y]=(j.words[J]&1<<G)>>>G}return W}(C);if(z.length===0)return new v(1);for(var P=this,R=0;R<z.length&&z[R]===0;R++,P=P.sqr());if(++R<z.length)for(var N=P.sqr();R<z.length;R++,N=N.sqr())z[R]!==0&&(P=P.mul(N));return P},v.prototype.iushln=function(C){l(typeof C=="number"&&C>=0);var z,P=C%26,R=(C-P)/26,N=67108863>>>26-P<<26-P;if(P!==0){var j=0;for(z=0;z<this.length;z++){var W=this.words[z]&N,Y=(0|this.words[z])-W<<P;this.words[z]=Y|j,j=W>>>26-P}j&&(this.words[z]=j,this.length++)}if(R!==0){for(z=this.length-1;z>=0;z--)this.words[z+R]=this.words[z];for(z=0;z<R;z++)this.words[z]=0;this.length+=R}return this.strip()},v.prototype.ishln=function(C){return l(this.negative===0),this.iushln(C)},v.prototype.iushrn=function(C,z,P){var R;l(typeof C=="number"&&C>=0),R=z?(z-z%26)/26:0;var N=C%26,j=Math.min((C-N)/26,this.length),W=67108863^67108863>>>N<<N,Y=P;if(R-=j,R=Math.max(0,R),Y){for(var J=0;J<j;J++)Y.words[J]=this.words[J];Y.length=j}if(j!==0)if(this.length>j)for(this.length-=j,J=0;J<this.length;J++)this.words[J]=this.words[J+j];else this.words[0]=0,this.length=1;var G=0;for(J=this.length-1;J>=0&&(G!==0||J>=R);J--){var H=0|this.words[J];this.words[J]=G<<26-N|H>>>N,G=H&W}return Y&&G!==0&&(Y.words[Y.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},v.prototype.ishrn=function(C,z,P){return l(this.negative===0),this.iushrn(C,z,P)},v.prototype.shln=function(C){return this.clone().ishln(C)},v.prototype.ushln=function(C){return this.clone().iushln(C)},v.prototype.shrn=function(C){return this.clone().ishrn(C)},v.prototype.ushrn=function(C){return this.clone().iushrn(C)},v.prototype.testn=function(C){l(typeof C=="number"&&C>=0);var z=C%26,P=(C-z)/26,R=1<<z;return!(this.length<=P||!(this.words[P]&R))},v.prototype.imaskn=function(C){l(typeof C=="number"&&C>=0);var z=C%26,P=(C-z)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=P)return this;if(z!==0&&P++,this.length=Math.min(P,this.length),z!==0){var R=67108863^67108863>>>z<<z;this.words[this.length-1]&=R}return this.strip()},v.prototype.maskn=function(C){return this.clone().imaskn(C)},v.prototype.iaddn=function(C){return l(typeof C=="number"),l(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},v.prototype._iaddn=function(C){this.words[0]+=C;for(var z=0;z<this.length&&this.words[z]>=67108864;z++)this.words[z]-=67108864,z===this.length-1?this.words[z+1]=1:this.words[z+1]++;return this.length=Math.max(this.length,z+1),this},v.prototype.isubn=function(C){if(l(typeof C=="number"),l(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var z=0;z<this.length&&this.words[z]<0;z++)this.words[z]+=67108864,this.words[z+1]-=1;return this.strip()},v.prototype.addn=function(C){return this.clone().iaddn(C)},v.prototype.subn=function(C){return this.clone().isubn(C)},v.prototype.iabs=function(){return this.negative=0,this},v.prototype.abs=function(){return this.clone().iabs()},v.prototype._ishlnsubmul=function(C,z,P){var R,N,j=C.length+P;this._expand(j);var W=0;for(R=0;R<C.length;R++){N=(0|this.words[R+P])+W;var Y=(0|C.words[R])*z;W=((N-=67108863&Y)>>26)-(Y/67108864|0),this.words[R+P]=67108863&N}for(;R<this.length-P;R++)W=(N=(0|this.words[R+P])+W)>>26,this.words[R+P]=67108863&N;if(W===0)return this.strip();for(l(W===-1),W=0,R=0;R<this.length;R++)W=(N=-(0|this.words[R])+W)>>26,this.words[R]=67108863&N;return this.negative=1,this.strip()},v.prototype._wordDiv=function(C,z){var P=(this.length,C.length),R=this.clone(),N=C,j=0|N.words[N.length-1];(P=26-this._countBits(j))!=0&&(N=N.ushln(P),R.iushln(P),j=0|N.words[N.length-1]);var W,Y=R.length-N.length;if(z!=="mod"){(W=new v(null)).length=Y+1,W.words=new Array(W.length);for(var J=0;J<W.length;J++)W.words[J]=0}var G=R.clone()._ishlnsubmul(N,1,Y);G.negative===0&&(R=G,W&&(W.words[Y]=1));for(var H=Y-1;H>=0;H--){var U=67108864*(0|R.words[N.length+H])+(0|R.words[N.length+H-1]);for(U=Math.min(U/j|0,67108863),R._ishlnsubmul(N,U,H);R.negative!==0;)U--,R.negative=0,R._ishlnsubmul(N,1,H),R.isZero()||(R.negative^=1);W&&(W.words[H]=U)}return W&&W.strip(),R.strip(),z!=="div"&&P!==0&&R.iushrn(P),{div:W||null,mod:R}},v.prototype.divmod=function(C,z,P){return l(!C.isZero()),this.isZero()?{div:new v(0),mod:new v(0)}:this.negative!==0&&C.negative===0?(j=this.neg().divmod(C,z),z!=="mod"&&(R=j.div.neg()),z!=="div"&&(N=j.mod.neg(),P&&N.negative!==0&&N.iadd(C)),{div:R,mod:N}):this.negative===0&&C.negative!==0?(j=this.divmod(C.neg(),z),z!=="mod"&&(R=j.div.neg()),{div:R,mod:j.mod}):this.negative&C.negative?(j=this.neg().divmod(C.neg(),z),z!=="div"&&(N=j.mod.neg(),P&&N.negative!==0&&N.isub(C)),{div:j.div,mod:N}):C.length>this.length||this.cmp(C)<0?{div:new v(0),mod:this}:C.length===1?z==="div"?{div:this.divn(C.words[0]),mod:null}:z==="mod"?{div:null,mod:new v(this.modn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new v(this.modn(C.words[0]))}:this._wordDiv(C,z);var R,N,j},v.prototype.div=function(C){return this.divmod(C,"div",!1).div},v.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},v.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},v.prototype.divRound=function(C){var z=this.divmod(C);if(z.mod.isZero())return z.div;var P=z.div.negative!==0?z.mod.isub(C):z.mod,R=C.ushrn(1),N=C.andln(1),j=P.cmp(R);return j<0||N===1&&j===0?z.div:z.div.negative!==0?z.div.isubn(1):z.div.iaddn(1)},v.prototype.modn=function(C){l(C<=67108863);for(var z=67108864%C,P=0,R=this.length-1;R>=0;R--)P=(z*P+(0|this.words[R]))%C;return P},v.prototype.idivn=function(C){l(C<=67108863);for(var z=0,P=this.length-1;P>=0;P--){var R=(0|this.words[P])+67108864*z;this.words[P]=R/C|0,z=R%C}return this.strip()},v.prototype.divn=function(C){return this.clone().idivn(C)},v.prototype.egcd=function(C){l(C.negative===0),l(!C.isZero());var z=this,P=C.clone();z=z.negative!==0?z.umod(C):z.clone();for(var R=new v(1),N=new v(0),j=new v(0),W=new v(1),Y=0;z.isEven()&&P.isEven();)z.iushrn(1),P.iushrn(1),++Y;for(var J=P.clone(),G=z.clone();!z.isZero();){for(var H=0,U=1;!(z.words[0]&U)&&H<26;++H,U<<=1);if(H>0)for(z.iushrn(H);H-- >0;)(R.isOdd()||N.isOdd())&&(R.iadd(J),N.isub(G)),R.iushrn(1),N.iushrn(1);for(var Z=0,q=1;!(P.words[0]&q)&&Z<26;++Z,q<<=1);if(Z>0)for(P.iushrn(Z);Z-- >0;)(j.isOdd()||W.isOdd())&&(j.iadd(J),W.isub(G)),j.iushrn(1),W.iushrn(1);z.cmp(P)>=0?(z.isub(P),R.isub(j),N.isub(W)):(P.isub(z),j.isub(R),W.isub(N))}return{a:j,b:W,gcd:P.iushln(Y)}},v.prototype._invmp=function(C){l(C.negative===0),l(!C.isZero());var z=this,P=C.clone();z=z.negative!==0?z.umod(C):z.clone();for(var R,N=new v(1),j=new v(0),W=P.clone();z.cmpn(1)>0&&P.cmpn(1)>0;){for(var Y=0,J=1;!(z.words[0]&J)&&Y<26;++Y,J<<=1);if(Y>0)for(z.iushrn(Y);Y-- >0;)N.isOdd()&&N.iadd(W),N.iushrn(1);for(var G=0,H=1;!(P.words[0]&H)&&G<26;++G,H<<=1);if(G>0)for(P.iushrn(G);G-- >0;)j.isOdd()&&j.iadd(W),j.iushrn(1);z.cmp(P)>=0?(z.isub(P),N.isub(j)):(P.isub(z),j.isub(N))}return(R=z.cmpn(1)===0?N:j).cmpn(0)<0&&R.iadd(C),R},v.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var z=this.clone(),P=C.clone();z.negative=0,P.negative=0;for(var R=0;z.isEven()&&P.isEven();R++)z.iushrn(1),P.iushrn(1);for(;;){for(;z.isEven();)z.iushrn(1);for(;P.isEven();)P.iushrn(1);var N=z.cmp(P);if(N<0){var j=z;z=P,P=j}else if(N===0||P.cmpn(1)===0)break;z.isub(P)}return P.iushln(R)},v.prototype.invm=function(C){return this.egcd(C).a.umod(C)},v.prototype.isEven=function(){return(1&this.words[0])==0},v.prototype.isOdd=function(){return(1&this.words[0])==1},v.prototype.andln=function(C){return this.words[0]&C},v.prototype.bincn=function(C){l(typeof C=="number");var z=C%26,P=(C-z)/26,R=1<<z;if(this.length<=P)return this._expand(P+1),this.words[P]|=R,this;for(var N=R,j=P;N!==0&&j<this.length;j++){var W=0|this.words[j];N=(W+=N)>>>26,W&=67108863,this.words[j]=W}return N!==0&&(this.words[j]=N,this.length++),this},v.prototype.isZero=function(){return this.length===1&&this.words[0]===0},v.prototype.cmpn=function(C){var z,P=C<0;if(this.negative!==0&&!P)return-1;if(this.negative===0&&P)return 1;if(this.strip(),this.length>1)z=1;else{P&&(C=-C),l(C<=67108863,"Number is too big");var R=0|this.words[0];z=R===C?0:R<C?-1:1}return this.negative!==0?0|-z:z},v.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var z=this.ucmp(C);return this.negative!==0?0|-z:z},v.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var z=0,P=this.length-1;P>=0;P--){var R=0|this.words[P],N=0|C.words[P];if(R!==N){R<N?z=-1:R>N&&(z=1);break}}return z},v.prototype.gtn=function(C){return this.cmpn(C)===1},v.prototype.gt=function(C){return this.cmp(C)===1},v.prototype.gten=function(C){return this.cmpn(C)>=0},v.prototype.gte=function(C){return this.cmp(C)>=0},v.prototype.ltn=function(C){return this.cmpn(C)===-1},v.prototype.lt=function(C){return this.cmp(C)===-1},v.prototype.lten=function(C){return this.cmpn(C)<=0},v.prototype.lte=function(C){return this.cmp(C)<=0},v.prototype.eqn=function(C){return this.cmpn(C)===0},v.prototype.eq=function(C){return this.cmp(C)===0},v.red=function(C){return new I(C)},v.prototype.toRed=function(C){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},v.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},v.prototype._forceRed=function(C){return this.red=C,this},v.prototype.forceRed=function(C){return l(!this.red,"Already a number in reduction context"),this._forceRed(C)},v.prototype.redAdd=function(C){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},v.prototype.redIAdd=function(C){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},v.prototype.redSub=function(C){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},v.prototype.redISub=function(C){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},v.prototype.redShl=function(C){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},v.prototype.redMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},v.prototype.redIMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},v.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},v.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},v.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},v.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},v.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},v.prototype.redPow=function(C){return l(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var h={k256:null,p224:null,p192:null,p25519:null};function _(C,z){this.name=C,this.p=new v(z,16),this.n=this.p.bitLength(),this.k=new v(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(C){if(typeof C=="string"){var z=v._prime(C);this.m=z.p,this.prime=z}else l(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function B(C){I.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new v(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var C=new v(null);return C.words=new Array(Math.ceil(this.n/13)),C},_.prototype.ireduce=function(C){var z,P=C;do this.split(P,this.tmp),z=(P=(P=this.imulK(P)).iadd(this.tmp)).bitLength();while(z>this.n);var R=z<this.n?-1:P.ucmp(this.p);return R===0?(P.words[0]=0,P.length=1):R>0?P.isub(this.p):P.strip!==void 0?P.strip():P._strip(),P},_.prototype.split=function(C,z){C.iushrn(this.n,0,z)},_.prototype.imulK=function(C){return C.imul(this.k)},d(w,_),w.prototype.split=function(C,z){for(var P=4194303,R=Math.min(C.length,9),N=0;N<R;N++)z.words[N]=C.words[N];if(z.length=R,C.length<=9)return C.words[0]=0,void(C.length=1);var j=C.words[9];for(z.words[z.length++]=j&P,N=10;N<C.length;N++){var W=0|C.words[N];C.words[N-10]=(W&P)<<4|j>>>22,j=W}j>>>=22,C.words[N-10]=j,j===0&&C.length>10?C.length-=10:C.length-=9},w.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var z=0,P=0;P<C.length;P++){var R=0|C.words[P];z+=977*R,C.words[P]=67108863&z,z=64*R+(z/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},d(S,_),d(O,_),d(A,_),A.prototype.imulK=function(C){for(var z=0,P=0;P<C.length;P++){var R=19*(0|C.words[P])+z,N=67108863&R;R>>>=26,C.words[P]=N,z=R}return z!==0&&(C.words[C.length++]=z),C},v._prime=function(C){if(h[C])return h[C];var z;if(C==="k256")z=new w;else if(C==="p224")z=new S;else if(C==="p192")z=new O;else{if(C!=="p25519")throw new Error("Unknown prime "+C);z=new A}return h[C]=z,z},I.prototype._verify1=function(C){l(C.negative===0,"red works only with positives"),l(C.red,"red works only with red numbers")},I.prototype._verify2=function(C,z){l((C.negative|z.negative)==0,"red works only with positives"),l(C.red&&C.red===z.red,"red works only with red numbers")},I.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):C.umod(this.m)._forceRed(this)},I.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},I.prototype.add=function(C,z){this._verify2(C,z);var P=C.add(z);return P.cmp(this.m)>=0&&P.isub(this.m),P._forceRed(this)},I.prototype.iadd=function(C,z){this._verify2(C,z);var P=C.iadd(z);return P.cmp(this.m)>=0&&P.isub(this.m),P},I.prototype.sub=function(C,z){this._verify2(C,z);var P=C.sub(z);return P.cmpn(0)<0&&P.iadd(this.m),P._forceRed(this)},I.prototype.isub=function(C,z){this._verify2(C,z);var P=C.isub(z);return P.cmpn(0)<0&&P.iadd(this.m),P},I.prototype.shl=function(C,z){return this._verify1(C),this.imod(C.ushln(z))},I.prototype.imul=function(C,z){return this._verify2(C,z),this.imod(C.imul(z))},I.prototype.mul=function(C,z){return this._verify2(C,z),this.imod(C.mul(z))},I.prototype.isqr=function(C){return this.imul(C,C.clone())},I.prototype.sqr=function(C){return this.mul(C,C)},I.prototype.sqrt=function(C){if(C.isZero())return C.clone();var z=this.m.andln(3);if(l(z%2==1),z===3){var P=this.m.add(new v(1)).iushrn(2);return this.pow(C,P)}for(var R=this.m.subn(1),N=0;!R.isZero()&&R.andln(1)===0;)N++,R.iushrn(1);l(!R.isZero());var j=new v(1).toRed(this),W=j.redNeg(),Y=this.m.subn(1).iushrn(1),J=this.m.bitLength();for(J=new v(2*J*J).toRed(this);this.pow(J,Y).cmp(W)!==0;)J.redIAdd(W);for(var G=this.pow(J,R),H=this.pow(C,R.addn(1).iushrn(1)),U=this.pow(C,R),Z=N;U.cmp(j)!==0;){for(var q=U,Q=0;q.cmp(j)!==0;Q++)q=q.redSqr();l(Q<Z);var ne=this.pow(G,new v(1).iushln(Z-Q-1));H=H.redMul(ne),G=ne.redSqr(),U=U.redMul(G),Z=Q}return H},I.prototype.invm=function(C){var z=C._invmp(this.m);return z.negative!==0?(z.negative=0,this.imod(z).redNeg()):this.imod(z)},I.prototype.pow=function(C,z){if(z.isZero())return new v(1).toRed(this);if(z.cmpn(1)===0)return C.clone();var P=new Array(16);P[0]=new v(1).toRed(this),P[1]=C;for(var R=2;R<P.length;R++)P[R]=this.mul(P[R-1],C);var N=P[0],j=0,W=0,Y=z.bitLength()%26;for(Y===0&&(Y=26),R=z.length-1;R>=0;R--){for(var J=z.words[R],G=Y-1;G>=0;G--){var H=J>>G&1;N!==P[0]&&(N=this.sqr(N)),H!==0||j!==0?(j<<=1,j|=H,(++W==4||R===0&&G===0)&&(N=this.mul(N,P[j]),W=0,j=0)):W=0}Y=26}return N},I.prototype.convertTo=function(C){var z=C.umod(this.m);return z===C?z.clone():z},I.prototype.convertFrom=function(C){var z=C.clone();return z.red=null,z},v.mont=function(C){return new B(C)},d(B,I),B.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},B.prototype.convertFrom=function(C){var z=this.imod(C.mul(this.rinv));return z.red=null,z},B.prototype.imul=function(C,z){if(C.isZero()||z.isZero())return C.words[0]=0,C.length=1,C;var P=C.imul(z),R=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=P.isub(R).iushrn(this.shift),j=N;return N.cmp(this.m)>=0?j=N.isub(this.m):N.cmpn(0)<0&&(j=N.iadd(this.m)),j._forceRed(this)},B.prototype.mul=function(C,z){if(C.isZero()||z.isZero())return new v(0)._forceRed(this);var P=C.mul(z),R=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=P.isub(R).iushrn(this.shift),j=N;return N.cmp(this.m)>=0?j=N.isub(this.m):N.cmpn(0)<0&&(j=N.iadd(this.m)),j._forceRed(this)},B.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(b=t.nmd(b),this)},6204:function(b){b.exports=function(a){var t,u,i,l=a.length,d=0;for(t=0;t<l;++t)d+=a[t].length;var v=new Array(d),y=0;for(t=0;t<l;++t){var p=a[t],c=p.length;for(u=0;u<c;++u){var x=v[y++]=new Array(c-1),f=0;for(i=0;i<c;++i)i!==u&&(x[f++]=p[i]);if(1&u){var n=x[1];x[1]=x[0],x[0]=n}}}return v}},6867:function(b,a,t){b.exports=function(x,f,n){switch(arguments.length){case 1:return u=[],p(o=x,o,c,!0),u;case 2:return typeof f=="function"?p(x,x,f,!0):function(s,r){return u=[],p(s,r,c,!1),u}(x,f);case 3:return p(x,f,n,!1);default:throw new Error("box-intersect: Invalid arguments")}var o};var u,i=t(1888),l=t(855),d=t(7150);function v(x,f){for(var n=0;n<x;++n)if(!(f[n]<=f[n+x]))return!0;return!1}function y(x,f,n,o){for(var s=0,r=0,g=0,e=x.length;g<e;++g){var h=x[g];if(!v(f,h)){for(var _=0;_<2*f;++_)n[s++]=h[_];o[r++]=g}}return r}function p(x,f,n,o){var s=x.length,r=f.length;if(!(s<=0||r<=0)){var g=x[0].length>>>1;if(!(g<=0)){var e,h=i.mallocDouble(2*g*s),_=i.mallocInt32(s);if((s=y(x,g,h,_))>0){if(g===1&&o)l.init(s),e=l.sweepComplete(g,n,0,s,h,_,0,s,h,_);else{var w=i.mallocDouble(2*g*r),S=i.mallocInt32(r);(r=y(f,g,w,S))>0&&(l.init(s+r),e=g===1?l.sweepBipartite(g,n,0,s,h,_,0,r,w,S):d(g,n,o,s,h,_,r,w,S),i.free(w),i.free(S))}i.free(h),i.free(_)}return e}}}function c(x,f){u.push([x,f])}},2455:function(b,a){function t(u){return u?function(i,l,d,v,y,p,c,x,f,n,o){return y-v>f-x?function(s,r,g,e,h,_,w,S,O,A,I){for(var B=2*s,C=e,z=B*e;C<h;++C,z+=B){var P=_[r+z],R=_[r+z+s],N=w[C];e:for(var j=S,W=B*S;j<O;++j,W+=B){var Y=A[r+W],J=A[r+W+s],G=I[j];if(!(J<P||R<Y)){for(var H=r+1;H<s;++H){var U=_[H+z],Z=_[H+s+z],q=A[H+W],Q=A[H+s+W];if(Z<q||Q<U)continue e}var ne=g(N,G);if(ne!==void 0)return ne}}}}(i,l,d,v,y,p,c,x,f,n,o):function(s,r,g,e,h,_,w,S,O,A,I){for(var B=2*s,C=S,z=B*S;C<O;++C,z+=B){var P=A[r+z],R=A[r+z+s],N=I[C];e:for(var j=e,W=B*e;j<h;++j,W+=B){var Y=_[r+W],J=_[r+W+s],G=w[j];if(!(R<Y||J<P)){for(var H=r+1;H<s;++H){var U=_[H+W],Z=_[H+s+W],q=A[H+z],Q=A[H+s+z];if(Z<q||Q<U)continue e}var ne=g(G,N);if(ne!==void 0)return ne}}}}(i,l,d,v,y,p,c,x,f,n,o)}:function(i,l,d,v,y,p,c,x,f,n,o,s){return p-y>n-f?v?function(r,g,e,h,_,w,S,O,A,I,B){for(var C=2*r,z=h,P=C*h;z<_;++z,P+=C){var R=w[g+P],N=w[g+P+r],j=S[z];e:for(var W=O,Y=C*O;W<A;++W,Y+=C){var J=I[g+Y],G=B[W];if(!(J<=R||N<J)){for(var H=g+1;H<r;++H){var U=w[H+P],Z=w[H+r+P],q=I[H+Y],Q=I[H+r+Y];if(Z<q||Q<U)continue e}var ne=e(G,j);if(ne!==void 0)return ne}}}}(i,l,d,y,p,c,x,f,n,o,s):function(r,g,e,h,_,w,S,O,A,I,B){for(var C=2*r,z=h,P=C*h;z<_;++z,P+=C){var R=w[g+P],N=w[g+P+r],j=S[z];e:for(var W=O,Y=C*O;W<A;++W,Y+=C){var J=I[g+Y],G=B[W];if(!(J<R||N<J)){for(var H=g+1;H<r;++H){var U=w[H+P],Z=w[H+r+P],q=I[H+Y],Q=I[H+r+Y];if(Z<q||Q<U)continue e}var ne=e(j,G);if(ne!==void 0)return ne}}}}(i,l,d,y,p,c,x,f,n,o,s):v?function(r,g,e,h,_,w,S,O,A,I,B){for(var C=2*r,z=O,P=C*O;z<A;++z,P+=C){var R=I[g+P],N=B[z];e:for(var j=h,W=C*h;j<_;++j,W+=C){var Y=w[g+W],J=w[g+W+r],G=S[j];if(!(R<=Y||J<R)){for(var H=g+1;H<r;++H){var U=w[H+W],Z=w[H+r+W],q=I[H+P],Q=I[H+r+P];if(Z<q||Q<U)continue e}var ne=e(N,G);if(ne!==void 0)return ne}}}}(i,l,d,y,p,c,x,f,n,o,s):function(r,g,e,h,_,w,S,O,A,I,B){for(var C=2*r,z=O,P=C*O;z<A;++z,P+=C){var R=I[g+P],N=B[z];e:for(var j=h,W=C*h;j<_;++j,W+=C){var Y=w[g+W],J=w[g+W+r],G=S[j];if(!(R<Y||J<R)){for(var H=g+1;H<r;++H){var U=w[H+W],Z=w[H+r+W],q=I[H+P],Q=I[H+r+P];if(Z<q||Q<U)continue e}var ne=e(G,N);if(ne!==void 0)return ne}}}}(i,l,d,y,p,c,x,f,n,o,s)}}a.partial=t(!1),a.full=t(!0)},7150:function(b,a,t){b.exports=function(C,z,P,R,N,j,W,Y,J){(function(be,Ee){var Se=8*i.log2(Ee+1)*(be+1)|0,De=i.nextPow2(_*Se);S.length<De&&(u.free(S),S=u.mallocInt32(De));var Ge=i.nextPow2(w*Se);O.length<Ge&&(u.free(O),O=u.mallocDouble(Ge))})(C,R+W);var G,H=0,U=2*C;for(A(H++,0,0,R,0,W,P?16:0,-1/0,1/0),P||A(H++,0,0,W,0,R,1,-1/0,1/0);H>0;){var Z=(H-=1)*_,q=S[Z],Q=S[Z+1],ne=S[Z+2],ie=S[Z+3],le=S[Z+4],fe=S[Z+5],pe=H*w,me=O[pe],ke=O[pe+1],ve=1&fe,he=!!(16&fe),de=N,X=j,ae=Y,K=J;if(ve&&(de=Y,X=J,ae=N,K=j),!(2&fe&&Q>=(ne=r(C,q,Q,ne,de,X,ke))||4&fe&&(Q=g(C,q,Q,ne,de,X,me))>=ne)){var ge=ne-Q,re=le-ie;if(he){if(C*ge*(ge+re)<n){if((G=y.scanComplete(C,q,z,Q,ne,de,X,ie,le,ae,K))!==void 0)return G;continue}}else{if(C*Math.min(ge,re)<x){if((G=d(C,q,z,ve,Q,ne,de,X,ie,le,ae,K))!==void 0)return G;continue}if(C*ge*re<f){if((G=y.scanBipartite(C,q,z,ve,Q,ne,de,X,ie,le,ae,K))!==void 0)return G;continue}}var ue=o(C,q,Q,ne,de,X,me,ke);if(Q<ue)if(C*(ue-Q)<x){if((G=v(C,q+1,z,Q,ue,de,X,ie,le,ae,K))!==void 0)return G}else if(q===C-2){if((G=ve?y.sweepBipartite(C,z,ie,le,ae,K,Q,ue,de,X):y.sweepBipartite(C,z,Q,ue,de,X,ie,le,ae,K))!==void 0)return G}else A(H++,q+1,Q,ue,ie,le,ve,-1/0,1/0),A(H++,q+1,ie,le,Q,ue,1^ve,-1/0,1/0);if(ue<ne){var we=p(C,q,ie,le,ae,K),Te=ae[U*we+q],ee=s(C,q,we,le,ae,K,Te);if(ee<le&&A(H++,q,ue,ne,ee,le,(4|ve)+(he?16:0),Te,ke),ie<we&&A(H++,q,ue,ne,ie,we,(2|ve)+(he?16:0),me,Te),we+1===ee){if((G=he?B(C,q,z,ue,ne,de,X,we,ae,K[we]):I(C,q,z,ve,ue,ne,de,X,we,ae,K[we]))!==void 0)return G}else if(we<ee){var se;if(he){if(ue<(se=e(C,q,ue,ne,de,X,Te))){var ce=s(C,q,ue,se,de,X,Te);if(q===C-2){if(ue<ce&&(G=y.sweepComplete(C,z,ue,ce,de,X,we,ee,ae,K))!==void 0||ce<se&&(G=y.sweepBipartite(C,z,ce,se,de,X,we,ee,ae,K))!==void 0)return G}else ue<ce&&A(H++,q+1,ue,ce,we,ee,16,-1/0,1/0),ce<se&&(A(H++,q+1,ce,se,we,ee,0,-1/0,1/0),A(H++,q+1,we,ee,ce,se,1,-1/0,1/0))}}else ue<(se=ve?h(C,q,ue,ne,de,X,Te):e(C,q,ue,ne,de,X,Te))&&(q===C-2?G=ve?y.sweepBipartite(C,z,we,ee,ae,K,ue,se,de,X):y.sweepBipartite(C,z,ue,se,de,X,we,ee,ae,K):(A(H++,q+1,ue,se,we,ee,ve,-1/0,1/0),A(H++,q+1,we,ee,ue,se,1^ve,-1/0,1/0)))}}}}};var u=t(1888),i=t(8828),l=t(2455),d=l.partial,v=l.full,y=t(855),p=t(3545),c=t(8105),x=128,f=1<<22,n=1<<22,o=c("!(lo>=p0)&&!(p1>=hi)"),s=c("lo===p0"),r=c("lo<p0"),g=c("hi<=p0"),e=c("lo<=p0&&p0<=hi"),h=c("lo<p0&&p0<=hi"),_=6,w=2,S=u.mallocInt32(1024),O=u.mallocDouble(1024);function A(C,z,P,R,N,j,W,Y,J){var G=_*C;S[G]=z,S[G+1]=P,S[G+2]=R,S[G+3]=N,S[G+4]=j,S[G+5]=W;var H=w*C;O[H]=Y,O[H+1]=J}function I(C,z,P,R,N,j,W,Y,J,G,H){var U=2*C,Z=J*U,q=G[Z+z];e:for(var Q=N,ne=N*U;Q<j;++Q,ne+=U){var ie=W[ne+z],le=W[ne+z+C];if(!(q<ie||le<q||R&&q===ie)){for(var fe,pe=Y[Q],me=z+1;me<C;++me){ie=W[ne+me],le=W[ne+me+C];var ke=G[Z+me],ve=G[Z+me+C];if(le<ke||ve<ie)continue e}if((fe=R?P(H,pe):P(pe,H))!==void 0)return fe}}}function B(C,z,P,R,N,j,W,Y,J,G){var H=2*C,U=Y*H,Z=J[U+z];e:for(var q=R,Q=R*H;q<N;++q,Q+=H){var ne=W[q];if(ne!==G){var ie=j[Q+z],le=j[Q+z+C];if(!(Z<ie||le<Z)){for(var fe=z+1;fe<C;++fe){ie=j[Q+fe],le=j[Q+fe+C];var pe=J[U+fe],me=J[U+fe+C];if(le<pe||me<ie)continue e}var ke=P(ne,G);if(ke!==void 0)return ke}}}}},3545:function(b,a,t){b.exports=function(d,v,y,p,c,x){if(p<=y+1)return y;for(var f=y,n=p,o=p+y>>>1,s=2*d,r=o,g=c[s*o+v];f<n;){if(n-f<i){l(d,v,f,n,c,x),g=c[s*o+v];break}var e=n-f,h=Math.random()*e+f|0,_=c[s*h+v],w=Math.random()*e+f|0,S=c[s*w+v],O=Math.random()*e+f|0,A=c[s*O+v];_<=S?A>=S?(r=w,g=S):_>=A?(r=h,g=_):(r=O,g=A):S>=A?(r=w,g=S):A>=_?(r=h,g=_):(r=O,g=A);for(var I=s*(n-1),B=s*r,C=0;C<s;++C,++I,++B){var z=c[I];c[I]=c[B],c[B]=z}var P=x[n-1];for(x[n-1]=x[r],x[r]=P,I=s*(n-1),B=s*(r=u(d,v,f,n-1,c,x,g)),C=0;C<s;++C,++I,++B)z=c[I],c[I]=c[B],c[B]=z;if(P=x[n-1],x[n-1]=x[r],x[r]=P,o<r){for(n=r-1;f<n&&c[s*(n-1)+v]===g;)n-=1;n+=1}else{if(!(r<o))break;for(f=r+1;f<n&&c[s*f+v]===g;)f+=1}}return u(d,v,y,o,c,x,c[s*o+v])};var u=t(8105)("lo<p0"),i=8;function l(d,v,y,p,c,x){for(var f=2*d,n=f*(y+1)+v,o=y+1;o<p;++o,n+=f)for(var s=c[n],r=o,g=f*(o-1);r>y&&c[g+v]>s;--r,g-=f){for(var e=g,h=g+f,_=0;_<f;++_,++e,++h){var w=c[e];c[e]=c[h],c[h]=w}var S=x[r];x[r]=x[r-1],x[r-1]=S}}},8105:function(b){b.exports=function(t){return a[t]};var a={"lo===p0":function(t,u,i,l,d,v,y){for(var p=2*t,c=p*i,x=c,f=i,n=u,o=i;l>o;++o,c+=p)if(d[c+n]===y)if(f===o)f+=1,x+=p;else{for(var s=0;p>s;++s){var r=d[c+s];d[c+s]=d[x],d[x++]=r}var g=v[o];v[o]=v[f],v[f++]=g}return f},"lo<p0":function(t,u,i,l,d,v,y){for(var p=2*t,c=p*i,x=c,f=i,n=u,o=i;l>o;++o,c+=p)if(d[c+n]<y)if(f===o)f+=1,x+=p;else{for(var s=0;p>s;++s){var r=d[c+s];d[c+s]=d[x],d[x++]=r}var g=v[o];v[o]=v[f],v[f++]=g}return f},"lo<=p0":function(t,u,i,l,d,v,y){for(var p=2*t,c=p*i,x=c,f=i,n=t+u,o=i;l>o;++o,c+=p)if(d[c+n]<=y)if(f===o)f+=1,x+=p;else{for(var s=0;p>s;++s){var r=d[c+s];d[c+s]=d[x],d[x++]=r}var g=v[o];v[o]=v[f],v[f++]=g}return f},"hi<=p0":function(t,u,i,l,d,v,y){for(var p=2*t,c=p*i,x=c,f=i,n=t+u,o=i;l>o;++o,c+=p)if(d[c+n]<=y)if(f===o)f+=1,x+=p;else{for(var s=0;p>s;++s){var r=d[c+s];d[c+s]=d[x],d[x++]=r}var g=v[o];v[o]=v[f],v[f++]=g}return f},"lo<p0&&p0<=hi":function(t,u,i,l,d,v,y){for(var p=2*t,c=p*i,x=c,f=i,n=u,o=t+u,s=i;l>s;++s,c+=p){var r=d[c+n],g=d[c+o];if(r<y&&y<=g)if(f===s)f+=1,x+=p;else{for(var e=0;p>e;++e){var h=d[c+e];d[c+e]=d[x],d[x++]=h}var _=v[s];v[s]=v[f],v[f++]=_}}return f},"lo<=p0&&p0<=hi":function(t,u,i,l,d,v,y){for(var p=2*t,c=p*i,x=c,f=i,n=u,o=t+u,s=i;l>s;++s,c+=p){var r=d[c+n],g=d[c+o];if(r<=y&&y<=g)if(f===s)f+=1,x+=p;else{for(var e=0;p>e;++e){var h=d[c+e];d[c+e]=d[x],d[x++]=h}var _=v[s];v[s]=v[f],v[f++]=_}}return f},"!(lo>=p0)&&!(p1>=hi)":function(t,u,i,l,d,v,y,p){for(var c=2*t,x=c*i,f=x,n=i,o=u,s=t+u,r=i;l>r;++r,x+=c){var g=d[x+o],e=d[x+s];if(!(g>=y||p>=e))if(n===r)n+=1,f+=c;else{for(var h=0;c>h;++h){var _=d[x+h];d[x+h]=d[f],d[f++]=_}var w=v[r];v[r]=v[n],v[n++]=w}}return n}}},1811:function(b){b.exports=function(c,x){x<=4*a?t(0,x-1,c):p(0,x-1,c)};var a=32;function t(c,x,f){for(var n=2*(c+1),o=c+1;o<=x;++o){for(var s=f[n++],r=f[n++],g=o,e=n-2;g-- >c;){var h=f[e-2],_=f[e-1];if(h<s||h===s&&_<r)break;f[e]=h,f[e+1]=_,e-=2}f[e]=s,f[e+1]=r}}function u(c,x,f){x*=2;var n=f[c*=2],o=f[c+1];f[c]=f[x],f[c+1]=f[x+1],f[x]=n,f[x+1]=o}function i(c,x,f){x*=2,f[c*=2]=f[x],f[c+1]=f[x+1]}function l(c,x,f,n){x*=2,f*=2;var o=n[c*=2],s=n[c+1];n[c]=n[x],n[c+1]=n[x+1],n[x]=n[f],n[x+1]=n[f+1],n[f]=o,n[f+1]=s}function d(c,x,f,n,o){x*=2,o[c*=2]=o[x],o[x]=f,o[c+1]=o[x+1],o[x+1]=n}function v(c,x,f){x*=2;var n=f[c*=2],o=f[x];return!(n<o)&&(n!==o||f[c+1]>f[x+1])}function y(c,x,f,n){var o=n[c*=2];return o<x||o===x&&n[c+1]<f}function p(c,x,f){var n=(x-c+1)/6|0,o=c+n,s=x-n,r=c+x>>1,g=r-n,e=r+n,h=o,_=g,w=r,S=e,O=s,A=c+1,I=x-1,B=0;v(h,_,f)&&(B=h,h=_,_=B),v(S,O,f)&&(B=S,S=O,O=B),v(h,w,f)&&(B=h,h=w,w=B),v(_,w,f)&&(B=_,_=w,w=B),v(h,S,f)&&(B=h,h=S,S=B),v(w,S,f)&&(B=w,w=S,S=B),v(_,O,f)&&(B=_,_=O,O=B),v(_,w,f)&&(B=_,_=w,w=B),v(S,O,f)&&(B=S,S=O,O=B);for(var C=f[2*_],z=f[2*_+1],P=f[2*S],R=f[2*S+1],N=2*h,j=2*w,W=2*O,Y=2*o,J=2*r,G=2*s,H=0;H<2;++H){var U=f[N+H],Z=f[j+H],q=f[W+H];f[Y+H]=U,f[J+H]=Z,f[G+H]=q}i(g,c,f),i(e,x,f);for(var Q=A;Q<=I;++Q)if(y(Q,C,z,f))Q!==A&&u(Q,A,f),++A;else if(!y(Q,P,R,f))for(;;){if(y(I,P,R,f)){y(I,C,z,f)?(l(Q,A,I,f),++A,--I):(u(Q,I,f),--I);break}if(--I<Q)break}d(c,A-1,C,z,f),d(x,I+1,P,R,f),A-2-c<=a?t(c,A-2,f):p(c,A-2,f),x-(I+2)<=a?t(I+2,x,f):p(I+2,x,f),I-A<=a?t(A,I,f):p(A,I,f)}},855:function(b,a,t){b.exports={init:function(g){var e=i.nextPow2(g);y.length<e&&(u.free(y),y=u.mallocInt32(e)),p.length<e&&(u.free(p),p=u.mallocInt32(e)),c.length<e&&(u.free(c),c=u.mallocInt32(e)),x.length<e&&(u.free(x),x=u.mallocInt32(e)),f.length<e&&(u.free(f),f=u.mallocInt32(e)),n.length<e&&(u.free(n),n=u.mallocInt32(e));var h=8*e;o.length<h&&(u.free(o),o=u.mallocDouble(h))},sweepBipartite:function(g,e,h,_,w,S,O,A,I,B){for(var C=0,z=2*g,P=g-1,R=z-1,N=h;N<_;++N){var j=S[N],W=z*N;o[C++]=w[W+P],o[C++]=-(j+1),o[C++]=w[W+R],o[C++]=j}for(N=O;N<A;++N){j=B[N]+d;var Y=z*N;o[C++]=I[Y+P],o[C++]=-j,o[C++]=I[Y+R],o[C++]=j}var J=C>>>1;l(o,J);var G=0,H=0;for(N=0;N<J;++N){var U=0|o[2*N+1];if(U>=d)s(c,x,H--,U=U-d|0);else if(U>=0)s(y,p,G--,U);else if(U<=-d){U=-U-d|0;for(var Z=0;Z<G;++Z)if((q=e(y[Z],U))!==void 0)return q;r(c,x,H++,U)}else{for(U=-U-1|0,Z=0;Z<H;++Z){var q;if((q=e(U,c[Z]))!==void 0)return q}r(y,p,G++,U)}}},sweepComplete:function(g,e,h,_,w,S,O,A,I,B){for(var C=0,z=2*g,P=g-1,R=z-1,N=h;N<_;++N){var j=S[N]+1<<1,W=z*N;o[C++]=w[W+P],o[C++]=-j,o[C++]=w[W+R],o[C++]=j}for(N=O;N<A;++N){j=B[N]+1<<1;var Y=z*N;o[C++]=I[Y+P],o[C++]=1|-j,o[C++]=I[Y+R],o[C++]=1|j}var J=C>>>1;l(o,J);var G=0,H=0,U=0;for(N=0;N<J;++N){var Z=0|o[2*N+1],q=1&Z;if(N<J-1&&Z>>1==o[2*N+3]>>1&&(q=2,N+=1),Z<0){for(var Q=-(Z>>1)-1,ne=0;ne<U;++ne)if((ie=e(f[ne],Q))!==void 0)return ie;if(q!==0){for(ne=0;ne<G;++ne)if((ie=e(y[ne],Q))!==void 0)return ie}if(q!==1)for(ne=0;ne<H;++ne){var ie;if((ie=e(c[ne],Q))!==void 0)return ie}q===0?r(y,p,G++,Q):q===1?r(c,x,H++,Q):q===2&&r(f,n,U++,Q)}else Q=(Z>>1)-1,q===0?s(y,p,G--,Q):q===1?s(c,x,H--,Q):q===2&&s(f,n,U--,Q)}},scanBipartite:function(g,e,h,_,w,S,O,A,I,B,C,z){var P=0,R=2*g,N=e,j=e+g,W=1,Y=1;_?Y=d:W=d;for(var J=w;J<S;++J){var G=J+W,H=R*J;o[P++]=O[H+N],o[P++]=-G,o[P++]=O[H+j],o[P++]=G}for(J=I;J<B;++J){G=J+Y;var U=R*J;o[P++]=C[U+N],o[P++]=-G}var Z=P>>>1;l(o,Z);var q=0;for(J=0;J<Z;++J){var Q=0|o[2*J+1];if(Q<0){var ne=!1;if((G=-Q)>=d?(ne=!_,G-=d):(ne=!!_,G-=1),ne)r(y,p,q++,G);else{var ie=z[G],le=R*G,fe=C[le+e+1],pe=C[le+e+1+g];e:for(var me=0;me<q;++me){var ke=y[me],ve=R*ke;if(!(pe<O[ve+e+1]||O[ve+e+1+g]<fe)){for(var he=e+2;he<g;++he)if(C[le+he+g]<O[ve+he]||O[ve+he+g]<C[le+he])continue e;var de,X=A[ke];if((de=_?h(ie,X):h(X,ie))!==void 0)return de}}}}else s(y,p,q--,Q-W)}},scanComplete:function(g,e,h,_,w,S,O,A,I,B,C){for(var z=0,P=2*g,R=e,N=e+g,j=_;j<w;++j){var W=j+d,Y=P*j;o[z++]=S[Y+R],o[z++]=-W,o[z++]=S[Y+N],o[z++]=W}for(j=A;j<I;++j){W=j+1;var J=P*j;o[z++]=B[J+R],o[z++]=-W}var G=z>>>1;l(o,G);var H=0;for(j=0;j<G;++j){var U=0|o[2*j+1];if(U<0)if((W=-U)>=d)y[H++]=W-d;else{var Z=C[W-=1],q=P*W,Q=B[q+e+1],ne=B[q+e+1+g];e:for(var ie=0;ie<H;++ie){var le=y[ie],fe=O[le];if(fe===Z)break;var pe=P*le;if(!(ne<S[pe+e+1]||S[pe+e+1+g]<Q)){for(var me=e+2;me<g;++me)if(B[q+me+g]<S[pe+me]||S[pe+me+g]<B[q+me])continue e;var ke=h(fe,Z);if(ke!==void 0)return ke}}}else{for(W=U-d,ie=H-1;ie>=0;--ie)if(y[ie]===W){for(me=ie+1;me<H;++me)y[me-1]=y[me];break}--H}}}};var u=t(1888),i=t(8828),l=t(1811),d=1<<28,v=1024,y=u.mallocInt32(v),p=u.mallocInt32(v),c=u.mallocInt32(v),x=u.mallocInt32(v),f=u.mallocInt32(v),n=u.mallocInt32(v),o=u.mallocDouble(8192);function s(g,e,h,_){var w=e[_],S=g[h-1];g[w]=S,e[S]=w}function r(g,e,h,_){g[h]=_,e[_]=h}},2538:function(b,a,t){var u=t(8902),i=t(5542),l=t(2272),d=t(5023);function v(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function y(c,x){return c[0]-x[0]||c[1]-x[1]}function p(c,x,f){return x in c?c[x]:f}b.exports=function(c,x,f){Array.isArray(x)?(f=f||{},x=x||[]):(f=x||{},x=[]);var n=!!p(f,"delaunay",!0),o=!!p(f,"interior",!0),s=!!p(f,"exterior",!0),r=!!p(f,"infinity",!1);if(!o&&!s||c.length===0)return[];var g=u(c,x);if(n||o!==s||r){for(var e=i(c.length,function(w){return w.map(v).sort(y)}(x)),h=0;h<g.length;++h){var _=g[h];e.addTriangle(_[0],_[1],_[2])}return n&&l(c,e),s?o?r?d(e,0,r):e.cells():d(e,1,r):d(e,-1)}return g}},2272:function(b,a,t){var u=t(2646)[4];function i(l,d,v,y,p,c){var x=d.opposite(y,p);if(!(x<0)){if(p<y){var f=y;y=p,p=f,f=c,c=x,x=f}d.isConstraint(y,p)||u(l[y],l[p],l[c],l[x])<0&&v.push(y,p)}}t(2478),b.exports=function(l,d){for(var v=[],y=l.length,p=d.stars,c=0;c<y;++c)for(var x=p[c],f=1;f<x.length;f+=2)if(!((r=x[f])<c||d.isConstraint(c,r))){for(var n=x[f-1],o=-1,s=1;s<x.length;s+=2)if(x[s-1]===r){o=x[s];break}o<0||u(l[c],l[r],l[n],l[o])<0&&v.push(c,r)}for(;v.length>0;){for(var r=v.pop(),g=(n=-1,o=-1,x=p[c=v.pop()],1);g<x.length;g+=2){var e=x[g-1],h=x[g];e===r?o=h:h===r&&(n=e)}n<0||o<0||u(l[c],l[r],l[n],l[o])>=0||(d.flip(c,r),i(l,d,v,n,c,o),i(l,d,v,c,o,n),i(l,d,v,o,r,n),i(l,d,v,r,n,o))}}},5023:function(b,a,t){var u,i=t(2478);function l(v,y,p,c,x,f,n){this.cells=v,this.neighbor=y,this.flags=c,this.constraint=p,this.active=x,this.next=f,this.boundary=n}function d(v,y){return v[0]-y[0]||v[1]-y[1]||v[2]-y[2]}b.exports=function(v,y,p){var c=function(O,A){for(var I=O.cells(),B=I.length,C=0;C<B;++C){var z=(U=I[C])[0],P=U[1],R=U[2];P<R?P<z&&(U[0]=P,U[1]=R,U[2]=z):R<z&&(U[0]=R,U[1]=z,U[2]=P)}I.sort(d);var N=new Array(B);for(C=0;C<N.length;++C)N[C]=0;var j=[],W=[],Y=new Array(3*B),J=new Array(3*B),G=null;A&&(G=[]);var H=new l(I,Y,J,N,j,W,G);for(C=0;C<B;++C)for(var U=I[C],Z=0;Z<3;++Z){z=U[Z],P=U[(Z+1)%3];var q=Y[3*C+Z]=H.locate(P,z,O.opposite(P,z)),Q=J[3*C+Z]=O.isConstraint(z,P);q<0&&(Q?W.push(C):(j.push(C),N[C]=1),A&&G.push([P,z,-1]))}return H}(v,p);if(y===0)return p?c.cells.concat(c.boundary):c.cells;for(var x=1,f=c.active,n=c.next,o=c.flags,s=c.cells,r=c.constraint,g=c.neighbor;f.length>0||n.length>0;){for(;f.length>0;){var e=f.pop();if(o[e]!==-x){o[e]=x,s[e];for(var h=0;h<3;++h){var _=g[3*e+h];_>=0&&o[_]===0&&(r[3*e+h]?n.push(_):(f.push(_),o[_]=x))}}}var w=n;n=f,f=w,n.length=0,x=-x}var S=function(O,A,I){for(var B=0,C=0;C<O.length;++C)A[C]===I&&(O[B++]=O[C]);return O.length=B,O}(s,o,y);return p?S.concat(c.boundary):S},l.prototype.locate=(u=[0,0,0],function(v,y,p){var c=v,x=y,f=p;return y<p?y<v&&(c=y,x=p,f=v):p<v&&(c=p,x=v,f=y),c<0?-1:(u[0]=c,u[1]=x,u[2]=f,i.eq(this.cells,u,d))})},8902:function(b,a,t){var u=t(2478),i=t(3250)[3];function l(n,o,s,r,g){this.a=n,this.b=o,this.idx=s,this.lowerIds=r,this.upperIds=g}function d(n,o,s,r){this.a=n,this.b=o,this.type=s,this.idx=r}function v(n,o){var s=n.a[0]-o.a[0]||n.a[1]-o.a[1]||n.type-o.type;return s||(n.type!==0&&(s=i(n.a,n.b,o.b))?s:n.idx-o.idx)}function y(n,o){return i(n.a,n.b,o)}function p(n,o,s,r,g){for(var e=u.lt(o,r,y),h=u.gt(o,r,y),_=e;_<h;++_){for(var w=o[_],S=w.lowerIds,O=S.length;O>1&&i(s[S[O-2]],s[S[O-1]],r)>0;)n.push([S[O-1],S[O-2],g]),O-=1;S.length=O,S.push(g);var A=w.upperIds;for(O=A.length;O>1&&i(s[A[O-2]],s[A[O-1]],r)<0;)n.push([A[O-2],A[O-1],g]),O-=1;A.length=O,A.push(g)}}function c(n,o){var s;return(s=n.a[0]<o.a[0]?i(n.a,n.b,o.a):i(o.b,o.a,n.a))?s:(s=o.b[0]<n.b[0]?i(n.a,n.b,o.b):i(o.b,o.a,n.b))||n.idx-o.idx}function x(n,o,s){var r=u.le(n,s,c),g=n[r],e=g.upperIds,h=e[e.length-1];g.upperIds=[h],n.splice(r+1,0,new l(s.a,s.b,s.idx,[h],e))}function f(n,o,s){var r=s.a;s.a=s.b,s.b=r;var g=u.eq(n,s,c),e=n[g];n[g-1].upperIds=e.upperIds,n.splice(g,1)}b.exports=function(n,o){for(var s=n.length,r=o.length,g=[],e=0;e<s;++e)g.push(new d(n[e],null,0,e));for(e=0;e<r;++e){var h=o[e],_=n[h[0]],w=n[h[1]];_[0]<w[0]?g.push(new d(_,w,2,e),new d(w,_,1,e)):_[0]>w[0]&&g.push(new d(w,_,2,e),new d(_,w,1,e))}g.sort(v);for(var S=g[0].a[0]-(1+Math.abs(g[0].a[0]))*Math.pow(2,-52),O=[new l([S,1],[S,0],-1,[],[])],A=[],I=(e=0,g.length);e<I;++e){var B=g[e],C=B.type;C===0?p(A,O,n,B.a,B.idx):C===2?x(O,0,B):f(O,0,B)}return A}},5542:function(b,a,t){var u=t(2478);function i(v,y){this.stars=v,this.edges=y}b.exports=function(v,y){for(var p=new Array(v),c=0;c<v;++c)p[c]=[];return new i(p,y)};var l=i.prototype;function d(v,y,p){for(var c=1,x=v.length;c<x;c+=2)if(v[c-1]===y&&v[c]===p)return v[c-1]=v[x-2],v[c]=v[x-1],void(v.length=x-2)}l.isConstraint=function(){var v=[0,0];function y(p,c){return p[0]-c[0]||p[1]-c[1]}return function(p,c){return v[0]=Math.min(p,c),v[1]=Math.max(p,c),u.eq(this.edges,v,y)>=0}}(),l.removeTriangle=function(v,y,p){var c=this.stars;d(c[v],y,p),d(c[y],p,v),d(c[p],v,y)},l.addTriangle=function(v,y,p){var c=this.stars;c[v].push(y,p),c[y].push(p,v),c[p].push(v,y)},l.opposite=function(v,y){for(var p=this.stars[y],c=1,x=p.length;c<x;c+=2)if(p[c]===v)return p[c-1];return-1},l.flip=function(v,y){var p=this.opposite(v,y),c=this.opposite(y,v);this.removeTriangle(v,y,p),this.removeTriangle(y,v,c),this.addTriangle(v,c,p),this.addTriangle(y,p,c)},l.edges=function(){for(var v=this.stars,y=[],p=0,c=v.length;p<c;++p)for(var x=v[p],f=0,n=x.length;f<n;f+=2)y.push([x[f],x[f+1]]);return y},l.cells=function(){for(var v=this.stars,y=[],p=0,c=v.length;p<c;++p)for(var x=v[p],f=0,n=x.length;f<n;f+=2){var o=x[f],s=x[f+1];p<Math.min(o,s)&&y.push([p,o,s])}return y}},2419:function(b){b.exports=function(a){for(var t=1,u=1;u<a.length;++u)for(var i=0;i<u;++i)if(a[u]<a[i])t=-t;else if(a[i]===a[u])return 0;return t}},3628:function(b,a,t){var u=t(1338),i=t(727);function l(y,p){for(var c=0,x=y.length,f=0;f<x;++f)c+=y[f]*p[f];return c}function d(y){var p=y.length;if(p===0)return[];y[0].length;var c=u([y.length+1,y.length+1],1),x=u([y.length+1],1);c[p][p]=0;for(var f=0;f<p;++f){for(var n=0;n<=f;++n)c[n][f]=c[f][n]=2*l(y[f],y[n]);x[f]=l(y[f],y[f])}var o=i(c,x),s=0,r=o[p+1];for(f=0;f<r.length;++f)s+=r[f];var g=new Array(p);for(f=0;f<p;++f){r=o[f];var e=0;for(n=0;n<r.length;++n)e+=r[n];g[f]=e/s}return g}function v(y){if(y.length===0)return[];for(var p=y[0].length,c=u([p]),x=d(y),f=0;f<y.length;++f)for(var n=0;n<p;++n)c[n]+=y[f][n]*x[f];return c}v.barycenetric=d,b.exports=v},6037:function(b,a,t){b.exports=function(i){for(var l=u(i),d=0,v=0;v<i.length;++v)for(var y=i[v],p=0;p<l.length;++p)d+=Math.pow(y[p]-l[p],2);return Math.sqrt(d/i.length)};var u=t(3628)},332:function(b,a,t){b.exports=function(h,_,w){var S;if(w){S=_;for(var O=new Array(_.length),A=0;A<_.length;++A){var I=_[A];O[A]=[I[0],I[1],w[A]]}_=O}for(var B=function(C,z,P){var R=o(C,[],n(C));return g(z,R,P),!!R}(h,_,!!w);e(h,_,!!w);)B=!0;if(w&&B)for(S.length=0,w.length=0,A=0;A<_.length;++A)I=_[A],S.push([I[0],I[1]]),w.push(I[2]);return B};var u=t(1755),i=t(6867),l=t(1125),d=t(7842),v=t(1318),y=t(946),p=t(5838),c=t(1278),x=t(3637);function f(h){var _=y(h);return[c(_,-1/0),c(_,1/0)]}function n(h){for(var _=new Array(h.length),w=0;w<h.length;++w){var S=h[w];_[w]=[c(S[0],-1/0),c(S[1],-1/0),c(S[0],1/0),c(S[1],1/0)]}return _}function o(h,_,w){for(var S=_.length,O=new u(S),A=[],I=0;I<_.length;++I){var B=_[I],C=f(B[0]),z=f(B[1]);A.push([c(C[0],-1/0),c(z[0],-1/0),c(C[1],1/0),c(z[1],1/0)])}i(A,function(W,Y){O.link(W,Y)});var P=!0,R=new Array(S);for(I=0;I<S;++I)(j=O.find(I))!==I&&(P=!1,h[j]=[Math.min(h[I][0],h[j][0]),Math.min(h[I][1],h[j][1])]);if(P)return null;var N=0;for(I=0;I<S;++I){var j;(j=O.find(I))===I?(R[I]=N,h[N++]=h[I]):R[I]=-1}for(h.length=N,I=0;I<S;++I)R[I]<0&&(R[I]=R[O.find(I)]);return R}function s(h,_){return h[0]-_[0]||h[1]-_[1]}function r(h,_){return h[0]-_[0]||h[1]-_[1]||(h[2]<_[2]?-1:h[2]>_[2]?1:0)}function g(h,_,w){if(h.length!==0){if(_)for(var S=0;S<h.length;++S){var O=_[(I=h[S])[0]],A=_[I[1]];I[0]=Math.min(O,A),I[1]=Math.max(O,A)}else for(S=0;S<h.length;++S){var I;O=(I=h[S])[0],A=I[1],I[0]=Math.min(O,A),I[1]=Math.max(O,A)}w?h.sort(r):h.sort(s);var B=1;for(S=1;S<h.length;++S){var C=h[S-1],z=h[S];(z[0]!==C[0]||z[1]!==C[1]||w&&z[2]!==C[2])&&(h[B++]=z)}h.length=B}}function e(h,_,w){var S=function(C,z){for(var P=new Array(z.length),R=0;R<z.length;++R){var N=z[R],j=C[N[0]],W=C[N[1]];P[R]=[c(Math.min(j[0],W[0]),-1/0),c(Math.min(j[1],W[1]),-1/0),c(Math.max(j[0],W[0]),1/0),c(Math.max(j[1],W[1]),1/0)]}return P}(h,_),O=function(C,z,P){var R=[];return i(P,function(N,j){var W=z[N],Y=z[j];if(W[0]!==Y[0]&&W[0]!==Y[1]&&W[1]!==Y[0]&&W[1]!==Y[1]){var J=C[W[0]],G=C[W[1]],H=C[Y[0]],U=C[Y[1]];l(J,G,H,U)&&R.push([N,j])}}),R}(h,_,S),A=function(C,z,P,R){var N=[];return i(P,R,function(j,W){var Y=z[j];if(Y[0]!==W&&Y[1]!==W){var J=C[W],G=C[Y[0]],H=C[Y[1]];l(G,H,J,J)&&N.push([j,W])}}),N}(h,_,S,n(h)),I=function(C,z,P,R,N){var j,W,Y=C.map(function(de){return[d(de[0]),d(de[1])]});for(j=0;j<P.length;++j){var J=P[j];W=J[0];var G=J[1],H=z[W],U=z[G],Z=x(p(C[H[0]]),p(C[H[1]]),p(C[U[0]]),p(C[U[1]]));if(Z){var q=C.length;C.push([y(Z[0]),y(Z[1])]),Y.push(Z),R.push([W,q],[G,q])}}for(R.sort(function(de,X){if(de[0]!==X[0])return de[0]-X[0];var ae=Y[de[1]],K=Y[X[1]];return v(ae[0],K[0])||v(ae[1],K[1])}),j=R.length-1;j>=0;--j){var Q=z[W=(ve=R[j])[0]],ne=Q[0],ie=Q[1],le=C[ne],fe=C[ie];if((le[0]-fe[0]||le[1]-fe[1])<0){var pe=ne;ne=ie,ie=pe}Q[0]=ne;var me,ke=Q[1]=ve[1];for(N&&(me=Q[2]);j>0&&R[j-1][0]===W;){var ve,he=(ve=R[--j])[1];N?z.push([ke,he,me]):z.push([ke,he]),ke=he}N?z.push([ke,ie,me]):z.push([ke,ie])}return Y}(h,_,O,A,w),B=o(h,I);return g(_,B,w),!!B||O.length>0||A.length>0}},3637:function(b,a,t){b.exports=function(x,f,n,o){var s=v(f,x),r=v(o,n),g=c(s,r);if(d(g)===0)return null;var e=c(r,v(x,n)),h=i(e,g),_=p(s,h);return y(x,_)};var u=t(6504),i=t(8697),l=t(5572),d=t(7721),v=t(544),y=t(2653),p=t(8987);function c(x,f){return l(u(x[0],f[1]),u(x[1],f[0]))}},3642:function(b){b.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(b,a,t){var u=t(3642),i=t(395);function l(y){return[y[0]/255,y[1]/255,y[2]/255,y[3]]}function d(y){for(var p,c="#",x=0;x<3;++x)c+=("00"+(p=(p=y[x]).toString(16))).substr(p.length);return c}function v(y){return"rgba("+y.join(",")+")"}b.exports=function(y){var p,c,x,f,n,o,s,r,g,e;if(y||(y={}),r=(y.nshades||72)-1,s=y.format||"hex",(o=y.colormap)||(o="jet"),typeof o=="string"){if(o=o.toLowerCase(),!u[o])throw Error(o+" not a supported colorscale");n=u[o]}else{if(!Array.isArray(o))throw Error("unsupported colormap option",o);n=o.slice()}if(n.length>r+1)throw new Error(o+" map requires nshades to be at least size "+n.length);g=Array.isArray(y.alpha)?y.alpha.length!==2?[1,1]:y.alpha.slice():typeof y.alpha=="number"?[y.alpha,y.alpha]:[1,1],p=n.map(function(O){return Math.round(O.index*r)}),g[0]=Math.min(Math.max(g[0],0),1),g[1]=Math.min(Math.max(g[1],0),1);var h=n.map(function(O,A){var I=n[A].index,B=n[A].rgb.slice();return B.length===4&&B[3]>=0&&B[3]<=1||(B[3]=g[0]+(g[1]-g[0])*I),B}),_=[];for(e=0;e<p.length-1;++e){f=p[e+1]-p[e],c=h[e],x=h[e+1];for(var w=0;w<f;w++){var S=w/f;_.push([Math.round(i(c[0],x[0],S)),Math.round(i(c[1],x[1],S)),Math.round(i(c[2],x[2],S)),i(c[3],x[3],S)])}}return _.push(n[n.length-1].rgb.concat(g[1])),s==="hex"?_=_.map(d):s==="rgbaString"?_=_.map(v):s==="float"&&(_=_.map(l)),_}},3140:function(b,a,t){b.exports=function(p,c,x,f){var n=u(c,x,f);if(n===0){var o=i(u(p,c,x)),s=i(u(p,c,f));if(o===s){if(o===0){var r=y(p,c,x);return r===y(p,c,f)?0:r?1:-1}return 0}return s===0?o>0||y(p,c,f)?-1:1:o===0?s>0||y(p,c,x)?1:-1:i(s-o)}var g=u(p,c,x);return g>0?n>0&&u(p,c,f)>0?1:-1:g<0?n>0||u(p,c,f)>0?1:-1:u(p,c,f)>0||y(p,c,x)?1:-1};var u=t(3250),i=t(8572),l=t(9362),d=t(5382),v=t(8210);function y(p,c,x){var f=l(p[0],-c[0]),n=l(p[1],-c[1]),o=l(x[0],-c[0]),s=l(x[1],-c[1]),r=v(d(f,o),d(n,s));return r[r.length-1]>=0}},8572:function(b){b.exports=function(a){return a<0?-1:a>0?1:0}},8507:function(b){b.exports=function(u,i){var l=u.length,d=u.length-i.length;if(d)return d;switch(l){case 0:return 0;case 1:return u[0]-i[0];case 2:return u[0]+u[1]-i[0]-i[1]||a(u[0],u[1])-a(i[0],i[1]);case 3:var v=u[0]+u[1],y=i[0]+i[1];if(d=v+u[2]-(y+i[2]))return d;var p=a(u[0],u[1]),c=a(i[0],i[1]);return a(p,u[2])-a(c,i[2])||a(p+u[2],v)-a(c+i[2],y);case 4:var x=u[0],f=u[1],n=u[2],o=u[3],s=i[0],r=i[1],g=i[2],e=i[3];return x+f+n+o-(s+r+g+e)||a(x,f,n,o)-a(s,r,g,e,s)||a(x+f,x+n,x+o,f+n,f+o,n+o)-a(s+r,s+g,s+e,r+g,r+e,g+e)||a(x+f+n,x+f+o,x+n+o,f+n+o)-a(s+r+g,s+r+e,s+g+e,r+g+e);default:for(var h=u.slice().sort(t),_=i.slice().sort(t),w=0;w<l;++w)if(d=h[w]-_[w])return d;return 0}};var a=Math.min;function t(u,i){return u-i}},3788:function(b,a,t){var u=t(8507),i=t(2419);b.exports=function(l,d){return u(l,d)||i(l)-i(d)}},7352:function(b,a,t){var u=t(5721),i=t(4750),l=t(2690);b.exports=function(d){var v=d.length;if(v===0)return[];if(v===1)return[[0]];var y=d[0].length;return y===0?[]:y===1?u(d):y===2?i(d):l(d,y)}},5721:function(b){b.exports=function(a){for(var t=0,u=0,i=1;i<a.length;++i)a[i][0]<a[t][0]&&(t=i),a[i][0]>a[u][0]&&(u=i);return t<u?[[t],[u]]:t>u?[[u],[t]]:[[t]]}},4750:function(b,a,t){b.exports=function(i){var l=u(i),d=l.length;if(d<=2)return[];for(var v=new Array(d),y=l[d-1],p=0;p<d;++p){var c=l[p];v[p]=[y,c],y=c}return v};var u=t(3090)},2690:function(b,a,t){b.exports=function(l,d){try{return u(l,!0)}catch{var v=i(l);if(v.length<=d)return[];var y=function(c,x){for(var f=c.length,n=new Array(f),o=0;o<x.length;++o)n[o]=c[x[o]];var s=x.length;for(o=0;o<f;++o)x.indexOf(o)<0&&(n[s++]=c[o]);return n}(l,v);return function(c,x){for(var f=c.length,n=x.length,o=0;o<f;++o)for(var s=c[o],r=0;r<s.length;++r){var g=s[r];if(g<n)s[r]=x[g];else{g-=n;for(var e=0;e<n;++e)g>=x[e]&&(g+=1);s[r]=g}}return c}(u(y,!0),v)}};var u=t(8954),i=t(3952)},4769:function(b){b.exports=function(a,t,u,i,l,d){var v=l-1,y=l*l,p=v*v,c=(1+2*l)*p,x=l*p,f=y*(3-2*l),n=y*v;if(a.length){d||(d=new Array(a.length));for(var o=a.length-1;o>=0;--o)d[o]=c*a[o]+x*t[o]+f*u[o]+n*i[o];return d}return c*a+x*t+f*u+n*i},b.exports.derivative=function(a,t,u,i,l,d){var v=6*l*l-6*l,y=3*l*l-4*l+1,p=-6*l*l+6*l,c=3*l*l-2*l;if(a.length){d||(d=new Array(a.length));for(var x=a.length-1;x>=0;--x)d[x]=v*a[x]+y*t[x]+p*u[x]+c*i[x];return d}return v*a+y*t+p*u[x]+c*i}},7642:function(b,a,t){var u=t(8954),i=t(1682);function l(v,y){this.point=v,this.index=y}function d(v,y){for(var p=v.point,c=y.point,x=p.length,f=0;f<x;++f){var n=c[f]-p[f];if(n)return n}return 0}b.exports=function(v,y){var p=v.length;if(p===0)return[];var c=v[0].length;if(c<1)return[];if(c===1)return function(I,B,C){if(I===1)return C?[[-1,0]]:[];var z=B.map(function(W,Y){return[W[0],Y]});z.sort(function(W,Y){return W[0]-Y[0]});for(var P=new Array(I-1),R=1;R<I;++R){var N=z[R-1],j=z[R];P[R-1]=[N[1],j[1]]}return C&&P.push([-1,P[0][1]],[P[I-1][1],-1]),P}(p,v,y);for(var x=new Array(p),f=1,n=0;n<p;++n){for(var o=v[n],s=new Array(c+1),r=0,g=0;g<c;++g){var e=o[g];s[g]=e,r+=e*e}s[c]=r,x[n]=new l(s,n),f=Math.max(r,f)}i(x,d),p=x.length;var h=new Array(p+c+1),_=new Array(p+c+1),w=(c+1)*(c+1)*f,S=new Array(c+1);for(n=0;n<=c;++n)S[n]=0;for(S[c]=w,h[0]=S.slice(),_[0]=-1,n=0;n<=c;++n)(s=S.slice())[n]=1,h[n+1]=s,_[n+1]=-1;for(n=0;n<p;++n){var O=x[n];h[n+c+1]=O.point,_[n+c+1]=O.index}var A=u(h,!1);if(A=y?A.filter(function(I){for(var B=0,C=0;C<=c;++C){var z=_[I[C]];if(z<0&&++B>=2)return!1;I[C]=z}return!0}):A.filter(function(I){for(var B=0;B<=c;++B){var C=_[I[B]];if(C<0)return!1;I[B]=C}return!0}),1&c)for(n=0;n<A.length;++n)s=(O=A[n])[0],O[0]=O[1],O[1]=s;return A}},2361:function(b){var a=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),u=new Uint32Array(t.buffer);t[0]=1,a=!0,u[1]===1072693248?(b.exports=function(l){return t[0]=l,[u[0],u[1]]},b.exports.pack=function(l,d){return u[0]=l,u[1]=d,t[0]},b.exports.lo=function(l){return t[0]=l,u[0]},b.exports.hi=function(l){return t[0]=l,u[1]}):u[0]===1072693248?(b.exports=function(l){return t[0]=l,[u[1],u[0]]},b.exports.pack=function(l,d){return u[1]=l,u[0]=d,t[0]},b.exports.lo=function(l){return t[0]=l,u[1]},b.exports.hi=function(l){return t[0]=l,u[0]}):a=!1}if(!a){var i=new L(8);b.exports=function(l){return i.writeDoubleLE(l,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},b.exports.pack=function(l,d){return i.writeUInt32LE(l,0,!0),i.writeUInt32LE(d,4,!0),i.readDoubleLE(0,!0)},b.exports.lo=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(0,!0)},b.exports.hi=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(4,!0)}}b.exports.sign=function(l){return b.exports.hi(l)>>>31},b.exports.exponent=function(l){return(b.exports.hi(l)<<1>>>21)-1023},b.exports.fraction=function(l){var d=b.exports.lo(l),v=b.exports.hi(l),y=1048575&v;return 2146435072&v&&(y+=1048576),[d,y]},b.exports.denormalized=function(l){return!(2146435072&b.exports.hi(l))}},1338:function(b){function a(t,u,i){var l=0|t[i];if(l<=0)return[];var d,v=new Array(l);if(i===t.length-1)for(d=0;d<l;++d)v[d]=u;else for(d=0;d<l;++d)v[d]=a(t,u,i+1);return v}b.exports=function(t,u){switch(u===void 0&&(u=0),typeof t){case"number":if(t>0)return function(i,l){var d,v;for(d=new Array(i),v=0;v<i;++v)d[v]=l;return d}(0|t,u);break;case"object":if(typeof t.length=="number")return a(t,u,0)}return[]}},3134:function(b,a,t){b.exports=function(i,l){var d=i.length;if(typeof l!="number"){l=0;for(var v=0;v<d;++v){var y=i[v];l=Math.max(l,y[0],y[1])}l=1+(0|l)}l|=0;var p=new Array(l);for(v=0;v<l;++v)p[v]=[];for(v=0;v<d;++v)p[(y=i[v])[0]].push(y[1]),p[y[1]].push(y[0]);for(var c=0;c<l;++c)u(p[c],function(x,f){return x-f});return p};var u=t(1682)},5033:function(b){b.exports=function(a,t,u){var i=t||0,l=u||1;return[[a[12]+a[0],a[13]+a[1],a[14]+a[2],a[15]+a[3]],[a[12]-a[0],a[13]-a[1],a[14]-a[2],a[15]-a[3]],[a[12]+a[4],a[13]+a[5],a[14]+a[6],a[15]+a[7]],[a[12]-a[4],a[13]-a[5],a[14]-a[6],a[15]-a[7]],[i*a[12]+a[8],i*a[13]+a[9],i*a[14]+a[10],i*a[15]+a[11]],[l*a[12]-a[8],l*a[13]-a[9],l*a[14]-a[10],l*a[15]-a[11]]]}},9215:function(b,a,t){b.exports=function(p,c,x){switch(arguments.length){case 0:return new d([0],[0],0);case 1:return typeof p=="number"?new d(f=y(p),f,0):new d(p,y(p.length),0);case 2:var f;if(typeof c=="number")return new d(p,f=y(p.length),+c);x=0;case 3:if(p.length!==c.length)throw new Error("state and velocity lengths must match");return new d(p,c,x)}};var u=t(4769),i=t(2478);function l(p,c,x){return Math.min(c,Math.max(p,x))}function d(p,c,x){this.dimension=p.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var f=0;f<this.dimension;++f)this.bounds[0][f]=-1/0,this.bounds[1][f]=1/0;this._state=p.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[x],this._scratch=[p.slice(),p.slice(),p.slice(),p.slice(),p.slice()]}var v=d.prototype;function y(p){for(var c=new Array(p),x=0;x<p;++x)c[x]=0;return c}v.flush=function(p){var c=i.gt(this._time,p)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},v.curve=function(p){var c=this._time,x=c.length,f=i.le(c,p),n=this._scratch[0],o=this._state,s=this._velocity,r=this.dimension,g=this.bounds;if(f<0)for(var e=r-1,h=0;h<r;++h,--e)n[h]=o[e];else if(f>=x-1){e=o.length-1;var _=p-c[x-1];for(h=0;h<r;++h,--e)n[h]=o[e]+_*s[e]}else{e=r*(f+1)-1;var w=c[f],S=c[f+1]-w||1,O=this._scratch[1],A=this._scratch[2],I=this._scratch[3],B=this._scratch[4],C=!0;for(h=0;h<r;++h,--e)O[h]=o[e],I[h]=s[e]*S,A[h]=o[e+r],B[h]=s[e+r]*S,C=C&&O[h]===A[h]&&I[h]===B[h]&&I[h]===0;if(C)for(h=0;h<r;++h)n[h]=O[h];else u(O,I,A,B,(p-w)/S,n)}var z=g[0],P=g[1];for(h=0;h<r;++h)n[h]=l(z[h],P[h],n[h]);return n},v.dcurve=function(p){var c=this._time,x=c.length,f=i.le(c,p),n=this._scratch[0],o=this._state,s=this._velocity,r=this.dimension;if(f>=x-1)for(var g=o.length-1,e=(c[x-1],0);e<r;++e,--g)n[e]=s[g];else{g=r*(f+1)-1;var h=c[f],_=c[f+1]-h||1,w=this._scratch[1],S=this._scratch[2],O=this._scratch[3],A=this._scratch[4],I=!0;for(e=0;e<r;++e,--g)w[e]=o[g],O[e]=s[g]*_,S[e]=o[g+r],A[e]=s[g+r]*_,I=I&&w[e]===S[e]&&O[e]===A[e]&&O[e]===0;if(I)for(e=0;e<r;++e)n[e]=0;else for(u.derivative(w,O,S,A,(p-h)/_,n),e=0;e<r;++e)n[e]/=_}return n},v.lastT=function(){var p=this._time;return p[p.length-1]},v.stable=function(){for(var p=this._velocity,c=p.length,x=this.dimension-1;x>=0;--x)if(p[--c])return!1;return!0},v.jump=function(p){var c=this.lastT(),x=this.dimension;if(!(p<c||arguments.length!==x+1)){var f=this._state,n=this._velocity,o=f.length-this.dimension,s=this.bounds,r=s[0],g=s[1];this._time.push(c,p);for(var e=0;e<2;++e)for(var h=0;h<x;++h)f.push(f[o++]),n.push(0);for(this._time.push(p),h=x;h>0;--h)f.push(l(r[h-1],g[h-1],arguments[h])),n.push(0)}},v.push=function(p){var c=this.lastT(),x=this.dimension;if(!(p<c||arguments.length!==x+1)){var f=this._state,n=this._velocity,o=f.length-this.dimension,s=p-c,r=this.bounds,g=r[0],e=r[1],h=s>1e-6?1/s:0;this._time.push(p);for(var _=x;_>0;--_){var w=l(g[_-1],e[_-1],arguments[_]);f.push(w),n.push((w-f[o++])*h)}}},v.set=function(p){var c=this.dimension;if(!(p<this.lastT()||arguments.length!==c+1)){var x=this._state,f=this._velocity,n=this.bounds,o=n[0],s=n[1];this._time.push(p);for(var r=c;r>0;--r)x.push(l(o[r-1],s[r-1],arguments[r])),f.push(0)}},v.move=function(p){var c=this.lastT(),x=this.dimension;if(!(p<=c||arguments.length!==x+1)){var f=this._state,n=this._velocity,o=f.length-this.dimension,s=this.bounds,r=s[0],g=s[1],e=p-c,h=e>1e-6?1/e:0;this._time.push(p);for(var _=x;_>0;--_){var w=arguments[_];f.push(l(r[_-1],g[_-1],f[o++]+w)),n.push(w*h)}}},v.idle=function(p){var c=this.lastT();if(!(p<c)){var x=this.dimension,f=this._state,n=this._velocity,o=f.length-x,s=this.bounds,r=s[0],g=s[1],e=p-c;this._time.push(p);for(var h=x-1;h>=0;--h)f.push(l(r[h],g[h],f[o]+e*n[o])),n.push(0),o+=1}}},3840:function(b){function a(o,s,r,g,e,h){this._color=o,this.key=s,this.value=r,this.left=g,this.right=e,this._count=h}function t(o){return new a(o._color,o.key,o.value,o.left,o.right,o._count)}function u(o,s){return new a(o,s.key,s.value,s.left,s.right,s._count)}function i(o){o._count=1+(o.left?o.left._count:0)+(o.right?o.right._count:0)}function l(o,s){this._compare=o,this.root=s}b.exports=function(o){return new l(o||n,null)};var d=l.prototype;function v(o,s){var r;return s.left&&(r=v(o,s.left))?r:(r=o(s.key,s.value))||(s.right?v(o,s.right):void 0)}function y(o,s,r,g){if(s(o,g.key)<=0){var e;if(g.left&&(e=y(o,s,r,g.left))||(e=r(g.key,g.value)))return e}if(g.right)return y(o,s,r,g.right)}function p(o,s,r,g,e){var h,_=r(o,e.key),w=r(s,e.key);if(_<=0&&(e.left&&(h=p(o,s,r,g,e.left))||w>0&&(h=g(e.key,e.value))))return h;if(w>0&&e.right)return p(o,s,r,g,e.right)}function c(o,s){this.tree=o,this._stack=s}Object.defineProperty(d,"keys",{get:function(){var o=[];return this.forEach(function(s,r){o.push(s)}),o}}),Object.defineProperty(d,"values",{get:function(){var o=[];return this.forEach(function(s,r){o.push(r)}),o}}),Object.defineProperty(d,"length",{get:function(){return this.root?this.root._count:0}}),d.insert=function(o,s){for(var r=this._compare,g=this.root,e=[],h=[];g;){var _=r(o,g.key);e.push(g),h.push(_),g=_<=0?g.left:g.right}e.push(new a(0,o,s,null,null,1));for(var w=e.length-2;w>=0;--w)g=e[w],h[w]<=0?e[w]=new a(g._color,g.key,g.value,e[w+1],g.right,g._count+1):e[w]=new a(g._color,g.key,g.value,g.left,e[w+1],g._count+1);for(w=e.length-1;w>1;--w){var S=e[w-1];if(g=e[w],S._color===1||g._color===1)break;var O=e[w-2];if(O.left===S)if(S.left===g){if(!(A=O.right)||A._color!==0){O._color=0,O.left=S.right,S._color=1,S.right=O,e[w-2]=S,e[w-1]=g,i(O),i(S),w>=3&&((I=e[w-3]).left===O?I.left=S:I.right=S);break}S._color=1,O.right=u(1,A),O._color=0,w-=1}else{if(!(A=O.right)||A._color!==0){S.right=g.left,O._color=0,O.left=g.right,g._color=1,g.left=S,g.right=O,e[w-2]=g,e[w-1]=S,i(O),i(S),i(g),w>=3&&((I=e[w-3]).left===O?I.left=g:I.right=g);break}S._color=1,O.right=u(1,A),O._color=0,w-=1}else if(S.right===g){if(!(A=O.left)||A._color!==0){O._color=0,O.right=S.left,S._color=1,S.left=O,e[w-2]=S,e[w-1]=g,i(O),i(S),w>=3&&((I=e[w-3]).right===O?I.right=S:I.left=S);break}S._color=1,O.left=u(1,A),O._color=0,w-=1}else{var A;if(!(A=O.left)||A._color!==0){var I;S.left=g.right,O._color=0,O.right=g.left,g._color=1,g.right=S,g.left=O,e[w-2]=g,e[w-1]=S,i(O),i(S),i(g),w>=3&&((I=e[w-3]).right===O?I.right=g:I.left=g);break}S._color=1,O.left=u(1,A),O._color=0,w-=1}}return e[0]._color=1,new l(r,e[0])},d.forEach=function(o,s,r){if(this.root)switch(arguments.length){case 1:return v(o,this.root);case 2:return y(s,this._compare,o,this.root);case 3:return this._compare(s,r)>=0?void 0:p(s,r,this._compare,o,this.root)}},Object.defineProperty(d,"begin",{get:function(){for(var o=[],s=this.root;s;)o.push(s),s=s.left;return new c(this,o)}}),Object.defineProperty(d,"end",{get:function(){for(var o=[],s=this.root;s;)o.push(s),s=s.right;return new c(this,o)}}),d.at=function(o){if(o<0)return new c(this,[]);for(var s=this.root,r=[];;){if(r.push(s),s.left){if(o<s.left._count){s=s.left;continue}o-=s.left._count}if(!o)return new c(this,r);if(o-=1,!s.right||o>=s.right._count)break;s=s.right}return new c(this,[])},d.ge=function(o){for(var s=this._compare,r=this.root,g=[],e=0;r;){var h=s(o,r.key);g.push(r),h<=0&&(e=g.length),r=h<=0?r.left:r.right}return g.length=e,new c(this,g)},d.gt=function(o){for(var s=this._compare,r=this.root,g=[],e=0;r;){var h=s(o,r.key);g.push(r),h<0&&(e=g.length),r=h<0?r.left:r.right}return g.length=e,new c(this,g)},d.lt=function(o){for(var s=this._compare,r=this.root,g=[],e=0;r;){var h=s(o,r.key);g.push(r),h>0&&(e=g.length),r=h<=0?r.left:r.right}return g.length=e,new c(this,g)},d.le=function(o){for(var s=this._compare,r=this.root,g=[],e=0;r;){var h=s(o,r.key);g.push(r),h>=0&&(e=g.length),r=h<0?r.left:r.right}return g.length=e,new c(this,g)},d.find=function(o){for(var s=this._compare,r=this.root,g=[];r;){var e=s(o,r.key);if(g.push(r),e===0)return new c(this,g);r=e<=0?r.left:r.right}return new c(this,[])},d.remove=function(o){var s=this.find(o);return s?s.remove():this},d.get=function(o){for(var s=this._compare,r=this.root;r;){var g=s(o,r.key);if(g===0)return r.value;r=g<=0?r.left:r.right}};var x=c.prototype;function f(o,s){o.key=s.key,o.value=s.value,o.left=s.left,o.right=s.right,o._color=s._color,o._count=s._count}function n(o,s){return o<s?-1:o>s?1:0}Object.defineProperty(x,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(x,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),x.clone=function(){return new c(this.tree,this._stack.slice())},x.remove=function(){var o=this._stack;if(o.length===0)return this.tree;var s=new Array(o.length),r=o[o.length-1];s[s.length-1]=new a(r._color,r.key,r.value,r.left,r.right,r._count);for(var g=o.length-2;g>=0;--g)(r=o[g]).left===o[g+1]?s[g]=new a(r._color,r.key,r.value,s[g+1],r.right,r._count):s[g]=new a(r._color,r.key,r.value,r.left,s[g+1],r._count);if((r=s[s.length-1]).left&&r.right){var e=s.length;for(r=r.left;r.right;)s.push(r),r=r.right;var h=s[e-1];for(s.push(new a(r._color,h.key,h.value,r.left,r.right,r._count)),s[e-1].key=r.key,s[e-1].value=r.value,g=s.length-2;g>=e;--g)r=s[g],s[g]=new a(r._color,r.key,r.value,r.left,s[g+1],r._count);s[e-1].left=s[e]}if((r=s[s.length-1])._color===0){var _=s[s.length-2];for(_.left===r?_.left=null:_.right===r&&(_.right=null),s.pop(),g=0;g<s.length;++g)s[g]._count--;return new l(this.tree._compare,s[0])}if(r.left||r.right){for(r.left?f(r,r.left):r.right&&f(r,r.right),r._color=1,g=0;g<s.length-1;++g)s[g]._count--;return new l(this.tree._compare,s[0])}if(s.length===1)return new l(this.tree._compare,null);for(g=0;g<s.length;++g)s[g]._count--;var w=s[s.length-2];return function(S){for(var O,A,I,B,C=S.length-1;C>=0;--C){if(O=S[C],C===0)return void(O._color=1);if((A=S[C-1]).left===O){if((I=A.right).right&&I.right._color===0)return B=(I=A.right=t(I)).right=t(I.right),A.right=I.left,I.left=A,I.right=B,I._color=A._color,O._color=1,A._color=1,B._color=1,i(A),i(I),C>1&&((z=S[C-2]).left===A?z.left=I:z.right=I),void(S[C-1]=I);if(I.left&&I.left._color===0)return B=(I=A.right=t(I)).left=t(I.left),A.right=B.left,I.left=B.right,B.left=A,B.right=I,B._color=A._color,A._color=1,I._color=1,O._color=1,i(A),i(I),i(B),C>1&&((z=S[C-2]).left===A?z.left=B:z.right=B),void(S[C-1]=B);if(I._color===1){if(A._color===0)return A._color=1,void(A.right=u(0,I));A.right=u(0,I);continue}I=t(I),A.right=I.left,I.left=A,I._color=A._color,A._color=0,i(A),i(I),C>1&&((z=S[C-2]).left===A?z.left=I:z.right=I),S[C-1]=I,S[C]=A,C+1<S.length?S[C+1]=O:S.push(O),C+=2}else{if((I=A.left).left&&I.left._color===0)return B=(I=A.left=t(I)).left=t(I.left),A.left=I.right,I.right=A,I.left=B,I._color=A._color,O._color=1,A._color=1,B._color=1,i(A),i(I),C>1&&((z=S[C-2]).right===A?z.right=I:z.left=I),void(S[C-1]=I);if(I.right&&I.right._color===0)return B=(I=A.left=t(I)).right=t(I.right),A.left=B.right,I.right=B.left,B.right=A,B.left=I,B._color=A._color,A._color=1,I._color=1,O._color=1,i(A),i(I),i(B),C>1&&((z=S[C-2]).right===A?z.right=B:z.left=B),void(S[C-1]=B);if(I._color===1){if(A._color===0)return A._color=1,void(A.left=u(0,I));A.left=u(0,I);continue}var z;I=t(I),A.left=I.right,I.right=A,I._color=A._color,A._color=0,i(A),i(I),C>1&&((z=S[C-2]).right===A?z.right=I:z.left=I),S[C-1]=I,S[C]=A,C+1<S.length?S[C+1]=O:S.push(O),C+=2}}}(s),w.left===r?w.left=null:w.right=null,new l(this.tree._compare,s[0])},Object.defineProperty(x,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(x,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(x,"index",{get:function(){var o=0,s=this._stack;if(s.length===0){var r=this.tree.root;return r?r._count:0}s[s.length-1].left&&(o=s[s.length-1].left._count);for(var g=s.length-2;g>=0;--g)s[g+1]===s[g].right&&(++o,s[g].left&&(o+=s[g].left._count));return o},enumerable:!0}),x.next=function(){var o=this._stack;if(o.length!==0){var s=o[o.length-1];if(s.right)for(s=s.right;s;)o.push(s),s=s.left;else for(o.pop();o.length>0&&o[o.length-1].right===s;)s=o[o.length-1],o.pop()}},Object.defineProperty(x,"hasNext",{get:function(){var o=this._stack;if(o.length===0)return!1;if(o[o.length-1].right)return!0;for(var s=o.length-1;s>0;--s)if(o[s-1].left===o[s])return!0;return!1}}),x.update=function(o){var s=this._stack;if(s.length===0)throw new Error("Can't update empty node!");var r=new Array(s.length),g=s[s.length-1];r[r.length-1]=new a(g._color,g.key,o,g.left,g.right,g._count);for(var e=s.length-2;e>=0;--e)(g=s[e]).left===s[e+1]?r[e]=new a(g._color,g.key,g.value,r[e+1],g.right,g._count):r[e]=new a(g._color,g.key,g.value,g.left,r[e+1],g._count);return new l(this.tree._compare,r[0])},x.prev=function(){var o=this._stack;if(o.length!==0){var s=o[o.length-1];if(s.left)for(s=s.left;s;)o.push(s),s=s.right;else for(o.pop();o.length>0&&o[o.length-1].left===s;)s=o[o.length-1],o.pop()}},Object.defineProperty(x,"hasPrev",{get:function(){var o=this._stack;if(o.length===0)return!1;if(o[o.length-1].left)return!0;for(var s=o.length-1;s>0;--s)if(o[s-1].right===o[s])return!0;return!1}})},3837:function(b,a,t){b.exports=function(O,A){var I=new n(O);return I.update(A),I};var u=t(4935),i=t(501),l=t(5304),d=t(6429),v=t(6444),y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),p=ArrayBuffer,c=DataView;function x(O){return Array.isArray(O)||function(A){return p.isView(A)&&!(A instanceof c)}(O)}function f(O,A){return O[0]=A[0],O[1]=A[1],O[2]=A[2],O}function n(O){this.gl=O,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=l(O)}var o=n.prototype;function s(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}o.update=function(O){function A(U,Z,q){if(q in O){var Q,ne=O[q],ie=this[q];(U?x(ne)&&x(ne[0]):x(ne))?this[q]=Q=[Z(ne[0]),Z(ne[1]),Z(ne[2])]:this[q]=Q=[Z(ne),Z(ne),Z(ne)];for(var le=0;le<3;++le)if(Q[le]!==ie[le])return!0}return!1}O=O||{};var I,B=A.bind(this,!1,Number),C=A.bind(this,!1,Boolean),z=A.bind(this,!1,String),P=A.bind(this,!0,function(U){if(x(U)){if(U.length===3)return[+U[0],+U[1],+U[2],1];if(U.length===4)return[+U[0],+U[1],+U[2],+U[3]]}return[0,0,0,1]}),R=!1,N=!1;if("bounds"in O)for(var j=O.bounds,W=0;W<2;++W)for(var Y=0;Y<3;++Y)j[W][Y]!==this.bounds[W][Y]&&(N=!0),this.bounds[W][Y]=j[W][Y];if("ticks"in O)for(I=O.ticks,R=!0,this.autoTicks=!1,W=0;W<3;++W)this.tickSpacing[W]=0;else B("tickSpacing")&&(this.autoTicks=!0,N=!0);if(this._firstInit&&("ticks"in O||"tickSpacing"in O||(this.autoTicks=!0),N=!0,R=!0,this._firstInit=!1),N&&this.autoTicks&&(I=v.create(this.bounds,this.tickSpacing),R=!0),R){for(W=0;W<3;++W)I[W].sort(function(U,Z){return U.x-Z.x});v.equal(I,this.ticks)?R=!1:this.ticks=I}C("tickEnable"),z("tickFont")&&(R=!0),z("tickFontStyle")&&(R=!0),z("tickFontWeight")&&(R=!0),z("tickFontVariant")&&(R=!0),B("tickSize"),B("tickAngle"),B("tickPad"),P("tickColor");var J=z("labels");z("labelFont")&&(J=!0),z("labelFontStyle")&&(J=!0),z("labelFontWeight")&&(J=!0),z("labelFontVariant")&&(J=!0),C("labelEnable"),B("labelSize"),B("labelPad"),P("labelColor"),C("lineEnable"),C("lineMirror"),B("lineWidth"),P("lineColor"),C("lineTickEnable"),C("lineTickMirror"),B("lineTickLength"),B("lineTickWidth"),P("lineTickColor"),C("gridEnable"),B("gridWidth"),P("gridColor"),C("zeroEnable"),P("zeroLineColor"),B("zeroLineWidth"),C("backgroundEnable"),P("backgroundColor");var G=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],H=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(J||R)&&this._text.update(this.bounds,this.labels,G,this.ticks,H):this._text=u(this.gl,this.bounds,this.labels,G,this.ticks,H),this._lines&&R&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};var r=[new s,new s,new s];function g(O,A,I,B,C){for(var z=O.primalOffset,P=O.primalMinor,R=O.mirrorOffset,N=O.mirrorMinor,j=B[A],W=0;W<3;++W)if(A!==W){var Y=z,J=R,G=P,H=N;j&1<<W&&(Y=R,J=z,G=N,H=P),Y[W]=I[0][W],J[W]=I[1][W],C[W]>0?(G[W]=-1,H[W]=0):(G[W]=0,H[W]=1)}}var e=[0,0,0],h={model:y,view:y,projection:y,_ortho:!1};o.isOpaque=function(){return!0},o.isTransparent=function(){return!1},o.drawTransparent=function(O){};var _=[0,0,0],w=[0,0,0],S=[0,0,0];o.draw=function(O){O=O||h;for(var A=this.gl,I=O.model||y,B=O.view||y,C=O.projection||y,z=this.bounds,P=O._ortho||!1,R=d(I,B,C,z,P),N=R.cubeEdges,j=R.axis,W=B[12],Y=B[13],J=B[14],G=B[15],H=(P?2:1)*this.pixelRatio*(C[3]*W+C[7]*Y+C[11]*J+C[15]*G)/A.drawingBufferHeight,U=0;U<3;++U)this.lastCubeProps.cubeEdges[U]=N[U],this.lastCubeProps.axis[U]=j[U];var Z=r;for(U=0;U<3;++U)g(r[U],U,this.bounds,N,j);A=this.gl;var q,Q,ne,ie=e;for(U=0;U<3;++U)this.backgroundEnable[U]?ie[U]=j[U]:ie[U]=0;for(this._background.draw(I,B,C,z,ie,this.backgroundColor),this._lines.bind(I,B,C,this),U=0;U<3;++U){var le=[0,0,0];j[U]>0?le[U]=z[1][U]:le[U]=z[0][U];for(var fe=0;fe<2;++fe){var pe=(U+1+fe)%3,me=(U+1+(1^fe))%3;this.gridEnable[pe]&&this._lines.drawGrid(pe,me,this.bounds,le,this.gridColor[pe],this.gridWidth[pe]*this.pixelRatio)}for(fe=0;fe<2;++fe)pe=(U+1+fe)%3,me=(U+1+(1^fe))%3,this.zeroEnable[me]&&Math.min(z[0][me],z[1][me])<=0&&Math.max(z[0][me],z[1][me])>=0&&this._lines.drawZero(pe,me,this.bounds,le,this.zeroLineColor[me],this.zeroLineWidth[me]*this.pixelRatio)}for(U=0;U<3;++U){this.lineEnable[U]&&this._lines.drawAxisLine(U,this.bounds,Z[U].primalOffset,this.lineColor[U],this.lineWidth[U]*this.pixelRatio),this.lineMirror[U]&&this._lines.drawAxisLine(U,this.bounds,Z[U].mirrorOffset,this.lineColor[U],this.lineWidth[U]*this.pixelRatio);var ke=f(_,Z[U].primalMinor),ve=f(w,Z[U].mirrorMinor),he=this.lineTickLength;for(fe=0;fe<3;++fe){var de=H/I[5*fe];ke[fe]*=he[fe]*de,ve[fe]*=he[fe]*de}this.lineTickEnable[U]&&this._lines.drawAxisTicks(U,Z[U].primalOffset,ke,this.lineTickColor[U],this.lineTickWidth[U]*this.pixelRatio),this.lineTickMirror[U]&&this._lines.drawAxisTicks(U,Z[U].mirrorOffset,ve,this.lineTickColor[U],this.lineTickWidth[U]*this.pixelRatio)}function X(we){(ne=[0,0,0])[we]=1}function ae(we,Te,ee){var se=(we+1)%3,ce=(we+2)%3,be=Te[se],Ee=Te[ce],Se=ee[se],De=ee[ce];be>0&&De>0||be>0&&De<0||be<0&&De>0||be<0&&De<0?X(se):(Ee>0&&Se>0||Ee>0&&Se<0||Ee<0&&Se>0||Ee<0&&Se<0)&&X(ce)}for(this._lines.unbind(),this._text.bind(I,B,C,this.pixelRatio),U=0;U<3;++U){var K=Z[U].primalMinor,ge=Z[U].mirrorMinor,re=f(S,Z[U].primalOffset);for(fe=0;fe<3;++fe)this.lineTickEnable[U]&&(re[fe]+=H*K[fe]*Math.max(this.lineTickLength[fe],0)/I[5*fe]);var ue=[0,0,0];if(ue[U]=1,this.tickEnable[U]){for(this.tickAngle[U]===-3600?(this.tickAngle[U]=0,this.tickAlign[U]="auto"):this.tickAlign[U]=-1,Q=1,(q=[this.tickAlign[U],.5,Q])[0]==="auto"?q[0]=0:q[0]=parseInt(""+q[0]),ne=[0,0,0],ae(U,K,ge),fe=0;fe<3;++fe)re[fe]+=H*K[fe]*this.tickPad[fe]/I[5*fe];this._text.drawTicks(U,this.tickSize[U],this.tickAngle[U],re,this.tickColor[U],ue,ne,q)}if(this.labelEnable[U]){for(Q=0,ne=[0,0,0],this.labels[U].length>4&&(X(U),Q=1),(q=[this.labelAlign[U],.5,Q])[0]==="auto"?q[0]=0:q[0]=parseInt(""+q[0]),fe=0;fe<3;++fe)re[fe]+=H*K[fe]*this.labelPad[fe]/I[5*fe];re[U]+=.5*(z[0][U]+z[1][U]),this._text.drawLabel(U,this.labelSize[U],this.labelAngle[U],re,this.labelColor[U],[0,0,0],ne,q)}}this._text.unbind()},o.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},5304:function(b,a,t){b.exports=function(y){for(var p=[],c=[],x=0,f=0;f<3;++f)for(var n=(f+1)%3,o=(f+2)%3,s=[0,0,0],r=[0,0,0],g=-1;g<=1;g+=2){c.push(x,x+2,x+1,x+1,x+2,x+3),s[f]=g,r[f]=g;for(var e=-1;e<=1;e+=2){s[n]=e;for(var h=-1;h<=1;h+=2)s[o]=h,p.push(s[0],s[1],s[2],r[0],r[1],r[2]),x+=1}var _=n;n=o,o=_}var w=u(y,new Float32Array(p)),S=u(y,new Uint16Array(c),y.ELEMENT_ARRAY_BUFFER),O=i(y,[{buffer:w,type:y.FLOAT,size:3,offset:0,stride:24},{buffer:w,type:y.FLOAT,size:3,offset:12,stride:24}],S),A=l(y);return A.attributes.position.location=0,A.attributes.normal.location=1,new d(y,w,O,A)};var u=t(2762),i=t(8116),l=t(1879).bg;function d(y,p,c,x){this.gl=y,this.buffer=p,this.vao=c,this.shader=x}var v=d.prototype;v.draw=function(y,p,c,x,f,n){for(var o=!1,s=0;s<3;++s)o=o||f[s];if(o){var r=this.gl;r.enable(r.POLYGON_OFFSET_FILL),r.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:y,view:p,projection:c,bounds:x,enable:f,colors:n},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),r.disable(r.POLYGON_OFFSET_FILL)}},v.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6429:function(b,a,t){b.exports=function(e,h,_,w,S){i(v,h,e),i(v,_,v);for(var O=0,A=0;A<2;++A){c[2]=w[A][2];for(var I=0;I<2;++I){c[1]=w[I][1];for(var B=0;B<2;++B)c[0]=w[B][0],f(y[O],c,v),O+=1}}var C=-1;for(A=0;A<8;++A){for(var z=y[A][3],P=0;P<3;++P)p[A][P]=y[A][P]/z;S&&(p[A][2]*=-1),z<0&&(C<0||p[A][2]<p[C][2])&&(C=A)}if(C<0){C=0;for(var R=0;R<3;++R){for(var N=(R+2)%3,j=(R+1)%3,W=-1,Y=-1,J=0;J<2;++J){var G=(U=J<<R)+(J<<N)+(1-J<<j),H=U+(1-J<<N)+(J<<j);d(p[U],p[G],p[H],x)<0||(J?W=1:Y=1)}if(W<0||Y<0)Y>W&&(C|=1<<R);else{for(J=0;J<2;++J){G=(U=J<<R)+(J<<N)+(1-J<<j),H=U+(1-J<<N)+(J<<j);var U,Z=o([y[U],y[G],y[H],y[U+(1<<N)+(1<<j)]]);J?W=Z:Y=Z}Y>W&&(C|=1<<R)}}}var q=7^C,Q=-1;for(A=0;A<8;++A)A!==C&&A!==q&&(Q<0||p[Q][1]>p[A][1])&&(Q=A);var ne=-1;for(A=0;A<3;++A)(le=Q^1<<A)!==C&&le!==q&&(ne<0&&(ne=le),(j=p[le])[0]<p[ne][0]&&(ne=le));var ie=-1;for(A=0;A<3;++A){var le;(le=Q^1<<A)!==C&&le!==q&&le!==ne&&(ie<0&&(ie=le),(j=p[le])[0]>p[ie][0]&&(ie=le))}var fe=s;fe[0]=fe[1]=fe[2]=0,fe[u.log2(ne^Q)]=Q&ne,fe[u.log2(Q^ie)]=Q&ie;var pe=7^ie;pe===C||pe===q?(pe=7^ne,fe[u.log2(ie^pe)]=pe&ie):fe[u.log2(ne^pe)]=pe&ne;var me=r,ke=C;for(R=0;R<3;++R)me[R]=ke&1<<R?-1:1;return g};var u=t(8828),i=t(6760),l=t(5202),d=t(3250),v=new Array(16),y=new Array(8),p=new Array(8),c=new Array(3),x=[0,0,0];function f(e,h,_){for(var w=0;w<4;++w){e[w]=_[12+w];for(var S=0;S<3;++S)e[w]+=h[S]*_[4*S+w]}}(function(){for(var e=0;e<8;++e)y[e]=[1,1,1,1],p[e]=[1,1,1]})();var n=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function o(e){for(var h=0;h<n.length;++h)if((e=l.positive(e,n[h])).length<3)return 0;var _=e[0],w=_[0]/_[3],S=_[1]/_[3],O=0;for(h=1;h+1<e.length;++h){var A=e[h],I=e[h+1],B=A[0]/A[3]-w,C=A[1]/A[3]-S,z=I[0]/I[3]-w,P=I[1]/I[3]-S;O+=Math.abs(B*P-C*z)}return O}var s=[1,1,1],r=[0,0,0],g={cubeEdges:s,axis:r}},501:function(b,a,t){b.exports=function(s,r,g){var e=[],h=[0,0,0],_=[0,0,0],w=[0,0,0],S=[0,0,0];e.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var O=0;O<3;++O){for(var A=e.length/3|0,I=0;I<g[O].length;++I){var B=+g[O][I].x;e.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var C=e.length/3|0;h[O]=A,_[O]=C-A,A=e.length/3|0;for(var z=0;z<g[O].length;++z)B=+g[O][z].x,e.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1);C=e.length/3|0,w[O]=A,S[O]=C-A}var P=u(s,new Float32Array(e)),R=i(s,[{buffer:P,type:s.FLOAT,size:3,stride:0,offset:0}]),N=l(s);return N.attributes.position.location=0,new n(s,P,R,N,_,h,S,w)};var u=t(2762),i=t(8116),l=t(1879).n,d=[0,0,0],v=[0,0,0],y=[0,0,0],p=[0,0,0],c=[1,1];function x(s){return s[0]=s[1]=s[2]=0,s}function f(s,r){return s[0]=r[0],s[1]=r[1],s[2]=r[2],s}function n(s,r,g,e,h,_,w,S){this.gl=s,this.vertBuffer=r,this.vao=g,this.shader=e,this.tickCount=h,this.tickOffset=_,this.gridCount=w,this.gridOffset=S}var o=n.prototype;o.bind=function(s,r,g){this.shader.bind(),this.shader.uniforms.model=s,this.shader.uniforms.view=r,this.shader.uniforms.projection=g,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},o.unbind=function(){this.vao.unbind()},o.drawAxisLine=function(s,r,g,e,h){var _=x(v);this.shader.uniforms.majorAxis=v,_[s]=r[1][s]-r[0][s],this.shader.uniforms.minorAxis=_;var w,S=f(p,g);S[s]+=r[0][s],this.shader.uniforms.offset=S,this.shader.uniforms.lineWidth=h,this.shader.uniforms.color=e,(w=x(y))[(s+2)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6),(w=x(y))[(s+1)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6)},o.drawAxisTicks=function(s,r,g,e,h){if(this.tickCount[s]){var _=x(d);_[s]=1,this.shader.uniforms.majorAxis=_,this.shader.uniforms.offset=r,this.shader.uniforms.minorAxis=g,this.shader.uniforms.color=e,this.shader.uniforms.lineWidth=h;var w=x(y);w[s]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,this.tickCount[s],this.tickOffset[s])}},o.drawGrid=function(s,r,g,e,h,_){if(this.gridCount[s]){var w=x(v);w[r]=g[1][r]-g[0][r],this.shader.uniforms.minorAxis=w;var S=f(p,e);S[r]+=g[0][r],this.shader.uniforms.offset=S;var O=x(d);O[s]=1,this.shader.uniforms.majorAxis=O;var A=x(y);A[s]=1,this.shader.uniforms.screenAxis=A,this.shader.uniforms.lineWidth=_,this.shader.uniforms.color=h,this.vao.draw(this.gl.TRIANGLES,this.gridCount[s],this.gridOffset[s])}},o.drawZero=function(s,r,g,e,h,_){var w=x(v);this.shader.uniforms.majorAxis=w,w[s]=g[1][s]-g[0][s],this.shader.uniforms.minorAxis=w;var S=f(p,e);S[s]+=g[0][s],this.shader.uniforms.offset=S;var O=x(y);O[r]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=_,this.shader.uniforms.color=h,this.vao.draw(this.gl.TRIANGLES,6)},o.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1879:function(b,a,t){var u=t(3236),i=t(9405),l=u([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),d=u([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);a.n=function(x){return i(x,l,d,null,[{name:"position",type:"vec3"}])};var v=u([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),y=u([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);a.Q=function(x){return i(x,v,y,null,[{name:"position",type:"vec3"}])};var p=u([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),c=u([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);a.bg=function(x){return i(x,p,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(b,a,t){b.exports=function(f,n,o,s,r,g){var e=u(f),h=i(f,[{buffer:e,size:3}]),_=d(f);_.attributes.position.location=0;var w=new p(f,_,e,h);return w.update(n,o,s,r,g),w};var u=t(2762),i=t(8116),l=t(4359),d=t(1879).Q,v=window||D.global||{},y=v.__TEXT_CACHE||{};function p(f,n,o,s){this.gl=f,this.shader=n,this.buffer=o,this.vao=s,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}v.__TEXT_CACHE={};var c=p.prototype,x=[0,0];c.bind=function(f,n,o,s){this.vao.bind(),this.shader.bind();var r=this.shader.uniforms;r.model=f,r.view=n,r.projection=o,r.pixelScale=s,x[0]=this.gl.drawingBufferWidth,x[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=x},c.unbind=function(){this.vao.unbind()},c.update=function(f,n,o,s,r){var g=[];function e(C,z,P,R,N,j){var W=[P.style,P.weight,P.variant,P.family].join("_"),Y=y[W];Y||(Y=y[W]={});var J=Y[z];J||(J=Y[z]=function(le,fe){try{return l(le,fe)}catch(pe){return console.warn('error vectorizing text:"'+le+'" error:',pe),{cells:[],positions:[]}}}(z,{triangles:!0,font:P.family,fontStyle:P.style,fontWeight:P.weight,fontVariant:P.variant,textAlign:"center",textBaseline:"middle",lineSpacing:N,styletags:j}));for(var G=(R||12)/12,H=J.positions,U=J.cells,Z=0,q=U.length;Z<q;++Z)for(var Q=U[Z],ne=2;ne>=0;--ne){var ie=H[Q[ne]];g.push(G*ie[0],-G*ie[1],C)}}for(var h=[0,0,0],_=[0,0,0],w=[0,0,0],S=[0,0,0],O={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},A=0;A<3;++A){w[A]=g.length/3|0,e(.5*(f[0][A]+f[1][A]),n[A],o[A],12,1.25,O),S[A]=(g.length/3|0)-w[A],h[A]=g.length/3|0;for(var I=0;I<s[A].length;++I)if(s[A][I].text){var B={family:s[A][I].font||r[A].family,style:r[A].fontStyle||r[A].style,weight:r[A].fontWeight||r[A].weight,variant:r[A].fontVariant||r[A].variant};e(s[A][I].x,s[A][I].text,B,s[A][I].fontSize||12,1.25,O)}_[A]=(g.length/3|0)-h[A]}this.buffer.update(g),this.tickOffset=h,this.tickCount=_,this.labelOffset=w,this.labelCount=S},c.drawTicks=function(f,n,o,s,r,g,e,h){this.tickCount[f]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=r,this.shader.uniforms.angle=o,this.shader.uniforms.scale=n,this.shader.uniforms.offset=s,this.shader.uniforms.alignDir=e,this.shader.uniforms.alignOpt=h,this.vao.draw(this.gl.TRIANGLES,this.tickCount[f],this.tickOffset[f]))},c.drawLabel=function(f,n,o,s,r,g,e,h){this.labelCount[f]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=r,this.shader.uniforms.angle=o,this.shader.uniforms.scale=n,this.shader.uniforms.offset=s,this.shader.uniforms.alignDir=e,this.shader.uniforms.alignOpt=h,this.vao.draw(this.gl.TRIANGLES,this.labelCount[f],this.labelOffset[f]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},6444:function(b,a){function t(u,i){var l=u+"",d=l.indexOf("."),v=0;d>=0&&(v=l.length-d-1);var y=Math.pow(10,v),p=Math.round(u*i*y),c=p+"";if(c.indexOf("e")>=0)return c;var x=p/y,f=p%y;p<0?(x=0|-Math.ceil(x),f=0|-f):(x=0|Math.floor(x),f|=0);var n=""+x;if(p<0&&(n="-"+n),v){for(var o=""+f;o.length<v;)o="0"+o;return n+"."+o}return n}a.create=function(u,i){for(var l=[],d=0;d<3;++d){for(var v=[],y=(u[0][d],u[1][d],0);y*i[d]<=u[1][d];++y)v.push({x:y*i[d],text:t(i[d],y)});for(y=-1;y*i[d]>=u[0][d];--y)v.push({x:y*i[d],text:t(i[d],y)});l.push(v)}return l},a.equal=function(u,i){for(var l=0;l<3;++l){if(u[l].length!==i[l].length)return!1;for(var d=0;d<u[l].length;++d){var v=u[l][d],y=i[l][d];if(v.x!==y.x||v.text!==y.text||v.font!==y.font||v.fontColor!==y.fontColor||v.fontSize!==y.fontSize||v.dx!==y.dx||v.dy!==y.dy)return!1}}return!0}},5445:function(b,a,t){b.exports=function(g,e,h,_,w){var S=e.model||p,O=e.view||p,A=e.projection||p,I=e._ortho||!1,B=g.bounds,C=(w=w||l(S,O,A,B,I)).axis;d(c,O,S),d(c,A,c);for(var z=s,P=0;P<3;++P)z[P].lo=1/0,z[P].hi=-1/0,z[P].pixelsPerDataUnit=1/0;var R=u(v(c,c));v(c,c);for(var N=0;N<3;++N){var j=(N+1)%3,W=(N+2)%3,Y=r;e:for(P=0;P<2;++P){var J=[];if(C[N]<0!=!!P){Y[N]=B[P][N];for(var G=0;G<2;++G){Y[j]=B[G^P][j];for(var H=0;H<2;++H)Y[W]=B[H^G^P][W],J.push(Y.slice())}var U=I?5:4;for(G=U;G===U;++G){if(J.length===0)continue e;J=i.positive(J,R[G])}for(G=0;G<J.length;++G){W=J[G];var Z=o(r,c,W,h,_);for(H=0;H<3;++H)z[H].lo=Math.min(z[H].lo,W[H]),z[H].hi=Math.max(z[H].hi,W[H]),H!==N&&(z[H].pixelsPerDataUnit=Math.min(z[H].pixelsPerDataUnit,Math.abs(Z[H])))}}}}return z};var u=t(5033),i=t(5202),l=t(6429),d=t(6760),v=t(5665),y=t(5352),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function x(g,e,h){this.lo=g,this.hi=e,this.pixelsPerDataUnit=h}var f=[0,0,0,1],n=[0,0,0,1];function o(g,e,h,_,w){for(var S=0;S<3;++S){for(var O=f,A=n,I=0;I<3;++I)A[I]=O[I]=h[I];A[3]=O[3]=1,A[S]+=1,y(A,A,e),A[3]<0&&(g[S]=1/0),O[S]-=1,y(O,O,e),O[3]<0&&(g[S]=1/0);var B=(O[0]/O[3]-A[0]/A[3])*_,C=(O[1]/O[3]-A[1]/A[3])*w;g[S]=.25*Math.sqrt(B*B+C*C)}return g}var s=[new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0)],r=[0,0,0]},2762:function(b,a,t){var u=t(1888),i=t(5298),l=t(9618),d=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function v(x,f,n,o,s){this.gl=x,this.type=f,this.handle=n,this.length=o,this.usage=s}var y=v.prototype;function p(x,f,n,o,s,r){var g=s.length*s.BYTES_PER_ELEMENT;if(r<0)return x.bufferData(f,s,o),g;if(g+r>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return x.bufferSubData(f,r,s),n}function c(x,f){for(var n=u.malloc(x.length,f),o=x.length,s=0;s<o;++s)n[s]=x[s];return n}y.bind=function(){this.gl.bindBuffer(this.type,this.handle)},y.unbind=function(){this.gl.bindBuffer(this.type,null)},y.dispose=function(){this.gl.deleteBuffer(this.handle)},y.update=function(x,f){if(typeof f!="number"&&(f=-1),this.bind(),typeof x=="object"&&x.shape!==void 0){var n=x.dtype;if(d.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(n=gl.getExtension("OES_element_index_uint")&&n!=="uint16"?"uint32":"uint16"),n===x.dtype&&function(g,e){for(var h=1,_=e.length-1;_>=0;--_){if(e[_]!==h)return!1;h*=g[_]}return!0}(x.shape,x.stride))x.offset===0&&x.data.length===x.shape[0]?this.length=p(this.gl,this.type,this.length,this.usage,x.data,f):this.length=p(this.gl,this.type,this.length,this.usage,x.data.subarray(x.offset,x.shape[0]),f);else{var o=u.malloc(x.size,n),s=l(o,x.shape);i.assign(s,x),this.length=p(this.gl,this.type,this.length,this.usage,f<0?o:o.subarray(0,x.size),f),u.free(o)}}else if(Array.isArray(x)){var r;r=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(x,"uint16"):c(x,"float32"),this.length=p(this.gl,this.type,this.length,this.usage,f<0?r:r.subarray(0,x.length),f),u.free(r)}else if(typeof x=="object"&&typeof x.length=="number")this.length=p(this.gl,this.type,this.length,this.usage,x,f);else{if(typeof x!="number"&&x!==void 0)throw new Error("gl-buffer: Invalid data type");if(f>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(x|=0)<=0&&(x=1),this.gl.bufferData(this.type,0|x,this.usage),this.length=x}},b.exports=function(x,f,n,o){if(n=n||x.ARRAY_BUFFER,o=o||x.DYNAMIC_DRAW,n!==x.ARRAY_BUFFER&&n!==x.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(o!==x.DYNAMIC_DRAW&&o!==x.STATIC_DRAW&&o!==x.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var s=x.createBuffer(),r=new v(x,n,s,0,o);return r.update(f),r}},6405:function(b,a,t){var u=t(2931);b.exports=function(l,d){var v=l.positions,y=l.vectors,p={positions:[],vertexIntensity:[],vertexIntensityBounds:l.vertexIntensityBounds,vectors:[],cells:[],coneOffset:l.coneOffset,colormap:l.colormap};if(l.positions.length===0)return d&&(d[0]=[0,0,0],d[1]=[0,0,0]),p;for(var c=0,x=1/0,f=-1/0,n=1/0,o=-1/0,s=1/0,r=-1/0,g=null,e=null,h=[],_=1/0,w=!1,S=l.coneSizemode==="raw",O=0;O<v.length;O++){var A=v[O];x=Math.min(A[0],x),f=Math.max(A[0],f),n=Math.min(A[1],n),o=Math.max(A[1],o),s=Math.min(A[2],s),r=Math.max(A[2],r);var I=y[O];if(u.length(I)>c&&(c=u.length(I)),O&&!S){var B=2*u.distance(g,A)/(u.length(e)+u.length(I));B?(_=Math.min(_,B),w=!1):w=!0}w||(g=A,e=I),h.push(I)}var C=[x,n,s],z=[f,o,r];d&&(d[0]=C,d[1]=z),c===0&&(c=1);var P=1/c;isFinite(_)||(_=1),p.vectorScale=_;var R=l.coneSize||(S?1:.5);l.absoluteConeSize&&(R=l.absoluteConeSize*P),p.coneScale=R,O=0;for(var N=0;O<v.length;O++)for(var j=(A=v[O])[0],W=A[1],Y=A[2],J=h[O],G=u.length(J)*P,H=0;H<8;H++){p.positions.push([j,W,Y,N++]),p.positions.push([j,W,Y,N++]),p.positions.push([j,W,Y,N++]),p.positions.push([j,W,Y,N++]),p.positions.push([j,W,Y,N++]),p.positions.push([j,W,Y,N++]),p.vectors.push(J),p.vectors.push(J),p.vectors.push(J),p.vectors.push(J),p.vectors.push(J),p.vectors.push(J),p.vertexIntensity.push(G,G,G),p.vertexIntensity.push(G,G,G);var U=p.positions.length;p.cells.push([U-6,U-5,U-4],[U-3,U-2,U-1])}return p};var i=t(614);b.exports.createMesh=t(9060),b.exports.createConeMesh=function(l,d){return b.exports.createMesh(l,d,{shaders:i,traceType:"cone"})}},9060:function(b,a,t){var u=t(9405),i=t(2762),l=t(8116),d=t(7766),v=t(6760),y=t(7608),p=t(9618),c=t(6729),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,s,r,g,e,h,_,w,S,O,A){this.gl=o,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=s,this.dirty=!0,this.triShader=r,this.pickShader=g,this.trianglePositions=e,this.triangleVectors=h,this.triangleColors=w,this.triangleUVs=S,this.triangleIds=_,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=A,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=x,this._view=x,this._projection=x,this._resolution=[1,1]}var n=f.prototype;n.isOpaque=function(){return this.opacity>=1},n.isTransparent=function(){return this.opacity<1},n.pickSlots=1,n.setPickBase=function(o){this.pickId=o},n.update=function(o){o=o||{};var s=this.gl;this.dirty=!0,"lightPosition"in o&&(this.lightPosition=o.lightPosition),"opacity"in o&&(this.opacity=o.opacity),"ambient"in o&&(this.ambientLight=o.ambient),"diffuse"in o&&(this.diffuseLight=o.diffuse),"specular"in o&&(this.specularLight=o.specular),"roughness"in o&&(this.roughness=o.roughness),"fresnel"in o&&(this.fresnel=o.fresnel),o.tubeScale!==void 0&&(this.tubeScale=o.tubeScale),o.vectorScale!==void 0&&(this.vectorScale=o.vectorScale),o.coneScale!==void 0&&(this.coneScale=o.coneScale),o.coneOffset!==void 0&&(this.coneOffset=o.coneOffset),o.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=s.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=s.LINEAR,this.texture.setPixels(function(Z){for(var q=c({colormap:Z,nshades:256,format:"rgba"}),Q=new Uint8Array(1024),ne=0;ne<256;++ne){for(var ie=q[ne],le=0;le<3;++le)Q[4*ne+le]=ie[le];Q[4*ne+3]=255*ie[3]}return p(Q,[256,256,4],[4,0,1])}(o.colormap)),this.texture.generateMipmap());var r=o.cells,g=o.positions,e=o.vectors;if(g&&r&&e){var h=[],_=[],w=[],S=[],O=[];this.cells=r,this.positions=g,this.vectors=e;var A=o.meshColor||[1,1,1,1],I=o.vertexIntensity,B=1/0,C=-1/0;if(I)if(o.vertexIntensityBounds)B=+o.vertexIntensityBounds[0],C=+o.vertexIntensityBounds[1];else for(var z=0;z<I.length;++z){var P=I[z];B=Math.min(B,P),C=Math.max(C,P)}else for(z=0;z<g.length;++z)P=g[z][2],B=Math.min(B,P),C=Math.max(C,P);for(this.intensity=I||function(Z){for(var q=Z.length,Q=new Array(q),ne=0;ne<q;++ne)Q[ne]=Z[ne][2];return Q}(g),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],z=0;z<g.length;++z)for(var R=g[z],N=0;N<3;++N)!isNaN(R[N])&&isFinite(R[N])&&(this.bounds[0][N]=Math.min(this.bounds[0][N],R[N]),this.bounds[1][N]=Math.max(this.bounds[1][N],R[N]));var j=0;e:for(z=0;z<r.length;++z){var W=r[z];if(W.length===3){for(N=0;N<3;++N){R=g[J=W[N]];for(var Y=0;Y<3;++Y)if(isNaN(R[Y])||!isFinite(R[Y]))continue e}for(N=0;N<3;++N){var J;R=g[J=W[2-N]],h.push(R[0],R[1],R[2],R[3]);var G=e[J];_.push(G[0],G[1],G[2],G[3]||0);var H,U=A;U.length===3?w.push(U[0],U[1],U[2],1):w.push(U[0],U[1],U[2],U[3]),H=I?[(I[J]-B)/(C-B),0]:[(R[2]-B)/(C-B),0],S.push(H[0],H[1]),O.push(z)}j+=1}}this.triangleCount=j,this.trianglePositions.update(h),this.triangleVectors.update(_),this.triangleColors.update(w),this.triangleUVs.update(S),this.triangleIds.update(new Uint32Array(O))}},n.drawTransparent=n.draw=function(o){o=o||{};for(var s=this.gl,r=o.model||x,g=o.view||x,e=o.projection||x,h=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)h[0][_]=Math.max(h[0][_],this.clipBounds[0][_]),h[1][_]=Math.min(h[1][_],this.clipBounds[1][_]);var w={model:r,view:g,projection:e,inverseModel:x.slice(),clipBounds:h,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};w.inverseModel=y(w.inverseModel,w.model),s.disable(s.CULL_FACE),this.texture.bind(0);var S=new Array(16);for(v(S,w.view,w.model),v(S,w.projection,S),y(S,S),_=0;_<3;++_)w.eyePosition[_]=S[12+_]/S[15];var O=S[15];for(_=0;_<3;++_)O+=this.lightPosition[_]*S[4*_+3];for(_=0;_<3;++_){for(var A=S[12+_],I=0;I<3;++I)A+=S[4*I+_]*this.lightPosition[I];w.lightPosition[_]=A/O}if(this.triangleCount>0){var B=this.triShader;B.bind(),B.uniforms=w,this.triangleVAO.bind(),s.drawArrays(s.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},n.drawPick=function(o){o=o||{};for(var s=this.gl,r=o.model||x,g=o.view||x,e=o.projection||x,h=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)h[0][_]=Math.max(h[0][_],this.clipBounds[0][_]),h[1][_]=Math.min(h[1][_],this.clipBounds[1][_]);this._model=[].slice.call(r),this._view=[].slice.call(g),this._projection=[].slice.call(e),this._resolution=[s.drawingBufferWidth,s.drawingBufferHeight];var w={model:r,view:g,projection:e,clipBounds:h,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},S=this.pickShader;S.bind(),S.uniforms=w,this.triangleCount>0&&(this.triangleVAO.bind(),s.drawArrays(s.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},n.pick=function(o){if(!o||o.id!==this.pickId)return null;var s=o.value[0]+256*o.value[1]+65536*o.value[2],r=this.cells[s],g=this.positions[r[1]].slice(0,3),e={position:g,dataCoordinate:g,index:Math.floor(r[1]/48)};return this.traceType==="cone"?e.index=Math.floor(r[1]/48):this.traceType==="streamtube"&&(e.intensity=this.intensity[r[1]],e.velocity=this.vectors[r[1]].slice(0,3),e.divergence=this.vectors[r[1]][3],e.index=s),e},n.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},b.exports=function(o,s,r){var g=r.shaders;arguments.length===1&&(o=(s=o).gl);var e=function(C,z){var P=u(C,z.meshShader.vertex,z.meshShader.fragment,null,z.meshShader.attributes);return P.attributes.position.location=0,P.attributes.color.location=2,P.attributes.uv.location=3,P.attributes.vector.location=4,P}(o,g),h=function(C,z){var P=u(C,z.pickShader.vertex,z.pickShader.fragment,null,z.pickShader.attributes);return P.attributes.position.location=0,P.attributes.id.location=1,P.attributes.vector.location=4,P}(o,g),_=d(o,p(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=o.LINEAR_MIPMAP_LINEAR,_.magFilter=o.LINEAR;var w=i(o),S=i(o),O=i(o),A=i(o),I=i(o),B=new f(o,_,e,h,w,S,I,O,A,l(o,[{buffer:w,type:o.FLOAT,size:4},{buffer:I,type:o.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:o.FLOAT,size:4},{buffer:A,type:o.FLOAT,size:2},{buffer:S,type:o.FLOAT,size:4}]),r.traceType||"cone");return B.update(s),B}},614:function(b,a,t){var u=t(3236),i=u([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),l=u([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),d=u([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),v=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);a.meshShader={vertex:i,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},a.pickShader={vertex:d,fragment:v,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(b){b.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(b,a,t){var u=t(737);b.exports=function(i){return u[i]}},9165:function(b,a,t){b.exports=function(f){var n=f.gl,o=u(n),s=i(n,[{buffer:o,type:n.FLOAT,size:3,offset:0,stride:40},{buffer:o,type:n.FLOAT,size:4,offset:12,stride:40},{buffer:o,type:n.FLOAT,size:3,offset:28,stride:40}]),r=l(n);r.attributes.position.location=0,r.attributes.color.location=1,r.attributes.offset.location=2;var g=new v(n,o,s,r);return g.update(f),g};var u=t(2762),i=t(8116),l=t(3436),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(f,n,o,s){this.gl=f,this.shader=s,this.buffer=n,this.vao=o,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var y=v.prototype;function p(f,n){for(var o=0;o<3;++o)f[0][o]=Math.min(f[0][o],n[o]),f[1][o]=Math.max(f[1][o],n[o])}y.isOpaque=function(){return!this.hasAlpha},y.isTransparent=function(){return this.hasAlpha},y.drawTransparent=y.draw=function(f){var n=this.gl,o=this.shader.uniforms;this.shader.bind();var s=o.view=f.view||d,r=o.projection=f.projection||d;o.model=f.model||d,o.clipBounds=this.clipBounds,o.opacity=this.opacity;var g=s[12],e=s[13],h=s[14],_=s[15],w=(f._ortho?2:1)*this.pixelRatio*(r[3]*g+r[7]*e+r[11]*h+r[15]*_)/n.drawingBufferHeight;this.vao.bind();for(var S=0;S<3;++S)n.lineWidth(this.lineWidth[S]*this.pixelRatio),o.capSize=this.capSize[S]*w,this.lineCount[S]&&n.drawArrays(n.LINES,this.lineOffset[S],this.lineCount[S]);this.vao.unbind()};var c=function(){for(var f=new Array(3),n=0;n<3;++n){for(var o=[],s=1;s<=2;++s)for(var r=-1;r<=1;r+=2){var g=[0,0,0];g[(s+n)%3]=r,o.push(g)}f[n]=o}return f}();function x(f,n,o,s){for(var r=c[s],g=0;g<r.length;++g){var e=r[g];f.push(n[0],n[1],n[2],o[0],o[1],o[2],o[3],e[0],e[1],e[2])}return r.length}y.update=function(f){"lineWidth"in(f=f||{})&&(this.lineWidth=f.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in f&&(this.capSize=f.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in f&&(this.opacity=+f.opacity,this.opacity<1&&(this.hasAlpha=!0));var n=f.color||[[0,0,0],[0,0,0],[0,0,0]],o=f.position,s=f.error;if(Array.isArray(n[0])||(n=[n,n,n]),o&&s){var r=[],g=o.length,e=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var h=0;h<3;++h){this.lineOffset[h]=e;e:for(var _=0;_<g;++_){for(var w=o[_],S=0;S<3;++S)if(isNaN(w[S])||!isFinite(w[S]))continue e;var O,A=s[_],I=n[h];Array.isArray(I[0])&&(I=n[_]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!isNaN(A[0][h])&&!isNaN(A[1][h])&&(A[0][h]<0&&((O=w.slice())[h]+=A[0][h],r.push(w[0],w[1],w[2],I[0],I[1],I[2],I[3],0,0,0,O[0],O[1],O[2],I[0],I[1],I[2],I[3],0,0,0),p(this.bounds,O),e+=2+x(r,O,I,h)),A[1][h]>0&&((O=w.slice())[h]+=A[1][h],r.push(w[0],w[1],w[2],I[0],I[1],I[2],I[3],0,0,0,O[0],O[1],O[2],I[0],I[1],I[2],I[3],0,0,0),p(this.bounds,O),e+=2+x(r,O,I,h)))}this.lineCount[h]=e-this.lineOffset[h]}this.buffer.update(r)}},y.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},3436:function(b,a,t){var u=t(3236),i=t(9405),l=u([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),d=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);b.exports=function(v){return i(v,l,d,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(b,a,t){var u=t(7766);b.exports=function(g,e,h,_){i||(i=g.FRAMEBUFFER_UNSUPPORTED,l=g.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,d=g.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,v=g.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var w=g.getExtension("WEBGL_draw_buffers");if(!y&&w&&function(z,P){var R=z.getParameter(P.MAX_COLOR_ATTACHMENTS_WEBGL);y=new Array(R+1);for(var N=0;N<=R;++N){for(var j=new Array(R),W=0;W<N;++W)j[W]=z.COLOR_ATTACHMENT0+W;for(W=N;W<R;++W)j[W]=z.NONE;y[N]=j}}(g,w),Array.isArray(e)&&(_=h,h=0|e[1],e=0|e[0]),typeof e!="number")throw new Error("gl-fbo: Missing shape parameter");var S=g.getParameter(g.MAX_RENDERBUFFER_SIZE);if(e<0||e>S||h<0||h>S)throw new Error("gl-fbo: Parameters are too large for FBO");var O=1;if("color"in(_=_||{})){if((O=Math.max(0|_.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(O>1){if(!w)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(O>g.getParameter(w.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+O+" draw buffers")}}var A=g.UNSIGNED_BYTE,I=g.getExtension("OES_texture_float");if(_.float&&O>0){if(!I)throw new Error("gl-fbo: Context does not support floating point textures");A=g.FLOAT}else _.preferFloat&&O>0&&I&&(A=g.FLOAT);var B=!0;"depth"in _&&(B=!!_.depth);var C=!1;return"stencil"in _&&(C=!!_.stencil),new o(g,e,h,A,O,B,C,w)};var i,l,d,v,y=null;function p(g){return[g.getParameter(g.FRAMEBUFFER_BINDING),g.getParameter(g.RENDERBUFFER_BINDING),g.getParameter(g.TEXTURE_BINDING_2D)]}function c(g,e){g.bindFramebuffer(g.FRAMEBUFFER,e[0]),g.bindRenderbuffer(g.RENDERBUFFER,e[1]),g.bindTexture(g.TEXTURE_2D,e[2])}function x(g){switch(g){case i:throw new Error("gl-fbo: Framebuffer unsupported");case l:throw new Error("gl-fbo: Framebuffer incomplete attachment");case d:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case v:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function f(g,e,h,_,w,S){if(!_)return null;var O=u(g,e,h,w,_);return O.magFilter=g.NEAREST,O.minFilter=g.NEAREST,O.mipSamples=1,O.bind(),g.framebufferTexture2D(g.FRAMEBUFFER,S,g.TEXTURE_2D,O.handle,0),O}function n(g,e,h,_,w){var S=g.createRenderbuffer();return g.bindRenderbuffer(g.RENDERBUFFER,S),g.renderbufferStorage(g.RENDERBUFFER,_,e,h),g.framebufferRenderbuffer(g.FRAMEBUFFER,w,g.RENDERBUFFER,S),S}function o(g,e,h,_,w,S,O,A){this.gl=g,this._shape=[0|e,0|h],this._destroyed=!1,this._ext=A,this.color=new Array(w);for(var I=0;I<w;++I)this.color[I]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=_,this._useDepth=S,this._useStencil=O;var B=this,C=[0|e,0|h];Object.defineProperties(C,{0:{get:function(){return B._shape[0]},set:function(z){return B.width=z}},1:{get:function(){return B._shape[1]},set:function(z){return B.height=z}}}),this._shapeVector=C,function(z){var P=p(z.gl),R=z.gl,N=z.handle=R.createFramebuffer(),j=z._shape[0],W=z._shape[1],Y=z.color.length,J=z._ext,G=z._useStencil,H=z._useDepth,U=z._colorType;R.bindFramebuffer(R.FRAMEBUFFER,N);for(var Z=0;Z<Y;++Z)z.color[Z]=f(R,j,W,U,R.RGBA,R.COLOR_ATTACHMENT0+Z);Y===0?(z._color_rb=n(R,j,W,R.RGBA4,R.COLOR_ATTACHMENT0),J&&J.drawBuffersWEBGL(y[0])):Y>1&&J.drawBuffersWEBGL(y[Y]);var q=R.getExtension("WEBGL_depth_texture");q?G?z.depth=f(R,j,W,q.UNSIGNED_INT_24_8_WEBGL,R.DEPTH_STENCIL,R.DEPTH_STENCIL_ATTACHMENT):H&&(z.depth=f(R,j,W,R.UNSIGNED_SHORT,R.DEPTH_COMPONENT,R.DEPTH_ATTACHMENT)):H&&G?z._depth_rb=n(R,j,W,R.DEPTH_STENCIL,R.DEPTH_STENCIL_ATTACHMENT):H?z._depth_rb=n(R,j,W,R.DEPTH_COMPONENT16,R.DEPTH_ATTACHMENT):G&&(z._depth_rb=n(R,j,W,R.STENCIL_INDEX,R.STENCIL_ATTACHMENT));var Q=R.checkFramebufferStatus(R.FRAMEBUFFER);if(Q!==R.FRAMEBUFFER_COMPLETE){for(z._destroyed=!0,R.bindFramebuffer(R.FRAMEBUFFER,null),R.deleteFramebuffer(z.handle),z.handle=null,z.depth&&(z.depth.dispose(),z.depth=null),z._depth_rb&&(R.deleteRenderbuffer(z._depth_rb),z._depth_rb=null),Z=0;Z<z.color.length;++Z)z.color[Z].dispose(),z.color[Z]=null;z._color_rb&&(R.deleteRenderbuffer(z._color_rb),z._color_rb=null),c(R,P),x(Q)}c(R,P)}(this)}var s=o.prototype;function r(g,e,h){if(g._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(g._shape[0]!==e||g._shape[1]!==h){var _=g.gl,w=_.getParameter(_.MAX_RENDERBUFFER_SIZE);if(e<0||e>w||h<0||h>w)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");g._shape[0]=e,g._shape[1]=h;for(var S=p(_),O=0;O<g.color.length;++O)g.color[O].shape=g._shape;g._color_rb&&(_.bindRenderbuffer(_.RENDERBUFFER,g._color_rb),_.renderbufferStorage(_.RENDERBUFFER,_.RGBA4,g._shape[0],g._shape[1])),g.depth&&(g.depth.shape=g._shape),g._depth_rb&&(_.bindRenderbuffer(_.RENDERBUFFER,g._depth_rb),g._useDepth&&g._useStencil?_.renderbufferStorage(_.RENDERBUFFER,_.DEPTH_STENCIL,g._shape[0],g._shape[1]):g._useDepth?_.renderbufferStorage(_.RENDERBUFFER,_.DEPTH_COMPONENT16,g._shape[0],g._shape[1]):g._useStencil&&_.renderbufferStorage(_.RENDERBUFFER,_.STENCIL_INDEX,g._shape[0],g._shape[1])),_.bindFramebuffer(_.FRAMEBUFFER,g.handle);var A=_.checkFramebufferStatus(_.FRAMEBUFFER);A!==_.FRAMEBUFFER_COMPLETE&&(g.dispose(),c(_,S),x(A)),c(_,S)}}Object.defineProperties(s,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(g){if(Array.isArray(g)||(g=[0|g,0|g]),g.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|g[0],h=0|g[1];return r(this,e,h),[e,h]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(g){return r(this,g|=0,this._shape[1]),g},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(g){return g|=0,r(this,this._shape[0],g),g},enumerable:!1}}),s.bind=function(){if(!this._destroyed){var g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,this.handle),g.viewport(0,0,this._shape[0],this._shape[1])}},s.dispose=function(){if(!this._destroyed){this._destroyed=!0;var g=this.gl;g.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(g.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(g.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},2992:function(b,a,t){var u=t(3387).sprintf,i=t(5171),l=t(1848),d=t(1085);b.exports=function(v,y,p){var c=l(y)||"of unknown name (see npm glsl-shader-name)",x="unknown type";p!==void 0&&(x=p===i.FRAGMENT_SHADER?"fragment":"vertex");for(var f=u(`Error compiling %s shader %s:
`,x,c),n=u("%s%s",f,v),o=v.split(`
`),s={},r=0;r<o.length;r++){var g=o[r];if(g!==""&&g!=="\0"){var e=parseInt(g.split(":")[2]);if(isNaN(e))throw new Error(u("Could not parse error: %s",g));s[e]=g}}var h=d(y).split(`
`);for(r=0;r<h.length;r++)if((s[r+3]||s[r+2]||s[r+1])&&(f+=h[r]+`
`,s[r+1])){var _=s[r+1];_=_.substr(_.split(":",3).join(":").length+1).trim(),f+=u(`^^^ %s

`,_)}return{long:f.trim(),short:n.trim()}}},2510:function(b,a,t){b.exports=function(n,o){var s=n.gl,r=new p(n,d(s,y.vertex,y.fragment),d(s,y.pickVertex,y.pickFragment),v(s),v(s),v(s),v(s));return r.update(o),n.addObject(r),r};var u=t(2478),i=t(7762),l=t(1888),d=t(9405),v=t(2762),y=t(6768);function p(n,o,s,r,g,e,h){this.plot=n,this.shader=o,this.pickShader=s,this.positionBuffer=r,this.weightBuffer=g,this.colorBuffer=e,this.idBuffer=h,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,x=p.prototype,f=[0,0,1,0,0,1,1,0,1,1,0,1];x.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var n=this.plot,o=this.shader,s=this.bounds,r=this.numVertices;if(!(r<=0)){var g=n.gl,e=n.dataBox,h=s[2]-s[0],_=s[3]-s[1],w=e[2]-e[0],S=e[3]-e[1];c[0]=2*h/w,c[4]=2*_/S,c[6]=2*(s[0]-e[0])/w-1,c[7]=2*(s[1]-e[1])/S-1,o.bind();var O=o.uniforms;O.viewTransform=c,O.shape=this.shape;var A=o.attributes;this.positionBuffer.bind(),A.position.pointer(),this.weightBuffer.bind(),A.weight.pointer(g.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),A.color.pointer(g.UNSIGNED_BYTE,!0),g.drawArrays(g.TRIANGLES,0,r)}}),x.drawPick=function(){var n=[1,0,0,0,1,0,0,0,1],o=[0,0,0,0];return function(s){var r=this.plot,g=this.pickShader,e=this.bounds,h=this.numVertices;if(!(h<=0)){var _=r.gl,w=r.dataBox,S=e[2]-e[0],O=e[3]-e[1],A=w[2]-w[0],I=w[3]-w[1];n[0]=2*S/A,n[4]=2*O/I,n[6]=2*(e[0]-w[0])/A-1,n[7]=2*(e[1]-w[1])/I-1;for(var B=0;B<4;++B)o[B]=s>>8*B&255;this.pickOffset=s,g.bind();var C=g.uniforms;C.viewTransform=n,C.pickOffset=o,C.shape=this.shape;var z=g.attributes;return this.positionBuffer.bind(),z.position.pointer(),this.weightBuffer.bind(),z.weight.pointer(_.UNSIGNED_BYTE,!1),this.idBuffer.bind(),z.pickId.pointer(_.UNSIGNED_BYTE,!1),_.drawArrays(_.TRIANGLES,0,h),s+this.shape[0]*this.shape[1]}}}(),x.pick=function(n,o,s){var r=this.pickOffset,g=this.shape[0]*this.shape[1];if(s<r||s>=r+g)return null;var e=s-r,h=this.xData,_=this.yData;return{object:this,pointId:e,dataCoord:[h[e%this.shape[0]],_[e/this.shape[0]|0]]}},x.update=function(n){var o=(n=n||{}).shape||[0,0],s=n.x||i(o[0]),r=n.y||i(o[1]),g=n.z||new Float32Array(o[0]*o[1]),e=n.zsmooth!==!1;this.xData=s,this.yData=r;var h,_,w,S,O=n.colorLevels||[0],A=n.colorValues||[0,0,0,1],I=O.length,B=this.bounds;e?(h=B[0]=s[0],_=B[1]=r[0],w=B[2]=s[s.length-1],S=B[3]=r[r.length-1]):(h=B[0]=s[0]+(s[1]-s[0])/2,_=B[1]=r[0]+(r[1]-r[0])/2,w=B[2]=s[s.length-1]+(s[s.length-1]-s[s.length-2])/2,S=B[3]=r[r.length-1]+(r[r.length-1]-r[r.length-2])/2);var C=1/(w-h),z=1/(S-_),P=o[0],R=o[1];this.shape=[P,R];var N=(e?(P-1)*(R-1):P*R)*(f.length>>>1);this.numVertices=N;for(var j=l.mallocUint8(4*N),W=l.mallocFloat32(2*N),Y=l.mallocUint8(2*N),J=l.mallocUint32(N),G=0,H=e?P-1:P,U=e?R-1:R,Z=0;Z<U;++Z){var q,Q;e?(q=z*(r[Z]-_),Q=z*(r[Z+1]-_)):(q=Z<R-1?z*(r[Z]-(r[Z+1]-r[Z])/2-_):z*(r[Z]-(r[Z]-r[Z-1])/2-_),Q=Z<R-1?z*(r[Z]+(r[Z+1]-r[Z])/2-_):z*(r[Z]+(r[Z]-r[Z-1])/2-_));for(var ne=0;ne<H;++ne){var ie,le;e?(ie=C*(s[ne]-h),le=C*(s[ne+1]-h)):(ie=ne<P-1?C*(s[ne]-(s[ne+1]-s[ne])/2-h):C*(s[ne]-(s[ne]-s[ne-1])/2-h),le=ne<P-1?C*(s[ne]+(s[ne+1]-s[ne])/2-h):C*(s[ne]+(s[ne]-s[ne-1])/2-h));for(var fe=0;fe<f.length;fe+=2){var pe,me,ke,ve,he=f[fe],de=f[fe+1],X=g[e?(Z+de)*P+(ne+he):Z*P+ne],ae=u.le(O,X);if(ae<0)pe=A[0],me=A[1],ke=A[2],ve=A[3];else if(ae===I-1)pe=A[4*I-4],me=A[4*I-3],ke=A[4*I-2],ve=A[4*I-1];else{var K=(X-O[ae])/(O[ae+1]-O[ae]),ge=1-K,re=4*ae,ue=4*(ae+1);pe=ge*A[re]+K*A[ue],me=ge*A[re+1]+K*A[ue+1],ke=ge*A[re+2]+K*A[ue+2],ve=ge*A[re+3]+K*A[ue+3]}j[4*G]=255*pe,j[4*G+1]=255*me,j[4*G+2]=255*ke,j[4*G+3]=255*ve,W[2*G]=.5*ie+.5*le,W[2*G+1]=.5*q+.5*Q,Y[2*G]=he,Y[2*G+1]=de,J[G]=Z*P+ne,G+=1}}}this.positionBuffer.update(W),this.weightBuffer.update(Y),this.colorBuffer.update(j),this.idBuffer.update(J),l.free(W),l.free(j),l.free(Y),l.free(J)},x.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},6768:function(b,a,t){var u=t(3236);b.exports={fragment:u([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:u([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:u([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:u([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(b,a,t){var u=t(3236),i=t(9405),l=u([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),d=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),v=u([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),y=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];a.createShader=function(p){return i(p,l,d,null,y)},a.createPickShader=function(p){return i(p,l,v,null,y)}},5714:function(b,a,t){b.exports=function(h){var _=h.gl||h.scene&&h.scene.gl,w=x(_);w.attributes.position.location=0,w.attributes.nextPosition.location=1,w.attributes.arcLength.location=2,w.attributes.lineWidth.location=3,w.attributes.color.location=4;var S=f(_);S.attributes.position.location=0,S.attributes.nextPosition.location=1,S.attributes.arcLength.location=2,S.attributes.lineWidth.location=3,S.attributes.color.location=4;for(var O=u(_),A=i(_,[{buffer:O,size:3,offset:0,stride:48},{buffer:O,size:3,offset:12,stride:48},{buffer:O,size:1,offset:24,stride:48},{buffer:O,size:1,offset:28,stride:48},{buffer:O,size:4,offset:32,stride:48}]),I=p(new Array(1024),[256,1,4]),B=0;B<1024;++B)I.data[B]=255;var C=l(_,I);C.wrap=_.REPEAT;var z=new g(_,w,S,O,A,C);return z.update(h),z};var u=t(2762),i=t(8116),l=t(7766),d=new Uint8Array(4),v=new Float32Array(d.buffer),y=t(2478),p=t(9618),c=t(7319),x=c.createShader,f=c.createPickShader,n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(h,_){for(var w=0,S=0;S<3;++S){var O=h[S]-_[S];w+=O*O}return Math.sqrt(w)}function s(h){for(var _=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)_[0][w]=Math.max(h[0][w],_[0][w]),_[1][w]=Math.min(h[1][w],_[1][w]);return _}function r(h,_,w,S){this.arcLength=h,this.position=_,this.index=w,this.dataCoordinate=S}function g(h,_,w,S,O,A){this.gl=h,this.shader=_,this.pickShader=w,this.buffer=S,this.vao=O,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=A,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var e=g.prototype;e.isTransparent=function(){return this.hasAlpha},e.isOpaque=function(){return!this.hasAlpha},e.pickSlots=1,e.setPickBase=function(h){this.pickId=h},e.drawTransparent=e.draw=function(h){if(this.vertexCount){var _=this.gl,w=this.shader,S=this.vao;w.bind(),w.uniforms={model:h.model||n,view:h.view||n,projection:h.projection||n,clipBounds:s(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[_.drawingBufferWidth,_.drawingBufferHeight],pixelRatio:this.pixelRatio},S.bind(),S.draw(_.TRIANGLE_STRIP,this.vertexCount),S.unbind()}},e.drawPick=function(h){if(this.vertexCount){var _=this.gl,w=this.pickShader,S=this.vao;w.bind(),w.uniforms={model:h.model||n,view:h.view||n,projection:h.projection||n,pickId:this.pickId,clipBounds:s(this.clipBounds),screenShape:[_.drawingBufferWidth,_.drawingBufferHeight],pixelRatio:this.pixelRatio},S.bind(),S.draw(_.TRIANGLE_STRIP,this.vertexCount),S.unbind()}},e.update=function(h){var _,w;this.dirty=!0;var S=!!h.connectGaps;"dashScale"in h&&(this.dashScale=h.dashScale),this.hasAlpha=!1,"opacity"in h&&(this.opacity=+h.opacity,this.opacity<1&&(this.hasAlpha=!0));var O=[],A=[],I=[],B=0,C=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],P=h.position||h.positions;if(P){var R=h.color||h.colors||[0,0,0,1],N=h.lineWidth||1,j=!1;e:for(_=1;_<P.length;++_){var W,Y,J,G=P[_-1],H=P[_];for(A.push(B),I.push(G.slice()),w=0;w<3;++w){if(isNaN(G[w])||isNaN(H[w])||!isFinite(G[w])||!isFinite(H[w])){if(!S&&O.length>0){for(var U=0;U<24;++U)O.push(O[O.length-12]);C+=2,j=!0}continue e}z[0][w]=Math.min(z[0][w],G[w],H[w]),z[1][w]=Math.max(z[1][w],G[w],H[w])}Array.isArray(R[0])?(W=R.length>_-1?R[_-1]:R.length>0?R[R.length-1]:[0,0,0,1],Y=R.length>_?R[_]:R.length>0?R[R.length-1]:[0,0,0,1]):W=Y=R,W.length===3&&(W=[W[0],W[1],W[2],1]),Y.length===3&&(Y=[Y[0],Y[1],Y[2],1]),!this.hasAlpha&&W[3]<1&&(this.hasAlpha=!0),J=Array.isArray(N)?N.length>_-1?N[_-1]:N.length>0?N[N.length-1]:[0,0,0,1]:N;var Z=B;if(B+=o(G,H),j){for(w=0;w<2;++w)O.push(G[0],G[1],G[2],H[0],H[1],H[2],Z,J,W[0],W[1],W[2],W[3]);C+=2,j=!1}O.push(G[0],G[1],G[2],H[0],H[1],H[2],Z,J,W[0],W[1],W[2],W[3],G[0],G[1],G[2],H[0],H[1],H[2],Z,-J,W[0],W[1],W[2],W[3],H[0],H[1],H[2],G[0],G[1],G[2],B,-J,Y[0],Y[1],Y[2],Y[3],H[0],H[1],H[2],G[0],G[1],G[2],B,J,Y[0],Y[1],Y[2],Y[3]),C+=4}}if(this.buffer.update(O),A.push(B),I.push(P[P.length-1].slice()),this.bounds=z,this.vertexCount=C,this.points=I,this.arcLength=A,"dashes"in h){var q=h.dashes.slice();for(q.unshift(0),_=1;_<q.length;++_)q[_]=q[_-1]+q[_];var Q=p(new Array(1024),[256,1,4]);for(_=0;_<256;++_){for(w=0;w<4;++w)Q.set(_,0,w,0);1&y.le(q,q[q.length-1]*_/255)?Q.set(_,0,0,0):Q.set(_,0,0,255)}this.texture.setPixels(Q)}},e.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},e.pick=function(h){if(!h||h.id!==this.pickId)return null;var _=function(P,R,N,j){return d[0]=0,d[1]=N,d[2]=R,d[3]=P,v[0]}(h.value[0],h.value[1],h.value[2]),w=y.le(this.arcLength,_);if(w<0)return null;if(w===this.arcLength.length-1)return new r(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),w);for(var S=this.points[w],O=this.points[Math.min(w+1,this.points.length-1)],A=(_-this.arcLength[w])/(this.arcLength[w+1]-this.arcLength[w]),I=1-A,B=[0,0,0],C=0;C<3;++C)B[C]=I*S[C]+A*O[C];var z=Math.min(A<.5?w:w+1,this.points.length-1);return new r(_,B,z,this.points[z])}},1903:function(b){b.exports=function(a){var t=new Float32Array(16);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}},6864:function(b){b.exports=function(){var a=new Float32Array(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},9921:function(b){b.exports=function(a){var t=a[0],u=a[1],i=a[2],l=a[3],d=a[4],v=a[5],y=a[6],p=a[7],c=a[8],x=a[9],f=a[10],n=a[11],o=a[12],s=a[13],r=a[14],g=a[15];return(t*v-u*d)*(f*g-n*r)-(t*y-i*d)*(x*g-n*s)+(t*p-l*d)*(x*r-f*s)+(u*y-i*v)*(c*g-n*o)-(u*p-l*v)*(c*r-f*o)+(i*p-l*y)*(c*s-x*o)}},7399:function(b){b.exports=function(a,t){var u=t[0],i=t[1],l=t[2],d=t[3],v=u+u,y=i+i,p=l+l,c=u*v,x=i*v,f=i*y,n=l*v,o=l*y,s=l*p,r=d*v,g=d*y,e=d*p;return a[0]=1-f-s,a[1]=x+e,a[2]=n-g,a[3]=0,a[4]=x-e,a[5]=1-c-s,a[6]=o+r,a[7]=0,a[8]=n+g,a[9]=o-r,a[10]=1-c-f,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},6743:function(b){b.exports=function(a,t,u){var i=t[0],l=t[1],d=t[2],v=t[3],y=i+i,p=l+l,c=d+d,x=i*y,f=i*p,n=i*c,o=l*p,s=l*c,r=d*c,g=v*y,e=v*p,h=v*c;return a[0]=1-(o+r),a[1]=f+h,a[2]=n-e,a[3]=0,a[4]=f-h,a[5]=1-(x+r),a[6]=s+g,a[7]=0,a[8]=n+e,a[9]=s-g,a[10]=1-(x+o),a[11]=0,a[12]=u[0],a[13]=u[1],a[14]=u[2],a[15]=1,a}},7894:function(b){b.exports=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},7608:function(b){b.exports=function(a,t){var u=t[0],i=t[1],l=t[2],d=t[3],v=t[4],y=t[5],p=t[6],c=t[7],x=t[8],f=t[9],n=t[10],o=t[11],s=t[12],r=t[13],g=t[14],e=t[15],h=u*y-i*v,_=u*p-l*v,w=u*c-d*v,S=i*p-l*y,O=i*c-d*y,A=l*c-d*p,I=x*r-f*s,B=x*g-n*s,C=x*e-o*s,z=f*g-n*r,P=f*e-o*r,R=n*e-o*g,N=h*R-_*P+w*z+S*C-O*B+A*I;return N?(N=1/N,a[0]=(y*R-p*P+c*z)*N,a[1]=(l*P-i*R-d*z)*N,a[2]=(r*A-g*O+e*S)*N,a[3]=(n*O-f*A-o*S)*N,a[4]=(p*C-v*R-c*B)*N,a[5]=(u*R-l*C+d*B)*N,a[6]=(g*w-s*A-e*_)*N,a[7]=(x*A-n*w+o*_)*N,a[8]=(v*P-y*C+c*I)*N,a[9]=(i*C-u*P-d*I)*N,a[10]=(s*O-r*w+e*h)*N,a[11]=(f*w-x*O-o*h)*N,a[12]=(y*B-v*z-p*I)*N,a[13]=(u*z-i*B+l*I)*N,a[14]=(r*_-s*S-g*h)*N,a[15]=(x*S-f*_+n*h)*N,a):null}},6582:function(b,a,t){var u=t(7894);b.exports=function(i,l,d,v){var y,p,c,x,f,n,o,s,r,g,e=l[0],h=l[1],_=l[2],w=v[0],S=v[1],O=v[2],A=d[0],I=d[1],B=d[2];return Math.abs(e-A)<1e-6&&Math.abs(h-I)<1e-6&&Math.abs(_-B)<1e-6?u(i):(o=e-A,s=h-I,r=_-B,y=S*(r*=g=1/Math.sqrt(o*o+s*s+r*r))-O*(s*=g),p=O*(o*=g)-w*r,c=w*s-S*o,(g=Math.sqrt(y*y+p*p+c*c))?(y*=g=1/g,p*=g,c*=g):(y=0,p=0,c=0),x=s*c-r*p,f=r*y-o*c,n=o*p-s*y,(g=Math.sqrt(x*x+f*f+n*n))?(x*=g=1/g,f*=g,n*=g):(x=0,f=0,n=0),i[0]=y,i[1]=x,i[2]=o,i[3]=0,i[4]=p,i[5]=f,i[6]=s,i[7]=0,i[8]=c,i[9]=n,i[10]=r,i[11]=0,i[12]=-(y*e+p*h+c*_),i[13]=-(x*e+f*h+n*_),i[14]=-(o*e+s*h+r*_),i[15]=1,i)}},6760:function(b){b.exports=function(a,t,u){var i=t[0],l=t[1],d=t[2],v=t[3],y=t[4],p=t[5],c=t[6],x=t[7],f=t[8],n=t[9],o=t[10],s=t[11],r=t[12],g=t[13],e=t[14],h=t[15],_=u[0],w=u[1],S=u[2],O=u[3];return a[0]=_*i+w*y+S*f+O*r,a[1]=_*l+w*p+S*n+O*g,a[2]=_*d+w*c+S*o+O*e,a[3]=_*v+w*x+S*s+O*h,_=u[4],w=u[5],S=u[6],O=u[7],a[4]=_*i+w*y+S*f+O*r,a[5]=_*l+w*p+S*n+O*g,a[6]=_*d+w*c+S*o+O*e,a[7]=_*v+w*x+S*s+O*h,_=u[8],w=u[9],S=u[10],O=u[11],a[8]=_*i+w*y+S*f+O*r,a[9]=_*l+w*p+S*n+O*g,a[10]=_*d+w*c+S*o+O*e,a[11]=_*v+w*x+S*s+O*h,_=u[12],w=u[13],S=u[14],O=u[15],a[12]=_*i+w*y+S*f+O*r,a[13]=_*l+w*p+S*n+O*g,a[14]=_*d+w*c+S*o+O*e,a[15]=_*v+w*x+S*s+O*h,a}},4040:function(b){b.exports=function(a,t,u,i,l,d,v){var y=1/(t-u),p=1/(i-l),c=1/(d-v);return a[0]=-2*y,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*p,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*c,a[11]=0,a[12]=(t+u)*y,a[13]=(l+i)*p,a[14]=(v+d)*c,a[15]=1,a}},4772:function(b){b.exports=function(a,t,u,i,l){var d=1/Math.tan(t/2),v=1/(i-l);return a[0]=d/u,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=d,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(l+i)*v,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*l*i*v,a[15]=0,a}},6079:function(b){b.exports=function(a,t,u,i){var l,d,v,y,p,c,x,f,n,o,s,r,g,e,h,_,w,S,O,A,I,B,C,z,P=i[0],R=i[1],N=i[2],j=Math.sqrt(P*P+R*R+N*N);return Math.abs(j)<1e-6?null:(P*=j=1/j,R*=j,N*=j,l=Math.sin(u),v=1-(d=Math.cos(u)),y=t[0],p=t[1],c=t[2],x=t[3],f=t[4],n=t[5],o=t[6],s=t[7],r=t[8],g=t[9],e=t[10],h=t[11],_=P*P*v+d,w=R*P*v+N*l,S=N*P*v-R*l,O=P*R*v-N*l,A=R*R*v+d,I=N*R*v+P*l,B=P*N*v+R*l,C=R*N*v-P*l,z=N*N*v+d,a[0]=y*_+f*w+r*S,a[1]=p*_+n*w+g*S,a[2]=c*_+o*w+e*S,a[3]=x*_+s*w+h*S,a[4]=y*O+f*A+r*I,a[5]=p*O+n*A+g*I,a[6]=c*O+o*A+e*I,a[7]=x*O+s*A+h*I,a[8]=y*B+f*C+r*z,a[9]=p*B+n*C+g*z,a[10]=c*B+o*C+e*z,a[11]=x*B+s*C+h*z,t!==a&&(a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a)}},5567:function(b){b.exports=function(a,t,u){var i=Math.sin(u),l=Math.cos(u),d=t[4],v=t[5],y=t[6],p=t[7],c=t[8],x=t[9],f=t[10],n=t[11];return t!==a&&(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[4]=d*l+c*i,a[5]=v*l+x*i,a[6]=y*l+f*i,a[7]=p*l+n*i,a[8]=c*l-d*i,a[9]=x*l-v*i,a[10]=f*l-y*i,a[11]=n*l-p*i,a}},2408:function(b){b.exports=function(a,t,u){var i=Math.sin(u),l=Math.cos(u),d=t[0],v=t[1],y=t[2],p=t[3],c=t[8],x=t[9],f=t[10],n=t[11];return t!==a&&(a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[0]=d*l-c*i,a[1]=v*l-x*i,a[2]=y*l-f*i,a[3]=p*l-n*i,a[8]=d*i+c*l,a[9]=v*i+x*l,a[10]=y*i+f*l,a[11]=p*i+n*l,a}},7089:function(b){b.exports=function(a,t,u){var i=Math.sin(u),l=Math.cos(u),d=t[0],v=t[1],y=t[2],p=t[3],c=t[4],x=t[5],f=t[6],n=t[7];return t!==a&&(a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[0]=d*l+c*i,a[1]=v*l+x*i,a[2]=y*l+f*i,a[3]=p*l+n*i,a[4]=c*l-d*i,a[5]=x*l-v*i,a[6]=f*l-y*i,a[7]=n*l-p*i,a}},2504:function(b){b.exports=function(a,t,u){var i=u[0],l=u[1],d=u[2];return a[0]=t[0]*i,a[1]=t[1]*i,a[2]=t[2]*i,a[3]=t[3]*i,a[4]=t[4]*l,a[5]=t[5]*l,a[6]=t[6]*l,a[7]=t[7]*l,a[8]=t[8]*d,a[9]=t[9]*d,a[10]=t[10]*d,a[11]=t[11]*d,a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a}},7656:function(b){b.exports=function(a,t,u){var i,l,d,v,y,p,c,x,f,n,o,s,r=u[0],g=u[1],e=u[2];return t===a?(a[12]=t[0]*r+t[4]*g+t[8]*e+t[12],a[13]=t[1]*r+t[5]*g+t[9]*e+t[13],a[14]=t[2]*r+t[6]*g+t[10]*e+t[14],a[15]=t[3]*r+t[7]*g+t[11]*e+t[15]):(i=t[0],l=t[1],d=t[2],v=t[3],y=t[4],p=t[5],c=t[6],x=t[7],f=t[8],n=t[9],o=t[10],s=t[11],a[0]=i,a[1]=l,a[2]=d,a[3]=v,a[4]=y,a[5]=p,a[6]=c,a[7]=x,a[8]=f,a[9]=n,a[10]=o,a[11]=s,a[12]=i*r+y*g+f*e+t[12],a[13]=l*r+p*g+n*e+t[13],a[14]=d*r+c*g+o*e+t[14],a[15]=v*r+x*g+s*e+t[15]),a}},5665:function(b){b.exports=function(a,t){if(a===t){var u=t[1],i=t[2],l=t[3],d=t[6],v=t[7],y=t[11];a[1]=t[4],a[2]=t[8],a[3]=t[12],a[4]=u,a[6]=t[9],a[7]=t[13],a[8]=i,a[9]=d,a[11]=t[14],a[12]=l,a[13]=v,a[14]=y}else a[0]=t[0],a[1]=t[4],a[2]=t[8],a[3]=t[12],a[4]=t[1],a[5]=t[5],a[6]=t[9],a[7]=t[13],a[8]=t[2],a[9]=t[6],a[10]=t[10],a[11]=t[14],a[12]=t[3],a[13]=t[7],a[14]=t[11],a[15]=t[15];return a}},7626:function(b,a,t){var u=t(2642),i=t(9346);function l(y,p){for(var c=[0,0,0,0],x=0;x<4;++x)for(var f=0;f<4;++f)c[f]+=y[4*x+f]*p[x];return c}function d(y,p,c,x,f){for(var n=l(x,l(c,l(p,[y[0],y[1],y[2],1]))),o=0;o<3;++o)n[o]/=n[3];return[.5*f[0]*(1+n[0]),.5*f[1]*(1-n[1])]}function v(y,p){for(var c=[0,0,0],x=0;x<y.length;++x)for(var f=y[x],n=p[x],o=0;o<3;++o)c[o]+=n*f[o];return c}b.exports=function(y,p,c,x,f,n){if(y.length===1)return[0,y[0].slice()];for(var o=new Array(y.length),s=0;s<y.length;++s)o[s]=d(y[s],c,x,f,n);var r=0,g=1/0;for(s=0;s<o.length;++s){for(var e=0,h=0;h<2;++h)e+=Math.pow(o[s][h]-p[h],2);e<g&&(g=e,r=s)}var _=function(S,O){if(S.length===2){for(var A=0,I=0,B=0;B<2;++B)A+=Math.pow(O[B]-S[0][B],2),I+=Math.pow(O[B]-S[1][B],2);return(A=Math.sqrt(A))+(I=Math.sqrt(I))<1e-6?[1,0]:[I/(A+I),A/(I+A)]}if(S.length===3){var C=[0,0];return i(S[0],S[1],S[2],O,C),u(S,C)}return[]}(o,p),w=0;for(s=0;s<3;++s){if(_[s]<-.001||_[s]>1.0001)return null;w+=_[s]}return Math.abs(w-1)>.001?null:[r,v(y,_),_]}},840:function(b,a,t){var u=t(3236),i=u([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),l=u([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),d=u([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),v=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),y=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),p=u([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=u([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),x=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),f=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),n=u([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),o=u([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);a.meshShader={vertex:i,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},a.wireShader={vertex:d,fragment:v,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},a.pointShader={vertex:y,fragment:p,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},a.pickShader={vertex:c,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},a.pointPickShader={vertex:f,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},a.contourShader={vertex:n,fragment:o,attributes:[{name:"position",type:"vec3"}]}},7201:function(b,a,t){var u=t(9405),i=t(2762),l=t(8116),d=t(7766),v=t(8406),y=t(6760),p=t(7608),c=t(9618),x=t(6729),f=t(7765),n=t(1888),o=t(840),s=t(7626),r=o.meshShader,g=o.wireShader,e=o.pointShader,h=o.pickShader,_=o.pointPickShader,w=o.contourShader,S=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function O(R,N,j,W,Y,J,G,H,U,Z,q,Q,ne,ie,le,fe,pe,me,ke,ve,he,de,X,ae,K,ge,re){this.gl=R,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=N,this.dirty=!0,this.triShader=j,this.lineShader=W,this.pointShader=Y,this.pickShader=J,this.pointPickShader=G,this.contourShader=H,this.trianglePositions=U,this.triangleColors=q,this.triangleNormals=ne,this.triangleUVs=Q,this.triangleIds=Z,this.triangleVAO=ie,this.triangleCount=0,this.lineWidth=1,this.edgePositions=le,this.edgeColors=pe,this.edgeUVs=me,this.edgeIds=fe,this.edgeVAO=ke,this.edgeCount=0,this.pointPositions=ve,this.pointColors=de,this.pointUVs=X,this.pointSizes=ae,this.pointIds=he,this.pointVAO=K,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=ge,this.contourVAO=re,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=S,this._view=S,this._projection=S,this._resolution=[1,1]}var A=O.prototype;function I(R,N){if(!N||!N.length)return 1;for(var j=0;j<N.length;++j){if(N.length<2)return 1;if(N[j][0]===R)return N[j][1];if(N[j][0]>R&&j>0){var W=(N[j][0]-R)/(N[j][0]-N[j-1][0]);return N[j][1]*(1-W)+W*N[j-1][1]}}return 1}function B(R){var N=u(R,e.vertex,e.fragment);return N.attributes.position.location=0,N.attributes.color.location=2,N.attributes.uv.location=3,N.attributes.pointSize.location=4,N}function C(R){var N=u(R,h.vertex,h.fragment);return N.attributes.position.location=0,N.attributes.id.location=1,N}function z(R){var N=u(R,_.vertex,_.fragment);return N.attributes.position.location=0,N.attributes.id.location=1,N.attributes.pointSize.location=4,N}function P(R){var N=u(R,w.vertex,w.fragment);return N.attributes.position.location=0,N}A.isOpaque=function(){return!this.hasAlpha},A.isTransparent=function(){return this.hasAlpha},A.pickSlots=1,A.setPickBase=function(R){this.pickId=R},A.highlight=function(R){if(R&&this.contourEnable){for(var N=f(this.cells,this.intensity,R.intensity),j=N.cells,W=N.vertexIds,Y=N.vertexWeights,J=j.length,G=n.mallocFloat32(6*J),H=0,U=0;U<J;++U)for(var Z=j[U],q=0;q<2;++q){var Q=Z[0];Z.length===2&&(Q=Z[q]);for(var ne=W[Q][0],ie=W[Q][1],le=Y[Q],fe=1-le,pe=this.positions[ne],me=this.positions[ie],ke=0;ke<3;++ke)G[H++]=le*pe[ke]+fe*me[ke]}this.contourCount=H/3|0,this.contourPositions.update(G.subarray(0,H)),n.free(G)}else this.contourCount=0},A.update=function(R){R=R||{};var N=this.gl;this.dirty=!0,"contourEnable"in R&&(this.contourEnable=R.contourEnable),"contourColor"in R&&(this.contourColor=R.contourColor),"lineWidth"in R&&(this.lineWidth=R.lineWidth),"lightPosition"in R&&(this.lightPosition=R.lightPosition),this.hasAlpha=!1,"opacity"in R&&(this.opacity=R.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in R&&(this.opacityscale=R.opacityscale,this.hasAlpha=!0),"ambient"in R&&(this.ambientLight=R.ambient),"diffuse"in R&&(this.diffuseLight=R.diffuse),"specular"in R&&(this.specularLight=R.specular),"roughness"in R&&(this.roughness=R.roughness),"fresnel"in R&&(this.fresnel=R.fresnel),R.texture?(this.texture.dispose(),this.texture=d(N,R.texture)):R.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=N.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=N.LINEAR,this.texture.setPixels(function(Ot,Je){for(var at=x({colormap:Ot,nshades:256,format:"rgba"}),gt=new Uint8Array(1024),Oe=0;Oe<256;++Oe){for(var Be=at[Oe],it=0;it<3;++it)gt[4*Oe+it]=Be[it];gt[4*Oe+3]=Je?255*I(Oe/255,Je):255*Be[3]}return c(gt,[256,256,4],[4,0,1])}(R.colormap,this.opacityscale)),this.texture.generateMipmap());var j=R.cells,W=R.positions;if(W&&j){var Y=[],J=[],G=[],H=[],U=[],Z=[],q=[],Q=[],ne=[],ie=[],le=[],fe=[],pe=[],me=[];this.cells=j,this.positions=W;var ke=R.vertexNormals,ve=R.cellNormals,he=R.vertexNormalsEpsilon===void 0?1e-6:R.vertexNormalsEpsilon,de=R.faceNormalsEpsilon===void 0?1e-6:R.faceNormalsEpsilon;R.useFacetNormals&&!ve&&(ve=v.faceNormals(j,W,de)),ve||ke||(ke=v.vertexNormals(j,W,he));var X=R.vertexColors,ae=R.cellColors,K=R.meshColor||[1,1,1,1],ge=R.vertexUVs,re=R.vertexIntensity,ue=R.cellUVs,we=R.cellIntensity,Te=1/0,ee=-1/0;if(!ge&&!ue)if(re)if(R.vertexIntensityBounds)Te=+R.vertexIntensityBounds[0],ee=+R.vertexIntensityBounds[1];else for(var se=0;se<re.length;++se){var ce=re[se];Te=Math.min(Te,ce),ee=Math.max(ee,ce)}else if(we)if(R.cellIntensityBounds)Te=+R.cellIntensityBounds[0],ee=+R.cellIntensityBounds[1];else for(se=0;se<we.length;++se)ce=we[se],Te=Math.min(Te,ce),ee=Math.max(ee,ce);else for(se=0;se<W.length;++se)ce=W[se][2],Te=Math.min(Te,ce),ee=Math.max(ee,ce);this.intensity=re||we||function(Ot){for(var Je=Ot.length,at=new Array(Je),gt=0;gt<Je;++gt)at[gt]=Ot[gt][2];return at}(W),this.pickVertex=!(we||ae);var be=R.pointSizes,Ee=R.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],se=0;se<W.length;++se)for(var Se=W[se],De=0;De<3;++De)!isNaN(Se[De])&&isFinite(Se[De])&&(this.bounds[0][De]=Math.min(this.bounds[0][De],Se[De]),this.bounds[1][De]=Math.max(this.bounds[1][De],Se[De]));var Ge=0,Xe=0,Ke=0;e:for(se=0;se<j.length;++se){var ut=j[se];switch(ut.length){case 1:for(Se=W[je=ut[0]],De=0;De<3;++De)if(isNaN(Se[De])||!isFinite(Se[De]))continue e;ie.push(Se[0],Se[1],Se[2]),Le=X?X[je]:ae?ae[se]:K,this.opacityscale&&re?J.push(Le[0],Le[1],Le[2],this.opacity*I((re[je]-Te)/(ee-Te),this.opacityscale)):Le.length===3?le.push(Le[0],Le[1],Le[2],this.opacity):(le.push(Le[0],Le[1],Le[2],Le[3]*this.opacity),Le[3]<1&&(this.hasAlpha=!0)),$e=ge?ge[je]:re?[(re[je]-Te)/(ee-Te),0]:ue?ue[se]:we?[(we[se]-Te)/(ee-Te),0]:[(Se[2]-Te)/(ee-Te),0],fe.push($e[0],$e[1]),be?pe.push(be[je]):pe.push(Ee),me.push(se),Ke+=1;break;case 2:for(De=0;De<2;++De){Se=W[je=ut[De]];for(var Tt=0;Tt<3;++Tt)if(isNaN(Se[Tt])||!isFinite(Se[Tt]))continue e}for(De=0;De<2;++De)Se=W[je=ut[De]],Z.push(Se[0],Se[1],Se[2]),Le=X?X[je]:ae?ae[se]:K,this.opacityscale&&re?J.push(Le[0],Le[1],Le[2],this.opacity*I((re[je]-Te)/(ee-Te),this.opacityscale)):Le.length===3?q.push(Le[0],Le[1],Le[2],this.opacity):(q.push(Le[0],Le[1],Le[2],Le[3]*this.opacity),Le[3]<1&&(this.hasAlpha=!0)),$e=ge?ge[je]:re?[(re[je]-Te)/(ee-Te),0]:ue?ue[se]:we?[(we[se]-Te)/(ee-Te),0]:[(Se[2]-Te)/(ee-Te),0],Q.push($e[0],$e[1]),ne.push(se);Xe+=1;break;case 3:for(De=0;De<3;++De)for(Se=W[je=ut[De]],Tt=0;Tt<3;++Tt)if(isNaN(Se[Tt])||!isFinite(Se[Tt]))continue e;for(De=0;De<3;++De){var je,Le,$e,st;Se=W[je=ut[2-De]],Y.push(Se[0],Se[1],Se[2]),(Le=X?X[je]:ae?ae[se]:K)?this.opacityscale&&re?J.push(Le[0],Le[1],Le[2],this.opacity*I((re[je]-Te)/(ee-Te),this.opacityscale)):Le.length===3?J.push(Le[0],Le[1],Le[2],this.opacity):(J.push(Le[0],Le[1],Le[2],Le[3]*this.opacity),Le[3]<1&&(this.hasAlpha=!0)):J.push(.5,.5,.5,1),$e=ge?ge[je]:re?[(re[je]-Te)/(ee-Te),0]:ue?ue[se]:we?[(we[se]-Te)/(ee-Te),0]:[(Se[2]-Te)/(ee-Te),0],H.push($e[0],$e[1]),st=ke?ke[je]:ve[se],G.push(st[0],st[1],st[2]),U.push(se)}Ge+=1}}this.pointCount=Ke,this.edgeCount=Xe,this.triangleCount=Ge,this.pointPositions.update(ie),this.pointColors.update(le),this.pointUVs.update(fe),this.pointSizes.update(pe),this.pointIds.update(new Uint32Array(me)),this.edgePositions.update(Z),this.edgeColors.update(q),this.edgeUVs.update(Q),this.edgeIds.update(new Uint32Array(ne)),this.trianglePositions.update(Y),this.triangleColors.update(J),this.triangleUVs.update(H),this.triangleNormals.update(G),this.triangleIds.update(new Uint32Array(U))}},A.drawTransparent=A.draw=function(R){R=R||{};for(var N=this.gl,j=R.model||S,W=R.view||S,Y=R.projection||S,J=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],G=0;G<3;++G)J[0][G]=Math.max(J[0][G],this.clipBounds[0][G]),J[1][G]=Math.min(J[1][G],this.clipBounds[1][G]);var H={model:j,view:W,projection:Y,inverseModel:S.slice(),clipBounds:J,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};H.inverseModel=p(H.inverseModel,H.model),N.disable(N.CULL_FACE),this.texture.bind(0);var U=new Array(16);for(y(U,H.view,H.model),y(U,H.projection,U),p(U,U),G=0;G<3;++G)H.eyePosition[G]=U[12+G]/U[15];var Z,q=U[15];for(G=0;G<3;++G)q+=this.lightPosition[G]*U[4*G+3];for(G=0;G<3;++G){for(var Q=U[12+G],ne=0;ne<3;++ne)Q+=U[4*ne+G]*this.lightPosition[ne];H.lightPosition[G]=Q/q}this.triangleCount>0&&((Z=this.triShader).bind(),Z.uniforms=H,this.triangleVAO.bind(),N.drawArrays(N.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((Z=this.lineShader).bind(),Z.uniforms=H,this.edgeVAO.bind(),N.lineWidth(this.lineWidth*this.pixelRatio),N.drawArrays(N.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((Z=this.pointShader).bind(),Z.uniforms=H,this.pointVAO.bind(),N.drawArrays(N.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((Z=this.contourShader).bind(),Z.uniforms=H,this.contourVAO.bind(),N.drawArrays(N.LINES,0,this.contourCount),this.contourVAO.unbind())},A.drawPick=function(R){R=R||{};for(var N=this.gl,j=R.model||S,W=R.view||S,Y=R.projection||S,J=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],G=0;G<3;++G)J[0][G]=Math.max(J[0][G],this.clipBounds[0][G]),J[1][G]=Math.min(J[1][G],this.clipBounds[1][G]);this._model=[].slice.call(j),this._view=[].slice.call(W),this._projection=[].slice.call(Y),this._resolution=[N.drawingBufferWidth,N.drawingBufferHeight];var H,U={model:j,view:W,projection:Y,clipBounds:J,pickId:this.pickId/255};(H=this.pickShader).bind(),H.uniforms=U,this.triangleCount>0&&(this.triangleVAO.bind(),N.drawArrays(N.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),N.lineWidth(this.lineWidth*this.pixelRatio),N.drawArrays(N.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((H=this.pointPickShader).bind(),H.uniforms=U,this.pointVAO.bind(),N.drawArrays(N.POINTS,0,this.pointCount),this.pointVAO.unbind())},A.pick=function(R){if(!R||R.id!==this.pickId)return null;for(var N=R.value[0]+256*R.value[1]+65536*R.value[2],j=this.cells[N],W=this.positions,Y=new Array(j.length),J=0;J<j.length;++J)Y[J]=W[j[J]];var G=R.coord[0],H=R.coord[1];if(!this.pickVertex){var U=this.positions[j[0]],Z=this.positions[j[1]],q=this.positions[j[2]],Q=[(U[0]+Z[0]+q[0])/3,(U[1]+Z[1]+q[1])/3,(U[2]+Z[2]+q[2])/3];return{_cellCenter:!0,position:[G,H],index:N,cell:j,cellId:N,intensity:this.intensity[N],dataCoordinate:Q}}var ne=s(Y,[G*this.pixelRatio,this._resolution[1]-H*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ne)return null;var ie=ne[2],le=0;for(J=0;J<j.length;++J)le+=ie[J]*this.intensity[j[J]];return{position:ne[1],index:j[ne[0]],cell:j,cellId:N,intensity:le,dataCoordinate:this.positions[j[ne[0]]]}},A.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},b.exports=function(R,N){if(arguments.length===1&&(R=(N=R).gl),!(R.getExtension("OES_standard_derivatives")||R.getExtension("MOZ_OES_standard_derivatives")||R.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var j=function(we){var Te=u(we,r.vertex,r.fragment);return Te.attributes.position.location=0,Te.attributes.color.location=2,Te.attributes.uv.location=3,Te.attributes.normal.location=4,Te}(R),W=function(we){var Te=u(we,g.vertex,g.fragment);return Te.attributes.position.location=0,Te.attributes.color.location=2,Te.attributes.uv.location=3,Te}(R),Y=B(R),J=C(R),G=z(R),H=P(R),U=d(R,c(new Uint8Array([255,255,255,255]),[1,1,4]));U.generateMipmap(),U.minFilter=R.LINEAR_MIPMAP_LINEAR,U.magFilter=R.LINEAR;var Z=i(R),q=i(R),Q=i(R),ne=i(R),ie=i(R),le=l(R,[{buffer:Z,type:R.FLOAT,size:3},{buffer:ie,type:R.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:q,type:R.FLOAT,size:4},{buffer:Q,type:R.FLOAT,size:2},{buffer:ne,type:R.FLOAT,size:3}]),fe=i(R),pe=i(R),me=i(R),ke=i(R),ve=l(R,[{buffer:fe,type:R.FLOAT,size:3},{buffer:ke,type:R.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:pe,type:R.FLOAT,size:4},{buffer:me,type:R.FLOAT,size:2}]),he=i(R),de=i(R),X=i(R),ae=i(R),K=i(R),ge=l(R,[{buffer:he,type:R.FLOAT,size:3},{buffer:K,type:R.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:de,type:R.FLOAT,size:4},{buffer:X,type:R.FLOAT,size:2},{buffer:ae,type:R.FLOAT,size:1}]),re=i(R),ue=new O(R,U,j,W,Y,J,G,H,Z,ie,q,Q,ne,le,fe,ke,pe,me,ve,he,K,de,X,ae,ge,re,l(R,[{buffer:re,type:R.FLOAT,size:3}]));return ue.update(N),ue}},8120:function(b,a,t){b.exports=function(c){var x=c.gl;return new d(c,u(x,[0,0,0,1,1,0,1,1]),i(x,l.boxVert,l.lineFrag))};var u=t(2762),i=t(9405),l=t(3603);function d(c,x,f){this.plot=c,this.vbo=x,this.shader=f}var v,y,p=d.prototype;p.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},p.drawBox=(v=[0,0],y=[0,0],function(c,x,f,n,o){var s=this.plot,r=this.shader,g=s.gl;v[0]=c,v[1]=x,y[0]=f,y[1]=n,r.uniforms.lo=v,r.uniforms.hi=y,r.uniforms.color=o,g.drawArrays(g.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1913:function(b,a,t){b.exports=function(s){var r=s.gl;return new v(s,u(r),i(r,d.gridVert,d.gridFrag),i(r,d.tickVert,d.gridFrag))};var u=t(2762),i=t(9405),l=t(2478),d=t(3603);function v(s,r,g,e){this.plot=s,this.vbo=r,this.shader=g,this.tickShader=e,this.ticks=[[],[]]}function y(s,r){return s-r}var p,c,x,f,n,o=v.prototype;o.draw=(p=[0,0],c=[0,0],x=[0,0],function(){for(var s=this.plot,r=this.vbo,g=this.shader,e=this.ticks,h=s.gl,_=s._tickBounds,w=s.dataBox,S=s.viewBox,O=s.gridLineWidth,A=s.gridLineColor,I=s.gridLineEnable,B=s.pixelRatio,C=0;C<2;++C){var z=_[C],P=_[C+2]-z,R=.5*(w[C+2]+w[C]),N=w[C+2]-w[C];c[C]=2*P/N,p[C]=2*(z-R)/N}g.bind(),r.bind(),g.attributes.dataCoord.pointer(),g.uniforms.dataShift=p,g.uniforms.dataScale=c;var j=0;for(C=0;C<2;++C){x[0]=x[1]=0,x[C]=1,g.uniforms.dataAxis=x,g.uniforms.lineWidth=O[C]/(S[C+2]-S[C])*B,g.uniforms.color=A[C];var W=6*e[C].length;I[C]&&W&&h.drawArrays(h.TRIANGLES,j,W),j+=W}}),o.drawTickMarks=function(){var s=[0,0],r=[0,0],g=[1,0],e=[0,1],h=[0,0],_=[0,0];return function(){for(var w=this.plot,S=this.vbo,O=this.tickShader,A=this.ticks,I=w.gl,B=w._tickBounds,C=w.dataBox,z=w.viewBox,P=w.pixelRatio,R=w.screenBox,N=R[2]-R[0],j=R[3]-R[1],W=z[2]-z[0],Y=z[3]-z[1],J=0;J<2;++J){var G=B[J],H=B[J+2]-G,U=.5*(C[J+2]+C[J]),Z=C[J+2]-C[J];r[J]=2*H/Z,s[J]=2*(G-U)/Z}r[0]*=W/N,s[0]*=W/N,r[1]*=Y/j,s[1]*=Y/j,O.bind(),S.bind(),O.attributes.dataCoord.pointer();var q=O.uniforms;q.dataShift=s,q.dataScale=r;var Q=w.tickMarkLength,ne=w.tickMarkWidth,ie=w.tickMarkColor,le=6*A[0].length,fe=Math.min(l.ge(A[0],(C[0]-B[0])/(B[2]-B[0]),y),A[0].length),pe=Math.min(l.gt(A[0],(C[2]-B[0])/(B[2]-B[0]),y),A[0].length),me=0+6*fe,ke=6*Math.max(0,pe-fe),ve=Math.min(l.ge(A[1],(C[1]-B[1])/(B[3]-B[1]),y),A[1].length),he=Math.min(l.gt(A[1],(C[3]-B[1])/(B[3]-B[1]),y),A[1].length),de=le+6*ve,X=6*Math.max(0,he-ve);h[0]=2*(z[0]-Q[1])/N-1,h[1]=(z[3]+z[1])/j-1,_[0]=Q[1]*P/N,_[1]=ne[1]*P/j,X&&(q.color=ie[1],q.tickScale=_,q.dataAxis=e,q.screenOffset=h,I.drawArrays(I.TRIANGLES,de,X)),h[0]=(z[2]+z[0])/N-1,h[1]=2*(z[1]-Q[0])/j-1,_[0]=ne[0]*P/N,_[1]=Q[0]*P/j,ke&&(q.color=ie[0],q.tickScale=_,q.dataAxis=g,q.screenOffset=h,I.drawArrays(I.TRIANGLES,me,ke)),h[0]=2*(z[2]+Q[3])/N-1,h[1]=(z[3]+z[1])/j-1,_[0]=Q[3]*P/N,_[1]=ne[3]*P/j,X&&(q.color=ie[3],q.tickScale=_,q.dataAxis=e,q.screenOffset=h,I.drawArrays(I.TRIANGLES,de,X)),h[0]=(z[2]+z[0])/N-1,h[1]=2*(z[3]+Q[2])/j-1,_[0]=ne[2]*P/N,_[1]=Q[2]*P/j,ke&&(q.color=ie[2],q.tickScale=_,q.dataAxis=g,q.screenOffset=h,I.drawArrays(I.TRIANGLES,me,ke))}}(),o.update=(f=[1,1,-1,-1,1,-1],n=[1,-1,1,1,-1,-1],function(s){for(var r=s.ticks,g=s.bounds,e=new Float32Array(18*(r[0].length+r[1].length)),h=(this.plot.zeroLineEnable,0),_=[[],[]],w=0;w<2;++w)for(var S=_[w],O=r[w],A=g[w],I=g[w+2],B=0;B<O.length;++B){var C=(O[B].x-A)/(I-A);S.push(C);for(var z=0;z<6;++z)e[h++]=C,e[h++]=f[z],e[h++]=n[z]}this.ticks=_,this.vbo.update(e)}),o.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},4747:function(b,a,t){b.exports=function(c){var x=c.gl;return new d(c,u(x,[-1,-1,-1,1,1,-1,1,1]),i(x,l.lineVert,l.lineFrag))};var u=t(2762),i=t(9405),l=t(3603);function d(c,x,f){this.plot=c,this.vbo=x,this.shader=f}var v,y,p=d.prototype;p.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},p.drawLine=(v=[0,0],y=[0,0],function(c,x,f,n,o,s){var r=this.plot,g=this.shader,e=r.gl;v[0]=c,v[1]=x,y[0]=f,y[1]=n,g.uniforms.start=v,g.uniforms.end=y,g.uniforms.width=o*r.pixelRatio,g.uniforms.color=s,e.drawArrays(e.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3603:function(b,a,t){var u=t(3236),i=u([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);b.exports={lineVert:u([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:i,textVert:u([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:i,gridVert:u([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:i,boxVert:u([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:u([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(b,a,t){b.exports=function(r){var g=r.gl;return new y(r,u(g),i(g,v.textVert,v.textFrag))};var u=t(2762),i=t(9405),l=t(529),d=t(2478),v=t(3603);function y(r,g,e){this.plot=r,this.vbo=g,this.shader=e,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var p,c,x,f,n,o,s=y.prototype;s.drawTicks=(p=[0,0],c=[0,0],x=[0,0],function(r){var g=this.plot,e=this.shader,h=this.tickX[r],_=this.tickOffset[r],w=g.gl,S=g.viewBox,O=g.dataBox,A=g.screenBox,I=g.pixelRatio,B=g.tickEnable,C=g.tickPad,z=g.tickColor,P=g.tickAngle,R=g.labelEnable,N=g.labelPad,j=g.labelColor,W=g.labelAngle,Y=this.labelOffset[r],J=this.labelCount[r],G=d.lt(h,O[r]),H=d.le(h,O[r+2]);p[0]=p[1]=0,p[r]=1,c[r]=(S[2+r]+S[r])/(A[2+r]-A[r])-1;var U=2/A[2+(1^r)]-A[1^r];c[1^r]=U*S[1^r]-1,B[r]&&(c[1^r]-=U*I*C[r],G<H&&_[H]>_[G]&&(e.uniforms.dataAxis=p,e.uniforms.screenOffset=c,e.uniforms.color=z[r],e.uniforms.angle=P[r],w.drawArrays(w.TRIANGLES,_[G],_[H]-_[G]))),R[r]&&J&&(c[1^r]-=U*I*N[r],e.uniforms.dataAxis=x,e.uniforms.screenOffset=c,e.uniforms.color=j[r],e.uniforms.angle=W[r],w.drawArrays(w.TRIANGLES,Y,J)),c[1^r]=U*S[2+(1^r)]-1,B[r+2]&&(c[1^r]+=U*I*C[r+2],G<H&&_[H]>_[G]&&(e.uniforms.dataAxis=p,e.uniforms.screenOffset=c,e.uniforms.color=z[r+2],e.uniforms.angle=P[r+2],w.drawArrays(w.TRIANGLES,_[G],_[H]-_[G]))),R[r+2]&&J&&(c[1^r]+=U*I*N[r+2],e.uniforms.dataAxis=x,e.uniforms.screenOffset=c,e.uniforms.color=j[r+2],e.uniforms.angle=W[r+2],w.drawArrays(w.TRIANGLES,Y,J))}),s.drawTitle=function(){var r=[0,0],g=[0,0];return function(){var e=this.plot,h=this.shader,_=e.gl,w=e.screenBox,S=e.titleCenter,O=e.titleAngle,A=e.titleColor,I=e.pixelRatio;if(this.titleCount){for(var B=0;B<2;++B)g[B]=2*(S[B]*I-w[B])/(w[2+B]-w[B])-1;h.bind(),h.uniforms.dataAxis=r,h.uniforms.screenOffset=g,h.uniforms.angle=O,h.uniforms.color=A,_.drawArrays(_.TRIANGLES,this.titleOffset,this.titleCount)}}}(),s.bind=(f=[0,0],n=[0,0],o=[0,0],function(){var r=this.plot,g=this.shader,e=r._tickBounds,h=r.dataBox,_=r.screenBox,w=r.viewBox;g.bind();for(var S=0;S<2;++S){var O=e[S],A=e[S+2]-O,I=.5*(h[S+2]+h[S]),B=h[S+2]-h[S],C=w[S],z=w[S+2]-C,P=_[S],R=_[S+2]-P;n[S]=2*A/B*z/R,f[S]=2*(O-I)/B*z/R}o[1]=2*r.pixelRatio/(_[3]-_[1]),o[0]=o[1]*(_[3]-_[1])/(_[2]-_[0]),g.uniforms.dataScale=n,g.uniforms.dataShift=f,g.uniforms.textScale=o,this.vbo.bind(),g.attributes.textCoordinate.pointer()}),s.update=function(r){var g,e,h,_,w,S=[],O=r.ticks,A=r.bounds;for(w=0;w<2;++w){var I=[Math.floor(S.length/3)],B=[-1/0],C=O[w];for(g=0;g<C.length;++g){var z=C[g],P=z.x,R=z.text,N=z.font||"sans-serif",j=z.fontStyle||"normal",W=z.fontWeight||"normal",Y=z.fontVariant||"normal";_=z.fontSize||12;for(var J=1/(A[w+2]-A[w]),G=A[w],H=R.split(`
`),U=0;U<H.length;U++)for(h=l(N,H[U],{fontStyle:j,fontWeight:W,fontVariant:Y}).data,e=0;e<h.length;e+=2)S.push(h[e]*_,-h[e+1]*_-U*_*1.2,(P-G)*J);I.push(Math.floor(S.length/3)),B.push(P)}this.tickOffset[w]=I,this.tickX[w]=B}for(w=0;w<2;++w){for(this.labelOffset[w]=Math.floor(S.length/3),h=l(r.labelFont[w],r.labels[w],{fontStyle:r.labelFontStyle[w],fontWeight:r.labelFontWeight[w],fontVariant:r.labelFontVariant[w],textAlign:"center"}).data,_=r.labelSize[w],g=0;g<h.length;g+=2)S.push(h[g]*_,-h[g+1]*_,0);this.labelCount[w]=Math.floor(S.length/3)-this.labelOffset[w]}for(this.titleOffset=Math.floor(S.length/3),h=l(r.titleFont,r.title,{fontStyle:r.titleFontStyle,fontWeight:r.titleFontWeight,fontVariant:r.titleFontVariant}).data,_=r.titleSize,g=0;g<h.length;g+=2)S.push(h[g]*_,-h[g+1]*_,0);this.titleCount=Math.floor(S.length/3)-this.titleOffset,this.vbo.update(S)},s.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1850:function(b,a,t){b.exports=function(f){var n=f.gl,o=new y(n,u(n,[n.drawingBufferWidth,n.drawingBufferHeight]));return o.grid=i(o),o.text=l(o),o.line=d(o),o.box=v(o),o.update(f),o};var u=t(3589),i=t(1913),l=t(2142),d=t(4747),v=t(8120);function y(f,n){this.gl=f,this.pickBuffer=n,this.screenBox=[0,0,f.drawingBufferWidth,f.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var p=y.prototype;function c(f){for(var n=f.slice(),o=0;o<n.length;++o)n[o]=n[o].slice();return n}function x(f,n){return f.x-n.x}p.setDirty=function(){this.dirty=this.pickDirty=!0},p.setOverlayDirty=function(){this.dirty=!0},p.nextDepthValue=function(){return this._depthCounter++/65536},p.draw=function(){var f=this.gl,n=this.screenBox,o=this.viewBox,s=this.dataBox,r=this.pixelRatio,g=this.grid,e=this.line,h=this.text,_=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,f.bindFramebuffer(f.FRAMEBUFFER,null),f.enable(f.SCISSOR_TEST),f.disable(f.DEPTH_TEST),f.depthFunc(f.LESS),f.depthMask(!1),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD,f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA),this.borderColor){f.scissor(n[0],n[1],n[2]-n[0],n[3]-n[1]);var w=this.borderColor;f.clearColor(w[0]*w[3],w[1]*w[3],w[2]*w[3],w[3]),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT)}f.scissor(o[0],o[1],o[2]-o[0],o[3]-o[1]),f.viewport(o[0],o[1],o[2]-o[0],o[3]-o[1]);var S=this.backgroundColor;f.clearColor(S[0]*S[3],S[1]*S[3],S[2]*S[3],S[3]),f.clear(f.COLOR_BUFFER_BIT),g.draw();var O=this.zeroLineEnable,A=this.zeroLineColor,I=this.zeroLineWidth;if(O[0]||O[1]){e.bind();for(var B=0;B<2;++B)if(O[B]&&s[B]<=0&&s[B+2]>=0){var C=n[B]-s[B]*(n[B+2]-n[B])/(s[B+2]-s[B]);B===0?e.drawLine(C,n[1],C,n[3],I[B],A[B]):e.drawLine(n[0],C,n[2],C,I[B],A[B])}}for(B=0;B<_.length;++B)_[B].draw();f.viewport(n[0],n[1],n[2]-n[0],n[3]-n[1]),f.scissor(n[0],n[1],n[2]-n[0],n[3]-n[1]),this.grid.drawTickMarks(),e.bind();var z=this.borderLineEnable,P=this.borderLineWidth,R=this.borderLineColor;for(z[1]&&e.drawLine(o[0],o[1]-.5*P[1]*r,o[0],o[3]+.5*P[3]*r,P[1],R[1]),z[0]&&e.drawLine(o[0]-.5*P[0]*r,o[1],o[2]+.5*P[2]*r,o[1],P[0],R[0]),z[3]&&e.drawLine(o[2],o[1]-.5*P[1]*r,o[2],o[3]+.5*P[3]*r,P[3],R[3]),z[2]&&e.drawLine(o[0]-.5*P[0]*r,o[3],o[2]+.5*P[2]*r,o[3],P[2],R[2]),h.bind(),B=0;B<2;++B)h.drawTicks(B);this.titleEnable&&h.drawTitle();var N=this.overlays;for(B=0;B<N.length;++B)N[B].draw();f.disable(f.SCISSOR_TEST),f.disable(f.BLEND),f.depthMask(!0)}},p.drawPick=function(){if(!this.static){var f=this.pickBuffer;this.gl,this._pickTimeout=null,f.begin();for(var n=1,o=this.objects,s=0;s<o.length;++s)n=o[s].drawPick(n);f.end()}},p.pick=function(f,n){if(!this.static){var o=this.pixelRatio,s=this.pickPixelRatio,r=this.viewBox,g=0|Math.round((f-r[0]/o)*s),e=0|Math.round((n-r[1]/o)*s),h=this.pickBuffer.query(g,e,this.pickRadius);if(!h)return null;for(var _=h.id+(h.value[0]<<8)+(h.value[1]<<16)+(h.value[2]<<24),w=this.objects,S=0;S<w.length;++S){var O=w[S].pick(g,e,_);if(O)return O}return null}},p.setScreenBox=function(f){var n=this.screenBox,o=this.pixelRatio;n[0]=0|Math.round(f[0]*o),n[1]=0|Math.round(f[1]*o),n[2]=0|Math.round(f[2]*o),n[3]=0|Math.round(f[3]*o),this.setDirty()},p.setDataBox=function(f){var n=this.dataBox;(n[0]!==f[0]||n[1]!==f[1]||n[2]!==f[2]||n[3]!==f[3])&&(n[0]=f[0],n[1]=f[1],n[2]=f[2],n[3]=f[3],this.setDirty())},p.setViewBox=function(f){var n=this.pixelRatio,o=this.viewBox;o[0]=0|Math.round(f[0]*n),o[1]=0|Math.round(f[1]*n),o[2]=0|Math.round(f[2]*n),o[3]=0|Math.round(f[3]*n);var s=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((f[2]-f[0])*s),0|Math.round((f[3]-f[1])*s)],this.setDirty()},p.update=function(f){f=f||{};var n=this.gl;this.pixelRatio=f.pixelRatio||1;var o=this.pixelRatio;this.pickPixelRatio=Math.max(o,1),this.setScreenBox(f.screenBox||[0,0,n.drawingBufferWidth/o,n.drawingBufferHeight/o]),this.screenBox,this.setViewBox(f.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/o,.125*(this.screenBox[3]-this.screenBox[1])/o,.875*(this.screenBox[2]-this.screenBox[0])/o,.875*(this.screenBox[3]-this.screenBox[1])/o]);var s=this.viewBox,r=(s[2]-s[0])/(s[3]-s[1]);this.setDataBox(f.dataBox||[-10,-10/r,10,10/r]),this.borderColor=f.borderColor!==!1&&(f.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(f.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(f.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(f.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(f.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(f.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(f.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(f.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(f.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(f.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(f.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(f.titleCenter||[.5*(s[0]+s[2])/o,(s[3]+120)/o]).slice(),this.titleEnable=!("titleEnable"in f)||!!f.titleEnable,this.titleAngle=f.titleAngle||0,this.titleColor=(f.titleColor||[0,0,0,1]).slice(),this.labelPad=(f.labelPad||[15,15,15,15]).slice(),this.labelAngle=(f.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(f.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(f.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(f.tickPad||[15,15,15,15]).slice(),this.tickAngle=(f.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(f.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(f.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(f.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(f.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(f.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var g=f.ticks||[[],[]],e=this._tickBounds;e[0]=e[1]=1/0,e[2]=e[3]=-1/0;for(var h=0;h<2;++h){var _=g[h].slice(0);_.length!==0&&(_.sort(x),e[h]=Math.min(e[h],_[0].x),e[h+2]=Math.max(e[h+2],_[_.length-1].x))}this.grid.update({bounds:e,ticks:g}),this.text.update({bounds:e,ticks:g,labels:f.labels||["x","y"],labelSize:f.labelSize||[12,12],labelFont:f.labelFont||["sans-serif","sans-serif"],labelFontStyle:f.labelFontStyle||["normal","normal"],labelFontWeight:f.labelFontWeight||["normal","normal"],labelFontVariant:f.labelFontVariant||["normal","normal"],title:f.title||"",titleSize:f.titleSize||18,titleFont:f.titleFont||"sans-serif",titleFontStyle:f.titleFontStyle||"normal",titleFontWeight:f.titleFontWeight||"normal",titleFontVariant:f.titleFontVariant||"normal"}),this.static=!!f.static,this.setDirty()},p.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var f=this.objects.length-1;f>=0;--f)this.objects[f].dispose();for(this.objects.length=0,f=this.overlays.length-1;f>=0;--f)this.overlays[f].dispose();this.overlays.length=0,this.gl=null},p.addObject=function(f){this.objects.indexOf(f)<0&&(this.objects.push(f),this.setDirty())},p.removeObject=function(f){for(var n=this.objects,o=0;o<n.length;++o)if(n[o]===f){n.splice(o,1),this.setDirty();break}},p.addOverlay=function(f){this.overlays.indexOf(f)<0&&(this.overlays.push(f),this.setOverlayDirty())},p.removeOverlay=function(f){for(var n=this.overlays,o=0;o<n.length;++o)if(n[o]===f){n.splice(o,1),this.setOverlayDirty();break}}},4437:function(b,a,t){b.exports=function(p,c){p=p||document.body;var x=[.01,1/0];"distanceLimits"in(c=c||{})&&(x[0]=c.distanceLimits[0],x[1]=c.distanceLimits[1]),"zoomMin"in c&&(x[0]=c.zoomMin),"zoomMax"in c&&(x[1]=c.zoomMax);var f=i({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:x}),n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0,s=p.clientWidth,r=p.clientHeight,g={keyBindingMode:"rotate",enableWheel:!0,view:f,element:p,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:f.modes,_ortho:c._ortho||c.projection&&c.projection.type==="orthographic"||!1,tick:function(){var e=u(),h=this.delay,_=e-2*h;f.idle(e-h),f.recalcMatrix(_),f.flush(e-(100+2*h));for(var w=!0,S=f.computedMatrix,O=0;O<16;++O)w=w&&n[O]===S[O],n[O]=S[O];var A=p.clientWidth===s&&p.clientHeight===r;return s=p.clientWidth,r=p.clientHeight,w?!A:(o=Math.exp(f.computedRadius[0]),!0)},lookAt:function(e,h,_){f.lookAt(f.lastT(),e,h,_)},rotate:function(e,h,_){f.rotate(f.lastT(),e,h,_)},pan:function(e,h,_){f.pan(f.lastT(),e,h,_)},translate:function(e,h,_){f.translate(f.lastT(),e,h,_)}};return Object.defineProperties(g,{matrix:{get:function(){return f.computedMatrix},set:function(e){return f.setMatrix(f.lastT(),e),f.computedMatrix},enumerable:!0},mode:{get:function(){return f.getMode()},set:function(e){var h=f.computedUp.slice(),_=f.computedEye.slice(),w=f.computedCenter.slice();if(f.setMode(e),e==="turntable"){var S=u();f._active.lookAt(S,_,w,h),f._active.lookAt(S+500,_,w,[0,0,1]),f._active.flush(S)}return f.getMode()},enumerable:!0},center:{get:function(){return f.computedCenter},set:function(e){return f.lookAt(f.lastT(),null,e),f.computedCenter},enumerable:!0},eye:{get:function(){return f.computedEye},set:function(e){return f.lookAt(f.lastT(),e),f.computedEye},enumerable:!0},up:{get:function(){return f.computedUp},set:function(e){return f.lookAt(f.lastT(),null,null,e),f.computedUp},enumerable:!0},distance:{get:function(){return o},set:function(e){return f.setDistance(f.lastT(),e),e},enumerable:!0},distanceLimits:{get:function(){return f.getDistanceLimits(x)},set:function(e){return f.setDistanceLimits(e),e},enumerable:!0}}),p.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),g._lastX=-1,g._lastY=-1,g._lastMods={shift:!1,control:!1,alt:!1,meta:!1},g.enableMouseListeners=function(){function e(h,_,w,S){var O=g.keyBindingMode;if(O!==!1){var A=O==="rotate",I=O==="pan",B=O==="zoom",C=!!S.control,z=!!S.alt,P=!!S.shift,R=!!(1&h),N=!!(2&h),j=!!(4&h),W=1/p.clientHeight,Y=W*(_-g._lastX),J=W*(w-g._lastY),G=g.flipX?1:-1,H=g.flipY?1:-1,U=Math.PI*g.rotateSpeed,Z=u();if(g._lastX!==-1&&g._lastY!==-1&&((A&&R&&!C&&!z&&!P||R&&!C&&!z&&P)&&f.rotate(Z,G*U*Y,-H*U*J,0),(I&&R&&!C&&!z&&!P||N||R&&C&&!z&&!P)&&f.pan(Z,-g.translateSpeed*Y*o,g.translateSpeed*J*o,0),B&&R&&!C&&!z&&!P||j||R&&!C&&z&&!P)){var q=-g.zoomSpeed*J/window.innerHeight*(Z-f.lastT())*100;f.pan(Z,0,0,o*(Math.exp(q)-1))}return g._lastX=_,g._lastY=w,g._lastMods=S,!0}}g.mouseListener=l(p,e),p.addEventListener("touchstart",function(h){var _=v(h.changedTouches[0],p);e(0,_[0],_[1],g._lastMods),e(1,_[0],_[1],g._lastMods)},!!y&&{passive:!0}),p.addEventListener("touchmove",function(h){var _=v(h.changedTouches[0],p);e(1,_[0],_[1],g._lastMods),h.preventDefault()},!!y&&{passive:!1}),p.addEventListener("touchend",function(h){e(0,g._lastX,g._lastY,g._lastMods)},!!y&&{passive:!0}),g.wheelListener=d(p,function(h,_){if(g.keyBindingMode!==!1&&g.enableWheel){var w=g.flipX?1:-1,S=g.flipY?1:-1,O=u();if(Math.abs(h)>Math.abs(_))f.rotate(O,0,0,-h*w*Math.PI*g.rotateSpeed/window.innerWidth);else if(!g._ortho){var A=-g.zoomSpeed*S*_/window.innerHeight*(O-f.lastT())/20;f.pan(O,0,0,o*(Math.exp(A)-1))}}},!0)},g.enableMouseListeners(),g};var u=t(3025),i=t(6296),l=t(351),d=t(8512),v=t(24),y=t(7520)},799:function(b,a,t){var u=t(3236),i=t(9405),l=u([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),d=u([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);b.exports=function(v){return i(v,l,d,null,[{name:"position",type:"vec2"}])}},4100:function(b,a,t){var u=t(4437),i=t(3837),l=t(5445),d=t(4449),v=t(3589),y=t(2260),p=t(7169),c=t(351),x=t(4772),f=t(4040),n=t(799),o=t(9216)({tablet:!0,featureDetect:!0});function s(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function r(e){var h=Math.round(Math.log(Math.abs(e))/Math.log(10));if(h<0){var _=Math.round(Math.pow(10,-h));return Math.ceil(e*_)/_}return h>0?(_=Math.round(Math.pow(10,h)),Math.ceil(e/_)*_):Math.ceil(e)}function g(e){return typeof e!="boolean"||e}b.exports={createScene:function(e){(e=e||{}).camera=e.camera||{};var h=e.canvas;h||(h=document.createElement("canvas"),e.container?e.container.appendChild(h):document.body.appendChild(h));var _=e.gl;if(_||(e.glOptions&&(o=!!e.glOptions.preserveDrawingBuffer),_=function(ke,ve){var he=null;try{(he=ke.getContext("webgl",ve))||(he=ke.getContext("experimental-webgl",ve))}catch{return null}return he}(h,e.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:o})),!_)throw new Error("webgl not supported");var w=e.bounds||[[-10,-10,-10],[10,10,10]],S=new s,O=y(_,_.drawingBufferWidth,_.drawingBufferHeight,{preferFloat:!o}),A=n(_),I=e.cameraObject&&e.cameraObject._ortho===!0||e.camera.projection&&e.camera.projection.type==="orthographic"||!1,B={eye:e.camera.eye||[2,0,0],center:e.camera.center||[0,0,0],up:e.camera.up||[0,1,0],zoomMin:e.camera.zoomMax||.1,zoomMax:e.camera.zoomMin||100,mode:e.camera.mode||"turntable",_ortho:I},C=e.axes||{},z=i(_,C);z.enable=!C.disable;var P=e.spikes||{},R=d(_,P),N=[],j=[],W=[],Y=[],J=!0,G=!0,H={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},U=(G=!0,[_.drawingBufferWidth,_.drawingBufferHeight]),Z=e.cameraObject||u(h,B),q={gl:_,contextLost:!1,pixelRatio:e.pixelRatio||1,canvas:h,selection:S,camera:Z,axes:z,axesPixels:null,spikes:R,bounds:w,objects:N,shape:U,aspect:e.aspectRatio||[1,1,1],pickRadius:e.pickRadius||10,zNear:e.zNear||.01,zFar:e.zFar||1e3,fovy:e.fovy||Math.PI/4,clearColor:e.clearColor||[0,0,0,0],autoResize:g(e.autoResize),autoBounds:g(e.autoBounds),autoScale:!!e.autoScale,autoCenter:g(e.autoCenter),clipToBounds:g(e.clipToBounds),snapToData:!!e.snapToData,onselect:e.onselect||null,onrender:e.onrender||null,onclick:e.onclick||null,cameraParams:H,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(ke){this.aspect[0]=ke.x,this.aspect[1]=ke.y,this.aspect[2]=ke.z,G=!0},setBounds:function(ke,ve){this.bounds[0][ke]=ve.min,this.bounds[1][ke]=ve.max},setClearColor:function(ke){this.clearColor=ke},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},Q=[_.drawingBufferWidth/q.pixelRatio|0,_.drawingBufferHeight/q.pixelRatio|0];function ne(){if(!q._stopped&&q.autoResize){var ke=h.parentNode,ve=1,he=1;ke&&ke!==document.body?(ve=ke.clientWidth,he=ke.clientHeight):(ve=window.innerWidth,he=window.innerHeight);var de=0|Math.ceil(ve*q.pixelRatio),X=0|Math.ceil(he*q.pixelRatio);if(de!==h.width||X!==h.height){h.width=de,h.height=X;var ae=h.style;ae.position=ae.position||"absolute",ae.left="0px",ae.top="0px",ae.width=ve+"px",ae.height=he+"px",J=!0}}}function ie(){for(var ke=N.length,ve=Y.length,he=0;he<ve;++he)W[he]=0;e:for(he=0;he<ke;++he){var de=N[he],X=de.pickSlots;if(X){for(var ae=0;ae<ve;++ae)if(W[ae]+X<255){j[he]=ae,de.setPickBase(W[ae]+1),W[ae]+=X;continue e}var K=v(_,U);j[he]=ve,Y.push(K),W.push(X),de.setPickBase(1),ve+=1}else j[he]=-1}for(;ve>0&&W[ve-1]===0;)W.pop(),Y.pop().dispose()}function le(){if(q.contextLost)return!0;_.isContextLost()&&(q.contextLost=!0,q.mouseListener.enabled=!1,q.selection.object=null,q.oncontextloss&&q.oncontextloss())}q.autoResize&&ne(),window.addEventListener("resize",ne),q.update=function(ke){q._stopped||(J=!0,G=!0)},q.add=function(ke){q._stopped||(ke.axes=z,N.push(ke),j.push(-1),J=!0,G=!0,ie())},q.remove=function(ke){if(!q._stopped){var ve=N.indexOf(ke);ve<0||(N.splice(ve,1),j.pop(),J=!0,G=!0,ie())}},q.dispose=function(){if(!q._stopped&&(q._stopped=!0,window.removeEventListener("resize",ne),h.removeEventListener("webglcontextlost",le),q.mouseListener.enabled=!1,!q.contextLost)){z.dispose(),R.dispose();for(var ke=0;ke<N.length;++ke)N[ke].dispose();for(O.dispose(),ke=0;ke<Y.length;++ke)Y[ke].dispose();A.dispose(),_=null,z=null,R=null,N=[]}},q._mouseRotating=!1,q._prevButtons=0,q.enableMouseListeners=function(){q.mouseListener=c(h,function(ke,ve,he){if(!q._stopped){var de=Y.length,X=N.length,ae=S.object;S.distance=1/0,S.mouse[0]=ve,S.mouse[1]=he,S.object=null,S.screen=null,S.dataCoordinate=S.dataPosition=null;var K=!1;if(ke&&q._prevButtons)q._mouseRotating=!0;else{q._mouseRotating&&(G=!0),q._mouseRotating=!1;for(var ge=0;ge<de;++ge){var re=Y[ge].query(ve,Q[1]-he-1,q.pickRadius);if(re){if(re.distance>S.distance)continue;for(var ue=0;ue<X;++ue){var we=N[ue];if(j[ue]===ge){var Te=we.pick(re);Te&&(S.buttons=ke,S.screen=re.coord,S.distance=re.distance,S.object=we,S.index=Te.distance,S.dataPosition=Te.position,S.dataCoordinate=Te.dataCoordinate,S.data=Te,K=!0)}}}}}ae&&ae!==S.object&&(ae.highlight&&ae.highlight(null),J=!0),S.object&&(S.object.highlight&&S.object.highlight(S.data),J=!0),(K=K||S.object!==ae)&&q.onselect&&q.onselect(S),1&ke&&!(1&q._prevButtons)&&q.onclick&&q.onclick(S),q._prevButtons=ke}})},h.addEventListener("webglcontextlost",le);var fe=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],pe=[fe[0].slice(),fe[1].slice()];function me(){if(!le()){ne();var ke=q.camera.tick();H.view=q.camera.matrix,J=J||ke,G=G||ke,z.pixelRatio=q.pixelRatio,R.pixelRatio=q.pixelRatio;var ve=N.length,he=fe[0],de=fe[1];he[0]=he[1]=he[2]=1/0,de[0]=de[1]=de[2]=-1/0;for(var X=0;X<ve;++X){(Ee=N[X]).pixelRatio=q.pixelRatio,Ee.axes=q.axes,J=J||!!Ee.dirty,G=G||!!Ee.dirty;var ae=Ee.bounds;if(ae)for(var K=ae[0],ge=ae[1],re=0;re<3;++re)he[re]=Math.min(he[re],K[re]),de[re]=Math.max(de[re],ge[re])}var ue=q.bounds;if(q.autoBounds)for(re=0;re<3;++re){if(de[re]<he[re])he[re]=-1,de[re]=1;else{he[re]===de[re]&&(he[re]-=1,de[re]+=1);var we=.05*(de[re]-he[re]);he[re]=he[re]-we,de[re]=de[re]+we}ue[0][re]=he[re],ue[1][re]=de[re]}var Te=!1;for(re=0;re<3;++re)Te=Te||pe[0][re]!==ue[0][re]||pe[1][re]!==ue[1][re],pe[0][re]=ue[0][re],pe[1][re]=ue[1][re];if(G=G||Te,J=J||Te){if(Te){var ee=[0,0,0];for(X=0;X<3;++X)ee[X]=r((ue[1][X]-ue[0][X])/10);z.autoTicks?z.update({bounds:ue,tickSpacing:ee}):z.update({bounds:ue})}var se=_.drawingBufferWidth,ce=_.drawingBufferHeight;for(U[0]=se,U[1]=ce,Q[0]=0|Math.max(se/q.pixelRatio,1),Q[1]=0|Math.max(ce/q.pixelRatio,1),function(Se,De){var Ge=Se.bounds,Xe=Se.cameraParams,Ke=Xe.projection,ut=Xe.model,Tt=Se.gl.drawingBufferWidth,je=Se.gl.drawingBufferHeight,Le=Se.zNear,$e=Se.zFar,st=Se.fovy,Ot=Tt/je;De?(f(Ke,-Ot,Ot,-1,1,Le,$e),Xe._ortho=!0):(x(Ke,st,Ot,Le,$e),Xe._ortho=!1);for(var Je=0;Je<16;++Je)ut[Je]=0;ut[15]=1;var at=0;for(Je=0;Je<3;++Je)at=Math.max(at,Ge[1][Je]-Ge[0][Je]);for(Je=0;Je<3;++Je)Se.autoScale?ut[5*Je]=Se.aspect[Je]/(Ge[1][Je]-Ge[0][Je]):ut[5*Je]=1/at,Se.autoCenter&&(ut[12+Je]=.5*-ut[5*Je]*(Ge[0][Je]+Ge[1][Je]))}(q,I),X=0;X<ve;++X)(Ee=N[X]).axesBounds=ue,q.clipToBounds&&(Ee.clipBounds=ue);S.object&&(q.snapToData?R.position=S.dataCoordinate:R.position=S.dataPosition,R.bounds=ue),G&&(G=!1,function(){if(!le()){_.colorMask(!0,!0,!0,!0),_.depthMask(!0),_.disable(_.BLEND),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL);for(var Se=N.length,De=Y.length,Ge=0;Ge<De;++Ge){var Xe=Y[Ge];Xe.shape=Q,Xe.begin();for(var Ke=0;Ke<Se;++Ke)if(j[Ke]===Ge){var ut=N[Ke];ut.drawPick&&(ut.pixelRatio=1,ut.drawPick(H))}Xe.end()}}}()),q.axesPixels=l(q.axes,H,se,ce),q.onrender&&q.onrender(),_.bindFramebuffer(_.FRAMEBUFFER,null),_.viewport(0,0,se,ce),q.clearRGBA(),_.depthMask(!0),_.colorMask(!0,!0,!0,!0),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL),_.disable(_.BLEND),_.disable(_.CULL_FACE);var be=!1;for(z.enable&&(be=be||z.isTransparent(),z.draw(H)),R.axes=z,S.object&&R.draw(H),_.disable(_.CULL_FACE),X=0;X<ve;++X)(Ee=N[X]).axes=z,Ee.pixelRatio=q.pixelRatio,Ee.isOpaque&&Ee.isOpaque()&&Ee.draw(H),Ee.isTransparent&&Ee.isTransparent()&&(be=!0);if(be){for(O.shape=U,O.bind(),_.clear(_.DEPTH_BUFFER_BIT),_.colorMask(!1,!1,!1,!1),_.depthMask(!0),_.depthFunc(_.LESS),z.enable&&z.isTransparent()&&z.drawTransparent(H),X=0;X<ve;++X)(Ee=N[X]).isOpaque&&Ee.isOpaque()&&Ee.draw(H);for(_.enable(_.BLEND),_.blendEquation(_.FUNC_ADD),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.colorMask(!0,!0,!0,!0),_.depthMask(!1),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),z.isTransparent()&&z.drawTransparent(H),X=0;X<ve;++X){var Ee;(Ee=N[X]).isTransparent&&Ee.isTransparent()&&Ee.drawTransparent(H)}_.bindFramebuffer(_.FRAMEBUFFER,null),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.disable(_.DEPTH_TEST),A.bind(),O.color[0].bind(0),A.uniforms.accumBuffer=0,p(_),_.disable(_.BLEND)}for(J=!1,X=0;X<ve;++X)N[X].dirty=!1}}}return q.enableMouseListeners(),function ke(){q._stopped||q.contextLost||(me(),requestAnimationFrame(ke))}(),q.redraw=function(){q._stopped||(J=!0,me())},q},createCamera:u}},6640:function(b,a,t){var u=t(3236);a.pointVertex=u([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),a.pointFragment=u([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),a.pickVertex=u([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),a.pickFragment=u([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(b,a,t){var u=t(9405),i=t(2762),l=t(1888),d=t(6640);function v(x,f,n,o,s){this.plot=x,this.offsetBuffer=f,this.pickBuffer=n,this.shader=o,this.pickShader=s,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}b.exports=function(x,f){var n=x.gl,o=new v(x,i(n),i(n),u(n,d.pointVertex,d.pointFragment),u(n,d.pickVertex,d.pickFragment));return o.update(f),x.addObject(o),o};var y,p,c=v.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(x){var f;function n(_,w){return _ in x?x[_]:w}x=x||{},this.sizeMin=n("sizeMin",.5),this.sizeMax=n("sizeMax",20),this.color=n("color",[1,0,0,1]).slice(),this.areaRatio=n("areaRatio",1),this.borderColor=n("borderColor",[0,0,0,1]).slice(),this.blend=n("blend",!1);var o=x.positions.length>>>1,s=x.positions instanceof Float32Array,r=x.idToIndex instanceof Int32Array&&x.idToIndex.length>=o,g=x.positions,e=s?g:l.mallocFloat32(g.length),h=r?x.idToIndex:l.mallocInt32(o);if(s||e.set(g),!r)for(e.set(g),f=0;f<o;f++)h[f]=f;this.points=g,this.offsetBuffer.update(e),this.pickBuffer.update(h),s||l.free(e),r||l.free(h),this.pointCount=o,this.pickOffset=0},c.unifiedDraw=(y=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0],function(x){var f=x!==void 0,n=f?this.pickShader:this.shader,o=this.plot.gl,s=this.plot.dataBox;if(this.pointCount===0)return x;var r=s[2]-s[0],g=s[3]-s[1],e=function(S,O){var A,I=0,B=S.length>>>1;for(A=0;A<B;A++){var C=S[2*A],z=S[2*A+1];C>=O[0]&&C<=O[2]&&z>=O[1]&&z<=O[3]&&I++}return I}(this.points,s),h=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(e,.33333)));y[0]=2/r,y[4]=2/g,y[6]=-2*s[0]/r-1,y[7]=-2*s[1]/g-1,this.offsetBuffer.bind(),n.bind(),n.attributes.position.pointer(),n.uniforms.matrix=y,n.uniforms.color=this.color,n.uniforms.borderColor=this.borderColor,n.uniforms.pointCloud=h<5,n.uniforms.pointSize=h,n.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),f&&(p[0]=255&x,p[1]=x>>8&255,p[2]=x>>16&255,p[3]=x>>24&255,this.pickBuffer.bind(),n.attributes.pickId.pointer(o.UNSIGNED_BYTE),n.uniforms.pickOffset=p,this.pickOffset=x);var _=o.getParameter(o.BLEND),w=o.getParameter(o.DITHER);return _&&!this.blend&&o.disable(o.BLEND),w&&o.disable(o.DITHER),o.drawArrays(o.POINTS,0,this.pointCount),_&&!this.blend&&o.enable(o.BLEND),w&&o.enable(o.DITHER),x+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(x,f,n){var o=this.pickOffset,s=this.pointCount;if(n<o||n>=o+s)return null;var r=n-o,g=this.points;return{object:this,pointId:r,dataCoord:[g[2*r],g[2*r+1]]}}},783:function(b){b.exports=function(a,t,u,i){var l,d,v,y,p,c=t[0],x=t[1],f=t[2],n=t[3],o=u[0],s=u[1],r=u[2],g=u[3];return(d=c*o+x*s+f*r+n*g)<0&&(d=-d,o=-o,s=-s,r=-r,g=-g),1-d>1e-6?(l=Math.acos(d),v=Math.sin(l),y=Math.sin((1-i)*l)/v,p=Math.sin(i*l)/v):(y=1-i,p=i),a[0]=y*c+p*o,a[1]=y*x+p*s,a[2]=y*f+p*r,a[3]=y*n+p*g,a}},5964:function(b){b.exports=function(a){return a||a===0?a.toString():""}},9366:function(b,a,t){var u=t(4359);b.exports=function(l,d,v){var y=[d.style,d.weight,d.variant,d.family].join("_"),p=i[y];if(p||(p=i[y]={}),l in p)return p[l];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:d.family,fontStyle:d.style,fontWeight:d.weight,fontVariant:d.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},x=u(l,c);c.triangles=!1;var f,n,o=u(l,c);if(v&&v!==1){for(f=0;f<x.positions.length;++f)for(n=0;n<x.positions[f].length;++n)x.positions[f][n]/=v;for(f=0;f<o.positions.length;++f)for(n=0;n<o.positions[f].length;++n)o.positions[f][n]/=v}var s=[[1/0,1/0],[-1/0,-1/0]],r=o.positions.length;for(f=0;f<r;++f){var g=o.positions[f];for(n=0;n<2;++n)s[0][n]=Math.min(s[0][n],g[n]),s[1][n]=Math.max(s[1][n],g[n])}return p[l]=[x,o,s]};var i={}},1283:function(b,a,t){var u=t(9405),i=t(3236),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),d=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),v=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),y=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),p=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],x={vertex:l,fragment:y,attributes:c},f={vertex:d,fragment:y,attributes:c},n={vertex:v,fragment:y,attributes:c},o={vertex:l,fragment:p,attributes:c},s={vertex:d,fragment:p,attributes:c},r={vertex:v,fragment:p,attributes:c};function g(e,h){var _=u(e,h),w=_.attributes;return w.position.location=0,w.color.location=1,w.glyph.location=2,w.id.location=3,_}a.createPerspective=function(e){return g(e,x)},a.createOrtho=function(e){return g(e,f)},a.createProject=function(e){return g(e,n)},a.createPickPerspective=function(e){return g(e,o)},a.createPickOrtho=function(e){return g(e,s)},a.createPickProject=function(e){return g(e,r)}},8418:function(b,a,t){var u=t(5219),i=t(2762),l=t(8116),d=t(1888),v=t(6760),y=t(1283),p=t(9366),c=t(5964),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],f=ArrayBuffer,n=DataView;function o(J){return Array.isArray(J)||function(G){return f.isView(G)&&!(G instanceof n)}(J)}function s(J,G){var H=J[0],U=J[1],Z=J[2],q=J[3];return J[0]=G[0]*H+G[4]*U+G[8]*Z+G[12]*q,J[1]=G[1]*H+G[5]*U+G[9]*Z+G[13]*q,J[2]=G[2]*H+G[6]*U+G[10]*Z+G[14]*q,J[3]=G[3]*H+G[7]*U+G[11]*Z+G[15]*q,J}function r(J,G,H,U){return s(U,U),s(U,U),s(U,U)}function g(J,G){this.index=J,this.dataCoordinate=this.position=G}function e(J){return J===!0||J>1?1:J}function h(J,G,H,U,Z,q,Q,ne,ie,le,fe,pe){this.gl=J,this.pixelRatio=1,this.shader=G,this.orthoShader=H,this.projectShader=U,this.pointBuffer=Z,this.colorBuffer=q,this.glyphBuffer=Q,this.idBuffer=ne,this.vao=ie,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=le,this.pickOrthoShader=fe,this.pickProjectShader=pe,this.points=[],this._selectResult=new g(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}b.exports=function(J){var G=J.gl,H=y.createPerspective(G),U=y.createOrtho(G),Z=y.createProject(G),q=y.createPickPerspective(G),Q=y.createPickOrtho(G),ne=y.createPickProject(G),ie=i(G),le=i(G),fe=i(G),pe=i(G),me=new h(G,H,U,Z,ie,le,fe,pe,l(G,[{buffer:ie,size:3,type:G.FLOAT},{buffer:le,size:4,type:G.FLOAT},{buffer:fe,size:2,type:G.FLOAT},{buffer:pe,size:4,type:G.UNSIGNED_BYTE,normalized:!0}]),q,Q,ne);return me.update(J),me};var _=h.prototype;_.pickSlots=1,_.setPickBase=function(J){this.pickId=J},_.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},_.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var w=[0,0],S=[0,0,0],O=[0,0,0],A=[0,0,0,1],I=[0,0,0,1],B=x.slice(),C=[0,0,0],z=[[0,0,0],[0,0,0]];function P(J){return J[0]=J[1]=J[2]=0,J}function R(J,G){return J[0]=G[0],J[1]=G[1],J[2]=G[2],J[3]=1,J}function N(J,G,H,U){return J[0]=G[0],J[1]=G[1],J[2]=G[2],J[H]=U,J}var j=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function W(J,G,H,U,Z,q,Q){var ne=H.gl;if((q===H.projectHasAlpha||Q)&&function(le,fe,pe,me){var ke,ve=fe.axesProject,he=fe.gl,de=le.uniforms,X=pe.model||x,ae=pe.view||x,K=pe.projection||x,ge=fe.axesBounds,re=function(ut){for(var Tt=z,je=0;je<2;++je)for(var Le=0;Le<3;++Le)Tt[je][Le]=Math.max(Math.min(ut[je][Le],1e8),-1e8);return Tt}(fe.clipBounds);ke=fe.axes&&fe.axes.lastCubeProps?fe.axes.lastCubeProps.axis:[1,1,1],w[0]=2/he.drawingBufferWidth,w[1]=2/he.drawingBufferHeight,le.bind(),de.view=ae,de.projection=K,de.screenSize=w,de.highlightId=fe.highlightId,de.highlightScale=fe.highlightScale,de.clipBounds=re,de.pickGroup=fe.pickId/255,de.pixelRatio=me;for(var ue=0;ue<3;++ue)if(ve[ue]){de.scale=fe.projectScale[ue],de.opacity=fe.projectOpacity[ue];for(var we=B,Te=0;Te<16;++Te)we[Te]=0;for(Te=0;Te<4;++Te)we[5*Te]=1;we[5*ue]=0,ke[ue]<0?we[12+ue]=ge[0][ue]:we[12+ue]=ge[1][ue],v(we,X,we),de.model=we;var ee=(ue+1)%3,se=(ue+2)%3,ce=P(S),be=P(O);ce[ee]=1,be[se]=1;var Ee=r(0,0,0,R(A,ce)),Se=r(0,0,0,R(I,be));if(Math.abs(Ee[1])>Math.abs(Se[1])){var De=Ee;Ee=Se,Se=De,De=ce,ce=be,be=De;var Ge=ee;ee=se,se=Ge}Ee[0]<0&&(ce[ee]=-1),Se[1]>0&&(be[se]=-1);var Xe=0,Ke=0;for(Te=0;Te<4;++Te)Xe+=Math.pow(X[4*ee+Te],2),Ke+=Math.pow(X[4*se+Te],2);ce[ee]/=Math.sqrt(Xe),be[se]/=Math.sqrt(Ke),de.axes[0]=ce,de.axes[1]=be,de.fragClipBounds[0]=N(C,re[0],ue,-1e8),de.fragClipBounds[1]=N(C,re[1],ue,1e8),fe.vao.bind(),fe.vao.draw(he.TRIANGLES,fe.vertexCount),fe.lineWidth>0&&(he.lineWidth(fe.lineWidth*me),fe.vao.draw(he.LINES,fe.lineVertexCount,fe.vertexCount)),fe.vao.unbind()}}(G,H,U,Z),q===H.hasAlpha||Q){J.bind();var ie=J.uniforms;ie.model=U.model||x,ie.view=U.view||x,ie.projection=U.projection||x,w[0]=2/ne.drawingBufferWidth,w[1]=2/ne.drawingBufferHeight,ie.screenSize=w,ie.highlightId=H.highlightId,ie.highlightScale=H.highlightScale,ie.fragClipBounds=j,ie.clipBounds=H.axes.bounds,ie.opacity=H.opacity,ie.pickGroup=H.pickId/255,ie.pixelRatio=Z,H.vao.bind(),H.vao.draw(ne.TRIANGLES,H.vertexCount),H.lineWidth>0&&(ne.lineWidth(H.lineWidth*Z),H.vao.draw(ne.LINES,H.lineVertexCount,H.vertexCount)),H.vao.unbind()}}function Y(J,G,H,U){var Z;Z=o(J)?G<J.length?J[G]:void 0:J,Z=c(Z);var q=!0;u(Z)&&(Z="",q=!1),H||(H={});var Q=H.family;o(Q)&&(Q=Q[G]),Q||(Q="normal");var ne=H.weight;o(ne)&&(ne=ne[G]),ne||(ne="normal");var ie=H.style;o(ie)&&(ie=ie[G]),ie||(ie="normal");var le=H.variant;o(le)&&(le=le[G]),le||(le="normal");var fe=p(Z,{family:Q,weight:ne,style:ie,variant:le},U);return{mesh:(fe=p(Z,H,U))[0],lines:fe[1],bounds:fe[2],visible:q}}_.draw=function(J){W(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,J,this.pixelRatio,!1,!1)},_.drawTransparent=function(J){W(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,J,this.pixelRatio,!0,!1)},_.drawPick=function(J){W(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,J,1,!0,!0)},_.pick=function(J){if(!J||J.id!==this.pickId)return null;var G=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(G>=this.pointCount||G<0)return null;var H=this.points[G],U=this._selectResult;U.index=G;for(var Z=0;Z<3;++Z)U.position[Z]=U.dataCoordinate[Z]=H[Z];return U},_.highlight=function(J){if(J){var G=J.index,H=255&G,U=G>>8&255,Z=G>>16&255;this.highlightId=[H/255,U/255,Z/255,0]}else this.highlightId=[1,1,1,1]},_.update=function(J){if("perspective"in(J=J||{})&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(o(J.project))this.axesProject=J.project;else{var G=!!J.project;this.axesProject=[G,G,G]}if("projectScale"in J)if(o(J.projectScale))this.projectScale=J.projectScale.slice();else{var H=+J.projectScale;this.projectScale=[H,H,H]}if(this.projectHasAlpha=!1,"projectOpacity"in J){o(J.projectOpacity)?this.projectOpacity=J.projectOpacity.slice():(H=+J.projectOpacity,this.projectOpacity=[H,H,H]);for(var U=0;U<3;++U)this.projectOpacity[U]=e(this.projectOpacity[U]),this.projectOpacity[U]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=e(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Z,q,Q=J.position,ne={family:J.font||"normal",style:J.fontStyle||"normal",weight:J.fontWeight||"normal",variant:J.fontVariant||"normal"},ie=J.alignment||[0,0];if(ie.length===2)Z=ie[0],q=ie[1];else for(Z=[],q=[],U=0;U<ie.length;++U)Z[U]=ie[U][0],q[U]=ie[U][1];var le=[1/0,1/0,1/0],fe=[-1/0,-1/0,-1/0],pe=J.glyph,me=J.color,ke=J.size,ve=J.angle,he=J.lineColor,de=-1,X=0,ae=0,K=0;if(Q.length){K=Q.length;e:for(U=0;U<K;++U){for(var ge=Q[U],re=0;re<3;++re)if(isNaN(ge[re])||!isFinite(ge[re]))continue e;var ue=(Tt=Y(pe,U,ne,this.pixelRatio)).mesh,we=Tt.lines,Te=Tt.bounds;X+=3*ue.cells.length,ae+=2*we.edges.length}}var ee=X+ae,se=d.mallocFloat(3*ee),ce=d.mallocFloat(4*ee),be=d.mallocFloat(2*ee),Ee=d.mallocUint32(ee);if(ee>0){var Se=0,De=X,Ge=[0,0,0,1],Xe=[0,0,0,1],Ke=o(me)&&o(me[0]),ut=o(he)&&o(he[0]);e:for(U=0;U<K;++U){for(de+=1,ge=Q[U],re=0;re<3;++re){if(isNaN(ge[re])||!isFinite(ge[re]))continue e;fe[re]=Math.max(fe[re],ge[re]),le[re]=Math.min(le[re],ge[re])}ue=(Tt=Y(pe,U,ne,this.pixelRatio)).mesh,we=Tt.lines,Te=Tt.bounds;var Tt,je=Tt.visible;if(je)if(o(me)){if((Le=Ke?U<me.length?me[U]:[0,0,0,0]:me).length===3){for(re=0;re<3;++re)Ge[re]=Le[re];Ge[3]=1}else if(Le.length===4){for(re=0;re<4;++re)Ge[re]=Le[re];!this.hasAlpha&&Le[3]<1&&(this.hasAlpha=!0)}}else Ge[0]=Ge[1]=Ge[2]=0,Ge[3]=1;else Ge=[1,1,1,0];if(je)if(o(he)){var Le;if((Le=ut?U<he.length?he[U]:[0,0,0,0]:he).length===3){for(re=0;re<3;++re)Xe[re]=Le[re];Xe[re]=1}else if(Le.length===4){for(re=0;re<4;++re)Xe[re]=Le[re];!this.hasAlpha&&Le[3]<1&&(this.hasAlpha=!0)}}else Xe[0]=Xe[1]=Xe[2]=0,Xe[3]=1;else Xe=[1,1,1,0];var $e=.5;je?o(ke)?$e=U<ke.length?+ke[U]:12:ke?$e=+ke:this.useOrtho&&($e=12):$e=0;var st=0;o(ve)?st=U<ve.length?+ve[U]:0:ve&&(st=+ve);var Ot=Math.cos(st),Je=Math.sin(st);for(ge=Q[U],re=0;re<3;++re)fe[re]=Math.max(fe[re],ge[re]),le[re]=Math.min(le[re],ge[re]);var at=Z,gt=q;at=0,o(Z)?at=U<Z.length?Z[U]:0:Z&&(at=Z),gt=0,o(q)?gt=U<q.length?q[U]:0:q&&(gt=q);var Oe=[at*=at>0?1-Te[0][0]:at<0?1+Te[1][0]:1,gt*=gt>0?1-Te[0][1]:gt<0?1+Te[1][1]:1],Be=ue.cells||[],it=ue.positions||[];for(re=0;re<Be.length;++re)for(var tt=Be[re],ft=0;ft<3;++ft){for(var pt=0;pt<3;++pt)se[3*Se+pt]=ge[pt];for(pt=0;pt<4;++pt)ce[4*Se+pt]=Ge[pt];Ee[Se]=de;var _e=it[tt[ft]];be[2*Se]=$e*(Ot*_e[0]-Je*_e[1]+Oe[0]),be[2*Se+1]=$e*(Je*_e[0]+Ot*_e[1]+Oe[1]),Se+=1}for(Be=we.edges,it=we.positions,re=0;re<Be.length;++re)for(tt=Be[re],ft=0;ft<2;++ft){for(pt=0;pt<3;++pt)se[3*De+pt]=ge[pt];for(pt=0;pt<4;++pt)ce[4*De+pt]=Xe[pt];Ee[De]=de,_e=it[tt[ft]],be[2*De]=$e*(Ot*_e[0]-Je*_e[1]+Oe[0]),be[2*De+1]=$e*(Je*_e[0]+Ot*_e[1]+Oe[1]),De+=1}}}this.bounds=[le,fe],this.points=Q,this.pointCount=Q.length,this.vertexCount=X,this.lineVertexCount=ae,this.pointBuffer.update(se),this.colorBuffer.update(ce),this.glyphBuffer.update(be),this.idBuffer.update(Ee),d.free(se),d.free(ce),d.free(be),d.free(Ee)},_.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},4298:function(b,a,t){var u=t(3236);a.boxVertex=u([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),a.boxFragment=u([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(b,a,t){var u=t(9405),i=t(2762),l=t(4298);function d(y,p,c){this.plot=y,this.boxBuffer=p,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}b.exports=function(y,p){var c=y.gl,x=new d(y,i(c,[0,0,0,1,1,0,1,1]),u(c,l.boxVertex,l.boxFragment));return x.update(p),y.addOverlay(x),x};var v=d.prototype;v.draw=function(){if(this.enabled){var y=this.plot,p=this.selectBox,c=this.borderWidth,x=(this.innerFill,this.innerColor),f=(this.outerFill,this.outerColor),n=this.borderColor,o=y.box,s=y.screenBox,r=y.dataBox,g=y.viewBox,e=y.pixelRatio,h=(p[0]-r[0])*(g[2]-g[0])/(r[2]-r[0])+g[0],_=(p[1]-r[1])*(g[3]-g[1])/(r[3]-r[1])+g[1],w=(p[2]-r[0])*(g[2]-g[0])/(r[2]-r[0])+g[0],S=(p[3]-r[1])*(g[3]-g[1])/(r[3]-r[1])+g[1];if(h=Math.max(h,g[0]),_=Math.max(_,g[1]),w=Math.min(w,g[2]),S=Math.min(S,g[3]),!(w<h||S<_)){o.bind();var O=s[2]-s[0],A=s[3]-s[1];if(this.outerFill&&(o.drawBox(0,0,O,_,f),o.drawBox(0,_,h,S,f),o.drawBox(0,S,O,A,f),o.drawBox(w,_,O,S,f)),this.innerFill&&o.drawBox(h,_,w,S,x),c>0){var I=c*e;o.drawBox(h-I,_-I,w+I,_+I,n),o.drawBox(h-I,S-I,w+I,S+I,n),o.drawBox(h-I,_-I,h+I,S+I,n),o.drawBox(w-I,_-I,w+I,S+I,n)}}}},v.update=function(y){y=y||{},this.innerFill=!!y.innerFill,this.outerFill=!!y.outerFill,this.innerColor=(y.innerColor||[0,0,0,.5]).slice(),this.outerColor=(y.outerColor||[0,0,0,.5]).slice(),this.borderColor=(y.borderColor||[0,0,0,1]).slice(),this.borderWidth=y.borderWidth||0,this.selectBox=(y.selectBox||this.selectBox).slice()},v.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},3589:function(b,a,t){b.exports=function(c,x){var f=x[0],n=x[1];return new y(c,u(c,f,n,{}),i.mallocUint8(f*n*4))};var u=t(2260),i=t(1888),l=t(9618),d=t(8828).nextPow2;function v(c,x,f,n,o){this.coord=[c,x],this.id=f,this.value=n,this.distance=o}function y(c,x,f){this.gl=c,this.fbo=x,this.buffer=f,this._readTimeout=null;var n=this;this._readCallback=function(){n.gl&&(x.bind(),c.readPixels(0,0,x.shape[0],x.shape[1],c.RGBA,c.UNSIGNED_BYTE,n.buffer),n._readTimeout=null)}}var p=y.prototype;Object.defineProperty(p,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var x=this.fbo.shape[0],f=this.fbo.shape[1];if(f*x*4>this.buffer.length){i.free(this.buffer);for(var n=this.buffer=i.mallocUint8(d(f*x*4)),o=0;o<f*x*4;++o)n[o]=255}return c}}}),p.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},p.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},p.query=function(c,x,f){if(!this.gl)return null;var n=this.fbo.shape.slice();c|=0,x|=0,typeof f!="number"&&(f=1);var o=0|Math.min(Math.max(c-f,0),n[0]),s=0|Math.min(Math.max(c+f,0),n[0]),r=0|Math.min(Math.max(x-f,0),n[1]),g=0|Math.min(Math.max(x+f,0),n[1]);if(s<=o||g<=r)return null;var e=[s-o,g-r],h=l(this.buffer,[e[0],e[1],4],[4,4*n[0],1],4*(o+n[0]*r)),_=function(O,A,I){for(var B=1e8,C=-1,z=-1,P=O.shape[0],R=O.shape[1],N=0;N<P;N++)for(var j=0;j<R;j++){var W=O.get(N,j,0),Y=O.get(N,j,1),J=O.get(N,j,2),G=O.get(N,j,3);if(W<255||Y<255||J<255||G<255){var H=A-N,U=I-j,Z=H*H+U*U;Z<B&&(B=Z,C=N,z=j)}}return[C,z,B]}(h.hi(e[0],e[1],1),f,f),w=_[0],S=_[1];return w<0||Math.pow(this.radius,2)<_[2]?null:new v(w+o|0,S+r|0,h.get(w,S,0),[h.get(w,S,1),h.get(w,S,2),h.get(w,S,3)],Math.sqrt(_[2]))},p.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},9405:function(b,a,t){var u=t(3327),i=t(8731),l=t(216),d=t(5091),v=t(2145),y=t(8866);function p(f){this.gl=f,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=p.prototype;function x(f,n){return f.name<n.name?-1:1}c.bind=function(){var f;this.program||this._relink();var n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),o=this.gl.lastAttribCount;if(n>o)for(f=o;f<n;f++)this.gl.enableVertexAttribArray(f);else if(o>n)for(f=n;f<o;f++)this.gl.disableVertexAttribArray(f);this.gl.lastAttribCount=n,this.gl.useProgram(this.program)},c.dispose=function(){for(var f=this.gl.lastAttribCount,n=0;n<f;n++)this.gl.disableVertexAttribArray(n);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(f,n,o,s){if(!n||arguments.length===1){var r=f;f=r.vertex,n=r.fragment,o=r.uniforms,s=r.attributes}var g=this,e=g.gl,h=g._vref;g._vref=d.shader(e,e.VERTEX_SHADER,f),h&&h.dispose(),g.vertShader=g._vref.shader;var _=this._fref;if(g._fref=d.shader(e,e.FRAGMENT_SHADER,n),_&&_.dispose(),g.fragShader=g._fref.shader,!o||!s){var w=e.createProgram();if(e.attachShader(w,g.fragShader),e.attachShader(w,g.vertShader),e.linkProgram(w),!e.getProgramParameter(w,e.LINK_STATUS)){var S=e.getProgramInfoLog(w);throw new y(S,"Error linking program:"+S)}o=o||v.uniforms(e,w),s=s||v.attributes(e,w),e.deleteProgram(w)}(s=s.slice()).sort(x);var O,A=[],I=[],B=[];for(O=0;O<s.length;++O){var C=s[O];if(C.type.indexOf("mat")>=0){for(var z=0|C.type.charAt(C.type.length-1),P=new Array(z),R=0;R<z;++R)P[R]=B.length,I.push(C.name+"["+R+"]"),typeof C.location=="number"?B.push(C.location+R):Array.isArray(C.location)&&C.location.length===z&&typeof C.location[R]=="number"?B.push(0|C.location[R]):B.push(-1);A.push({name:C.name,type:C.type,locations:P})}else A.push({name:C.name,type:C.type,locations:[B.length]}),I.push(C.name),typeof C.location=="number"?B.push(0|C.location):B.push(-1)}var N=0;for(O=0;O<B.length;++O)if(B[O]<0){for(;B.indexOf(N)>=0;)N+=1;B[O]=N}var j=new Array(o.length);function W(){g.program=d.program(e,g._vref,g._fref,I,B);for(var Y=0;Y<o.length;++Y)j[Y]=e.getUniformLocation(g.program,o[Y].name)}W(),g._relink=W,g.types={uniforms:l(o),attributes:l(s)},g.attributes=i(e,g,A,B),Object.defineProperty(g,"uniforms",u(e,g,o,j))},b.exports=function(f,n,o,s,r){var g=new p(f);return g.update(n,o,s,r),g}},8866:function(b){function a(t,u,i){this.shortMessage=u||"",this.longMessage=i||"",this.rawError=t||"",this.message="gl-shader: "+(u||t||"")+(i?`
`+i:""),this.stack=new Error().stack}a.prototype=new Error,a.prototype.name="GLError",a.prototype.constructor=a,b.exports=a},8731:function(b,a,t){b.exports=function(p,c,x,f){for(var n={},o=0,s=x.length;o<s;++o){var r=x[o],g=r.name,e=r.type,h=r.locations;switch(e){case"bool":case"int":case"float":v(p,c,h[0],f,1,n,g);break;default:if(e.indexOf("vec")>=0){if((_=e.charCodeAt(e.length-1)-48)<2||_>4)throw new u("","Invalid data type for attribute "+g+": "+e);v(p,c,h[0],f,_,n,g)}else{if(!(e.indexOf("mat")>=0))throw new u("","Unknown data type for attribute "+g+": "+e);var _;if((_=e.charCodeAt(e.length-1)-48)<2||_>4)throw new u("","Invalid data type for attribute "+g+": "+e);y(p,c,h,f,_,n,g)}}}return n};var u=t(8866);function i(p,c,x,f,n,o){this._gl=p,this._wrapper=c,this._index=x,this._locations=f,this._dimension=n,this._constFunc=o}var l=i.prototype;l.pointer=function(p,c,x,f){var n=this,o=n._gl,s=n._locations[n._index];o.vertexAttribPointer(s,n._dimension,p||o.FLOAT,!!c,x||0,f||0),o.enableVertexAttribArray(s)},l.set=function(p,c,x,f){return this._constFunc(this._locations[this._index],p,c,x,f)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(p){return p!==this._locations[this._index]&&(this._locations[this._index]=0|p,this._wrapper.program=null),0|p}});var d=[function(p,c,x){return x.length===void 0?p.vertexAttrib1f(c,x):p.vertexAttrib1fv(c,x)},function(p,c,x,f){return x.length===void 0?p.vertexAttrib2f(c,x,f):p.vertexAttrib2fv(c,x)},function(p,c,x,f,n){return x.length===void 0?p.vertexAttrib3f(c,x,f,n):p.vertexAttrib3fv(c,x)},function(p,c,x,f,n,o){return x.length===void 0?p.vertexAttrib4f(c,x,f,n,o):p.vertexAttrib4fv(c,x)}];function v(p,c,x,f,n,o,s){var r=d[n],g=new i(p,c,x,f,n,r);Object.defineProperty(o,s,{set:function(e){return p.disableVertexAttribArray(f[x]),r(p,f[x],e),e},get:function(){return g},enumerable:!0})}function y(p,c,x,f,n,o,s){for(var r=new Array(n),g=new Array(n),e=0;e<n;++e)v(p,c,x[e],f,n,r,e),g[e]=r[e];Object.defineProperty(r,"location",{set:function(w){if(Array.isArray(w))for(var S=0;S<n;++S)g[S].location=w[S];else for(S=0;S<n;++S)g[S].location=w+S;return w},get:function(){for(var w=new Array(n),S=0;S<n;++S)w[S]=f[x[S]];return w},enumerable:!0}),r.pointer=function(w,S,O,A){w=w||p.FLOAT,S=!!S,O=O||n*n,A=A||0;for(var I=0;I<n;++I){var B=f[x[I]];p.vertexAttribPointer(B,n,w,S,O,A+I*n),p.enableVertexAttribArray(B)}};var h=new Array(n),_=p["vertexAttrib"+n+"fv"];Object.defineProperty(o,s,{set:function(w){for(var S=0;S<n;++S){var O=f[x[S]];if(p.disableVertexAttribArray(O),Array.isArray(w[0]))_.call(p,O,w[S]);else{for(var A=0;A<n;++A)h[A]=w[n*S+A];_.call(p,O,h)}}return w},get:function(){return r},enumerable:!0})}},3327:function(b,a,t){var u=t(216),i=t(8866);function l(v){return function(){return v}}function d(v,y){for(var p=new Array(v),c=0;c<v;++c)p[c]=y;return p}b.exports=function(v,y,p,c){function x(r){return function(g){for(var e=f("",r),h=0;h<e.length;++h){var _=e[h],w=_[0],S=_[1];if(c[S]){var O=g;if(typeof w=="string"&&(w.indexOf(".")===0||w.indexOf("[")===0)){var A=w;if(w.indexOf(".")===0&&(A=w.slice(1)),A.indexOf("]")===A.length-1){var I=A.indexOf("["),B=A.slice(0,I),C=A.slice(I+1,A.length-1);O=B?g[B][C]:g[C]}else O=g[A]}var z,P=p[S].type;switch(P){case"bool":case"int":case"sampler2D":case"samplerCube":v.uniform1i(c[S],O);break;case"float":v.uniform1f(c[S],O);break;default:var R=P.indexOf("vec");if(!(0<=R&&R<=1&&P.length===4+R)){if(P.indexOf("mat")===0&&P.length===4){if((z=P.charCodeAt(P.length-1)-48)<2||z>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+P);v["uniformMatrix"+z+"fv"](c[S],!1,O);break}throw new i("","Unknown uniform data type for "+name+": "+P)}if((z=P.charCodeAt(P.length-1)-48)<2||z>4)throw new i("","Invalid data type");switch(P.charAt(0)){case"b":case"i":v["uniform"+z+"iv"](c[S],O);break;case"v":v["uniform"+z+"fv"](c[S],O);break;default:throw new i("","Unrecognized data type for vector "+name+": "+P)}}}}}}function f(r,g){if(typeof g!="object")return[[r,g]];var e=[];for(var h in g){var _=g[h],w=r;parseInt(h)+""===h?w+="["+h+"]":w+="."+h,typeof _=="object"?e.push.apply(e,f(w,_)):e.push([w,_])}return e}function n(r,g,e){if(typeof e=="object"){var h=o(e);Object.defineProperty(r,g,{get:l(h),set:x(e),enumerable:!0,configurable:!1})}else c[e]?Object.defineProperty(r,g,{get:(_=e,function(w,S,O){return w.getUniform(S.program,O[_])}),set:x(e),enumerable:!0,configurable:!1}):r[g]=function(w){switch(w){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var S=w.indexOf("vec");if(0<=S&&S<=1&&w.length===4+S){if((O=w.charCodeAt(w.length-1)-48)<2||O>4)throw new i("","Invalid data type");return w.charAt(0)==="b"?d(O,!1):d(O,0)}if(w.indexOf("mat")===0&&w.length===4){var O;if((O=w.charCodeAt(w.length-1)-48)<2||O>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+w);return d(O*O,0)}throw new i("","Unknown uniform data type for "+name+": "+w)}}(p[e].type);var _}function o(r){var g;if(Array.isArray(r)){g=new Array(r.length);for(var e=0;e<r.length;++e)n(g,e,r[e])}else for(var h in g={},r)n(g,h,r[h]);return g}var s=u(p,!0);return{get:l(o(s)),set:x(s),enumerable:!0,configurable:!0}}},216:function(b){b.exports=function(a,t){for(var u={},i=0;i<a.length;++i)for(var l=a[i].name.split("."),d=u,v=0;v<l.length;++v){var y=l[v].split("[");if(y.length>1){y[0]in d||(d[y[0]]=[]),d=d[y[0]];for(var p=1;p<y.length;++p){var c=parseInt(y[p]);p<y.length-1||v<l.length-1?(c in d||(p<y.length-1?d[c]=[]:d[c]={}),d=d[c]):d[c]=t?i:a[i].type}}else v<l.length-1?(y[0]in d||(d[y[0]]={}),d=d[y[0]]):d[y[0]]=t?i:a[i].type}return u}},2145:function(b,a){a.uniforms=function(l,d){for(var v=l.getProgramParameter(d,l.ACTIVE_UNIFORMS),y=[],p=0;p<v;++p){var c=l.getActiveUniform(d,p);if(c){var x=i(l,c.type);if(c.size>1)for(var f=0;f<c.size;++f)y.push({name:c.name.replace("[0]","["+f+"]"),type:x});else y.push({name:c.name,type:x})}}return y},a.attributes=function(l,d){for(var v=l.getProgramParameter(d,l.ACTIVE_ATTRIBUTES),y=[],p=0;p<v;++p){var c=l.getActiveAttrib(d,p);c&&y.push({name:c.name,type:i(l,c.type)})}return y};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},u=null;function i(l,d){if(!u){var v=Object.keys(t);u={};for(var y=0;y<v.length;++y){var p=v[y];u[l[p]]=t[p]}}return u[d]}},5091:function(b,a,t){a.shader=function(x,f,n){return c(x).getShaderReference(f,n)},a.program=function(x,f,n,o,s){return c(x).getProgram(f,n,o,s)};var u=t(8866),i=t(2992),l=new(typeof WeakMap>"u"?t(606):WeakMap),d=0;function v(x,f,n,o,s,r,g){this.id=x,this.src=f,this.type=n,this.shader=o,this.count=r,this.programs=[],this.cache=g}function y(x){this.gl=x,this.shaders=[{},{}],this.programs={}}v.prototype.dispose=function(){if(--this.count==0){for(var x=this.cache,f=x.gl,n=this.programs,o=0,s=n.length;o<s;++o){var r=x.programs[n[o]];r&&(delete x.programs[o],f.deleteProgram(r))}f.deleteShader(this.shader),delete x.shaders[this.type===f.FRAGMENT_SHADER|0][this.src]}};var p=y.prototype;function c(x){var f=l.get(x);return f||(f=new y(x),l.set(x,f)),f}p.getShaderReference=function(x,f){var n=this.gl,o=this.shaders[x===n.FRAGMENT_SHADER|0],s=o[f];if(s&&n.isShader(s.shader))s.count+=1;else{var r=function(g,e,h){var _=g.createShader(e);if(g.shaderSource(_,h),g.compileShader(_),!g.getShaderParameter(_,g.COMPILE_STATUS)){var w=g.getShaderInfoLog(_);try{var S=i(w,h,e)}catch(O){throw console.warn("Failed to format compiler error: "+O),new u(w,`Error compiling shader:
`+w)}throw new u(w,S.short,S.long)}return _}(n,x,f);s=o[f]=new v(d++,f,x,r,[],1,this)}return s},p.getProgram=function(x,f,n,o){var s=[x.id,f.id,n.join(":"),o.join(":")].join("@"),r=this.programs[s];return r&&this.gl.isProgram(r)||(this.programs[s]=r=function(g,e,h,_,w){var S=g.createProgram();g.attachShader(S,e),g.attachShader(S,h);for(var O=0;O<_.length;++O)g.bindAttribLocation(S,w[O],_[O]);if(g.linkProgram(S),!g.getProgramParameter(S,g.LINK_STATUS)){var A=g.getProgramInfoLog(S);throw new u(A,"Error linking program: "+A)}return S}(this.gl,x.shader,f.shader,n,o),x.programs.push(s),f.programs.push(s)),r}},4098:function(b){function a(u){this.plot=u,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}b.exports=function(u,i){var l=new a(u);return l.update(i),u.addOverlay(l),l};var t=a.prototype;t.update=function(u){u=u||{},this.enable=(u.enable||[!0,!0,!1,!1]).slice(),this.width=(u.width||[1,1,1,1]).slice(),this.color=(u.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(i){return i.slice()}),this.center=(u.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var u=this.enable,i=this.width,l=this.color,d=this.center,v=this.plot,y=v.line,p=v.dataBox,c=v.viewBox;if(y.bind(),p[0]<=d[0]&&d[0]<=p[2]&&p[1]<=d[1]&&d[1]<=p[3]){var x=c[0]+(d[0]-p[0])/(p[2]-p[0])*(c[2]-c[0]),f=c[1]+(d[1]-p[1])/(p[3]-p[1])*(c[3]-c[1]);u[0]&&y.drawLine(x,f,c[0],f,i[0],l[0]),u[1]&&y.drawLine(x,f,x,c[1],i[1],l[1]),u[2]&&y.drawLine(x,f,c[2],f,i[2],l[2]),u[3]&&y.drawLine(x,f,x,c[3],i[3],l[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},1493:function(b,a,t){var u=t(3236),i=t(9405),l=u([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),d=u([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);b.exports=function(v){return i(v,l,d,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(b,a,t){var u=t(2762),i=t(8116),l=t(1493);b.exports=function(f,n){var o=[];function s(_,w,S,O,A,I){var B=[_,w,S,0,0,0,1];B[O+3]=1,B[O]=A,o.push.apply(o,B),B[6]=-1,o.push.apply(o,B),B[O]=I,o.push.apply(o,B),o.push.apply(o,B),B[6]=1,o.push.apply(o,B),B[O]=A,o.push.apply(o,B)}s(0,0,0,0,0,1),s(0,0,0,1,0,1),s(0,0,0,2,0,1),s(1,0,0,1,-1,1),s(1,0,0,2,-1,1),s(0,1,0,0,-1,1),s(0,1,0,2,-1,1),s(0,0,1,0,-1,1),s(0,0,1,1,-1,1);var r=u(f,o),g=i(f,[{type:f.FLOAT,buffer:r,size:3,offset:0,stride:28},{type:f.FLOAT,buffer:r,size:3,offset:12,stride:28},{type:f.FLOAT,buffer:r,size:1,offset:24,stride:28}]),e=l(f);e.attributes.position.location=0,e.attributes.color.location=1,e.attributes.weight.location=2;var h=new v(f,r,g,e);return h.update(n),h};var d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(f,n,o,s){this.gl=f,this.buffer=n,this.vao=o,this.shader=s,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var y=v.prototype,p=[0,0,0],c=[0,0,0],x=[0,0];y.isTransparent=function(){return!1},y.drawTransparent=function(f){},y.draw=function(f){var n=this.gl,o=this.vao,s=this.shader;o.bind(),s.bind();var r,g=f.model||d,e=f.view||d,h=f.projection||d;this.axes&&(r=this.axes.lastCubeProps.axis);for(var _=p,w=c,S=0;S<3;++S)r&&r[S]<0?(_[S]=this.bounds[0][S],w[S]=this.bounds[1][S]):(_[S]=this.bounds[1][S],w[S]=this.bounds[0][S]);for(x[0]=n.drawingBufferWidth,x[1]=n.drawingBufferHeight,s.uniforms.model=g,s.uniforms.view=e,s.uniforms.projection=h,s.uniforms.coordinates=[this.position,_,w],s.uniforms.colors=this.colors,s.uniforms.screenShape=x,S=0;S<3;++S)s.uniforms.lineWidth=this.lineWidth[S]*this.pixelRatio,this.enabled[S]&&(o.draw(n.TRIANGLES,6,6*S),this.drawSides[S]&&o.draw(n.TRIANGLES,12,18+12*S));o.unbind()},y.update=function(f){f&&("bounds"in f&&(this.bounds=f.bounds),"position"in f&&(this.position=f.position),"lineWidth"in f&&(this.lineWidth=f.lineWidth),"colors"in f&&(this.colors=f.colors),"enabled"in f&&(this.enabled=f.enabled),"drawSides"in f&&(this.drawSides=f.drawSides))},y.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6740:function(b,a,t){var u=t(3236),i=u([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),l=u([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),d=u([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),v=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);a.meshShader={vertex:i,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},a.pickShader={vertex:d,fragment:v,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(b,a,t){var u=t(2931),i=t(9970),l=["xyz","xzy","yxz","yzx","zxy","zyx"],d=function(x,f){var n,o=x.length;for(n=0;n<o;n++){var s=x[n];if(s===f)return n;if(s>f)return n-1}return n},v=function(x,f,n){return x<f?f:x>n?n:x},y=function(x){var f=1/0;x.sort(function(r,g){return r-g});for(var n=x.length,o=1;o<n;o++){var s=Math.abs(x[o]-x[o-1]);s<f&&(f=s)}return f};b.exports=function(x,f){var n=x.startingPositions,o=x.maxLength||1e3,s=x.tubeSize||1,r=x.absoluteTubeSize,g=x.gridFill||"+x+y+z",e={};g.indexOf("-x")!==-1&&(e.reversedX=!0),g.indexOf("-y")!==-1&&(e.reversedY=!0),g.indexOf("-z")!==-1&&(e.reversedZ=!0),e.filled=l.indexOf(g.replace(/-/g,"").replace(/\+/g,""));var h=x.getVelocity||function(me){return function(ke,ve,he){var de=ve.vectors,X=ve.meshgrid,ae=ke[0],K=ke[1],ge=ke[2],re=X[0].length,ue=X[1].length,we=X[2].length,Te=d(X[0],ae),ee=d(X[1],K),se=d(X[2],ge),ce=Te+1,be=ee+1,Ee=se+1;if(Te=v(Te,0,re-1),ce=v(ce,0,re-1),ee=v(ee,0,ue-1),be=v(be,0,ue-1),se=v(se,0,we-1),Ee=v(Ee,0,we-1),Te<0||ee<0||se<0||ce>re-1||be>ue-1||Ee>we-1)return u.create();var Se,De,Ge,Xe,Ke,ut,Tt=X[0][Te],je=X[0][ce],Le=X[1][ee],$e=X[1][be],st=X[2][se],Ot=(ae-Tt)/(je-Tt),Je=(K-Le)/($e-Le),at=(ge-st)/(X[2][Ee]-st);switch(isFinite(Ot)||(Ot=.5),isFinite(Je)||(Je=.5),isFinite(at)||(at=.5),he.reversedX&&(Te=re-1-Te,ce=re-1-ce),he.reversedY&&(ee=ue-1-ee,be=ue-1-be),he.reversedZ&&(se=we-1-se,Ee=we-1-Ee),he.filled){case 5:Ke=se,ut=Ee,Ge=ee*we,Xe=be*we,Se=Te*we*ue,De=ce*we*ue;break;case 4:Ke=se,ut=Ee,Se=Te*we,De=ce*we,Ge=ee*we*re,Xe=be*we*re;break;case 3:Ge=ee,Xe=be,Ke=se*ue,ut=Ee*ue,Se=Te*ue*we,De=ce*ue*we;break;case 2:Ge=ee,Xe=be,Se=Te*ue,De=ce*ue,Ke=se*ue*re,ut=Ee*ue*re;break;case 1:Se=Te,De=ce,Ke=se*re,ut=Ee*re,Ge=ee*re*we,Xe=be*re*we;break;default:Se=Te,De=ce,Ge=ee*re,Xe=be*re,Ke=se*re*ue,ut=Ee*re*ue}var gt=de[Se+Ge+Ke],Oe=de[Se+Ge+ut],Be=de[Se+Xe+Ke],it=de[Se+Xe+ut],tt=de[De+Ge+Ke],ft=de[De+Ge+ut],pt=de[De+Xe+Ke],_e=de[De+Xe+ut],Ae=u.create(),Ve=u.create(),He=u.create(),We=u.create();u.lerp(Ae,gt,tt,Ot),u.lerp(Ve,Oe,ft,Ot),u.lerp(He,Be,pt,Ot),u.lerp(We,it,_e,Ot);var Pe=u.create(),Ue=u.create();u.lerp(Pe,Ae,He,Je),u.lerp(Ue,Ve,We,Je);var Ne=u.create();return u.lerp(Ne,Pe,Ue,at),Ne}(me,x,e)},_=x.getDivergence||function(me,ke){var ve=u.create(),he=1e-4;u.add(ve,me,[he,0,0]);var de=h(ve);u.subtract(de,de,ke),u.scale(de,de,1/he),u.add(ve,me,[0,he,0]);var X=h(ve);u.subtract(X,X,ke),u.scale(X,X,1/he),u.add(ve,me,[0,0,he]);var ae=h(ve);return u.subtract(ae,ae,ke),u.scale(ae,ae,1/he),u.add(ve,de,X),u.add(ve,ve,ae),ve},w=[],S=f[0][0],O=f[0][1],A=f[0][2],I=f[1][0],B=f[1][1],C=f[1][2],z=function(me){var ke=me[0],ve=me[1],he=me[2];return!(ke<S||ke>I||ve<O||ve>B||he<A||he>C)},P=10*u.distance(f[0],f[1])/o,R=P*P,N=1,j=0,W=n.length;W>1&&(N=function(me){for(var ke=[],ve=[],he=[],de={},X={},ae={},K=me.length,ge=0;ge<K;ge++){var re=me[ge],ue=re[0],we=re[1],Te=re[2];de[ue]||(ke.push(ue),de[ue]=!0),X[we]||(ve.push(we),X[we]=!0),ae[Te]||(he.push(Te),ae[Te]=!0)}var ee=y(ke),se=y(ve),ce=y(he),be=Math.min(ee,se,ce);return isFinite(be)?be:1}(n));for(var Y=0;Y<W;Y++){var J=u.create();u.copy(J,n[Y]);var G=[J],H=[],U=h(J),Z=J;H.push(U);var q=[],Q=_(J,U),ne=u.length(Q);isFinite(ne)&&ne>j&&(j=ne),q.push(ne),w.push({points:G,velocities:H,divergences:q});for(var ie=0;ie<100*o&&G.length<o&&z(J);){ie++;var le=u.clone(U),fe=u.squaredLength(le);if(fe===0)break;fe>R&&u.scale(le,le,P/Math.sqrt(fe)),u.add(le,le,J),U=h(le),u.squaredDistance(Z,le)-R>-1e-4*R&&(G.push(le),Z=le,H.push(U),Q=_(le,U),ne=u.length(Q),isFinite(ne)&&ne>j&&(j=ne),q.push(ne)),J=le}}var pe=function(me,ke,ve,he){for(var de=0,X=0;X<me.length;X++)for(var ae=me[X].velocities,K=0;K<ae.length;K++)de=Math.max(de,u.length(ae[K]));var ge=me.map(function(Se){return function(De,Ge,Xe,Ke){for(var ut=De.points,Tt=De.velocities,je=De.divergences,Le=[],$e=[],st=[],Ot=[],Je=[],at=[],gt=0,Oe=0,Be=i.create(),it=i.create(),tt=0;tt<ut.length;tt++){var ft=ut[tt],pt=Tt[tt],_e=je[tt];Ge===0&&(_e=.05*Xe),Oe=u.length(pt)/Ke,Be=i.create(),u.copy(Be,pt),Be[3]=_e;for(var Ae=0;Ae<8;Ae++)Je[Ae]=[ft[0],ft[1],ft[2],Ae];if(Ot.length>0)for(Ae=0;Ae<8;Ae++){var Ve=(Ae+1)%8;Le.push(Ot[Ae],Je[Ae],Je[Ve],Je[Ve],Ot[Ve],Ot[Ae]),st.push(it,Be,Be,Be,it,it),at.push(gt,Oe,Oe,Oe,gt,gt);var He=Le.length;$e.push([He-6,He-5,He-4],[He-3,He-2,He-1])}var We=Ot;Ot=Je,Je=We;var Pe=it;it=Be,Be=Pe;var Ue=gt;gt=Oe,Oe=Ue}return{positions:Le,cells:$e,vectors:st,vertexIntensity:at}}(Se,ve,he,de)}),re=[],ue=[],we=[],Te=[];for(X=0;X<ge.length;X++){var ee=ge[X],se=re.length;for(re=re.concat(ee.positions),we=we.concat(ee.vectors),Te=Te.concat(ee.vertexIntensity),K=0;K<ee.cells.length;K++){var ce=ee.cells[K],be=[];ue.push(be);for(var Ee=0;Ee<ce.length;Ee++)be.push(ce[Ee]+se)}}return{positions:re,cells:ue,vectors:we,vertexIntensity:Te,colormap:ke}}(w,x.colormap,j,N);return r?pe.tubeScale=r:(j===0&&(j=1),pe.tubeScale=.5*s*N/j),pe};var p=t(6740),c=t(6405).createMesh;b.exports.createTubeMesh=function(x,f){return c(x,f,{shaders:p,traceType:"streamtube"})}},990:function(b,a,t){var u=t(9405),i=t(3236),l=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),d=i([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),v=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),y=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);a.createShader=function(p){var c=u(p,l,d,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},a.createPickShader=function(p){var c=u(p,l,y,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},a.createContourShader=function(p){var c=u(p,v,d,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},a.createPickContourShader=function(p){var c=u(p,v,y,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},9499:function(b,a,t){b.exports=function(Q){var ne=Q.gl,ie=e(ne),le=_(ne),fe=h(ne),pe=w(ne),me=i(ne),ke=l(ne,[{buffer:me,size:4,stride:S,offset:0},{buffer:me,size:3,stride:S,offset:16},{buffer:me,size:3,stride:S,offset:28}]),ve=i(ne),he=l(ne,[{buffer:ve,size:4,stride:20,offset:0},{buffer:ve,size:1,stride:20,offset:16}]),de=i(ne),X=l(ne,[{buffer:de,size:2,type:ne.FLOAT}]),ae=d(ne,1,C,ne.RGBA,ne.UNSIGNED_BYTE);ae.minFilter=ne.LINEAR,ae.magFilter=ne.LINEAR;var K=new z(ne,[0,0],[[0,0,0],[0,0,0]],ie,le,me,ke,ae,fe,pe,ve,he,de,X,[0,0,0]),ge={levels:[[],[],[]]};for(var re in Q)ge[re]=Q[re];return ge.colormap=ge.colormap||"jet",K.update(ge),K};var u=t(8828),i=t(2762),l=t(8116),d=t(7766),v=t(1888),y=t(6729),p=t(5298),c=t(9994),x=t(9618),f=t(3711),n=t(6760),o=t(7608),s=t(2478),r=t(6199),g=t(990),e=g.createShader,h=g.createContourShader,_=g.createPickShader,w=g.createPickContourShader,S=40,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],A=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function B(Q,ne,ie,le,fe){this.position=Q,this.index=ne,this.uv=ie,this.level=le,this.dataCoordinate=fe}(function(){for(var Q=0;Q<3;++Q){var ne=I[Q],ie=(Q+2)%3;ne[(Q+1)%3+0]=1,ne[ie+3]=1,ne[Q+6]=1}})();var C=256;function z(Q,ne,ie,le,fe,pe,me,ke,ve,he,de,X,ae,K,ge){this.gl=Q,this.shape=ne,this.bounds=ie,this.objectOffset=ge,this.intensityBounds=[],this._shader=le,this._pickShader=fe,this._coordinateBuffer=pe,this._vao=me,this._colorMap=ke,this._contourShader=ve,this._contourPickShader=he,this._contourBuffer=de,this._contourVAO=X,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new B([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=ae,this._dynamicVAO=K,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[x(v.mallocFloat(1024),[0,0]),x(v.mallocFloat(1024),[0,0]),x(v.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var P=z.prototype;P.genColormap=function(Q,ne){var ie=!1,le=c([y({colormap:Q,nshades:C,format:"rgba"}).map(function(fe,pe){var me=ne?function(ke,ve){if(!ve||!ve.length)return 1;for(var he=0;he<ve.length;++he){if(ve.length<2)return 1;if(ve[he][0]===ke)return ve[he][1];if(ve[he][0]>ke&&he>0){var de=(ve[he][0]-ke)/(ve[he][0]-ve[he-1][0]);return ve[he][1]*(1-de)+de*ve[he-1][1]}}return 1}(pe/255,ne):fe[3];return me<1&&(ie=!0),[fe[0],fe[1],fe[2],255*me]})]);return p.divseq(le,255),this.hasAlphaScale=ie,le},P.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},P.isOpaque=function(){return!this.isTransparent()},P.pickSlots=1,P.setPickBase=function(Q){this.pickId=Q};var R=[0,0,0],N={showSurface:!1,showContour:!1,projections:[O.slice(),O.slice(),O.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function j(Q,ne){var ie,le,fe,pe=ne.axes&&ne.axes.lastCubeProps.axis||R,me=ne.showSurface,ke=ne.showContour;for(ie=0;ie<3;++ie)for(me=me||ne.surfaceProject[ie],le=0;le<3;++le)ke=ke||ne.contourProject[ie][le];for(ie=0;ie<3;++ie){var ve=N.projections[ie];for(le=0;le<16;++le)ve[le]=0;for(le=0;le<4;++le)ve[5*le]=1;ve[5*ie]=0,ve[12+ie]=ne.axesBounds[+(pe[ie]>0)][ie],n(ve,Q.model,ve);var he=N.clipBounds[ie];for(fe=0;fe<2;++fe)for(le=0;le<3;++le)he[fe][le]=Q.clipBounds[fe][le];he[0][ie]=-1e8,he[1][ie]=1e8}return N.showSurface=me,N.showContour=ke,N}var W={model:O,view:O,projection:O,inverseModel:O.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},Y=O.slice(),J=[1,0,0,0,1,0,0,0,1];function G(Q,ne){Q=Q||{};var ie=this.gl;ie.disable(ie.CULL_FACE),this._colorMap.bind(0);var le=W;le.model=Q.model||O,le.view=Q.view||O,le.projection=Q.projection||O,le.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],le.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],le.objectOffset=this.objectOffset,le.contourColor=this.contourColor[0],le.inverseModel=o(le.inverseModel,le.model);for(var fe=0;fe<2;++fe)for(var pe=le.clipBounds[fe],me=0;me<3;++me)pe[me]=Math.min(Math.max(this.clipBounds[fe][me],-1e8),1e8);le.kambient=this.ambientLight,le.kdiffuse=this.diffuseLight,le.kspecular=this.specularLight,le.roughness=this.roughness,le.fresnel=this.fresnel,le.opacity=this.opacity,le.height=0,le.permutation=J,le.vertexColor=this.vertexColor;var ke=Y;for(n(ke,le.view,le.model),n(ke,le.projection,ke),o(ke,ke),fe=0;fe<3;++fe)le.eyePosition[fe]=ke[12+fe]/ke[15];var ve=ke[15];for(fe=0;fe<3;++fe)ve+=this.lightPosition[fe]*ke[4*fe+3];for(fe=0;fe<3;++fe){var he=ke[12+fe];for(me=0;me<3;++me)he+=ke[4*me+fe]*this.lightPosition[me];le.lightPosition[fe]=he/ve}var de=j(le,this);if(de.showSurface){for(this._shader.bind(),this._shader.uniforms=le,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ie.TRIANGLES,this._vertexCount),fe=0;fe<3;++fe)this.surfaceProject[fe]&&this.vertexCount&&(this._shader.uniforms.model=de.projections[fe],this._shader.uniforms.clipBounds=de.clipBounds[fe],this._vao.draw(ie.TRIANGLES,this._vertexCount));this._vao.unbind()}if(de.showContour){var X=this._contourShader;le.kambient=1,le.kdiffuse=0,le.kspecular=0,le.opacity=1,X.bind(),X.uniforms=le;var ae=this._contourVAO;for(ae.bind(),fe=0;fe<3;++fe)for(X.uniforms.permutation=I[fe],ie.lineWidth(this.contourWidth[fe]*this.pixelRatio),me=0;me<this.contourLevels[fe].length;++me)me===this.highlightLevel[fe]?(X.uniforms.contourColor=this.highlightColor[fe],X.uniforms.contourTint=this.highlightTint[fe]):me!==0&&me-1!==this.highlightLevel[fe]||(X.uniforms.contourColor=this.contourColor[fe],X.uniforms.contourTint=this.contourTint[fe]),this._contourCounts[fe][me]&&(X.uniforms.height=this.contourLevels[fe][me],ae.draw(ie.LINES,this._contourCounts[fe][me],this._contourOffsets[fe][me]));for(fe=0;fe<3;++fe)for(X.uniforms.model=de.projections[fe],X.uniforms.clipBounds=de.clipBounds[fe],me=0;me<3;++me)if(this.contourProject[fe][me]){X.uniforms.permutation=I[me],ie.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var K=0;K<this.contourLevels[me].length;++K)K===this.highlightLevel[me]?(X.uniforms.contourColor=this.highlightColor[me],X.uniforms.contourTint=this.highlightTint[me]):K!==0&&K-1!==this.highlightLevel[me]||(X.uniforms.contourColor=this.contourColor[me],X.uniforms.contourTint=this.contourTint[me]),this._contourCounts[me][K]&&(X.uniforms.height=this.contourLevels[me][K],ae.draw(ie.LINES,this._contourCounts[me][K],this._contourOffsets[me][K]))}for(ae.unbind(),(ae=this._dynamicVAO).bind(),fe=0;fe<3;++fe)if(this._dynamicCounts[fe]!==0)for(X.uniforms.model=le.model,X.uniforms.clipBounds=le.clipBounds,X.uniforms.permutation=I[fe],ie.lineWidth(this.dynamicWidth[fe]*this.pixelRatio),X.uniforms.contourColor=this.dynamicColor[fe],X.uniforms.contourTint=this.dynamicTint[fe],X.uniforms.height=this.dynamicLevel[fe],ae.draw(ie.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]),me=0;me<3;++me)this.contourProject[me][fe]&&(X.uniforms.model=de.projections[me],X.uniforms.clipBounds=de.clipBounds[me],ae.draw(ie.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]));ae.unbind()}}P.draw=function(Q){return G.call(this,Q,!1)},P.drawTransparent=function(Q){return G.call(this,Q,!0)};var H={model:O,view:O,projection:O,inverseModel:O,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function U(Q,ne){return Array.isArray(Q)?[ne(Q[0]),ne(Q[1]),ne(Q[2])]:[ne(Q),ne(Q),ne(Q)]}function Z(Q){return Array.isArray(Q)?Q.length===3?[Q[0],Q[1],Q[2],1]:[Q[0],Q[1],Q[2],Q[3]]:[0,0,0,1]}function q(Q){if(Array.isArray(Q)){if(Array.isArray(Q))return[Z(Q[0]),Z(Q[1]),Z(Q[2])];var ne=Z(Q);return[ne.slice(),ne.slice(),ne.slice()]}}P.drawPick=function(Q){Q=Q||{};var ne=this.gl;ne.disable(ne.CULL_FACE);var ie=H;ie.model=Q.model||O,ie.view=Q.view||O,ie.projection=Q.projection||O,ie.shape=this._field[2].shape,ie.pickId=this.pickId/255,ie.lowerBound=this.bounds[0],ie.upperBound=this.bounds[1],ie.objectOffset=this.objectOffset,ie.permutation=J;for(var le=0;le<2;++le)for(var fe=ie.clipBounds[le],pe=0;pe<3;++pe)fe[pe]=Math.min(Math.max(this.clipBounds[le][pe],-1e8),1e8);var me=j(ie,this);if(me.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ie,this._vao.bind(),this._vao.draw(ne.TRIANGLES,this._vertexCount),le=0;le<3;++le)this.surfaceProject[le]&&(this._pickShader.uniforms.model=me.projections[le],this._pickShader.uniforms.clipBounds=me.clipBounds[le],this._vao.draw(ne.TRIANGLES,this._vertexCount));this._vao.unbind()}if(me.showContour){var ke=this._contourPickShader;ke.bind(),ke.uniforms=ie;var ve=this._contourVAO;for(ve.bind(),pe=0;pe<3;++pe)for(ne.lineWidth(this.contourWidth[pe]*this.pixelRatio),ke.uniforms.permutation=I[pe],le=0;le<this.contourLevels[pe].length;++le)this._contourCounts[pe][le]&&(ke.uniforms.height=this.contourLevels[pe][le],ve.draw(ne.LINES,this._contourCounts[pe][le],this._contourOffsets[pe][le]));for(le=0;le<3;++le)for(ke.uniforms.model=me.projections[le],ke.uniforms.clipBounds=me.clipBounds[le],pe=0;pe<3;++pe)if(this.contourProject[le][pe]){ke.uniforms.permutation=I[pe],ne.lineWidth(this.contourWidth[pe]*this.pixelRatio);for(var he=0;he<this.contourLevels[pe].length;++he)this._contourCounts[pe][he]&&(ke.uniforms.height=this.contourLevels[pe][he],ve.draw(ne.LINES,this._contourCounts[pe][he],this._contourOffsets[pe][he]))}ve.unbind()}},P.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var ne=this._field[2].shape,ie=this._pickResult,le=ne[0]*(Q.value[0]+(Q.value[2]>>4)/16)/255,fe=Math.floor(le),pe=le-fe,me=ne[1]*(Q.value[1]+(15&Q.value[2])/16)/255,ke=Math.floor(me),ve=me-ke;fe+=1,ke+=1;var he=ie.position;he[0]=he[1]=he[2]=0;for(var de=0;de<2;++de)for(var X=de?pe:1-pe,ae=0;ae<2;++ae)for(var K=fe+de,ge=ke+ae,re=X*(ae?ve:1-ve),ue=0;ue<3;++ue)he[ue]+=this._field[ue].get(K,ge)*re;for(var we=this._pickResult.level,Te=0;Te<3;++Te)if(we[Te]=s.le(this.contourLevels[Te],he[Te]),we[Te]<0)this.contourLevels[Te].length>0&&(we[Te]=0);else if(we[Te]<this.contourLevels[Te].length-1){var ee=this.contourLevels[Te][we[Te]],se=this.contourLevels[Te][we[Te]+1];Math.abs(ee-he[Te])>Math.abs(se-he[Te])&&(we[Te]+=1)}for(ie.index[0]=pe<.5?fe:fe+1,ie.index[1]=ve<.5?ke:ke+1,ie.uv[0]=le/ne[0],ie.uv[1]=me/ne[1],ue=0;ue<3;++ue)ie.dataCoordinate[ue]=this._field[ue].get(ie.index[0],ie.index[1]);return ie},P.padField=function(Q,ne){var ie=ne.shape.slice(),le=Q.shape.slice();p.assign(Q.lo(1,1).hi(ie[0],ie[1]),ne),p.assign(Q.lo(1).hi(ie[0],1),ne.hi(ie[0],1)),p.assign(Q.lo(1,le[1]-1).hi(ie[0],1),ne.lo(0,ie[1]-1).hi(ie[0],1)),p.assign(Q.lo(0,1).hi(1,ie[1]),ne.hi(1)),p.assign(Q.lo(le[0]-1,1).hi(1,ie[1]),ne.lo(ie[0]-1)),Q.set(0,0,ne.get(0,0)),Q.set(0,le[1]-1,ne.get(0,ie[1]-1)),Q.set(le[0]-1,0,ne.get(ie[0]-1,0)),Q.set(le[0]-1,le[1]-1,ne.get(ie[0]-1,ie[1]-1))},P.update=function(Q){Q=Q||{},this.objectOffset=Q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Q&&(this.contourWidth=U(Q.contourWidth,Number)),"showContour"in Q&&(this.showContour=U(Q.showContour,Boolean)),"showSurface"in Q&&(this.showSurface=!!Q.showSurface),"contourTint"in Q&&(this.contourTint=U(Q.contourTint,Boolean)),"contourColor"in Q&&(this.contourColor=q(Q.contourColor)),"contourProject"in Q&&(this.contourProject=U(Q.contourProject,function(ht){return U(ht,Boolean)})),"surfaceProject"in Q&&(this.surfaceProject=Q.surfaceProject),"dynamicColor"in Q&&(this.dynamicColor=q(Q.dynamicColor)),"dynamicTint"in Q&&(this.dynamicTint=U(Q.dynamicTint,Number)),"dynamicWidth"in Q&&(this.dynamicWidth=U(Q.dynamicWidth,Number)),"opacity"in Q&&(this.opacity=Q.opacity),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale),"colorBounds"in Q&&(this.colorBounds=Q.colorBounds),"vertexColor"in Q&&(this.vertexColor=Q.vertexColor?1:0),"colormap"in Q&&this._colorMap.setPixels(this.genColormap(Q.colormap,this.opacityscale));var ne=Q.field||Q.coords&&Q.coords[2]||null,ie=!1;if(ne||(ne=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in Q||"coords"in Q){var le=(ne.shape[0]+2)*(ne.shape[1]+2);le>this._field[2].data.length&&(v.freeFloat(this._field[2].data),this._field[2].data=v.mallocFloat(u.nextPow2(le))),this._field[2]=x(this._field[2].data,[ne.shape[0]+2,ne.shape[1]+2]),this.padField(this._field[2],ne),this.shape=ne.shape.slice();for(var fe=this.shape,pe=0;pe<2;++pe)this._field[2].size>this._field[pe].data.length&&(v.freeFloat(this._field[pe].data),this._field[pe].data=v.mallocFloat(this._field[2].size)),this._field[pe]=x(this._field[pe].data,[fe[0]+2,fe[1]+2]);if(Q.coords){var me=Q.coords;if(!Array.isArray(me)||me.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(pe=0;pe<2;++pe){var ke=me[pe];for(ae=0;ae<2;++ae)if(ke.shape[ae]!==fe[ae])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[pe],ke)}}else if(Q.ticks){var ve=Q.ticks;if(!Array.isArray(ve)||ve.length!==2)throw new Error("gl-surface: invalid ticks");for(pe=0;pe<2;++pe){var he=ve[pe];if((Array.isArray(he)||he.length)&&(he=x(he)),he.shape[0]!==fe[pe])throw new Error("gl-surface: invalid tick length");var de=x(he.data,fe);de.stride[pe]=he.stride[0],de.stride[1^pe]=0,this.padField(this._field[pe],de)}}else{for(pe=0;pe<2;++pe){var X=[0,0];X[pe]=1,this._field[pe]=x(this._field[pe].data,[fe[0]+2,fe[1]+2],X,0)}this._field[0].set(0,0,0);for(var ae=0;ae<fe[0];++ae)this._field[0].set(ae+1,0,ae);for(this._field[0].set(fe[0]+1,0,fe[0]-1),this._field[1].set(0,0,0),ae=0;ae<fe[1];++ae)this._field[1].set(0,ae+1,ae);this._field[1].set(0,fe[1]+1,fe[1]-1)}var K=this._field,ge=x(v.mallocFloat(3*K[2].size*2),[3,fe[0]+2,fe[1]+2,2]);for(pe=0;pe<3;++pe)r(ge.pick(pe),K[pe],"mirror");var re=x(v.mallocFloat(3*K[2].size),[fe[0]+2,fe[1]+2,3]);for(pe=0;pe<fe[0]+2;++pe)for(ae=0;ae<fe[1]+2;++ae){var ue=ge.get(0,pe,ae,0),we=ge.get(0,pe,ae,1),Te=ge.get(1,pe,ae,0),ee=ge.get(1,pe,ae,1),se=ge.get(2,pe,ae,0),ce=ge.get(2,pe,ae,1),be=Te*ce-ee*se,Ee=se*we-ce*ue,Se=ue*ee-we*Te,De=Math.sqrt(be*be+Ee*Ee+Se*Se);De<1e-8?(De=Math.max(Math.abs(be),Math.abs(Ee),Math.abs(Se)))<1e-8?(Se=1,Ee=be=0,De=1):De=1/De:De=1/Math.sqrt(De),re.set(pe,ae,0,be*De),re.set(pe,ae,1,Ee*De),re.set(pe,ae,2,Se*De)}v.free(ge.data);var Ge=[1/0,1/0,1/0],Xe=[-1/0,-1/0,-1/0],Ke=1/0,ut=-1/0,Tt=(fe[0]-1)*(fe[1]-1)*6,je=v.mallocFloat(u.nextPow2(10*Tt)),Le=0,$e=0;for(pe=0;pe<fe[0]-1;++pe)e:for(ae=0;ae<fe[1]-1;++ae){for(var st=0;st<2;++st)for(var Ot=0;Ot<2;++Ot)for(var Je=0;Je<3;++Je){var at=this._field[Je].get(1+pe+st,1+ae+Ot);if(isNaN(at)||!isFinite(at))continue e}for(Je=0;Je<6;++Je){var gt=pe+A[Je][0],Oe=ae+A[Je][1],Be=this._field[0].get(gt+1,Oe+1),it=this._field[1].get(gt+1,Oe+1);at=this._field[2].get(gt+1,Oe+1),be=re.get(gt+1,Oe+1,0),Ee=re.get(gt+1,Oe+1,1),Se=re.get(gt+1,Oe+1,2),Q.intensity&&(tt=Q.intensity.get(gt,Oe));var tt=Q.intensity?Q.intensity.get(gt,Oe):at+this.objectOffset[2];je[Le++]=gt,je[Le++]=Oe,je[Le++]=Be,je[Le++]=it,je[Le++]=at,je[Le++]=0,je[Le++]=tt,je[Le++]=be,je[Le++]=Ee,je[Le++]=Se,Ge[0]=Math.min(Ge[0],Be+this.objectOffset[0]),Ge[1]=Math.min(Ge[1],it+this.objectOffset[1]),Ge[2]=Math.min(Ge[2],at+this.objectOffset[2]),Ke=Math.min(Ke,tt),Xe[0]=Math.max(Xe[0],Be+this.objectOffset[0]),Xe[1]=Math.max(Xe[1],it+this.objectOffset[1]),Xe[2]=Math.max(Xe[2],at+this.objectOffset[2]),ut=Math.max(ut,tt),$e+=1}}for(Q.intensityBounds&&(Ke=+Q.intensityBounds[0],ut=+Q.intensityBounds[1]),pe=6;pe<Le;pe+=10)je[pe]=(je[pe]-Ke)/(ut-Ke);this._vertexCount=$e,this._coordinateBuffer.update(je.subarray(0,Le)),v.freeFloat(je),v.free(re.data),this.bounds=[Ge,Xe],this.intensity=Q.intensity||this._field[2],this.intensityBounds[0]===Ke&&this.intensityBounds[1]===ut||(ie=!0),this.intensityBounds=[Ke,ut]}if("levels"in Q){var ft=Q.levels;for(ft=Array.isArray(ft[0])?ft.slice():[[],[],ft],pe=0;pe<3;++pe)ft[pe]=ft[pe].slice(),ft[pe].sort(function(ht,wt){return ht-wt});for(pe=0;pe<3;++pe)for(ae=0;ae<ft[pe].length;++ae)ft[pe][ae]-=this.objectOffset[pe];e:for(pe=0;pe<3;++pe){if(ft[pe].length!==this.contourLevels[pe].length){ie=!0;break}for(ae=0;ae<ft[pe].length;++ae)if(ft[pe][ae]!==this.contourLevels[pe][ae]){ie=!0;break e}}this.contourLevels=ft}if(ie){K=this._field,fe=this.shape;for(var pt=[],_e=0;_e<3;++_e){var Ae=this.contourLevels[_e],Ve=[],He=[],We=[0,0,0];for(pe=0;pe<Ae.length;++pe){var Pe=f(this._field[_e],Ae[pe]);Ve.push(pt.length/5|0),$e=0;e:for(ae=0;ae<Pe.cells.length;++ae){var Ue=Pe.cells[ae];for(Je=0;Je<2;++Je){var Ne=Pe.positions[Ue[Je]],Ye=Ne[0],Fe=0|Math.floor(Ye),Ze=Ye-Fe,rt=Ne[1],vt=0|Math.floor(rt),Lt=rt-vt,St=!1;t:for(var It=0;It<3;++It){We[It]=0;var ot=(_e+It+1)%3;for(st=0;st<2;++st){var xt=st?Ze:1-Ze;for(gt=0|Math.min(Math.max(Fe+st,0),fe[0]),Ot=0;Ot<2;++Ot){var Ut=Ot?Lt:1-Lt;if(Oe=0|Math.min(Math.max(vt+Ot,0),fe[1]),at=It<2?this._field[ot].get(gt,Oe):(this.intensity.get(gt,Oe)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(at)||isNaN(at)){St=!0;break t}var Et=xt*Ut;We[It]+=Et*at}}}if(St){if(Je>0){for(var mt=0;mt<5;++mt)pt.pop();$e-=1}continue e}pt.push(We[0],We[1],Ne[0],Ne[1],We[2]),$e+=1}}He.push($e)}this._contourOffsets[_e]=Ve,this._contourCounts[_e]=He}var kt=v.mallocFloat(pt.length);for(pe=0;pe<pt.length;++pe)kt[pe]=pt[pe];this._contourBuffer.update(kt),v.freeFloat(kt)}},P.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Q=0;Q<3;++Q)v.freeFloat(this._field[Q].data)},P.highlight=function(Q){var ne,ie;if(!Q)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ne=0;ne<3;++ne)this.enableHighlight[ne]?this.highlightLevel[ne]=Q.level[ne]:this.highlightLevel[ne]=-1;for(ie=this.snapToData?Q.dataCoordinate:Q.position,ne=0;ne<3;++ne)ie[ne]-=this.objectOffset[ne];if(this.enableDynamic[0]&&ie[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&ie[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&ie[2]!==this.dynamicLevel[2]){for(var le=0,fe=this.shape,pe=v.mallocFloat(12*fe[0]*fe[1]),me=0;me<3;++me)if(this.enableDynamic[me]){this.dynamicLevel[me]=ie[me];var ke=(me+1)%3,ve=(me+2)%3,he=this._field[me],de=this._field[ke],X=this._field[ve],ae=f(he,ie[me]),K=ae.cells,ge=ae.positions;for(this._dynamicOffsets[me]=le,ne=0;ne<K.length;++ne)for(var re=K[ne],ue=0;ue<2;++ue){var we=ge[re[ue]],Te=+we[0],ee=0|Te,se=0|Math.min(ee+1,fe[0]),ce=Te-ee,be=1-ce,Ee=+we[1],Se=0|Ee,De=0|Math.min(Se+1,fe[1]),Ge=Ee-Se,Xe=1-Ge,Ke=be*Xe,ut=be*Ge,Tt=ce*Xe,je=ce*Ge,Le=Ke*de.get(ee,Se)+ut*de.get(ee,De)+Tt*de.get(se,Se)+je*de.get(se,De),$e=Ke*X.get(ee,Se)+ut*X.get(ee,De)+Tt*X.get(se,Se)+je*X.get(se,De);if(isNaN(Le)||isNaN($e)){ue&&(le-=1);break}pe[2*le+0]=Le,pe[2*le+1]=$e,le+=1}this._dynamicCounts[me]=le-this._dynamicOffsets[me]}else this.dynamicLevel[me]=NaN,this._dynamicCounts[me]=0;this._dynamicBuffer.update(pe.subarray(0,2*le)),v.freeFloat(pe)}}},7766:function(b,a,t){var u=t(9618),i=t(5298),l=t(1888);b.exports=function(g){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(d||function(_){d=[_.LINEAR,_.NEAREST_MIPMAP_LINEAR,_.LINEAR_MIPMAP_NEAREST,_.LINEAR_MIPMAP_NEAREST],v=[_.NEAREST,_.LINEAR,_.NEAREST_MIPMAP_NEAREST,_.NEAREST_MIPMAP_LINEAR,_.LINEAR_MIPMAP_NEAREST,_.LINEAR_MIPMAP_LINEAR],y=[_.REPEAT,_.CLAMP_TO_EDGE,_.MIRRORED_REPEAT]}(g),typeof arguments[1]=="number")return r(g,arguments[1],arguments[2],arguments[3]||g.RGBA,arguments[4]||g.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return r(g,0|arguments[1][0],0|arguments[1][1],arguments[2]||g.RGBA,arguments[3]||g.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var e=arguments[1],h=p(e)?e:e.raw;if(h)return function(_,w,S,O,A,I){var B=s(_);return _.texImage2D(_.TEXTURE_2D,0,A,A,I,w),new f(_,B,S,O,A,I)}(g,h,0|e.width,0|e.height,arguments[2]||g.RGBA,arguments[3]||g.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return function(_,w){var S=w.dtype,O=w.shape.slice(),A=_.getParameter(_.MAX_TEXTURE_SIZE);if(O[0]<0||O[0]>A||O[1]<0||O[1]>A)throw new Error("gl-texture2d: Invalid texture size");var I=o(O,w.stride.slice()),B=0;S==="float32"?B=_.FLOAT:S==="float64"?(B=_.FLOAT,I=!1,S="float32"):S==="uint8"?B=_.UNSIGNED_BYTE:(B=_.UNSIGNED_BYTE,I=!1,S="uint8");var C,z,P=0;if(O.length===2)P=_.LUMINANCE,O=[O[0],O[1],1],w=u(w.data,O,[w.stride[0],w.stride[1],1],w.offset);else{if(O.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(O[2]===1)P=_.ALPHA;else if(O[2]===2)P=_.LUMINANCE_ALPHA;else if(O[2]===3)P=_.RGB;else{if(O[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");P=_.RGBA}}B!==_.FLOAT||_.getExtension("OES_texture_float")||(B=_.UNSIGNED_BYTE,I=!1);var R=w.size;if(I)C=w.offset===0&&w.data.length===R?w.data:w.data.subarray(w.offset,w.offset+R);else{var N=[O[2],O[2]*O[0],1];z=l.malloc(R,S);var j=u(z,O,N,0);S!=="float32"&&S!=="float64"||B!==_.UNSIGNED_BYTE?i.assign(j,w):c(j,w),C=z.subarray(0,R)}var W=s(_);return _.texImage2D(_.TEXTURE_2D,0,P,O[0],O[1],0,P,B,C),I||l.free(z),new f(_,W,O[0],O[1],P,B)}(g,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var d=null,v=null,y=null;function p(g){return typeof HTMLCanvasElement<"u"&&g instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&g instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&g instanceof HTMLVideoElement||typeof ImageData<"u"&&g instanceof ImageData}var c=function(g,e){i.muls(g,e,255)};function x(g,e,h){var _=g.gl,w=_.getParameter(_.MAX_TEXTURE_SIZE);if(e<0||e>w||h<0||h>w)throw new Error("gl-texture2d: Invalid texture size");return g._shape=[e,h],g.bind(),_.texImage2D(_.TEXTURE_2D,0,g.format,e,h,0,g.format,g.type,null),g._mipLevels=[0],g}function f(g,e,h,_,w,S){this.gl=g,this.handle=e,this.format=w,this.type=S,this._shape=[h,_],this._mipLevels=[0],this._magFilter=g.NEAREST,this._minFilter=g.NEAREST,this._wrapS=g.CLAMP_TO_EDGE,this._wrapT=g.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,A=[this._wrapS,this._wrapT];Object.defineProperties(A,[{get:function(){return O._wrapS},set:function(B){return O.wrapS=B}},{get:function(){return O._wrapT},set:function(B){return O.wrapT=B}}]),this._wrapVector=A;var I=[this._shape[0],this._shape[1]];Object.defineProperties(I,[{get:function(){return O._shape[0]},set:function(B){return O.width=B}},{get:function(){return O._shape[1]},set:function(B){return O.height=B}}]),this._shapeVector=I}var n=f.prototype;function o(g,e){return g.length===3?e[2]===1&&e[1]===g[0]*g[2]&&e[0]===g[2]:e[0]===1&&e[1]===g[0]}function s(g){var e=g.createTexture();return g.bindTexture(g.TEXTURE_2D,e),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),e}function r(g,e,h,_,w){var S=g.getParameter(g.MAX_TEXTURE_SIZE);if(e<0||e>S||h<0||h>S)throw new Error("gl-texture2d: Invalid texture shape");if(w===g.FLOAT&&!g.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=s(g);return g.texImage2D(g.TEXTURE_2D,0,_,e,h,0,_,w,null),new f(g,O,e,h,_,w)}Object.defineProperties(n,{minFilter:{get:function(){return this._minFilter},set:function(g){this.bind();var e=this.gl;if(this.type===e.FLOAT&&d.indexOf(g)>=0&&(e.getExtension("OES_texture_float_linear")||(g=e.NEAREST)),v.indexOf(g)<0)throw new Error("gl-texture2d: Unknown filter mode "+g);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,g),this._minFilter=g}},magFilter:{get:function(){return this._magFilter},set:function(g){this.bind();var e=this.gl;if(this.type===e.FLOAT&&d.indexOf(g)>=0&&(e.getExtension("OES_texture_float_linear")||(g=e.NEAREST)),v.indexOf(g)<0)throw new Error("gl-texture2d: Unknown filter mode "+g);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,g),this._magFilter=g}},mipSamples:{get:function(){return this._anisoSamples},set:function(g){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(g,1),e!==this._anisoSamples){var h=this.gl.getExtension("EXT_texture_filter_anisotropic");h&&this.gl.texParameterf(this.gl.TEXTURE_2D,h.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(g){if(this.bind(),y.indexOf(g)<0)throw new Error("gl-texture2d: Unknown wrap mode "+g);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,g),this._wrapS=g}},wrapT:{get:function(){return this._wrapT},set:function(g){if(this.bind(),y.indexOf(g)<0)throw new Error("gl-texture2d: Unknown wrap mode "+g);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,g),this._wrapT=g}},wrap:{get:function(){return this._wrapVector},set:function(g){if(Array.isArray(g)||(g=[g,g]),g.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(y.indexOf(g[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+g);this._wrapS=g[0],this._wrapT=g[1];var h=this.gl;return this.bind(),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,this._wrapS),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,this._wrapT),g}},shape:{get:function(){return this._shapeVector},set:function(g){if(Array.isArray(g)){if(g.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else g=[0|g,0|g];return x(this,0|g[0],0|g[1]),[0|g[0],0|g[1]]}},width:{get:function(){return this._shape[0]},set:function(g){return x(this,g|=0,this._shape[1]),g}},height:{get:function(){return this._shape[1]},set:function(g){return g|=0,x(this,this._shape[0],g),g}}}),n.bind=function(g){var e=this.gl;return g!==void 0&&e.activeTexture(e.TEXTURE0+(0|g)),e.bindTexture(e.TEXTURE_2D,this.handle),g!==void 0?0|g:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},n.dispose=function(){this.gl.deleteTexture(this.handle)},n.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var g=Math.min(this._shape[0],this._shape[1]),e=0;g>0;++e,g>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},n.setPixels=function(g,e,h,_){var w=this.gl;this.bind(),Array.isArray(e)?(_=h,h=0|e[1],e=0|e[0]):(e=e||0,h=h||0),_=_||0;var S=p(g)?g:g.raw;if(S)this._mipLevels.indexOf(_)<0?(w.texImage2D(w.TEXTURE_2D,0,this.format,this.format,this.type,S),this._mipLevels.push(_)):w.texSubImage2D(w.TEXTURE_2D,_,e,h,this.format,this.type,S);else{if(!(g.shape&&g.stride&&g.data))throw new Error("gl-texture2d: Unsupported data type");if(g.shape.length<2||e+g.shape[1]>this._shape[1]>>>_||h+g.shape[0]>this._shape[0]>>>_||e<0||h<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(O,A,I,B,C,z,P,R){var N=R.dtype,j=R.shape.slice();if(j.length<2||j.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var W=0,Y=0,J=o(j,R.stride.slice());if(N==="float32"?W=O.FLOAT:N==="float64"?(W=O.FLOAT,J=!1,N="float32"):N==="uint8"?W=O.UNSIGNED_BYTE:(W=O.UNSIGNED_BYTE,J=!1,N="uint8"),j.length===2)Y=O.LUMINANCE,j=[j[0],j[1],1],R=u(R.data,j,[R.stride[0],R.stride[1],1],R.offset);else{if(j.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(j[2]===1)Y=O.ALPHA;else if(j[2]===2)Y=O.LUMINANCE_ALPHA;else if(j[2]===3)Y=O.RGB;else{if(j[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");Y=O.RGBA}j[2]}if(Y!==O.LUMINANCE&&Y!==O.ALPHA||C!==O.LUMINANCE&&C!==O.ALPHA||(Y=C),Y!==C)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var G=R.size,H=P.indexOf(B)<0;if(H&&P.push(B),W===z&&J)R.offset===0&&R.data.length===G?H?O.texImage2D(O.TEXTURE_2D,B,C,j[0],j[1],0,C,z,R.data):O.texSubImage2D(O.TEXTURE_2D,B,A,I,j[0],j[1],C,z,R.data):H?O.texImage2D(O.TEXTURE_2D,B,C,j[0],j[1],0,C,z,R.data.subarray(R.offset,R.offset+G)):O.texSubImage2D(O.TEXTURE_2D,B,A,I,j[0],j[1],C,z,R.data.subarray(R.offset,R.offset+G));else{var U;U=z===O.FLOAT?l.mallocFloat32(G):l.mallocUint8(G);var Z=u(U,j,[j[2],j[2]*j[0],1]);W===O.FLOAT&&z===O.UNSIGNED_BYTE?c(Z,R):i.assign(Z,R),H?O.texImage2D(O.TEXTURE_2D,B,C,j[0],j[1],0,C,z,U.subarray(0,G)):O.texSubImage2D(O.TEXTURE_2D,B,A,I,j[0],j[1],C,z,U.subarray(0,G)),z===O.FLOAT?l.freeFloat32(U):l.freeUint8(U)}})(w,e,h,_,this.format,this.type,this._mipLevels,g)}}},1433:function(b){b.exports=function(a,t,u){t?t.bind():a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);var i=0|a.getParameter(a.MAX_VERTEX_ATTRIBS);if(u){if(u.length>i)throw new Error("gl-vao: Too many vertex attributes");for(var l=0;l<u.length;++l){var d=u[l];if(d.buffer){var v=d.buffer,y=d.size||4,p=d.type||a.FLOAT,c=!!d.normalized,x=d.stride||0,f=d.offset||0;v.bind(),a.enableVertexAttribArray(l),a.vertexAttribPointer(l,y,p,c,x,f)}else{if(typeof d=="number")a.vertexAttrib1f(l,d);else if(d.length===1)a.vertexAttrib1f(l,d[0]);else if(d.length===2)a.vertexAttrib2f(l,d[0],d[1]);else if(d.length===3)a.vertexAttrib3f(l,d[0],d[1],d[2]);else{if(d.length!==4)throw new Error("gl-vao: Invalid vertex attribute");a.vertexAttrib4f(l,d[0],d[1],d[2],d[3])}a.disableVertexAttribArray(l)}}for(;l<i;++l)a.disableVertexAttribArray(l)}else for(a.bindBuffer(a.ARRAY_BUFFER,null),l=0;l<i;++l)a.disableVertexAttribArray(l)}},870:function(b,a,t){var u=t(1433);function i(l){this.gl=l,this._elements=null,this._attributes=null,this._elementsType=l.UNSIGNED_SHORT}i.prototype.bind=function(){u(this.gl,this._elements,this._attributes)},i.prototype.update=function(l,d,v){this._elements=d,this._attributes=l,this._elementsType=v||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(l,d,v){v=v||0;var y=this.gl;this._elements?y.drawElements(l,d,this._elementsType,v):y.drawArrays(l,v,d)},b.exports=function(l){return new i(l)}},7518:function(b,a,t){var u=t(1433);function i(d,v,y,p,c,x){this.location=d,this.dimension=v,this.a=y,this.b=p,this.c=c,this.d=x}function l(d,v,y){this.gl=d,this._ext=v,this.handle=y,this._attribs=[],this._useElements=!1,this._elementsType=d.UNSIGNED_SHORT}i.prototype.bind=function(d){switch(this.dimension){case 1:d.vertexAttrib1f(this.location,this.a);break;case 2:d.vertexAttrib2f(this.location,this.a,this.b);break;case 3:d.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:d.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},l.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var d=0;d<this._attribs.length;++d)this._attribs[d].bind(this.gl)},l.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},l.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},l.prototype.update=function(d,v,y){if(this.bind(),u(this.gl,v,d),this.unbind(),this._attribs.length=0,d)for(var p=0;p<d.length;++p){var c=d[p];typeof c=="number"?this._attribs.push(new i(p,1,c)):Array.isArray(c)&&this._attribs.push(new i(p,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!v,this._elementsType=y||this.gl.UNSIGNED_SHORT},l.prototype.draw=function(d,v,y){y=y||0;var p=this.gl;this._useElements?p.drawElements(d,v,this._elementsType,y):p.drawArrays(d,y,v)},b.exports=function(d,v){return new l(d,v,v.createVertexArrayOES())}},8116:function(b,a,t){var u=t(7518),i=t(870);function l(d){this.bindVertexArrayOES=d.bindVertexArray.bind(d),this.createVertexArrayOES=d.createVertexArray.bind(d),this.deleteVertexArrayOES=d.deleteVertexArray.bind(d)}b.exports=function(d,v,y,p){var c,x=d.createVertexArray?new l(d):d.getExtension("OES_vertex_array_object");return(c=x?u(d,x):i(d)).update(v,y,p),c}},5632:function(b){b.exports=function(a,t,u){return a[0]=t[0]+u[0],a[1]=t[1]+u[1],a[2]=t[2]+u[2],a}},8192:function(b,a,t){b.exports=function(d,v){var y=u(d[0],d[1],d[2]),p=u(v[0],v[1],v[2]);i(y,y),i(p,p);var c=l(y,p);return c>1?0:Math.acos(c)};var u=t(2825),i=t(3536),l=t(244)},9226:function(b){b.exports=function(a,t){return a[0]=Math.ceil(t[0]),a[1]=Math.ceil(t[1]),a[2]=Math.ceil(t[2]),a}},3126:function(b){b.exports=function(a){var t=new Float32Array(3);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t}},3990:function(b){b.exports=function(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a}},1091:function(b){b.exports=function(){var a=new Float32Array(3);return a[0]=0,a[1]=0,a[2]=0,a}},5911:function(b){b.exports=function(a,t,u){var i=t[0],l=t[1],d=t[2],v=u[0],y=u[1],p=u[2];return a[0]=l*p-d*y,a[1]=d*v-i*p,a[2]=i*y-l*v,a}},5455:function(b,a,t){b.exports=t(7056)},7056:function(b){b.exports=function(a,t){var u=t[0]-a[0],i=t[1]-a[1],l=t[2]-a[2];return Math.sqrt(u*u+i*i+l*l)}},4008:function(b,a,t){b.exports=t(6690)},6690:function(b){b.exports=function(a,t,u){return a[0]=t[0]/u[0],a[1]=t[1]/u[1],a[2]=t[2]/u[2],a}},244:function(b){b.exports=function(a,t){return a[0]*t[0]+a[1]*t[1]+a[2]*t[2]}},2613:function(b){b.exports=1e-6},9922:function(b,a,t){b.exports=function(i,l){var d=i[0],v=i[1],y=i[2],p=l[0],c=l[1],x=l[2];return Math.abs(d-p)<=u*Math.max(1,Math.abs(d),Math.abs(p))&&Math.abs(v-c)<=u*Math.max(1,Math.abs(v),Math.abs(c))&&Math.abs(y-x)<=u*Math.max(1,Math.abs(y),Math.abs(x))};var u=t(2613)},9265:function(b){b.exports=function(a,t){return a[0]===t[0]&&a[1]===t[1]&&a[2]===t[2]}},2681:function(b){b.exports=function(a,t){return a[0]=Math.floor(t[0]),a[1]=Math.floor(t[1]),a[2]=Math.floor(t[2]),a}},5137:function(b,a,t){b.exports=function(i,l,d,v,y,p){var c,x;for(l||(l=3),d||(d=0),x=v?Math.min(v*l+d,i.length):i.length,c=d;c<x;c+=l)u[0]=i[c],u[1]=i[c+1],u[2]=i[c+2],y(u,u,p),i[c]=u[0],i[c+1]=u[1],i[c+2]=u[2];return i};var u=t(1091)()},2825:function(b){b.exports=function(a,t,u){var i=new Float32Array(3);return i[0]=a,i[1]=t,i[2]=u,i}},2931:function(b,a,t){b.exports={EPSILON:t(2613),create:t(1091),clone:t(3126),angle:t(8192),fromValues:t(2825),copy:t(3990),set:t(1463),equals:t(9922),exactEquals:t(9265),add:t(5632),subtract:t(6843),sub:t(2229),multiply:t(5847),mul:t(4505),divide:t(6690),div:t(4008),min:t(8107),max:t(7417),floor:t(2681),ceil:t(9226),round:t(2447),scale:t(6621),scaleAndAdd:t(8489),distance:t(7056),dist:t(5455),squaredDistance:t(2953),sqrDist:t(6141),length:t(1387),len:t(868),squaredLength:t(3066),sqrLen:t(5486),negate:t(5093),inverse:t(811),normalize:t(3536),dot:t(244),cross:t(5911),lerp:t(6658),random:t(7636),transformMat4:t(5673),transformMat3:t(492),transformQuat:t(264),rotateX:t(6894),rotateY:t(109),rotateZ:t(8692),forEach:t(5137)}},811:function(b){b.exports=function(a,t){return a[0]=1/t[0],a[1]=1/t[1],a[2]=1/t[2],a}},868:function(b,a,t){b.exports=t(1387)},1387:function(b){b.exports=function(a){var t=a[0],u=a[1],i=a[2];return Math.sqrt(t*t+u*u+i*i)}},6658:function(b){b.exports=function(a,t,u,i){var l=t[0],d=t[1],v=t[2];return a[0]=l+i*(u[0]-l),a[1]=d+i*(u[1]-d),a[2]=v+i*(u[2]-v),a}},7417:function(b){b.exports=function(a,t,u){return a[0]=Math.max(t[0],u[0]),a[1]=Math.max(t[1],u[1]),a[2]=Math.max(t[2],u[2]),a}},8107:function(b){b.exports=function(a,t,u){return a[0]=Math.min(t[0],u[0]),a[1]=Math.min(t[1],u[1]),a[2]=Math.min(t[2],u[2]),a}},4505:function(b,a,t){b.exports=t(5847)},5847:function(b){b.exports=function(a,t,u){return a[0]=t[0]*u[0],a[1]=t[1]*u[1],a[2]=t[2]*u[2],a}},5093:function(b){b.exports=function(a,t){return a[0]=-t[0],a[1]=-t[1],a[2]=-t[2],a}},3536:function(b){b.exports=function(a,t){var u=t[0],i=t[1],l=t[2],d=u*u+i*i+l*l;return d>0&&(d=1/Math.sqrt(d),a[0]=t[0]*d,a[1]=t[1]*d,a[2]=t[2]*d),a}},7636:function(b){b.exports=function(a,t){t=t||1;var u=2*Math.random()*Math.PI,i=2*Math.random()-1,l=Math.sqrt(1-i*i)*t;return a[0]=Math.cos(u)*l,a[1]=Math.sin(u)*l,a[2]=i*t,a}},6894:function(b){b.exports=function(a,t,u,i){var l=u[1],d=u[2],v=t[1]-l,y=t[2]-d,p=Math.sin(i),c=Math.cos(i);return a[0]=t[0],a[1]=l+v*c-y*p,a[2]=d+v*p+y*c,a}},109:function(b){b.exports=function(a,t,u,i){var l=u[0],d=u[2],v=t[0]-l,y=t[2]-d,p=Math.sin(i),c=Math.cos(i);return a[0]=l+y*p+v*c,a[1]=t[1],a[2]=d+y*c-v*p,a}},8692:function(b){b.exports=function(a,t,u,i){var l=u[0],d=u[1],v=t[0]-l,y=t[1]-d,p=Math.sin(i),c=Math.cos(i);return a[0]=l+v*c-y*p,a[1]=d+v*p+y*c,a[2]=t[2],a}},2447:function(b){b.exports=function(a,t){return a[0]=Math.round(t[0]),a[1]=Math.round(t[1]),a[2]=Math.round(t[2]),a}},6621:function(b){b.exports=function(a,t,u){return a[0]=t[0]*u,a[1]=t[1]*u,a[2]=t[2]*u,a}},8489:function(b){b.exports=function(a,t,u,i){return a[0]=t[0]+u[0]*i,a[1]=t[1]+u[1]*i,a[2]=t[2]+u[2]*i,a}},1463:function(b){b.exports=function(a,t,u,i){return a[0]=t,a[1]=u,a[2]=i,a}},6141:function(b,a,t){b.exports=t(2953)},5486:function(b,a,t){b.exports=t(3066)},2953:function(b){b.exports=function(a,t){var u=t[0]-a[0],i=t[1]-a[1],l=t[2]-a[2];return u*u+i*i+l*l}},3066:function(b){b.exports=function(a){var t=a[0],u=a[1],i=a[2];return t*t+u*u+i*i}},2229:function(b,a,t){b.exports=t(6843)},6843:function(b){b.exports=function(a,t,u){return a[0]=t[0]-u[0],a[1]=t[1]-u[1],a[2]=t[2]-u[2],a}},492:function(b){b.exports=function(a,t,u){var i=t[0],l=t[1],d=t[2];return a[0]=i*u[0]+l*u[3]+d*u[6],a[1]=i*u[1]+l*u[4]+d*u[7],a[2]=i*u[2]+l*u[5]+d*u[8],a}},5673:function(b){b.exports=function(a,t,u){var i=t[0],l=t[1],d=t[2],v=u[3]*i+u[7]*l+u[11]*d+u[15];return v=v||1,a[0]=(u[0]*i+u[4]*l+u[8]*d+u[12])/v,a[1]=(u[1]*i+u[5]*l+u[9]*d+u[13])/v,a[2]=(u[2]*i+u[6]*l+u[10]*d+u[14])/v,a}},264:function(b){b.exports=function(a,t,u){var i=t[0],l=t[1],d=t[2],v=u[0],y=u[1],p=u[2],c=u[3],x=c*i+y*d-p*l,f=c*l+p*i-v*d,n=c*d+v*l-y*i,o=-v*i-y*l-p*d;return a[0]=x*c+o*-v+f*-p-n*-y,a[1]=f*c+o*-y+n*-v-x*-p,a[2]=n*c+o*-p+x*-y-f*-v,a}},4361:function(b){b.exports=function(a,t,u){return a[0]=t[0]+u[0],a[1]=t[1]+u[1],a[2]=t[2]+u[2],a[3]=t[3]+u[3],a}},2335:function(b){b.exports=function(a){var t=new Float32Array(4);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t}},2933:function(b){b.exports=function(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a}},7536:function(b){b.exports=function(){var a=new Float32Array(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a}},4691:function(b){b.exports=function(a,t){var u=t[0]-a[0],i=t[1]-a[1],l=t[2]-a[2],d=t[3]-a[3];return Math.sqrt(u*u+i*i+l*l+d*d)}},1373:function(b){b.exports=function(a,t,u){return a[0]=t[0]/u[0],a[1]=t[1]/u[1],a[2]=t[2]/u[2],a[3]=t[3]/u[3],a}},3750:function(b){b.exports=function(a,t){return a[0]*t[0]+a[1]*t[1]+a[2]*t[2]+a[3]*t[3]}},3390:function(b){b.exports=function(a,t,u,i){var l=new Float32Array(4);return l[0]=a,l[1]=t,l[2]=u,l[3]=i,l}},9970:function(b,a,t){b.exports={create:t(7536),clone:t(2335),fromValues:t(3390),copy:t(2933),set:t(4578),add:t(4361),subtract:t(6860),multiply:t(3576),divide:t(1373),min:t(2334),max:t(160),scale:t(9288),scaleAndAdd:t(4844),distance:t(4691),squaredDistance:t(7960),length:t(6808),squaredLength:t(483),negate:t(1498),inverse:t(4494),normalize:t(5177),dot:t(3750),lerp:t(2573),random:t(9131),transformMat4:t(5352),transformQuat:t(4041)}},4494:function(b){b.exports=function(a,t){return a[0]=1/t[0],a[1]=1/t[1],a[2]=1/t[2],a[3]=1/t[3],a}},6808:function(b){b.exports=function(a){var t=a[0],u=a[1],i=a[2],l=a[3];return Math.sqrt(t*t+u*u+i*i+l*l)}},2573:function(b){b.exports=function(a,t,u,i){var l=t[0],d=t[1],v=t[2],y=t[3];return a[0]=l+i*(u[0]-l),a[1]=d+i*(u[1]-d),a[2]=v+i*(u[2]-v),a[3]=y+i*(u[3]-y),a}},160:function(b){b.exports=function(a,t,u){return a[0]=Math.max(t[0],u[0]),a[1]=Math.max(t[1],u[1]),a[2]=Math.max(t[2],u[2]),a[3]=Math.max(t[3],u[3]),a}},2334:function(b){b.exports=function(a,t,u){return a[0]=Math.min(t[0],u[0]),a[1]=Math.min(t[1],u[1]),a[2]=Math.min(t[2],u[2]),a[3]=Math.min(t[3],u[3]),a}},3576:function(b){b.exports=function(a,t,u){return a[0]=t[0]*u[0],a[1]=t[1]*u[1],a[2]=t[2]*u[2],a[3]=t[3]*u[3],a}},1498:function(b){b.exports=function(a,t){return a[0]=-t[0],a[1]=-t[1],a[2]=-t[2],a[3]=-t[3],a}},5177:function(b){b.exports=function(a,t){var u=t[0],i=t[1],l=t[2],d=t[3],v=u*u+i*i+l*l+d*d;return v>0&&(v=1/Math.sqrt(v),a[0]=u*v,a[1]=i*v,a[2]=l*v,a[3]=d*v),a}},9131:function(b,a,t){var u=t(5177),i=t(9288);b.exports=function(l,d){return d=d||1,l[0]=Math.random(),l[1]=Math.random(),l[2]=Math.random(),l[3]=Math.random(),u(l,l),i(l,l,d),l}},9288:function(b){b.exports=function(a,t,u){return a[0]=t[0]*u,a[1]=t[1]*u,a[2]=t[2]*u,a[3]=t[3]*u,a}},4844:function(b){b.exports=function(a,t,u,i){return a[0]=t[0]+u[0]*i,a[1]=t[1]+u[1]*i,a[2]=t[2]+u[2]*i,a[3]=t[3]+u[3]*i,a}},4578:function(b){b.exports=function(a,t,u,i,l){return a[0]=t,a[1]=u,a[2]=i,a[3]=l,a}},7960:function(b){b.exports=function(a,t){var u=t[0]-a[0],i=t[1]-a[1],l=t[2]-a[2],d=t[3]-a[3];return u*u+i*i+l*l+d*d}},483:function(b){b.exports=function(a){var t=a[0],u=a[1],i=a[2],l=a[3];return t*t+u*u+i*i+l*l}},6860:function(b){b.exports=function(a,t,u){return a[0]=t[0]-u[0],a[1]=t[1]-u[1],a[2]=t[2]-u[2],a[3]=t[3]-u[3],a}},5352:function(b){b.exports=function(a,t,u){var i=t[0],l=t[1],d=t[2],v=t[3];return a[0]=u[0]*i+u[4]*l+u[8]*d+u[12]*v,a[1]=u[1]*i+u[5]*l+u[9]*d+u[13]*v,a[2]=u[2]*i+u[6]*l+u[10]*d+u[14]*v,a[3]=u[3]*i+u[7]*l+u[11]*d+u[15]*v,a}},4041:function(b){b.exports=function(a,t,u){var i=t[0],l=t[1],d=t[2],v=u[0],y=u[1],p=u[2],c=u[3],x=c*i+y*d-p*l,f=c*l+p*i-v*d,n=c*d+v*l-y*i,o=-v*i-y*l-p*d;return a[0]=x*c+o*-v+f*-p-n*-y,a[1]=f*c+o*-y+n*-v-x*-p,a[2]=n*c+o*-p+x*-y-f*-v,a[3]=t[3],a}},1848:function(b,a,t){var u=t(4905),i=t(6468);b.exports=function(l){for(var d=Array.isArray(l)?l:u(l),v=0;v<d.length;v++){var y=d[v];if(y.type==="preprocessor"){var p=y.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(p&&p[2]){var c=p[1],x=p[2];return(c?i(x):x).trim()}}}}},5874:function(b,a,t){b.exports=function(O){var A,I,B,C=0,z=0,P=y,R=[],N=[],j=1,W=0,Y=0,J=!1,G=!1,H="",U=l,Z=u;(O=O||{}).version==="300 es"&&(U=v,Z=d);var q={},Q={};for(C=0;C<U.length;C++)q[U[C]]=!0;for(C=0;C<Z.length;C++)Q[Z[C]]=!0;return function(ae){return N=[],ae!==null?function(K){var ge;for(C=0,K.toString&&(K=K.toString()),H+=K.replace(/\r\n/g,`
`),B=H.length;A=H[C],C<B;){switch(ge=C,P){case c:C=pe();break;case x:case f:C=fe();break;case n:C=me();break;case o:C=he();break;case w:C=ve();break;case s:C=de();break;case p:C=X();break;case h:C=le();break;case y:C=ie()}ge!==C&&(H[ge]===`
`?(W=0,++j):++W)}return z+=C,H=H.slice(C),N}(ae):(R.length&&ne(R.join("")),P=_,ne("(eof)"),N)};function ne(ae){ae.length&&N.push({type:S[P],data:ae,position:Y,line:j,column:W})}function ie(){return R=R.length?[]:R,I==="/"&&A==="*"?(Y=z+C-1,P=c,I=A,C+1):I==="/"&&A==="/"?(Y=z+C-1,P=x,I=A,C+1):A==="#"?(P=f,Y=z+C,C):/\s/.test(A)?(P=h,Y=z+C,C):(J=/\d/.test(A),G=/[^\w_]/.test(A),Y=z+C,P=J?o:G?n:p,C)}function le(){return/[^\s]/g.test(A)?(ne(R.join("")),P=y,C):(R.push(A),I=A,C+1)}function fe(){return A!=="\r"&&A!==`
`||I==="\\"?(R.push(A),I=A,C+1):(ne(R.join("")),P=y,C)}function pe(){return A==="/"&&I==="*"?(R.push(A),ne(R.join("")),P=y,C+1):(R.push(A),I=A,C+1)}function me(){if(I==="."&&/\d/.test(A))return P=s,C;if(I==="/"&&A==="*")return P=c,C;if(I==="/"&&A==="/")return P=x,C;if(A==="."&&R.length){for(;ke(R););return P=s,C}if(A===";"||A===")"||A==="("){if(R.length)for(;ke(R););return ne(A),P=y,C+1}var ae=R.length===2&&A!=="=";if(/[\w_\d\s]/.test(A)||ae){for(;ke(R););return P=y,C}return R.push(A),I=A,C+1}function ke(ae){for(var K,ge,re=0;;){if(K=i.indexOf(ae.slice(0,ae.length+re).join("")),ge=i[K],K===-1){if(re--+ae.length>0)continue;ge=ae.slice(0,1).join("")}return ne(ge),Y+=ge.length,(R=R.slice(ge.length)).length}}function ve(){return/[^a-fA-F0-9]/.test(A)?(ne(R.join("")),P=y,C):(R.push(A),I=A,C+1)}function he(){return A==="."||/[eE]/.test(A)?(R.push(A),P=s,I=A,C+1):A==="x"&&R.length===1&&R[0]==="0"?(P=w,R.push(A),I=A,C+1):/[^\d]/.test(A)?(ne(R.join("")),P=y,C):(R.push(A),I=A,C+1)}function de(){return A==="f"&&(R.push(A),I=A,C+=1),/[eE]/.test(A)?(R.push(A),I=A,C+1):(A!=="-"&&A!=="+"||!/[eE]/.test(I))&&/[^\d]/.test(A)?(ne(R.join("")),P=y,C):(R.push(A),I=A,C+1)}function X(){if(/[^\d\w_]/.test(A)){var ae=R.join("");return P=Q[ae]?e:q[ae]?g:r,ne(R.join("")),P=y,C}return R.push(A),I=A,C+1}};var u=t(620),i=t(7827),l=t(6852),d=t(7932),v=t(3508),y=999,p=9999,c=0,x=1,f=2,n=3,o=4,s=5,r=6,g=7,e=8,h=9,_=10,w=11,S=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3508:function(b,a,t){var u=t(6852);u=u.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),b.exports=u.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(b){b.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(b,a,t){var u=t(620);b.exports=u.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(b){b.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(b){b.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(b,a,t){var u=t(5874);b.exports=function(i,l){var d=u(l),v=[];return(v=v.concat(d(i))).concat(d(null))}},3236:function(b){b.exports=function(a){typeof a=="string"&&(a=[a]);for(var t=[].slice.call(arguments,1),u=[],i=0;i<a.length-1;i++)u.push(a[i],t[i]||"");return u.push(a[i]),u.join("")}},7520:function(b,a,t){var u=t(9507);b.exports=u&&function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{i=!1}return i}()},3778:function(b,a){a.read=function(t,u,i,l,d){var v,y,p=8*d-l-1,c=(1<<p)-1,x=c>>1,f=-7,n=i?d-1:0,o=i?-1:1,s=t[u+n];for(n+=o,v=s&(1<<-f)-1,s>>=-f,f+=p;f>0;v=256*v+t[u+n],n+=o,f-=8);for(y=v&(1<<-f)-1,v>>=-f,f+=l;f>0;y=256*y+t[u+n],n+=o,f-=8);if(v===0)v=1-x;else{if(v===c)return y?NaN:1/0*(s?-1:1);y+=Math.pow(2,l),v-=x}return(s?-1:1)*y*Math.pow(2,v-l)},a.write=function(t,u,i,l,d,v){var y,p,c,x=8*v-d-1,f=(1<<x)-1,n=f>>1,o=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,s=l?0:v-1,r=l?1:-1,g=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(p=isNaN(u)?1:0,y=f):(y=Math.floor(Math.log(u)/Math.LN2),u*(c=Math.pow(2,-y))<1&&(y--,c*=2),(u+=y+n>=1?o/c:o*Math.pow(2,1-n))*c>=2&&(y++,c/=2),y+n>=f?(p=0,y=f):y+n>=1?(p=(u*c-1)*Math.pow(2,d),y+=n):(p=u*Math.pow(2,n-1)*Math.pow(2,d),y=0));d>=8;t[i+s]=255&p,s+=r,p/=256,d-=8);for(y=y<<d|p,x+=d;x>0;t[i+s]=255&y,s+=r,y/=256,x-=8);t[i+s-r]|=128*g}},8954:function(b,a,t){b.exports=function(x,f){var n=x.length;if(n===0)throw new Error("Must have at least d+1 points");var o=x[0].length;if(n<=o)throw new Error("Must input at least d+1 points");var s=x.slice(0,o+1),r=u.apply(void 0,s);if(r===0)throw new Error("Input not in general position");for(var g=new Array(o+1),e=0;e<=o;++e)g[e]=e;r<0&&(g[0]=1,g[1]=0);var h=new l(g,new Array(o+1),!1),_=h.adjacent,w=new Array(o+2);for(e=0;e<=o;++e){for(var S=g.slice(),O=0;O<=o;++O)O===e&&(S[O]=-1);var A=S[0];S[0]=S[1],S[1]=A;var I=new l(S,new Array(o+1),!0);_[e]=I,w[e]=I}for(w[o+1]=h,e=0;e<=o;++e){S=_[e].vertices;var B=_[e].adjacent;for(O=0;O<=o;++O){var C=S[O];if(C<0)B[O]=h;else for(var z=0;z<=o;++z)_[z].vertices.indexOf(C)<0&&(B[O]=_[z])}}var P=new p(o,s,w),R=!!f;for(e=o+1;e<n;++e)P.insert(x[e],R);return P.boundary()};var u=t(3250),i=t(6803).Fw;function l(x,f,n){this.vertices=x,this.adjacent=f,this.boundary=n,this.lastVisited=-1}function d(x,f,n){this.vertices=x,this.cell=f,this.index=n}function v(x,f){return i(x.vertices,f.vertices)}l.prototype.flip=function(){var x=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=x;var f=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=f};var y=[];function p(x,f,n){this.dimension=x,this.vertices=f,this.simplices=n,this.interior=n.filter(function(g){return!g.boundary}),this.tuple=new Array(x+1);for(var o=0;o<=x;++o)this.tuple[o]=this.vertices[o];var s,r=y[x];r||(r=y[x]=((s=u[x+1])||(s=u),function(g){return function(){var e=this.tuple;return g.apply(this,e)}}(s))),this.orient=r}var c=p.prototype;c.handleBoundaryDegeneracy=function(x,f){var n=this.dimension,o=this.vertices.length-1,s=this.tuple,r=this.vertices,g=[x];for(x.lastVisited=-o;g.length>0;)for(var e=(x=g.pop()).adjacent,h=0;h<=n;++h){var _=e[h];if(_.boundary&&!(_.lastVisited<=-o)){for(var w=_.vertices,S=0;S<=n;++S){var O=w[S];s[S]=O<0?f:r[O]}var A=this.orient();if(A>0)return _;_.lastVisited=-o,A===0&&g.push(_)}}return null},c.walk=function(x,f){var n=this.vertices.length-1,o=this.dimension,s=this.vertices,r=this.tuple,g=f?this.interior.length*Math.random()|0:this.interior.length-1,e=this.interior[g];e:for(;!e.boundary;){for(var h=e.vertices,_=e.adjacent,w=0;w<=o;++w)r[w]=s[h[w]];for(e.lastVisited=n,w=0;w<=o;++w){var S=_[w];if(!(S.lastVisited>=n)){var O=r[w];r[w]=x;var A=this.orient();if(r[w]=O,A<0){e=S;continue e}S.boundary?S.lastVisited=-n:S.lastVisited=n}}return}return e},c.addPeaks=function(x,f){var n=this.vertices.length-1,o=this.dimension,s=this.vertices,r=this.tuple,g=this.interior,e=this.simplices,h=[f];f.lastVisited=n,f.vertices[f.vertices.indexOf(-1)]=n,f.boundary=!1,g.push(f);for(var _=[];h.length>0;){var w=(f=h.pop()).vertices,S=f.adjacent,O=w.indexOf(n);if(!(O<0)){for(var A=0;A<=o;++A)if(A!==O){var I=S[A];if(I.boundary&&!(I.lastVisited>=n)){var B=I.vertices;if(I.lastVisited!==-n){for(var C=0,z=0;z<=o;++z)B[z]<0?(C=z,r[z]=x):r[z]=s[B[z]];if(this.orient()>0){B[C]=n,I.boundary=!1,g.push(I),h.push(I),I.lastVisited=n;continue}I.lastVisited=-n}var P=I.adjacent,R=w.slice(),N=S.slice(),j=new l(R,N,!0);e.push(j);var W=P.indexOf(f);if(!(W<0))for(P[W]=j,N[O]=I,R[A]=-1,N[A]=f,S[A]=j,j.flip(),z=0;z<=o;++z){var Y=R[z];if(!(Y<0||Y===n)){for(var J=new Array(o-1),G=0,H=0;H<=o;++H){var U=R[H];U<0||H===z||(J[G++]=U)}_.push(new d(J,j,z))}}}}}}for(_.sort(v),A=0;A+1<_.length;A+=2){var Z=_[A],q=_[A+1],Q=Z.index,ne=q.index;Q<0||ne<0||(Z.cell.adjacent[Z.index]=q.cell,q.cell.adjacent[q.index]=Z.cell)}},c.insert=function(x,f){var n=this.vertices;n.push(x);var o=this.walk(x,f);if(o){for(var s=this.dimension,r=this.tuple,g=0;g<=s;++g){var e=o.vertices[g];r[g]=e<0?x:n[e]}var h=this.orient(r);h<0||(h!==0||(o=this.handleBoundaryDegeneracy(o,x)))&&this.addPeaks(x,o)}},c.boundary=function(){for(var x=this.dimension,f=[],n=this.simplices,o=n.length,s=0;s<o;++s){var r=n[s];if(r.boundary){for(var g=new Array(x),e=r.vertices,h=0,_=0,w=0;w<=x;++w)e[w]>=0?g[h++]=e[w]:_=1&w;if(_===(1&x)){var S=g[0];g[0]=g[1],g[1]=S}f.push(g)}}return f}},3352:function(b,a,t){var u=t(2478);function i(h,_,w,S,O){this.mid=h,this.left=_,this.right=w,this.leftPoints=S,this.rightPoints=O,this.count=(_?_.count:0)+(w?w.count:0)+S.length}b.exports=function(h){return h&&h.length!==0?new g(r(h)):new g(null)};var l=i.prototype;function d(h,_){h.mid=_.mid,h.left=_.left,h.right=_.right,h.leftPoints=_.leftPoints,h.rightPoints=_.rightPoints,h.count=_.count}function v(h,_){var w=r(_);h.mid=w.mid,h.left=w.left,h.right=w.right,h.leftPoints=w.leftPoints,h.rightPoints=w.rightPoints,h.count=w.count}function y(h,_){var w=h.intervals([]);w.push(_),v(h,w)}function p(h,_){var w=h.intervals([]),S=w.indexOf(_);return S<0?0:(w.splice(S,1),v(h,w),1)}function c(h,_,w){for(var S=0;S<h.length&&h[S][0]<=_;++S){var O=w(h[S]);if(O)return O}}function x(h,_,w){for(var S=h.length-1;S>=0&&h[S][1]>=_;--S){var O=w(h[S]);if(O)return O}}function f(h,_){for(var w=0;w<h.length;++w){var S=_(h[w]);if(S)return S}}function n(h,_){return h-_}function o(h,_){return h[0]-_[0]||h[1]-_[1]}function s(h,_){return h[1]-_[1]||h[0]-_[0]}function r(h){if(h.length===0)return null;for(var _=[],w=0;w<h.length;++w)_.push(h[w][0],h[w][1]);_.sort(n);var S=_[_.length>>1],O=[],A=[],I=[];for(w=0;w<h.length;++w){var B=h[w];B[1]<S?O.push(B):S<B[0]?A.push(B):I.push(B)}var C=I,z=I.slice();return C.sort(o),z.sort(s),new i(S,r(O),r(A),C,z)}function g(h){this.root=h}l.intervals=function(h){return h.push.apply(h,this.leftPoints),this.left&&this.left.intervals(h),this.right&&this.right.intervals(h),h},l.insert=function(h){var _=this.count-this.leftPoints.length;if(this.count+=1,h[1]<this.mid)this.left?4*(this.left.count+1)>3*(_+1)?y(this,h):this.left.insert(h):this.left=r([h]);else if(h[0]>this.mid)this.right?4*(this.right.count+1)>3*(_+1)?y(this,h):this.right.insert(h):this.right=r([h]);else{var w=u.ge(this.leftPoints,h,o),S=u.ge(this.rightPoints,h,s);this.leftPoints.splice(w,0,h),this.rightPoints.splice(S,0,h)}},l.remove=function(h){var _=this.count-this.leftPoints;if(h[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(_-1)?p(this,h):(A=this.left.remove(h))===2?(this.left=null,this.count-=1,1):(A===1&&(this.count-=1),A):0;if(h[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(_-1)?p(this,h):(A=this.right.remove(h))===2?(this.right=null,this.count-=1,1):(A===1&&(this.count-=1),A):0;if(this.count===1)return this.leftPoints[0]===h?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===h){if(this.left&&this.right){for(var w=this,S=this.left;S.right;)w=S,S=S.right;if(w===this)S.right=this.right;else{var O=this.left,A=this.right;w.count-=S.count,w.right=S.left,S.left=O,S.right=A}d(this,S),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?d(this,this.left):d(this,this.right);return 1}for(O=u.ge(this.leftPoints,h,o);O<this.leftPoints.length&&this.leftPoints[O][0]===h[0];++O)if(this.leftPoints[O]===h){for(this.count-=1,this.leftPoints.splice(O,1),A=u.ge(this.rightPoints,h,s);A<this.rightPoints.length&&this.rightPoints[A][1]===h[1];++A)if(this.rightPoints[A]===h)return this.rightPoints.splice(A,1),1}return 0},l.queryPoint=function(h,_){return h<this.mid?this.left&&(w=this.left.queryPoint(h,_))?w:c(this.leftPoints,h,_):h>this.mid?this.right&&(w=this.right.queryPoint(h,_))?w:x(this.rightPoints,h,_):f(this.leftPoints,_);var w},l.queryInterval=function(h,_,w){var S;return h<this.mid&&this.left&&(S=this.left.queryInterval(h,_,w))||_>this.mid&&this.right&&(S=this.right.queryInterval(h,_,w))?S:_<this.mid?c(this.leftPoints,_,w):h>this.mid?x(this.rightPoints,h,w):f(this.leftPoints,w)};var e=g.prototype;e.insert=function(h){this.root?this.root.insert(h):this.root=new i(h[0],null,null,[h],[h])},e.remove=function(h){if(this.root){var _=this.root.remove(h);return _===2&&(this.root=null),_!==0}return!1},e.queryPoint=function(h,_){if(this.root)return this.root.queryPoint(h,_)},e.queryInterval=function(h,_,w){if(h<=_&&this.root)return this.root.queryInterval(h,_,w)},Object.defineProperty(e,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(e,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},7762:function(b){b.exports=function(a){for(var t=new Array(a),u=0;u<a;++u)t[u]=u;return t}},9507:function(b){b.exports=!0},7163:function(b){function a(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}b.exports=function(t){return t!=null&&(a(t)||function(u){return typeof u.readFloatLE=="function"&&typeof u.slice=="function"&&a(u.slice(0,0))}(t)||!!t._isBuffer)}},5219:function(b){b.exports=function(a){for(var t,u=a.length,i=0;i<u;i++)if(((t=a.charCodeAt(i))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(b){b.exports=function(a,t,u){return a*(1-u)+t*u}},2652:function(b,a,t){var u=t(4335),i=t(6864),l=t(1903),d=t(9921),v=t(7608),y=t(5665),p={length:t(1387),normalize:t(3536),dot:t(244),cross:t(5911)},c=i(),x=i(),f=[0,0,0,0],n=[[0,0,0],[0,0,0],[0,0,0]],o=[0,0,0];function s(r,g,e,h,_){r[0]=g[0]*h+e[0]*_,r[1]=g[1]*h+e[1]*_,r[2]=g[2]*h+e[2]*_}b.exports=function(r,g,e,h,_,w){if(g||(g=[0,0,0]),e||(e=[0,0,0]),h||(h=[0,0,0]),_||(_=[0,0,0,1]),w||(w=[0,0,0,1]),!u(c,r)||(l(x,c),x[3]=0,x[7]=0,x[11]=0,x[15]=1,Math.abs(d(x)<1e-8)))return!1;var S,O,A,I,B,C,z,P=c[3],R=c[7],N=c[11],j=c[12],W=c[13],Y=c[14],J=c[15];if(P!==0||R!==0||N!==0){if(f[0]=P,f[1]=R,f[2]=N,f[3]=J,!v(x,x))return!1;y(x,x),S=_,A=x,I=(O=f)[0],B=O[1],C=O[2],z=O[3],S[0]=A[0]*I+A[4]*B+A[8]*C+A[12]*z,S[1]=A[1]*I+A[5]*B+A[9]*C+A[13]*z,S[2]=A[2]*I+A[6]*B+A[10]*C+A[14]*z,S[3]=A[3]*I+A[7]*B+A[11]*C+A[15]*z}else _[0]=_[1]=_[2]=0,_[3]=1;if(g[0]=j,g[1]=W,g[2]=Y,function(H,U){H[0][0]=U[0],H[0][1]=U[1],H[0][2]=U[2],H[1][0]=U[4],H[1][1]=U[5],H[1][2]=U[6],H[2][0]=U[8],H[2][1]=U[9],H[2][2]=U[10]}(n,c),e[0]=p.length(n[0]),p.normalize(n[0],n[0]),h[0]=p.dot(n[0],n[1]),s(n[1],n[1],n[0],1,-h[0]),e[1]=p.length(n[1]),p.normalize(n[1],n[1]),h[0]/=e[1],h[1]=p.dot(n[0],n[2]),s(n[2],n[2],n[0],1,-h[1]),h[2]=p.dot(n[1],n[2]),s(n[2],n[2],n[1],1,-h[2]),e[2]=p.length(n[2]),p.normalize(n[2],n[2]),h[1]/=e[2],h[2]/=e[2],p.cross(o,n[1],n[2]),p.dot(n[0],o)<0)for(var G=0;G<3;G++)e[G]*=-1,n[G][0]*=-1,n[G][1]*=-1,n[G][2]*=-1;return w[0]=.5*Math.sqrt(Math.max(1+n[0][0]-n[1][1]-n[2][2],0)),w[1]=.5*Math.sqrt(Math.max(1-n[0][0]+n[1][1]-n[2][2],0)),w[2]=.5*Math.sqrt(Math.max(1-n[0][0]-n[1][1]+n[2][2],0)),w[3]=.5*Math.sqrt(Math.max(1+n[0][0]+n[1][1]+n[2][2],0)),n[2][1]>n[1][2]&&(w[0]=-w[0]),n[0][2]>n[2][0]&&(w[1]=-w[1]),n[1][0]>n[0][1]&&(w[2]=-w[2]),!0}},4335:function(b){b.exports=function(a,t){var u=t[15];if(u===0)return!1;for(var i=1/u,l=0;l<16;l++)a[l]=t[l]*i;return!0}},7442:function(b,a,t){var u=t(6658),i=t(7182),l=t(2652),d=t(9921),v=t(8648),y=x(),p=x(),c=x();function x(){return{translate:f(),scale:f(1),skew:f(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function f(n){return[n||0,n||0,n||0]}b.exports=function(n,o,s,r){if(d(o)===0||d(s)===0)return!1;var g=l(o,y.translate,y.scale,y.skew,y.perspective,y.quaternion),e=l(s,p.translate,p.scale,p.skew,p.perspective,p.quaternion);return!(!g||!e||(u(c.translate,y.translate,p.translate,r),u(c.skew,y.skew,p.skew,r),u(c.scale,y.scale,p.scale,r),u(c.perspective,y.perspective,p.perspective,r),v(c.quaternion,y.quaternion,p.quaternion,r),i(n,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},7182:function(b,a,t){var u={identity:t(7894),translate:t(7656),multiply:t(6760),create:t(6864),scale:t(2504),fromRotationTranslation:t(6743)},i=(u.create(),u.create());b.exports=function(l,d,v,y,p,c){return u.identity(l),u.fromRotationTranslation(l,c,d),l[3]=p[0],l[7]=p[1],l[11]=p[2],l[15]=p[3],u.identity(i),y[2]!==0&&(i[9]=y[2],u.multiply(l,l,i)),y[1]!==0&&(i[9]=0,i[8]=y[1],u.multiply(l,l,i)),y[0]!==0&&(i[8]=0,i[4]=y[0],u.multiply(l,l,i)),u.scale(l,l,v),l}},4192:function(b,a,t){var u=t(2478),i=t(7442),l=t(7608),d=t(5567),v=t(2408),y=t(7089),p=t(6582),c=t(7656),x=(t(2504),t(3536)),f=[0,0,0];function n(r){this._components=r.slice(),this._time=[0],this.prevMatrix=r.slice(),this.nextMatrix=r.slice(),this.computedMatrix=r.slice(),this.computedInverse=r.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}b.exports=function(r){return new n((r=r||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var o=n.prototype;o.recalcMatrix=function(r){var g=this._time,e=u.le(g,r),h=this.computedMatrix;if(!(e<0)){var _=this._components;if(e===g.length-1)for(var w=16*e,S=0;S<16;++S)h[S]=_[w++];else{var O=g[e+1]-g[e],A=(w=16*e,this.prevMatrix),I=!0;for(S=0;S<16;++S)A[S]=_[w++];var B=this.nextMatrix;for(S=0;S<16;++S)B[S]=_[w++],I=I&&A[S]===B[S];if(O<1e-6||I)for(S=0;S<16;++S)h[S]=A[S];else i(h,A,B,(r-g[e])/O)}var C=this.computedUp;C[0]=h[1],C[1]=h[5],C[2]=h[9],x(C,C);var z=this.computedInverse;l(z,h);var P=this.computedEye,R=z[15];P[0]=z[12]/R,P[1]=z[13]/R,P[2]=z[14]/R;var N=this.computedCenter,j=Math.exp(this.computedRadius[0]);for(S=0;S<3;++S)N[S]=P[S]-h[2+4*S]*j}},o.idle=function(r){if(!(r<this.lastT())){for(var g=this._components,e=g.length-16,h=0;h<16;++h)g.push(g[e++]);this._time.push(r)}},o.flush=function(r){var g=u.gt(this._time,r)-2;g<0||(this._time.splice(0,g),this._components.splice(0,16*g))},o.lastT=function(){return this._time[this._time.length-1]},o.lookAt=function(r,g,e,h){this.recalcMatrix(r),g=g||this.computedEye,e=e||f,h=h||this.computedUp,this.setMatrix(r,p(this.computedMatrix,g,e,h));for(var _=0,w=0;w<3;++w)_+=Math.pow(e[w]-g[w],2);_=Math.log(Math.sqrt(_)),this.computedRadius[0]=_},o.rotate=function(r,g,e,h){this.recalcMatrix(r);var _=this.computedInverse;g&&v(_,_,g),e&&d(_,_,e),h&&y(_,_,h),this.setMatrix(r,l(this.computedMatrix,_))};var s=[0,0,0];o.pan=function(r,g,e,h){s[0]=-(g||0),s[1]=-(e||0),s[2]=-(h||0),this.recalcMatrix(r);var _=this.computedInverse;c(_,_,s),this.setMatrix(r,l(_,_))},o.translate=function(r,g,e,h){s[0]=g||0,s[1]=e||0,s[2]=h||0,this.recalcMatrix(r);var _=this.computedMatrix;c(_,_,s),this.setMatrix(r,_)},o.setMatrix=function(r,g){if(!(r<this.lastT())){this._time.push(r);for(var e=0;e<16;++e)this._components.push(g[e])}},o.setDistance=function(r,g){this.computedRadius[0]=g},o.setDistanceLimits=function(r,g){var e=this._limits;e[0]=r,e[1]=g},o.getDistanceLimits=function(r){var g=this._limits;return r?(r[0]=g[0],r[1]=g[1],r):g}},3090:function(b,a,t){b.exports=function(i){var l=i.length;if(l<3){for(var d=new Array(l),v=0;v<l;++v)d[v]=v;return l===2&&i[0][0]===i[1][0]&&i[0][1]===i[1][1]?[0]:d}var y=new Array(l);for(v=0;v<l;++v)y[v]=v;y.sort(function(g,e){return i[g][0]-i[e][0]||i[g][1]-i[e][1]});var p=[y[0],y[1]],c=[y[0],y[1]];for(v=2;v<l;++v){for(var x=y[v],f=i[x],n=p.length;n>1&&u(i[p[n-2]],i[p[n-1]],f)<=0;)n-=1,p.pop();for(p.push(x),n=c.length;n>1&&u(i[c[n-2]],i[c[n-1]],f)>=0;)n-=1,c.pop();c.push(x)}d=new Array(c.length+p.length-2);for(var o=0,s=(v=0,p.length);v<s;++v)d[o++]=p[v];for(var r=c.length-2;r>0;--r)d[o++]=c[r];return d};var u=t(3250)[3]},351:function(b,a,t){b.exports=function(i,l){l||(l=i,i=window);var d=0,v=0,y=0,p={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function x(w){var S=!1;return"altKey"in w&&(S=S||w.altKey!==p.alt,p.alt=!!w.altKey),"shiftKey"in w&&(S=S||w.shiftKey!==p.shift,p.shift=!!w.shiftKey),"ctrlKey"in w&&(S=S||w.ctrlKey!==p.control,p.control=!!w.ctrlKey),"metaKey"in w&&(S=S||w.metaKey!==p.meta,p.meta=!!w.metaKey),S}function f(w,S){var O=u.x(S),A=u.y(S);"buttons"in S&&(w=0|S.buttons),(w!==d||O!==v||A!==y||x(S))&&(d=0|w,v=O||0,y=A||0,l&&l(d,v,y,p))}function n(w){f(0,w)}function o(){(d||v||y||p.shift||p.alt||p.meta||p.control)&&(v=y=0,d=0,p.shift=p.alt=p.control=p.meta=!1,l&&l(0,0,0,p))}function s(w){x(w)&&l&&l(d,v,y,p)}function r(w){u.buttons(w)===0?f(0,w):f(d,w)}function g(w){f(d|u.buttons(w),w)}function e(w){f(d&~u.buttons(w),w)}function h(){c||(c=!0,i.addEventListener("mousemove",r),i.addEventListener("mousedown",g),i.addEventListener("mouseup",e),i.addEventListener("mouseleave",n),i.addEventListener("mouseenter",n),i.addEventListener("mouseout",n),i.addEventListener("mouseover",n),i.addEventListener("blur",o),i.addEventListener("keyup",s),i.addEventListener("keydown",s),i.addEventListener("keypress",s),i!==window&&(window.addEventListener("blur",o),window.addEventListener("keyup",s),window.addEventListener("keydown",s),window.addEventListener("keypress",s)))}h();var _={element:i};return Object.defineProperties(_,{enabled:{get:function(){return c},set:function(w){w?h():c&&(c=!1,i.removeEventListener("mousemove",r),i.removeEventListener("mousedown",g),i.removeEventListener("mouseup",e),i.removeEventListener("mouseleave",n),i.removeEventListener("mouseenter",n),i.removeEventListener("mouseout",n),i.removeEventListener("mouseover",n),i.removeEventListener("blur",o),i.removeEventListener("keyup",s),i.removeEventListener("keydown",s),i.removeEventListener("keypress",s),i!==window&&(window.removeEventListener("blur",o),window.removeEventListener("keyup",s),window.removeEventListener("keydown",s),window.removeEventListener("keypress",s)))},enumerable:!0},buttons:{get:function(){return d},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return p},enumerable:!0}}),_};var u=t(4687)},24:function(b){var a={left:0,top:0};b.exports=function(t,u,i){u=u||t.currentTarget||t.srcElement,Array.isArray(i)||(i=[0,0]);var l,d=t.clientX||0,v=t.clientY||0,y=(l=u)===window||l===document||l===document.body?a:l.getBoundingClientRect();return i[0]=d-y.left,i[1]=v-y.top,i}},4687:function(b,a){function t(u){return u.target||u.srcElement||window}a.buttons=function(u){if(typeof u=="object"){if("buttons"in u)return u.buttons;if("which"in u){if((i=u.which)===2)return 4;if(i===3)return 2;if(i>0)return 1<<i-1}else if("button"in u){var i;if((i=u.button)===1)return 4;if(i===2)return 2;if(i>=0)return 1<<i}}return 0},a.element=t,a.x=function(u){if(typeof u=="object"){if("offsetX"in u)return u.offsetX;var i=t(u).getBoundingClientRect();return u.clientX-i.left}return 0},a.y=function(u){if(typeof u=="object"){if("offsetY"in u)return u.offsetY;var i=t(u).getBoundingClientRect();return u.clientY-i.top}return 0}},8512:function(b,a,t){var u=t(665);b.exports=function(i,l,d){typeof i=="function"&&(d=!!l,l=i,i=window);var v=u("ex",i),y=function(p){d&&p.preventDefault();var c=p.deltaX||0,x=p.deltaY||0,f=p.deltaZ||0,n=1;switch(p.deltaMode){case 1:n=v;break;case 2:n=window.innerHeight}if(x*=n,f*=n,(c*=n)||x||f)return l(c,x,f,p)};return i.addEventListener("wheel",y),y}},2640:function(b,a,t){var u=t(1888);b.exports=function(l){function d(f){throw new Error("ndarray-extract-contour: "+f)}typeof l!="object"&&d("Must specify arguments");var v=l.order;Array.isArray(v)||d("Must specify order");var y=l.arrayArguments||1;y<1&&d("Must have at least one array argument"),(l.scalarArguments||0)<0&&d("Scalar arg count must be > 0"),typeof l.vertex!="function"&&d("Must specify vertex creation function"),typeof l.cell!="function"&&d("Must specify cell creation function"),typeof l.phase!="function"&&d("Must specify phase function");for(var p=l.getters||[],c=new Array(y),x=0;x<y;++x)p.indexOf(x)>=0?c[x]=!0:c[x]=!1;return function(f,n,o,s,r,g){var e=[g,r].join(",");return(0,i[e])(f,n,o,u.mallocUint32,u.freeUint32)}(l.vertex,l.cell,l.phase,0,v,c)};var i={"false,0,1":function(l,d,v,y,p){return function(c,x,f,n){var o,s=0|c.shape[0],r=0|c.shape[1],g=c.data,e=0|c.offset,h=0|c.stride[0],_=0|c.stride[1],w=e,S=0|-h,O=0,A=0|-_,I=0,B=-h-_|0,C=0,z=0|h,P=_-h*s|0,R=0,N=0,j=0,W=2*s|0,Y=y(W),J=y(W),G=0,H=0,U=-1,Z=-1,q=0,Q=0|-s,ne=0|s,ie=0,le=-s-1|0,fe=s-1|0,pe=0,me=0,ke=0;for(R=0;R<s;++R)Y[G++]=v(g[w],x,f,n),w+=z;if(w+=P,r>0){if(N=1,Y[G++]=v(g[w],x,f,n),w+=z,s>0)for(R=1,o=g[w],H=Y[G]=v(o,x,f,n),q=Y[G+U],ie=Y[G+Q],pe=Y[G+le],H===q&&H===ie&&H===pe||(O=g[w+S],I=g[w+A],C=g[w+B],l(R,N,o,O,I,C,H,q,ie,pe,x,f,n),me=J[G]=j++),G+=1,w+=z,R=2;R<s;++R)o=g[w],H=Y[G]=v(o,x,f,n),q=Y[G+U],ie=Y[G+Q],pe=Y[G+le],H===q&&H===ie&&H===pe||(O=g[w+S],I=g[w+A],C=g[w+B],l(R,N,o,O,I,C,H,q,ie,pe,x,f,n),me=J[G]=j++,pe!==q&&d(J[G+U],me,C,O,pe,q,x,f,n)),G+=1,w+=z;for(w+=P,G=0,ke=U,U=Z,Z=ke,ke=Q,Q=ne,ne=ke,ke=le,le=fe,fe=ke,N=2;N<r;++N){if(Y[G++]=v(g[w],x,f,n),w+=z,s>0)for(R=1,o=g[w],H=Y[G]=v(o,x,f,n),q=Y[G+U],ie=Y[G+Q],pe=Y[G+le],H===q&&H===ie&&H===pe||(O=g[w+S],I=g[w+A],C=g[w+B],l(R,N,o,O,I,C,H,q,ie,pe,x,f,n),me=J[G]=j++,pe!==ie&&d(J[G+Q],me,I,C,ie,pe,x,f,n)),G+=1,w+=z,R=2;R<s;++R)o=g[w],H=Y[G]=v(o,x,f,n),q=Y[G+U],ie=Y[G+Q],pe=Y[G+le],H===q&&H===ie&&H===pe||(O=g[w+S],I=g[w+A],C=g[w+B],l(R,N,o,O,I,C,H,q,ie,pe,x,f,n),me=J[G]=j++,pe!==ie&&d(J[G+Q],me,I,C,ie,pe,x,f,n),pe!==q&&d(J[G+U],me,C,O,pe,q,x,f,n)),G+=1,w+=z;1&N&&(G=0),ke=U,U=Z,Z=ke,ke=Q,Q=ne,ne=ke,ke=le,le=fe,fe=ke,w+=P}}p(J),p(Y)}},"false,1,0":function(l,d,v,y,p){return function(c,x,f,n){var o,s=0|c.shape[0],r=0|c.shape[1],g=c.data,e=0|c.offset,h=0|c.stride[0],_=0|c.stride[1],w=e,S=0|-h,O=0,A=0|-_,I=0,B=-h-_|0,C=0,z=0|_,P=h-_*r|0,R=0,N=0,j=0,W=2*r|0,Y=y(W),J=y(W),G=0,H=0,U=-1,Z=-1,q=0,Q=0|-r,ne=0|r,ie=0,le=-r-1|0,fe=r-1|0,pe=0,me=0,ke=0;for(N=0;N<r;++N)Y[G++]=v(g[w],x,f,n),w+=z;if(w+=P,s>0){if(R=1,Y[G++]=v(g[w],x,f,n),w+=z,r>0)for(N=1,o=g[w],H=Y[G]=v(o,x,f,n),ie=Y[G+Q],q=Y[G+U],pe=Y[G+le],H===ie&&H===q&&H===pe||(O=g[w+S],I=g[w+A],C=g[w+B],l(R,N,o,O,I,C,H,ie,q,pe,x,f,n),me=J[G]=j++),G+=1,w+=z,N=2;N<r;++N)o=g[w],H=Y[G]=v(o,x,f,n),ie=Y[G+Q],q=Y[G+U],pe=Y[G+le],H===ie&&H===q&&H===pe||(O=g[w+S],I=g[w+A],C=g[w+B],l(R,N,o,O,I,C,H,ie,q,pe,x,f,n),me=J[G]=j++,pe!==q&&d(J[G+U],me,I,C,q,pe,x,f,n)),G+=1,w+=z;for(w+=P,G=0,ke=Q,Q=ne,ne=ke,ke=U,U=Z,Z=ke,ke=le,le=fe,fe=ke,R=2;R<s;++R){if(Y[G++]=v(g[w],x,f,n),w+=z,r>0)for(N=1,o=g[w],H=Y[G]=v(o,x,f,n),ie=Y[G+Q],q=Y[G+U],pe=Y[G+le],H===ie&&H===q&&H===pe||(O=g[w+S],I=g[w+A],C=g[w+B],l(R,N,o,O,I,C,H,ie,q,pe,x,f,n),me=J[G]=j++,pe!==ie&&d(J[G+Q],me,C,O,pe,ie,x,f,n)),G+=1,w+=z,N=2;N<r;++N)o=g[w],H=Y[G]=v(o,x,f,n),ie=Y[G+Q],q=Y[G+U],pe=Y[G+le],H===ie&&H===q&&H===pe||(O=g[w+S],I=g[w+A],C=g[w+B],l(R,N,o,O,I,C,H,ie,q,pe,x,f,n),me=J[G]=j++,pe!==q&&d(J[G+U],me,I,C,q,pe,x,f,n),pe!==ie&&d(J[G+Q],me,C,O,pe,ie,x,f,n)),G+=1,w+=z;1&R&&(G=0),ke=Q,Q=ne,ne=ke,ke=U,U=Z,Z=ke,ke=le,le=fe,fe=ke,w+=P}}p(J),p(Y)}}}},6199:function(b,a,t){var u=t(1338),i={zero:function(s,r,g,e){var h=s[0];e|=0;var _=0,w=g[0];for(_=0;_<h;++_)r[e]=0,e+=w},fdTemplate1:function(s,r,g,e,h,_,w){var S=s[0],O=g[0],A=-1*O,I=O;e|=0,w|=0;var B=0,C=O,z=_[0];for(B=0;B<S;++B)h[w]=.5*(r[e+A]-r[e+I]),e+=C,w+=z},fdTemplate2:function(s,r,g,e,h,_,w,S,O,A){var I=s[0],B=s[1],C=g[0],z=g[1],P=_[0],R=_[1],N=O[0],j=O[1],W=-1*C,Y=C,J=-1*z,G=z;e|=0,w|=0,A|=0;var H=0,U=0,Z=z,q=C-B*z,Q=R,ne=P-B*R,ie=j,le=N-B*j;for(U=0;U<I;++U){for(H=0;H<B;++H)h[w]=.5*(r[e+W]-r[e+Y]),S[A]=.5*(r[e+J]-r[e+G]),e+=Z,w+=Q,A+=ie;e+=q,w+=ne,A+=le}}},l={cdiff:function(s){var r={};return function(g,e,h){var _=g.dtype,w=g.order,S=e.dtype,O=e.order,A=h.dtype,I=h.order,B=[_,w.join(),S,O.join(),A,I.join()].join(),C=r[B];return C||(r[B]=C=s([_,w,S,O,A,I])),C(g.shape.slice(0),g.data,g.stride,0|g.offset,e.data,e.stride,0|e.offset,h.data,h.stride,0|h.offset)}},zero:function(s){var r={};return function(g){var e=g.dtype,h=g.order,_=[e,h.join()].join(),w=r[_];return w||(r[_]=w=s([e,h])),w(g.shape.slice(0),g.data,g.stride,0|g.offset)}},fdTemplate1:function(s){var r={};return function(g,e){var h=g.dtype,_=g.order,w=e.dtype,S=e.order,O=[h,_.join(),w,S.join()].join(),A=r[O];return A||(r[O]=A=s([h,_,w,S])),A(g.shape.slice(0),g.data,g.stride,0|g.offset,e.data,e.stride,0|e.offset)}},fdTemplate2:function(s){var r={};return function(g,e,h){var _=g.dtype,w=g.order,S=e.dtype,O=e.order,A=h.dtype,I=h.order,B=[_,w.join(),S,O.join(),A,I.join()].join(),C=r[B];return C||(r[B]=C=s([_,w,S,O,A,I])),C(g.shape.slice(0),g.data,g.stride,0|g.offset,e.data,e.stride,0|e.offset,h.data,h.stride,0|h.offset)}}};function d(s){return(0,l[s.funcName])(v.bind(void 0,s))}function v(s){return i[s.funcName]}function y(s){return d({funcName:s.funcName})}var p={},c={},x=y({funcName:"cdiff"}),f=y({funcName:"zero"});function n(s){return s in p?p[s]:p[s]=y({funcName:"fdTemplate"+s})}function o(s,r,g,e){return function(h,_){var w=_.shape.slice();return w[0]>2&&w[1]>2&&e(_.pick(-1,-1).lo(1,1).hi(w[0]-2,w[1]-2),h.pick(-1,-1,0).lo(1,1).hi(w[0]-2,w[1]-2),h.pick(-1,-1,1).lo(1,1).hi(w[0]-2,w[1]-2)),w[1]>2&&(g(_.pick(0,-1).lo(1).hi(w[1]-2),h.pick(0,-1,1).lo(1).hi(w[1]-2)),r(h.pick(0,-1,0).lo(1).hi(w[1]-2))),w[1]>2&&(g(_.pick(w[0]-1,-1).lo(1).hi(w[1]-2),h.pick(w[0]-1,-1,1).lo(1).hi(w[1]-2)),r(h.pick(w[0]-1,-1,0).lo(1).hi(w[1]-2))),w[0]>2&&(g(_.pick(-1,0).lo(1).hi(w[0]-2),h.pick(-1,0,0).lo(1).hi(w[0]-2)),r(h.pick(-1,0,1).lo(1).hi(w[0]-2))),w[0]>2&&(g(_.pick(-1,w[1]-1).lo(1).hi(w[0]-2),h.pick(-1,w[1]-1,0).lo(1).hi(w[0]-2)),r(h.pick(-1,w[1]-1,1).lo(1).hi(w[0]-2))),h.set(0,0,0,0),h.set(0,0,1,0),h.set(w[0]-1,0,0,0),h.set(w[0]-1,0,1,0),h.set(0,w[1]-1,0,0),h.set(0,w[1]-1,1,0),h.set(w[0]-1,w[1]-1,0,0),h.set(w[0]-1,w[1]-1,1,0),h}}b.exports=function(s,r,g){return Array.isArray(g)||(g=u(r.dimension,typeof g=="string"?g:"clamp")),r.size===0?s:r.dimension===0?(s.set(0),s):function(e){var h=e.join();if(O=c[h])return O;for(var _=e.length,w=[x,f],S=1;S<=_;++S)w.push(n(S));var O=o.apply(void 0,w);return c[h]=O,O}(g)(s,r)}},4317:function(b){function a(l,d){var v=Math.floor(d),y=d-v,p=0<=v&&v<l.shape[0],c=0<=v+1&&v+1<l.shape[0];return(1-y)*(p?+l.get(v):0)+y*(c?+l.get(v+1):0)}function t(l,d,v){var y=Math.floor(d),p=d-y,c=0<=y&&y<l.shape[0],x=0<=y+1&&y+1<l.shape[0],f=Math.floor(v),n=v-f,o=0<=f&&f<l.shape[1],s=0<=f+1&&f+1<l.shape[1],r=c&&o?l.get(y,f):0,g=c&&s?l.get(y,f+1):0;return(1-n)*((1-p)*r+p*(x&&o?l.get(y+1,f):0))+n*((1-p)*g+p*(x&&s?l.get(y+1,f+1):0))}function u(l,d,v,y){var p=Math.floor(d),c=d-p,x=0<=p&&p<l.shape[0],f=0<=p+1&&p+1<l.shape[0],n=Math.floor(v),o=v-n,s=0<=n&&n<l.shape[1],r=0<=n+1&&n+1<l.shape[1],g=Math.floor(y),e=y-g,h=0<=g&&g<l.shape[2],_=0<=g+1&&g+1<l.shape[2],w=x&&s&&h?l.get(p,n,g):0,S=x&&r&&h?l.get(p,n+1,g):0,O=f&&s&&h?l.get(p+1,n,g):0,A=f&&r&&h?l.get(p+1,n+1,g):0,I=x&&s&&_?l.get(p,n,g+1):0,B=x&&r&&_?l.get(p,n+1,g+1):0;return(1-e)*((1-o)*((1-c)*w+c*O)+o*((1-c)*S+c*A))+e*((1-o)*((1-c)*I+c*(f&&s&&_?l.get(p+1,n,g+1):0))+o*((1-c)*B+c*(f&&r&&_?l.get(p+1,n+1,g+1):0)))}function i(l){var d,v,y=0|l.shape.length,p=new Array(y),c=new Array(y),x=new Array(y),f=new Array(y);for(d=0;d<y;++d)v=+arguments[d+1],p[d]=Math.floor(v),c[d]=v-p[d],x[d]=0<=p[d]&&p[d]<l.shape[d],f[d]=0<=p[d]+1&&p[d]+1<l.shape[d];var n,o,s,r=0;e:for(d=0;d<1<<y;++d){for(o=1,s=l.offset,n=0;n<y;++n)if(d&1<<n){if(!f[n])continue e;o*=c[n],s+=l.stride[n]*(p[n]+1)}else{if(!x[n])continue e;o*=1-c[n],s+=l.stride[n]*p[n]}r+=o*l.data[s]}return r}b.exports=function(l,d,v,y){switch(l.shape.length){case 0:return 0;case 1:return a(l,d);case 2:return t(l,d,v);case 3:return u(l,d,v,y);default:return i.apply(void 0,arguments)}},b.exports.d1=a,b.exports.d2=t,b.exports.d3=u},5298:function(b,a){var t={"float64,2,1,0":function(){return function(v,y,p,c,x){var f=v[0],n=v[1],o=v[2],s=p[0],r=p[1],g=p[2];c|=0;var e=0,h=0,_=0,w=g,S=r-o*g,O=s-n*r;for(_=0;_<f;++_){for(h=0;h<n;++h){for(e=0;e<o;++e)y[c]/=x,c+=w;c+=S}c+=O}}},"uint8,2,0,1,float64,2,1,0":function(){return function(v,y,p,c,x,f,n,o){for(var s=v[0],r=v[1],g=v[2],e=p[0],h=p[1],_=p[2],w=f[0],S=f[1],O=f[2],A=c|=0,I=n|=0,B=0|v[0];B>0;){B<64?(s=B,B=0):(s=64,B-=64);for(var C=0|v[1];C>0;){C<64?(r=C,C=0):(r=64,C-=64),c=A+B*e+C*h,n=I+B*w+C*S;var z=0,P=0,R=0,N=_,j=e-g*_,W=h-s*e,Y=O,J=w-g*O,G=S-s*w;for(R=0;R<r;++R){for(P=0;P<s;++P){for(z=0;z<g;++z)y[c]=x[n]*o,c+=N,n+=Y;c+=j,n+=J}c+=W,n+=G}}}}},"float32,1,0,float32,1,0":function(){return function(v,y,p,c,x,f,n){var o=v[0],s=v[1],r=p[0],g=p[1],e=f[0],h=f[1];c|=0,n|=0;var _=0,w=0,S=g,O=r-s*g,A=h,I=e-s*h;for(w=0;w<o;++w){for(_=0;_<s;++_)y[c]=x[n],c+=S,n+=A;c+=O,n+=I}}},"float32,1,0,float32,0,1":function(){return function(v,y,p,c,x,f,n){for(var o=v[0],s=v[1],r=p[0],g=p[1],e=f[0],h=f[1],_=c|=0,w=n|=0,S=0|v[1];S>0;){S<64?(s=S,S=0):(s=64,S-=64);for(var O=0|v[0];O>0;){O<64?(o=O,O=0):(o=64,O-=64),c=_+S*g+O*r,n=w+S*h+O*e;var A=0,I=0,B=g,C=r-s*g,z=h,P=e-s*h;for(I=0;I<o;++I){for(A=0;A<s;++A)y[c]=x[n],c+=B,n+=z;c+=C,n+=P}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(v,y,p,c,x,f,n){for(var o=v[0],s=v[1],r=v[2],g=p[0],e=p[1],h=p[2],_=f[0],w=f[1],S=f[2],O=c|=0,A=n|=0,I=0|v[2];I>0;){I<64?(r=I,I=0):(r=64,I-=64);for(var B=0|v[0];B>0;){B<64?(o=B,B=0):(o=64,B-=64);for(var C=0|v[1];C>0;){C<64?(s=C,C=0):(s=64,C-=64),c=O+I*h+B*g+C*e,n=A+I*S+B*_+C*w;var z=0,P=0,R=0,N=h,j=g-r*h,W=e-o*g,Y=S,J=_-r*S,G=w-o*_;for(R=0;R<s;++R){for(P=0;P<o;++P){for(z=0;z<r;++z)y[c]=x[n],c+=N,n+=Y;c+=j,n+=J}c+=W,n+=G}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(v,y,p,c,x,f,n){var o=v[0],s=v[1],r=v[2],g=p[0],e=p[1],h=p[2],_=f[0],w=f[1],S=f[2];c|=0,n|=0;var O=0,A=0,I=0,B=h,C=g-r*h,z=e-o*g,P=S,R=_-r*S,N=w-o*_;for(I=0;I<s;++I){for(A=0;A<o;++A){for(O=0;O<r;++O)y[c]=x[n],c+=B,n+=P;c+=C,n+=R}c+=z,n+=N}}}},u=function(v,y){var p=y.join(",");return(0,t[p])()},i={mul:function(v){var y={};return function(p,c,x){var f=p.dtype,n=p.order,o=c.dtype,s=c.order,r=x.dtype,g=x.order,e=[f,n.join(),o,s.join(),r,g.join()].join(),h=y[e];return h||(y[e]=h=v([f,n,o,s,r,g])),h(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},muls:function(v){var y={};return function(p,c,x){var f=p.dtype,n=p.order,o=c.dtype,s=c.order,r=[f,n.join(),o,s.join()].join(),g=y[r];return g||(y[r]=g=v([f,n,o,s])),g(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x)}},mulseq:function(v){var y={};return function(p,c){var x=p.dtype,f=p.order,n=[x,f.join()].join(),o=y[n];return o||(y[n]=o=v([x,f])),o(p.shape.slice(0),p.data,p.stride,0|p.offset,c)}},div:function(v){var y={};return function(p,c,x){var f=p.dtype,n=p.order,o=c.dtype,s=c.order,r=x.dtype,g=x.order,e=[f,n.join(),o,s.join(),r,g.join()].join(),h=y[e];return h||(y[e]=h=v([f,n,o,s,r,g])),h(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},divs:function(v){var y={};return function(p,c,x){var f=p.dtype,n=p.order,o=c.dtype,s=c.order,r=[f,n.join(),o,s.join()].join(),g=y[r];return g||(y[r]=g=v([f,n,o,s])),g(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x)}},divseq:function(v){var y={};return function(p,c){var x=p.dtype,f=p.order,n=[x,f.join()].join(),o=y[n];return o||(y[n]=o=v([x,f])),o(p.shape.slice(0),p.data,p.stride,0|p.offset,c)}},assign:function(v){var y={};return function(p,c){var x=p.dtype,f=p.order,n=c.dtype,o=c.order,s=[x,f.join(),n,o.join()].join(),r=y[s];return r||(y[s]=r=v([x,f,n,o])),r(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset)}}};function l(v){return y={funcName:v.funcName},(0,i[y.funcName])(u.bind(void 0,y));var y}var d={mul:"*",div:"/"};(function(){for(var v in d)a[v]=l({funcName:v}),a[v+"s"]=l({funcName:v+"s"}),a[v+"seq"]=l({funcName:v+"seq"})})(),a.assign=l({funcName:"assign"})},9994:function(b,a,t){var u=t(9618),i=t(8277);b.exports=function(l,d){for(var v=[],y=l,p=1;Array.isArray(y);)v.push(y.length),p*=y.length,y=y[0];return v.length===0?u():(d||(d=u(new Float64Array(p),v)),i(d,l),d)}},8277:function(b){b.exports=function(a){var t={};return function(u,i){var l=u.dtype,d=u.order,v=[l,d.join()].join(),y=t[v];return y||(t[v]=y=a([l,d])),y(u.shape.slice(0),u.data,u.stride,0|u.offset,i)}}((function(){return function(a,t,u,i,l){var d=a[0],v=a[1],y=a[2],p=u[0],c=u[1],x=u[2],f=[0,0,0];i|=0;var n=0,o=0,s=0,r=x,g=c-y*x,e=p-v*c;for(s=0;s<d;++s){for(o=0;o<v;++o){for(n=0;n<y;++n){var h,_=l;for(h=0;h<f.length-1;++h)_=_[f[h]];t[i]=_[f[f.length-1]],i+=r,++f[2]}i+=g,f[2]-=y,++f[1]}i+=e,f[1]-=v,++f[0]}}}).bind(void 0,{funcName:"convert"}))},7640:function(b,a,t){var u=t(1888);function i(y){return y==="uint32"?[u.mallocUint32,u.freeUint32]:null}var l={"uint32,1,0":function(y,p){return function(c,x,f,n,o,s,r,g,e,h,_){var w,S,O,A,I,B,C,z,P=c*o+n,R=y(g);for(w=c+1;w<=x;++w){for(S=w,O=P+=o,I=0,B=P,A=0;A<g;++A)R[I++]=f[B],B+=e;e:for(;S-- >c;){I=0,B=O-o;t:for(A=0;A<g;++A){if((C=f[B])<(z=R[I]))break e;if(C>z)break t;B+=h,I+=_}for(I=O,B=O-o,A=0;A<g;++A)f[I]=f[B],I+=e,B+=e;O-=o}for(I=O,B=0,A=0;A<g;++A)f[I]=R[B++],I+=e}p(R)}}},d={"uint32,1,0":function(y,p,c){return function x(f,n,o,s,r,g,e,h,_,w,S){var O,A,I,B,C,z,P,R,N,j,W,Y,J,G,H,U,Z,q,Q,ne,ie,le,fe,pe,me,ke=(n-f+1)/6|0,ve=f+ke,he=n-ke,de=f+n>>1,X=de-ke,ae=de+ke,K=ve,ge=X,re=de,ue=ae,we=he,Te=f+1,ee=n-1,se=!0,ce=0,be=0,Ee=0,Se=h,De=p(Se),Ge=p(Se);W=r*K,Y=r*ge,me=s;e:for(j=0;j<h;++j){if(R=Y+me,(Ee=o[P=W+me]-o[R])>0){A=K,K=ge,ge=A;break e}if(Ee<0)break e;me+=w}W=r*ue,Y=r*we,me=s;e:for(j=0;j<h;++j){if(R=Y+me,(Ee=o[P=W+me]-o[R])>0){A=ue,ue=we,we=A;break e}if(Ee<0)break e;me+=w}W=r*K,Y=r*re,me=s;e:for(j=0;j<h;++j){if(R=Y+me,(Ee=o[P=W+me]-o[R])>0){A=K,K=re,re=A;break e}if(Ee<0)break e;me+=w}W=r*ge,Y=r*re,me=s;e:for(j=0;j<h;++j){if(R=Y+me,(Ee=o[P=W+me]-o[R])>0){A=ge,ge=re,re=A;break e}if(Ee<0)break e;me+=w}W=r*K,Y=r*ue,me=s;e:for(j=0;j<h;++j){if(R=Y+me,(Ee=o[P=W+me]-o[R])>0){A=K,K=ue,ue=A;break e}if(Ee<0)break e;me+=w}W=r*re,Y=r*ue,me=s;e:for(j=0;j<h;++j){if(R=Y+me,(Ee=o[P=W+me]-o[R])>0){A=re,re=ue,ue=A;break e}if(Ee<0)break e;me+=w}W=r*ge,Y=r*we,me=s;e:for(j=0;j<h;++j){if(R=Y+me,(Ee=o[P=W+me]-o[R])>0){A=ge,ge=we,we=A;break e}if(Ee<0)break e;me+=w}W=r*ge,Y=r*re,me=s;e:for(j=0;j<h;++j){if(R=Y+me,(Ee=o[P=W+me]-o[R])>0){A=ge,ge=re,re=A;break e}if(Ee<0)break e;me+=w}W=r*ue,Y=r*we,me=s;e:for(j=0;j<h;++j){if(R=Y+me,(Ee=o[P=W+me]-o[R])>0){A=ue,ue=we,we=A;break e}if(Ee<0)break e;me+=w}for(W=r*K,Y=r*ge,J=r*re,G=r*ue,H=r*we,U=r*ve,Z=r*de,q=r*he,pe=0,me=s,j=0;j<h;++j)P=W+me,R=Y+me,N=J+me,Q=G+me,ne=H+me,ie=U+me,le=Z+me,fe=q+me,De[pe]=o[R],Ge[pe]=o[Q],se=se&&De[pe]===Ge[pe],I=o[P],B=o[N],C=o[ne],o[ie]=I,o[le]=B,o[fe]=C,++pe,me+=_;for(W=r*X,Y=r*f,me=s,j=0;j<h;++j)R=Y+me,o[P=W+me]=o[R],me+=_;for(W=r*ae,Y=r*n,me=s,j=0;j<h;++j)R=Y+me,o[P=W+me]=o[R],me+=_;if(se)for(z=Te;z<=ee;++z){for(P=s+z*r,pe=0,j=0;j<h&&(Ee=o[P]-De[pe])==0;++j)pe+=S,P+=w;if(Ee!==0)if(Ee<0){if(z!==Te)for(W=r*z,Y=r*Te,me=s,j=0;j<h;++j)R=Y+me,O=o[P=W+me],o[P]=o[R],o[R]=O,me+=_;++Te}else for(;;){for(P=s+ee*r,pe=0,j=0;j<h&&(Ee=o[P]-De[pe])==0;++j)pe+=S,P+=w;if(!(Ee>0)){if(Ee<0){for(W=r*z,Y=r*Te,J=r*ee,me=s,j=0;j<h;++j)R=Y+me,N=J+me,O=o[P=W+me],o[P]=o[R],o[R]=o[N],o[N]=O,me+=_;++Te,--ee;break}for(W=r*z,Y=r*ee,me=s,j=0;j<h;++j)R=Y+me,O=o[P=W+me],o[P]=o[R],o[R]=O,me+=_;--ee;break}ee--}}else for(z=Te;z<=ee;++z){for(P=s+z*r,pe=0,j=0;j<h&&(ce=o[P]-De[pe])==0;++j)pe+=S,P+=w;if(ce<0){if(z!==Te)for(W=r*z,Y=r*Te,me=s,j=0;j<h;++j)R=Y+me,O=o[P=W+me],o[P]=o[R],o[R]=O,me+=_;++Te}else{for(P=s+z*r,pe=0,j=0;j<h&&(be=o[P]-Ge[pe])==0;++j)pe+=S,P+=w;if(be>0)for(;;){for(P=s+ee*r,pe=0,j=0;j<h&&(Ee=o[P]-Ge[pe])==0;++j)pe+=S,P+=w;if(!(Ee>0)){for(P=s+ee*r,pe=0,j=0;j<h&&(Ee=o[P]-De[pe])==0;++j)pe+=S,P+=w;if(Ee<0){for(W=r*z,Y=r*Te,J=r*ee,me=s,j=0;j<h;++j)R=Y+me,N=J+me,O=o[P=W+me],o[P]=o[R],o[R]=o[N],o[N]=O,me+=_;++Te,--ee}else{for(W=r*z,Y=r*ee,me=s,j=0;j<h;++j)R=Y+me,O=o[P=W+me],o[P]=o[R],o[R]=O,me+=_;--ee}break}if(--ee<z)break}}}for(W=r*f,Y=r*(Te-1),pe=0,me=s,j=0;j<h;++j)R=Y+me,o[P=W+me]=o[R],o[R]=De[pe],++pe,me+=_;for(W=r*n,Y=r*(ee+1),pe=0,me=s,j=0;j<h;++j)R=Y+me,o[P=W+me]=o[R],o[R]=Ge[pe],++pe,me+=_;if(Te-2-f<=32?y(f,Te-2,o,s,r,g,e,h,_,w,S):x(f,Te-2,o,s,r,g,e,h,_,w,S),n-(ee+2)<=32?y(ee+2,n,o,s,r,g,e,h,_,w,S):x(ee+2,n,o,s,r,g,e,h,_,w,S),se)return c(De),void c(Ge);if(Te<ve&&ee>he){e:for(;;){for(P=s+Te*r,pe=0,me=s,j=0;j<h;++j){if(o[P]!==De[pe])break e;++pe,P+=_}++Te}e:for(;;){for(P=s+ee*r,pe=0,me=s,j=0;j<h;++j){if(o[P]!==Ge[pe])break e;++pe,P+=_}--ee}for(z=Te;z<=ee;++z){for(P=s+z*r,pe=0,j=0;j<h&&(ce=o[P]-De[pe])==0;++j)pe+=S,P+=w;if(ce===0){if(z!==Te)for(W=r*z,Y=r*Te,me=s,j=0;j<h;++j)R=Y+me,O=o[P=W+me],o[P]=o[R],o[R]=O,me+=_;++Te}else{for(P=s+z*r,pe=0,j=0;j<h&&(be=o[P]-Ge[pe])==0;++j)pe+=S,P+=w;if(be===0)for(;;){for(P=s+ee*r,pe=0,j=0;j<h&&(Ee=o[P]-Ge[pe])==0;++j)pe+=S,P+=w;if(Ee!==0){for(P=s+ee*r,pe=0,j=0;j<h&&(Ee=o[P]-De[pe])==0;++j)pe+=S,P+=w;if(Ee<0){for(W=r*z,Y=r*Te,J=r*ee,me=s,j=0;j<h;++j)R=Y+me,N=J+me,O=o[P=W+me],o[P]=o[R],o[R]=o[N],o[N]=O,me+=_;++Te,--ee}else{for(W=r*z,Y=r*ee,me=s,j=0;j<h;++j)R=Y+me,O=o[P=W+me],o[P]=o[R],o[R]=O,me+=_;--ee}break}if(--ee<z)break}}}}c(De),c(Ge),ee-Te<=32?y(Te,ee,o,s,r,g,e,h,_,w,S):x(Te,ee,o,s,r,g,e,h,_,w,S)}}},v={"uint32,1,0":function(y,p){return function(c){var x=c.data,f=0|c.offset,n=c.shape,o=c.stride,s=0|o[0],r=0|n[0],g=0|o[1],e=0|n[1],h=g,_=g;r<=32?y(0,r-1,x,f,s,g,r,e,h,_,1):p(0,r-1,x,f,s,g,r,e,h,_,1)}}};b.exports=function(y,p){var c=[p,y].join(","),x=v[c],f=function(o,s){var r=i(s),g=[s,o].join(","),e=l[g];return r?e(r[0],r[1]):e()}(y,p),n=function(o,s,r){var g=i(s),e=[s,o].join(","),h=d[e];return o.length>1&&g?h(r,g[0],g[1]):h(r)}(y,p,f);return x(f,n)}},446:function(b,a,t){var u=t(7640),i={};b.exports=function(l){var d=l.order,v=l.dtype,y=[d,v].join(":"),p=i[y];return p||(i[y]=p=u(d,v)),p(l),l}},9618:function(b,a,t){var u=t(7163),i=typeof Float64Array<"u";function l(c,x){return c[0]-x[0]}function d(){var c,x=this.stride,f=new Array(x.length);for(c=0;c<f.length;++c)f[c]=[Math.abs(x[c]),c];f.sort(l);var n=new Array(f.length);for(c=0;c<n.length;++c)n[c]=f[c][1];return n}var v={T:function(c){function x(n){this.data=n}var f=x.prototype;return f.dtype=c,f.index=function(){return-1},f.size=0,f.dimension=-1,f.shape=f.stride=f.order=[],f.lo=f.hi=f.transpose=f.step=function(){return new x(this.data)},f.get=f.set=function(){},f.pick=function(){return null},function(n){return new x(n)}},0:function(c,x){function f(o,s){this.data=o,this.offset=s}var n=f.prototype;return n.dtype=c,n.index=function(){return this.offset},n.dimension=0,n.size=1,n.shape=n.stride=n.order=[],n.lo=n.hi=n.transpose=n.step=function(){return new f(this.data,this.offset)},n.pick=function(){return x(this.data)},n.valueOf=n.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},n.set=function(o){return c==="generic"?this.data.set(this.offset,o):this.data[this.offset]=o},function(o,s,r,g){return new f(o,g)}},1:function(c,x,f){function n(s,r,g,e){this.data=s,this.shape=[r],this.stride=[g],this.offset=0|e}var o=n.prototype;return o.dtype=c,o.dimension=1,Object.defineProperty(o,"size",{get:function(){return this.shape[0]}}),o.order=[0],o.set=function(s,r){return c==="generic"?this.data.set(this.offset+this.stride[0]*s,r):this.data[this.offset+this.stride[0]*s]=r},o.get=function(s){return c==="generic"?this.data.get(this.offset+this.stride[0]*s):this.data[this.offset+this.stride[0]*s]},o.index=function(s){return this.offset+this.stride[0]*s},o.hi=function(s){return new n(this.data,typeof s!="number"||s<0?this.shape[0]:0|s,this.stride[0],this.offset)},o.lo=function(s){var r=this.offset,g=0,e=this.shape[0],h=this.stride[0];return typeof s=="number"&&s>=0&&(r+=h*(g=0|s),e-=g),new n(this.data,e,h,r)},o.step=function(s){var r=this.shape[0],g=this.stride[0],e=this.offset,h=0,_=Math.ceil;return typeof s=="number"&&((h=0|s)<0?(e+=g*(r-1),r=_(-r/h)):r=_(r/h),g*=h),new n(this.data,r,g,e)},o.transpose=function(s){s=s===void 0?0:0|s;var r=this.shape,g=this.stride;return new n(this.data,r[s],g[s],this.offset)},o.pick=function(s){var r=[],g=[],e=this.offset;return typeof s=="number"&&s>=0?e=e+this.stride[0]*s|0:(r.push(this.shape[0]),g.push(this.stride[0])),(0,x[r.length+1])(this.data,r,g,e)},function(s,r,g,e){return new n(s,r[0],g[0],e)}},2:function(c,x,f){function n(s,r,g,e,h,_){this.data=s,this.shape=[r,g],this.stride=[e,h],this.offset=0|_}var o=n.prototype;return o.dtype=c,o.dimension=2,Object.defineProperty(o,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(o,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),o.set=function(s,r,g){return c==="generic"?this.data.set(this.offset+this.stride[0]*s+this.stride[1]*r,g):this.data[this.offset+this.stride[0]*s+this.stride[1]*r]=g},o.get=function(s,r){return c==="generic"?this.data.get(this.offset+this.stride[0]*s+this.stride[1]*r):this.data[this.offset+this.stride[0]*s+this.stride[1]*r]},o.index=function(s,r){return this.offset+this.stride[0]*s+this.stride[1]*r},o.hi=function(s,r){return new n(this.data,typeof s!="number"||s<0?this.shape[0]:0|s,typeof r!="number"||r<0?this.shape[1]:0|r,this.stride[0],this.stride[1],this.offset)},o.lo=function(s,r){var g=this.offset,e=0,h=this.shape[0],_=this.shape[1],w=this.stride[0],S=this.stride[1];return typeof s=="number"&&s>=0&&(g+=w*(e=0|s),h-=e),typeof r=="number"&&r>=0&&(g+=S*(e=0|r),_-=e),new n(this.data,h,_,w,S,g)},o.step=function(s,r){var g=this.shape[0],e=this.shape[1],h=this.stride[0],_=this.stride[1],w=this.offset,S=0,O=Math.ceil;return typeof s=="number"&&((S=0|s)<0?(w+=h*(g-1),g=O(-g/S)):g=O(g/S),h*=S),typeof r=="number"&&((S=0|r)<0?(w+=_*(e-1),e=O(-e/S)):e=O(e/S),_*=S),new n(this.data,g,e,h,_,w)},o.transpose=function(s,r){s=s===void 0?0:0|s,r=r===void 0?1:0|r;var g=this.shape,e=this.stride;return new n(this.data,g[s],g[r],e[s],e[r],this.offset)},o.pick=function(s,r){var g=[],e=[],h=this.offset;return typeof s=="number"&&s>=0?h=h+this.stride[0]*s|0:(g.push(this.shape[0]),e.push(this.stride[0])),typeof r=="number"&&r>=0?h=h+this.stride[1]*r|0:(g.push(this.shape[1]),e.push(this.stride[1])),(0,x[g.length+1])(this.data,g,e,h)},function(s,r,g,e){return new n(s,r[0],r[1],g[0],g[1],e)}},3:function(c,x,f){function n(s,r,g,e,h,_,w,S){this.data=s,this.shape=[r,g,e],this.stride=[h,_,w],this.offset=0|S}var o=n.prototype;return o.dtype=c,o.dimension=3,Object.defineProperty(o,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(o,"order",{get:function(){var s=Math.abs(this.stride[0]),r=Math.abs(this.stride[1]),g=Math.abs(this.stride[2]);return s>r?r>g?[2,1,0]:s>g?[1,2,0]:[1,0,2]:s>g?[2,0,1]:g>r?[0,1,2]:[0,2,1]}}),o.set=function(s,r,g,e){return c==="generic"?this.data.set(this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g,e):this.data[this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g]=e},o.get=function(s,r,g){return c==="generic"?this.data.get(this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g):this.data[this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g]},o.index=function(s,r,g){return this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g},o.hi=function(s,r,g){return new n(this.data,typeof s!="number"||s<0?this.shape[0]:0|s,typeof r!="number"||r<0?this.shape[1]:0|r,typeof g!="number"||g<0?this.shape[2]:0|g,this.stride[0],this.stride[1],this.stride[2],this.offset)},o.lo=function(s,r,g){var e=this.offset,h=0,_=this.shape[0],w=this.shape[1],S=this.shape[2],O=this.stride[0],A=this.stride[1],I=this.stride[2];return typeof s=="number"&&s>=0&&(e+=O*(h=0|s),_-=h),typeof r=="number"&&r>=0&&(e+=A*(h=0|r),w-=h),typeof g=="number"&&g>=0&&(e+=I*(h=0|g),S-=h),new n(this.data,_,w,S,O,A,I,e)},o.step=function(s,r,g){var e=this.shape[0],h=this.shape[1],_=this.shape[2],w=this.stride[0],S=this.stride[1],O=this.stride[2],A=this.offset,I=0,B=Math.ceil;return typeof s=="number"&&((I=0|s)<0?(A+=w*(e-1),e=B(-e/I)):e=B(e/I),w*=I),typeof r=="number"&&((I=0|r)<0?(A+=S*(h-1),h=B(-h/I)):h=B(h/I),S*=I),typeof g=="number"&&((I=0|g)<0?(A+=O*(_-1),_=B(-_/I)):_=B(_/I),O*=I),new n(this.data,e,h,_,w,S,O,A)},o.transpose=function(s,r,g){s=s===void 0?0:0|s,r=r===void 0?1:0|r,g=g===void 0?2:0|g;var e=this.shape,h=this.stride;return new n(this.data,e[s],e[r],e[g],h[s],h[r],h[g],this.offset)},o.pick=function(s,r,g){var e=[],h=[],_=this.offset;return typeof s=="number"&&s>=0?_=_+this.stride[0]*s|0:(e.push(this.shape[0]),h.push(this.stride[0])),typeof r=="number"&&r>=0?_=_+this.stride[1]*r|0:(e.push(this.shape[1]),h.push(this.stride[1])),typeof g=="number"&&g>=0?_=_+this.stride[2]*g|0:(e.push(this.shape[2]),h.push(this.stride[2])),(0,x[e.length+1])(this.data,e,h,_)},function(s,r,g,e){return new n(s,r[0],r[1],r[2],g[0],g[1],g[2],e)}},4:function(c,x,f){function n(s,r,g,e,h,_,w,S,O,A){this.data=s,this.shape=[r,g,e,h],this.stride=[_,w,S,O],this.offset=0|A}var o=n.prototype;return o.dtype=c,o.dimension=4,Object.defineProperty(o,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(o,"order",{get:f}),o.set=function(s,r,g,e,h){return c==="generic"?this.data.set(this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g+this.stride[3]*e,h):this.data[this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g+this.stride[3]*e]=h},o.get=function(s,r,g,e){return c==="generic"?this.data.get(this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g+this.stride[3]*e):this.data[this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g+this.stride[3]*e]},o.index=function(s,r,g,e){return this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g+this.stride[3]*e},o.hi=function(s,r,g,e){return new n(this.data,typeof s!="number"||s<0?this.shape[0]:0|s,typeof r!="number"||r<0?this.shape[1]:0|r,typeof g!="number"||g<0?this.shape[2]:0|g,typeof e!="number"||e<0?this.shape[3]:0|e,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},o.lo=function(s,r,g,e){var h=this.offset,_=0,w=this.shape[0],S=this.shape[1],O=this.shape[2],A=this.shape[3],I=this.stride[0],B=this.stride[1],C=this.stride[2],z=this.stride[3];return typeof s=="number"&&s>=0&&(h+=I*(_=0|s),w-=_),typeof r=="number"&&r>=0&&(h+=B*(_=0|r),S-=_),typeof g=="number"&&g>=0&&(h+=C*(_=0|g),O-=_),typeof e=="number"&&e>=0&&(h+=z*(_=0|e),A-=_),new n(this.data,w,S,O,A,I,B,C,z,h)},o.step=function(s,r,g,e){var h=this.shape[0],_=this.shape[1],w=this.shape[2],S=this.shape[3],O=this.stride[0],A=this.stride[1],I=this.stride[2],B=this.stride[3],C=this.offset,z=0,P=Math.ceil;return typeof s=="number"&&((z=0|s)<0?(C+=O*(h-1),h=P(-h/z)):h=P(h/z),O*=z),typeof r=="number"&&((z=0|r)<0?(C+=A*(_-1),_=P(-_/z)):_=P(_/z),A*=z),typeof g=="number"&&((z=0|g)<0?(C+=I*(w-1),w=P(-w/z)):w=P(w/z),I*=z),typeof e=="number"&&((z=0|e)<0?(C+=B*(S-1),S=P(-S/z)):S=P(S/z),B*=z),new n(this.data,h,_,w,S,O,A,I,B,C)},o.transpose=function(s,r,g,e){s=s===void 0?0:0|s,r=r===void 0?1:0|r,g=g===void 0?2:0|g,e=e===void 0?3:0|e;var h=this.shape,_=this.stride;return new n(this.data,h[s],h[r],h[g],h[e],_[s],_[r],_[g],_[e],this.offset)},o.pick=function(s,r,g,e){var h=[],_=[],w=this.offset;return typeof s=="number"&&s>=0?w=w+this.stride[0]*s|0:(h.push(this.shape[0]),_.push(this.stride[0])),typeof r=="number"&&r>=0?w=w+this.stride[1]*r|0:(h.push(this.shape[1]),_.push(this.stride[1])),typeof g=="number"&&g>=0?w=w+this.stride[2]*g|0:(h.push(this.shape[2]),_.push(this.stride[2])),typeof e=="number"&&e>=0?w=w+this.stride[3]*e|0:(h.push(this.shape[3]),_.push(this.stride[3])),(0,x[h.length+1])(this.data,h,_,w)},function(s,r,g,e){return new n(s,r[0],r[1],r[2],r[3],g[0],g[1],g[2],g[3],e)}},5:function(c,x,f){function n(s,r,g,e,h,_,w,S,O,A,I,B){this.data=s,this.shape=[r,g,e,h,_],this.stride=[w,S,O,A,I],this.offset=0|B}var o=n.prototype;return o.dtype=c,o.dimension=5,Object.defineProperty(o,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(o,"order",{get:f}),o.set=function(s,r,g,e,h,_){return c==="generic"?this.data.set(this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g+this.stride[3]*e+this.stride[4]*h,_):this.data[this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g+this.stride[3]*e+this.stride[4]*h]=_},o.get=function(s,r,g,e,h){return c==="generic"?this.data.get(this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g+this.stride[3]*e+this.stride[4]*h):this.data[this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g+this.stride[3]*e+this.stride[4]*h]},o.index=function(s,r,g,e,h){return this.offset+this.stride[0]*s+this.stride[1]*r+this.stride[2]*g+this.stride[3]*e+this.stride[4]*h},o.hi=function(s,r,g,e,h){return new n(this.data,typeof s!="number"||s<0?this.shape[0]:0|s,typeof r!="number"||r<0?this.shape[1]:0|r,typeof g!="number"||g<0?this.shape[2]:0|g,typeof e!="number"||e<0?this.shape[3]:0|e,typeof h!="number"||h<0?this.shape[4]:0|h,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},o.lo=function(s,r,g,e,h){var _=this.offset,w=0,S=this.shape[0],O=this.shape[1],A=this.shape[2],I=this.shape[3],B=this.shape[4],C=this.stride[0],z=this.stride[1],P=this.stride[2],R=this.stride[3],N=this.stride[4];return typeof s=="number"&&s>=0&&(_+=C*(w=0|s),S-=w),typeof r=="number"&&r>=0&&(_+=z*(w=0|r),O-=w),typeof g=="number"&&g>=0&&(_+=P*(w=0|g),A-=w),typeof e=="number"&&e>=0&&(_+=R*(w=0|e),I-=w),typeof h=="number"&&h>=0&&(_+=N*(w=0|h),B-=w),new n(this.data,S,O,A,I,B,C,z,P,R,N,_)},o.step=function(s,r,g,e,h){var _=this.shape[0],w=this.shape[1],S=this.shape[2],O=this.shape[3],A=this.shape[4],I=this.stride[0],B=this.stride[1],C=this.stride[2],z=this.stride[3],P=this.stride[4],R=this.offset,N=0,j=Math.ceil;return typeof s=="number"&&((N=0|s)<0?(R+=I*(_-1),_=j(-_/N)):_=j(_/N),I*=N),typeof r=="number"&&((N=0|r)<0?(R+=B*(w-1),w=j(-w/N)):w=j(w/N),B*=N),typeof g=="number"&&((N=0|g)<0?(R+=C*(S-1),S=j(-S/N)):S=j(S/N),C*=N),typeof e=="number"&&((N=0|e)<0?(R+=z*(O-1),O=j(-O/N)):O=j(O/N),z*=N),typeof h=="number"&&((N=0|h)<0?(R+=P*(A-1),A=j(-A/N)):A=j(A/N),P*=N),new n(this.data,_,w,S,O,A,I,B,C,z,P,R)},o.transpose=function(s,r,g,e,h){s=s===void 0?0:0|s,r=r===void 0?1:0|r,g=g===void 0?2:0|g,e=e===void 0?3:0|e,h=h===void 0?4:0|h;var _=this.shape,w=this.stride;return new n(this.data,_[s],_[r],_[g],_[e],_[h],w[s],w[r],w[g],w[e],w[h],this.offset)},o.pick=function(s,r,g,e,h){var _=[],w=[],S=this.offset;return typeof s=="number"&&s>=0?S=S+this.stride[0]*s|0:(_.push(this.shape[0]),w.push(this.stride[0])),typeof r=="number"&&r>=0?S=S+this.stride[1]*r|0:(_.push(this.shape[1]),w.push(this.stride[1])),typeof g=="number"&&g>=0?S=S+this.stride[2]*g|0:(_.push(this.shape[2]),w.push(this.stride[2])),typeof e=="number"&&e>=0?S=S+this.stride[3]*e|0:(_.push(this.shape[3]),w.push(this.stride[3])),typeof h=="number"&&h>=0?S=S+this.stride[4]*h|0:(_.push(this.shape[4]),w.push(this.stride[4])),(0,x[_.length+1])(this.data,_,w,S)},function(s,r,g,e){return new n(s,r[0],r[1],r[2],r[3],r[4],g[0],g[1],g[2],g[3],g[4],e)}}};function y(c,x){var f=x===-1?"T":String(x),n=v[f];return x===-1?n(c):x===0?n(c,p[c][0]):n(c,p[c],d)}var p={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};b.exports=function(c,x,f,n){if(c===void 0)return(0,p.array[0])([]);typeof c=="number"&&(c=[c]),x===void 0&&(x=[c.length]);var o=x.length;if(f===void 0){f=new Array(o);for(var s=o-1,r=1;s>=0;--s)f[s]=r,r*=x[s]}if(n===void 0)for(n=0,s=0;s<o;++s)f[s]<0&&(n-=(x[s]-1)*f[s]);for(var g=function(h){if(u(h))return"buffer";if(i)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}(c),e=p[g];e.length<=o+1;)e.push(y(g,e.length-1));return(0,e[o+1])(c,x,f,n)}},1278:function(b,a,t){var u=t(2361),i=Math.pow(2,-1074),l=-1>>>0;b.exports=function(d,v){if(isNaN(d)||isNaN(v))return NaN;if(d===v)return d;if(d===0)return v<0?-i:i;var y=u.hi(d),p=u.lo(d);return v>d==d>0?p===l?(y+=1,p=0):p+=1:p===0?(p=l,y-=1):p-=1,u.pack(p,y)}},8406:function(b,a){a.vertexNormals=function(t,u,i){for(var l=u.length,d=new Array(l),v=i===void 0?1e-6:i,y=0;y<l;++y)d[y]=[0,0,0];for(y=0;y<t.length;++y)for(var p=t[y],c=0,x=p[p.length-1],f=p[0],n=0;n<p.length;++n){c=x,x=f,f=p[(n+1)%p.length];for(var o=u[c],s=u[x],r=u[f],g=new Array(3),e=0,h=new Array(3),_=0,w=0;w<3;++w)g[w]=o[w]-s[w],e+=g[w]*g[w],h[w]=r[w]-s[w],_+=h[w]*h[w];if(e*_>v){var S=d[x],O=1/Math.sqrt(e*_);for(w=0;w<3;++w){var A=(w+1)%3,I=(w+2)%3;S[w]+=O*(h[A]*g[I]-h[I]*g[A])}}}for(y=0;y<l;++y){S=d[y];var B=0;for(w=0;w<3;++w)B+=S[w]*S[w];if(B>v)for(O=1/Math.sqrt(B),w=0;w<3;++w)S[w]*=O;else for(w=0;w<3;++w)S[w]=0}return d},a.faceNormals=function(t,u,i){for(var l=t.length,d=new Array(l),v=i===void 0?1e-6:i,y=0;y<l;++y){for(var p=t[y],c=new Array(3),x=0;x<3;++x)c[x]=u[p[x]];var f=new Array(3),n=new Array(3);for(x=0;x<3;++x)f[x]=c[1][x]-c[0][x],n[x]=c[2][x]-c[0][x];var o=new Array(3),s=0;for(x=0;x<3;++x){var r=(x+1)%3,g=(x+2)%3;o[x]=f[r]*n[g]-f[g]*n[r],s+=o[x]*o[x]}for(s=s>v?1/Math.sqrt(s):0,x=0;x<3;++x)o[x]*=s;d[y]=o}return d}},4081:function(b){b.exports=function(a,t,u,i,l,d,v,y,p,c){var x=t+d+c;if(f>0){var f=Math.sqrt(x+1);a[0]=.5*(v-p)/f,a[1]=.5*(y-i)/f,a[2]=.5*(u-d)/f,a[3]=.5*f}else{var n=Math.max(t,d,c);f=Math.sqrt(2*n-x+1),t>=n?(a[0]=.5*f,a[1]=.5*(l+u)/f,a[2]=.5*(y+i)/f,a[3]=.5*(v-p)/f):d>=n?(a[0]=.5*(u+l)/f,a[1]=.5*f,a[2]=.5*(p+v)/f,a[3]=.5*(y-i)/f):(a[0]=.5*(i+y)/f,a[1]=.5*(v+p)/f,a[2]=.5*f,a[3]=.5*(u-l)/f)}return a}},9977:function(b,a,t){b.exports=function(n){var o=(n=n||{}).center||[0,0,0],s=n.rotation||[0,0,0,1],r=n.radius||1;o=[].slice.call(o,0,3),c(s=[].slice.call(s,0,4),s);var g=new x(s,o,Math.log(r));return g.setDistanceLimits(n.zoomMin,n.zoomMax),("eye"in n||"up"in n)&&g.lookAt(0,n.eye,n.center,n.up),g};var u=t(9215),i=t(6582),l=t(7399),d=t(7608),v=t(4081);function y(n,o,s){return Math.sqrt(Math.pow(n,2)+Math.pow(o,2)+Math.pow(s,2))}function p(n,o,s,r){return Math.sqrt(Math.pow(n,2)+Math.pow(o,2)+Math.pow(s,2)+Math.pow(r,2))}function c(n,o){var s=o[0],r=o[1],g=o[2],e=o[3],h=p(s,r,g,e);h>1e-6?(n[0]=s/h,n[1]=r/h,n[2]=g/h,n[3]=e/h):(n[0]=n[1]=n[2]=0,n[3]=1)}function x(n,o,s){this.radius=u([s]),this.center=u(o),this.rotation=u(n),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var f=x.prototype;f.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},f.recalcMatrix=function(n){this.radius.curve(n),this.center.curve(n),this.rotation.curve(n);var o=this.computedRotation;c(o,o);var s=this.computedMatrix;l(s,o);var r=this.computedCenter,g=this.computedEye,e=this.computedUp,h=Math.exp(this.computedRadius[0]);g[0]=r[0]+h*s[2],g[1]=r[1]+h*s[6],g[2]=r[2]+h*s[10],e[0]=s[1],e[1]=s[5],e[2]=s[9];for(var _=0;_<3;++_){for(var w=0,S=0;S<3;++S)w+=s[_+4*S]*g[S];s[12+_]=-w}},f.getMatrix=function(n,o){this.recalcMatrix(n);var s=this.computedMatrix;if(o){for(var r=0;r<16;++r)o[r]=s[r];return o}return s},f.idle=function(n){this.center.idle(n),this.radius.idle(n),this.rotation.idle(n)},f.flush=function(n){this.center.flush(n),this.radius.flush(n),this.rotation.flush(n)},f.pan=function(n,o,s,r){o=o||0,s=s||0,r=r||0,this.recalcMatrix(n);var g=this.computedMatrix,e=g[1],h=g[5],_=g[9],w=y(e,h,_);e/=w,h/=w,_/=w;var S=g[0],O=g[4],A=g[8],I=S*e+O*h+A*_,B=y(S-=e*I,O-=h*I,A-=_*I);S/=B,O/=B,A/=B,g[2],g[6],g[10];var C=S*o+e*s,z=O*o+h*s,P=A*o+_*s;this.center.move(n,C,z,P);var R=Math.exp(this.computedRadius[0]);R=Math.max(1e-4,R+r),this.radius.set(n,Math.log(R))},f.rotate=function(n,o,s,r){this.recalcMatrix(n),o=o||0,s=s||0;var g=this.computedMatrix,e=g[0],h=g[4],_=g[8],w=g[1],S=g[5],O=g[9],A=g[2],I=g[6],B=g[10],C=o*e+s*w,z=o*h+s*S,P=o*_+s*O,R=-(I*P-B*z),N=-(B*C-A*P),j=-(A*z-I*C),W=Math.sqrt(Math.max(0,1-Math.pow(R,2)-Math.pow(N,2)-Math.pow(j,2))),Y=p(R,N,j,W);Y>1e-6?(R/=Y,N/=Y,j/=Y,W/=Y):(R=N=j=0,W=1);var J=this.computedRotation,G=J[0],H=J[1],U=J[2],Z=J[3],q=G*W+Z*R+H*j-U*N,Q=H*W+Z*N+U*R-G*j,ne=U*W+Z*j+G*N-H*R,ie=Z*W-G*R-H*N-U*j;if(r){R=A,N=I,j=B;var le=Math.sin(r)/y(R,N,j);R*=le,N*=le,j*=le,ie=ie*(W=Math.cos(o))-(q=q*W+ie*R+Q*j-ne*N)*R-(Q=Q*W+ie*N+ne*R-q*j)*N-(ne=ne*W+ie*j+q*N-Q*R)*j}var fe=p(q,Q,ne,ie);fe>1e-6?(q/=fe,Q/=fe,ne/=fe,ie/=fe):(q=Q=ne=0,ie=1),this.rotation.set(n,q,Q,ne,ie)},f.lookAt=function(n,o,s,r){this.recalcMatrix(n),s=s||this.computedCenter,o=o||this.computedEye,r=r||this.computedUp;var g=this.computedMatrix;i(g,o,s,r);var e=this.computedRotation;v(e,g[0],g[1],g[2],g[4],g[5],g[6],g[8],g[9],g[10]),c(e,e),this.rotation.set(n,e[0],e[1],e[2],e[3]);for(var h=0,_=0;_<3;++_)h+=Math.pow(s[_]-o[_],2);this.radius.set(n,.5*Math.log(Math.max(h,1e-6))),this.center.set(n,s[0],s[1],s[2])},f.translate=function(n,o,s,r){this.center.move(n,o||0,s||0,r||0)},f.setMatrix=function(n,o){var s=this.computedRotation;v(s,o[0],o[1],o[2],o[4],o[5],o[6],o[8],o[9],o[10]),c(s,s),this.rotation.set(n,s[0],s[1],s[2],s[3]);var r=this.computedMatrix;d(r,o);var g=r[15];if(Math.abs(g)>1e-6){var e=r[12]/g,h=r[13]/g,_=r[14]/g;this.recalcMatrix(n);var w=Math.exp(this.computedRadius[0]);this.center.set(n,e-r[2]*w,h-r[6]*w,_-r[10]*w),this.radius.idle(n)}else this.center.idle(n),this.radius.idle(n)},f.setDistance=function(n,o){o>0&&this.radius.set(n,Math.log(o))},f.setDistanceLimits=function(n,o){n=n>0?Math.log(n):-1/0,o=o>0?Math.log(o):1/0,o=Math.max(o,n),this.radius.bounds[0][0]=n,this.radius.bounds[1][0]=o},f.getDistanceLimits=function(n){var o=this.radius.bounds;return n?(n[0]=Math.exp(o[0][0]),n[1]=Math.exp(o[1][0]),n):[Math.exp(o[0][0]),Math.exp(o[1][0])]},f.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},f.fromJSON=function(n){var o=this.lastT(),s=n.center;s&&this.center.set(o,s[0],s[1],s[2]);var r=n.rotation;r&&this.rotation.set(o,r[0],r[1],r[2],r[3]);var g=n.distance;g&&g>0&&this.radius.set(o,Math.log(g)),this.setDistanceLimits(n.zoomMin,n.zoomMax)}},1371:function(b,a,t){var u=t(3233);b.exports=function(i,l,d){return u(d=d!==void 0?d+"":" ",l)+i}},3202:function(b){b.exports=function(a,t){t||(t=[0,""]),a=String(a);var u=parseFloat(a,10);return t[0]=u,t[1]=a.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(b,a,t){b.exports=function(i,l){for(var d=0|l.length,v=i.length,y=[new Array(d),new Array(d)],p=0;p<d;++p)y[0][p]=[],y[1][p]=[];for(p=0;p<v;++p){var c=i[p];y[0][c[0]].push(c),y[1][c[1]].push(c)}var x=[];for(p=0;p<d;++p)y[0][p].length+y[1][p].length===0&&x.push([p]);function f(h,_){var w=y[_][h[_]];w.splice(w.indexOf(h),1)}function n(h,_,w){for(var S,O,A,I=0;I<2;++I)if(y[I][_].length>0){S=y[I][_][0],A=I;break}O=S[1^A];for(var B=0;B<2;++B)for(var C=y[B][_],z=0;z<C.length;++z){var P=C[z],R=P[1^B];u(l[h],l[_],l[O],l[R])>0&&(S=P,O=R,A=B)}return w||S&&f(S,A),O}function o(h,_){var w=y[_][h][0],S=[h];f(w,_);for(var O=w[1^_];;){for(;O!==h;)S.push(O),O=n(S[S.length-2],O,!1);if(y[0][h].length+y[1][h].length===0)break;var A=S[S.length-1],I=h,B=S[1],C=n(A,I,!0);if(u(l[A],l[I],l[B],l[C])<0)break;S.push(h),O=n(A,I)}return S}function s(h,_){return _[1]===_[_.length-1]}for(p=0;p<d;++p)for(var r=0;r<2;++r){for(var g=[];y[r][p].length>0;){y[0][p].length;var e=o(p,r);s(0,e)?g.push.apply(g,e):(g.length>0&&x.push(g),g=e)}g.length>0&&x.push(g)}return x};var u=t(3140)},5609:function(b,a,t){b.exports=function(i,l){for(var d=u(i,l.length),v=new Array(l.length),y=new Array(l.length),p=[],c=0;c<l.length;++c){var x=d[c].length;y[c]=x,v[c]=!0,x<=1&&p.push(c)}for(;p.length>0;){v[r=p.pop()]=!1;var f=d[r];for(c=0;c<f.length;++c){var n=f[c];--y[n]==0&&p.push(n)}}var o=new Array(l.length),s=[];for(c=0;c<l.length;++c)if(v[c]){var r=s.length;o[c]=r,s.push(l[c])}else o[c]=-1;var g=[];for(c=0;c<i.length;++c){var e=i[c];v[e[0]]&&v[e[1]]&&g.push([o[e[0]],o[e[1]]])}return[g,s]};var u=t(3134)},2095:function(b,a,t){b.exports=function(x,f){var n=p(x,f);x=n[0];for(var o=(f=n[1]).length,s=(x.length,u(x,f.length)),r=0;r<o;++r)if(s[r].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var g=i(x,f),e=(g=g.filter(function(ke){for(var ve=ke.length,he=[0],de=0;de<ve;++de){var X=f[ke[de]],ae=f[ke[(de+1)%ve]],K=d(-X[0],X[1]),ge=d(-X[0],ae[1]),re=d(ae[0],X[1]),ue=d(ae[0],ae[1]);he=v(he,v(v(K,ge),v(re,ue)))}return he[he.length-1]>0})).length,h=new Array(e),_=new Array(e);for(r=0;r<e;++r){h[r]=r;var w=new Array(e),S=g[r].map(function(ke){return f[ke]}),O=l([S]),A=0;e:for(var I=0;I<e;++I)if(w[I]=0,r!==I){for(var B=(pe=g[I]).length,C=0;C<B;++C){var z=O(f[pe[C]]);if(z!==0){z<0&&(w[I]=1,A+=1);continue e}}w[I]=1,A+=1}_[r]=[A,r,w]}for(_.sort(function(ke,ve){return ve[0]-ke[0]}),r=0;r<e;++r){var P=(w=_[r])[1],R=w[2];for(I=0;I<e;++I)R[I]&&(h[I]=P)}var N=function(ke){for(var ve=new Array(ke),he=0;he<ke;++he)ve[he]=[];return ve}(e);for(r=0;r<e;++r)N[r].push(h[r]),N[h[r]].push(r);var j={},W=c(o,!1);for(r=0;r<e;++r)for(B=(pe=g[r]).length,I=0;I<B;++I){var Y=pe[I],J=pe[(I+1)%B],G=Math.min(Y,J)+":"+Math.max(Y,J);if(G in j){var H=j[G];N[H].push(r),N[r].push(H),W[Y]=W[J]=!0}else j[G]=r}function U(ke){for(var ve=ke.length,he=0;he<ve;++he)if(!W[ke[he]])return!1;return!0}var Z=[],q=c(e,-1);for(r=0;r<e;++r)h[r]!==r||U(g[r])?q[r]=-1:(Z.push(r),q[r]=0);for(n=[];Z.length>0;){var Q=Z.pop(),ne=N[Q];y(ne,function(ke,ve){return ke-ve});var ie,le=ne.length,fe=q[Q];for(fe===0&&(ie=[pe=g[Q]]),r=0;r<le;++r){var pe,me=ne[r];q[me]>=0||(q[me]=1^fe,Z.push(me),fe===0&&(U(pe=g[me])||(pe.reverse(),ie.push(pe))))}fe===0&&n.push(ie)}return n};var u=t(3134),i=t(3088),l=t(5085),d=t(5250),v=t(8210),y=t(1682),p=t(5609);function c(x,f){for(var n=new Array(x),o=0;o<x;++o)n[o]=f;return n}},5085:function(b,a,t){b.exports=function(c){for(var x=c.length,f=[],n=[],o=0;o<x;++o)for(var s=c[o],r=s.length,g=r-1,e=0;e<r;g=e++){var h=s[g],_=s[e];h[0]===_[0]?n.push([h,_]):f.push([h,_])}if(f.length===0)return n.length===0?p:(w=y(n),function(A){return w(A[0],A[1])?0:1});var w,S=i(f),O=function(A,I){return function(B){var C=d.le(I,B[0]);if(C<0)return 1;var z=A[C];if(!z){if(!(C>0&&I[C]===B[0]))return 1;z=A[C-1]}for(var P=1;z;){var R=z.key,N=u(B,R[0],R[1]);if(R[0][0]<R[1][0])if(N<0)z=z.left;else{if(!(N>0))return 0;P=-1,z=z.right}else if(N>0)z=z.left;else{if(!(N<0))return 0;P=1,z=z.right}}return P}}(S.slabs,S.coordinates);return n.length===0?O:function(A,I){return function(B){return A(B[0],B[1])?0:I(B)}}(y(n),O)};var u=t(3250)[3],i=t(4209),l=t(3352),d=t(2478);function v(){return!0}function y(c){for(var x={},f=0;f<c.length;++f){var n=c[f],o=n[0][0],s=n[0][1],r=n[1][1],g=[Math.min(s,r),Math.max(s,r)];o in x?x[o].push(g):x[o]=[g]}var e={},h=Object.keys(x);for(f=0;f<h.length;++f){var _=x[h[f]];e[h[f]]=l(_)}return function(w){return function(S,O){var A=w[S];return!!A&&!!A.queryPoint(O,v)}}(e)}function p(c){return 1}},9346:function(b){var a=new Float64Array(4),t=new Float64Array(4),u=new Float64Array(4);b.exports=function(i,l,d,v,y){a.length<v.length&&(a=new Float64Array(v.length),t=new Float64Array(v.length),u=new Float64Array(v.length));for(var p=0;p<v.length;++p)a[p]=i[p]-v[p],t[p]=l[p]-i[p],u[p]=d[p]-i[p];var c=0,x=0,f=0,n=0,o=0,s=0;for(p=0;p<v.length;++p){var r=t[p],g=u[p],e=a[p];c+=r*r,x+=r*g,f+=g*g,n+=e*r,o+=e*g,s+=e*e}var h,_,w,S,O,A=Math.abs(c*f-x*x),I=x*o-f*n,B=x*n-c*o;if(I+B<=A)if(I<0)B<0&&n<0?(B=0,-n>=c?(I=1,h=c+2*n+s):h=n*(I=-n/c)+s):(I=0,o>=0?(B=0,h=s):-o>=f?(B=1,h=f+2*o+s):h=o*(B=-o/f)+s);else if(B<0)B=0,n>=0?(I=0,h=s):-n>=c?(I=1,h=c+2*n+s):h=n*(I=-n/c)+s;else{var C=1/A;h=(I*=C)*(c*I+x*(B*=C)+2*n)+B*(x*I+f*B+2*o)+s}else I<0?(w=f+o)>(_=x+n)?(S=w-_)>=(O=c-2*x+f)?(I=1,B=0,h=c+2*n+s):h=(I=S/O)*(c*I+x*(B=1-I)+2*n)+B*(x*I+f*B+2*o)+s:(I=0,w<=0?(B=1,h=f+2*o+s):o>=0?(B=0,h=s):h=o*(B=-o/f)+s):B<0?(w=c+n)>(_=x+o)?(S=w-_)>=(O=c-2*x+f)?(B=1,I=0,h=f+2*o+s):h=(I=1-(B=S/O))*(c*I+x*B+2*n)+B*(x*I+f*B+2*o)+s:(B=0,w<=0?(I=1,h=c+2*n+s):n>=0?(I=0,h=s):h=n*(I=-n/c)+s):(S=f+o-x-n)<=0?(I=0,B=1,h=f+2*o+s):S>=(O=c-2*x+f)?(I=1,B=0,h=c+2*n+s):h=(I=S/O)*(c*I+x*(B=1-I)+2*n)+B*(x*I+f*B+2*o)+s;var z=1-I-B;for(p=0;p<v.length;++p)y[p]=z*i[p]+I*l[p]+B*d[p];return h<0?0:h}},8648:function(b,a,t){b.exports=t(783)},2653:function(b,a,t){var u=t(3865);b.exports=function(i,l){for(var d=i.length,v=new Array(d),y=0;y<d;++y)v[y]=u(i[y],l[y]);return v}},5838:function(b,a,t){b.exports=function(i){for(var l=new Array(i.length),d=0;d<i.length;++d)l[d]=u(i[d]);return l};var u=t(7842)},8987:function(b,a,t){var u=t(7842),i=t(6504);b.exports=function(l,d){for(var v=u(d),y=l.length,p=new Array(y),c=0;c<y;++c)p[c]=i(l[c],v);return p}},544:function(b,a,t){var u=t(5572);b.exports=function(i,l){for(var d=i.length,v=new Array(d),y=0;y<d;++y)v[y]=u(i[y],l[y]);return v}},5771:function(b,a,t){var u=t(8507),i=t(3788),l=t(2419);b.exports=function(d){d.sort(i);for(var v=d.length,y=0,p=0;p<v;++p){var c=d[p],x=l(c);if(x!==0){if(y>0){var f=d[y-1];if(u(c,f)===0&&l(f)!==x){y-=1;continue}}d[y++]=c}}return d.length=y,d}},3233:function(b){var a,t="";b.exports=function(u,i){if(typeof u!="string")throw new TypeError("expected a string");if(i===1)return u;if(i===2)return u+u;var l=u.length*i;if(a!==u||a===void 0)a=u,t="";else if(t.length>=l)return t.substr(0,l);for(;l>t.length&&i>1;)1&i&&(t+=u),i>>=1,u+=u;return t=(t+=u).substr(0,l)}},3025:function(b,a,t){b.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(b){b.exports=function(a){for(var t=a.length,u=a[a.length-1],i=t,l=t-2;l>=0;--l){var d=u;(p=(y=a[l])-((u=d+y)-d))&&(a[--i]=u,u=p)}var v=0;for(l=i;l<t;++l){var y,p;(p=(y=u)-((u=(d=a[l])+y)-d))&&(a[v++]=p)}return a[v++]=u,a.length=v,a}},2962:function(b,a,t){var u=t(5250),i=t(8210),l=t(3012),d=t(7004);function v(o,s,r,g){return function(e){return g(o(r(e[0][0],e[1][1]),r(-e[0][1],e[1][0])))}}function y(o,s,r,g){return function(e){return g(o(s(o(r(e[1][1],e[2][2]),r(-e[1][2],e[2][1])),e[0][0]),o(s(o(r(e[1][0],e[2][2]),r(-e[1][2],e[2][0])),-e[0][1]),s(o(r(e[1][0],e[2][1]),r(-e[1][1],e[2][0])),e[0][2]))))}}function p(o,s,r,g){return function(e){return g(o(o(s(o(s(o(r(e[2][2],e[3][3]),r(-e[2][3],e[3][2])),e[1][1]),o(s(o(r(e[2][1],e[3][3]),r(-e[2][3],e[3][1])),-e[1][2]),s(o(r(e[2][1],e[3][2]),r(-e[2][2],e[3][1])),e[1][3]))),e[0][0]),s(o(s(o(r(e[2][2],e[3][3]),r(-e[2][3],e[3][2])),e[1][0]),o(s(o(r(e[2][0],e[3][3]),r(-e[2][3],e[3][0])),-e[1][2]),s(o(r(e[2][0],e[3][2]),r(-e[2][2],e[3][0])),e[1][3]))),-e[0][1])),o(s(o(s(o(r(e[2][1],e[3][3]),r(-e[2][3],e[3][1])),e[1][0]),o(s(o(r(e[2][0],e[3][3]),r(-e[2][3],e[3][0])),-e[1][1]),s(o(r(e[2][0],e[3][1]),r(-e[2][1],e[3][0])),e[1][3]))),e[0][2]),s(o(s(o(r(e[2][1],e[3][2]),r(-e[2][2],e[3][1])),e[1][0]),o(s(o(r(e[2][0],e[3][2]),r(-e[2][2],e[3][0])),-e[1][1]),s(o(r(e[2][0],e[3][1]),r(-e[2][1],e[3][0])),e[1][2]))),-e[0][3]))))}}function c(o,s,r,g){return function(e){return g(o(o(s(o(o(s(o(s(o(r(e[3][3],e[4][4]),r(-e[3][4],e[4][3])),e[2][2]),o(s(o(r(e[3][2],e[4][4]),r(-e[3][4],e[4][2])),-e[2][3]),s(o(r(e[3][2],e[4][3]),r(-e[3][3],e[4][2])),e[2][4]))),e[1][1]),s(o(s(o(r(e[3][3],e[4][4]),r(-e[3][4],e[4][3])),e[2][1]),o(s(o(r(e[3][1],e[4][4]),r(-e[3][4],e[4][1])),-e[2][3]),s(o(r(e[3][1],e[4][3]),r(-e[3][3],e[4][1])),e[2][4]))),-e[1][2])),o(s(o(s(o(r(e[3][2],e[4][4]),r(-e[3][4],e[4][2])),e[2][1]),o(s(o(r(e[3][1],e[4][4]),r(-e[3][4],e[4][1])),-e[2][2]),s(o(r(e[3][1],e[4][2]),r(-e[3][2],e[4][1])),e[2][4]))),e[1][3]),s(o(s(o(r(e[3][2],e[4][3]),r(-e[3][3],e[4][2])),e[2][1]),o(s(o(r(e[3][1],e[4][3]),r(-e[3][3],e[4][1])),-e[2][2]),s(o(r(e[3][1],e[4][2]),r(-e[3][2],e[4][1])),e[2][3]))),-e[1][4]))),e[0][0]),s(o(o(s(o(s(o(r(e[3][3],e[4][4]),r(-e[3][4],e[4][3])),e[2][2]),o(s(o(r(e[3][2],e[4][4]),r(-e[3][4],e[4][2])),-e[2][3]),s(o(r(e[3][2],e[4][3]),r(-e[3][3],e[4][2])),e[2][4]))),e[1][0]),s(o(s(o(r(e[3][3],e[4][4]),r(-e[3][4],e[4][3])),e[2][0]),o(s(o(r(e[3][0],e[4][4]),r(-e[3][4],e[4][0])),-e[2][3]),s(o(r(e[3][0],e[4][3]),r(-e[3][3],e[4][0])),e[2][4]))),-e[1][2])),o(s(o(s(o(r(e[3][2],e[4][4]),r(-e[3][4],e[4][2])),e[2][0]),o(s(o(r(e[3][0],e[4][4]),r(-e[3][4],e[4][0])),-e[2][2]),s(o(r(e[3][0],e[4][2]),r(-e[3][2],e[4][0])),e[2][4]))),e[1][3]),s(o(s(o(r(e[3][2],e[4][3]),r(-e[3][3],e[4][2])),e[2][0]),o(s(o(r(e[3][0],e[4][3]),r(-e[3][3],e[4][0])),-e[2][2]),s(o(r(e[3][0],e[4][2]),r(-e[3][2],e[4][0])),e[2][3]))),-e[1][4]))),-e[0][1])),o(s(o(o(s(o(s(o(r(e[3][3],e[4][4]),r(-e[3][4],e[4][3])),e[2][1]),o(s(o(r(e[3][1],e[4][4]),r(-e[3][4],e[4][1])),-e[2][3]),s(o(r(e[3][1],e[4][3]),r(-e[3][3],e[4][1])),e[2][4]))),e[1][0]),s(o(s(o(r(e[3][3],e[4][4]),r(-e[3][4],e[4][3])),e[2][0]),o(s(o(r(e[3][0],e[4][4]),r(-e[3][4],e[4][0])),-e[2][3]),s(o(r(e[3][0],e[4][3]),r(-e[3][3],e[4][0])),e[2][4]))),-e[1][1])),o(s(o(s(o(r(e[3][1],e[4][4]),r(-e[3][4],e[4][1])),e[2][0]),o(s(o(r(e[3][0],e[4][4]),r(-e[3][4],e[4][0])),-e[2][1]),s(o(r(e[3][0],e[4][1]),r(-e[3][1],e[4][0])),e[2][4]))),e[1][3]),s(o(s(o(r(e[3][1],e[4][3]),r(-e[3][3],e[4][1])),e[2][0]),o(s(o(r(e[3][0],e[4][3]),r(-e[3][3],e[4][0])),-e[2][1]),s(o(r(e[3][0],e[4][1]),r(-e[3][1],e[4][0])),e[2][3]))),-e[1][4]))),e[0][2]),o(s(o(o(s(o(s(o(r(e[3][2],e[4][4]),r(-e[3][4],e[4][2])),e[2][1]),o(s(o(r(e[3][1],e[4][4]),r(-e[3][4],e[4][1])),-e[2][2]),s(o(r(e[3][1],e[4][2]),r(-e[3][2],e[4][1])),e[2][4]))),e[1][0]),s(o(s(o(r(e[3][2],e[4][4]),r(-e[3][4],e[4][2])),e[2][0]),o(s(o(r(e[3][0],e[4][4]),r(-e[3][4],e[4][0])),-e[2][2]),s(o(r(e[3][0],e[4][2]),r(-e[3][2],e[4][0])),e[2][4]))),-e[1][1])),o(s(o(s(o(r(e[3][1],e[4][4]),r(-e[3][4],e[4][1])),e[2][0]),o(s(o(r(e[3][0],e[4][4]),r(-e[3][4],e[4][0])),-e[2][1]),s(o(r(e[3][0],e[4][1]),r(-e[3][1],e[4][0])),e[2][4]))),e[1][2]),s(o(s(o(r(e[3][1],e[4][2]),r(-e[3][2],e[4][1])),e[2][0]),o(s(o(r(e[3][0],e[4][2]),r(-e[3][2],e[4][0])),-e[2][1]),s(o(r(e[3][0],e[4][1]),r(-e[3][1],e[4][0])),e[2][2]))),-e[1][4]))),-e[0][3]),s(o(o(s(o(s(o(r(e[3][2],e[4][3]),r(-e[3][3],e[4][2])),e[2][1]),o(s(o(r(e[3][1],e[4][3]),r(-e[3][3],e[4][1])),-e[2][2]),s(o(r(e[3][1],e[4][2]),r(-e[3][2],e[4][1])),e[2][3]))),e[1][0]),s(o(s(o(r(e[3][2],e[4][3]),r(-e[3][3],e[4][2])),e[2][0]),o(s(o(r(e[3][0],e[4][3]),r(-e[3][3],e[4][0])),-e[2][2]),s(o(r(e[3][0],e[4][2]),r(-e[3][2],e[4][0])),e[2][3]))),-e[1][1])),o(s(o(s(o(r(e[3][1],e[4][3]),r(-e[3][3],e[4][1])),e[2][0]),o(s(o(r(e[3][0],e[4][3]),r(-e[3][3],e[4][0])),-e[2][1]),s(o(r(e[3][0],e[4][1]),r(-e[3][1],e[4][0])),e[2][3]))),e[1][2]),s(o(s(o(r(e[3][1],e[4][2]),r(-e[3][2],e[4][1])),e[2][0]),o(s(o(r(e[3][0],e[4][2]),r(-e[3][2],e[4][0])),-e[2][1]),s(o(r(e[3][0],e[4][1]),r(-e[3][1],e[4][0])),e[2][2]))),-e[1][3]))),e[0][4])))))}}function x(o){return(o===2?v:o===3?y:o===4?p:o===5?c:void 0)(i,l,u,d)}var f=[function(){return[0]},function(o){return[o[0][0]]}];function n(o,s,r,g,e,h,_,w){return function(S){switch(S.length){case 0:return o(S);case 1:return s(S);case 2:return r(S);case 3:return g(S);case 4:return e(S);case 5:return h(S)}var O=_[S.length];return O||(O=_[S.length]=w(S.length)),O(S)}}(function(){for(;f.length<6;)f.push(x(f.length));b.exports=n.apply(void 0,f.concat([f,x]));for(var o=0;o<f.length;++o)b.exports[o]=f[o]})()},1944:function(b,a,t){var u=t(5250),i=t(8210);b.exports=function(l,d){for(var v=u(l[0],d[0]),y=1;y<l.length;++y)v=i(v,u(l[y],d[y]));return v}},2646:function(b,a,t){var u=t(5250),i=t(8210),l=t(8545),d=t(3012);function v(s){return(s===3?y:s===4?p:s===5?c:x)(i,l,u,d)}function y(s,r,g,e){return function(h,_,w){var S=g(h[0],h[0]),O=e(S,_[0]),A=e(S,w[0]),I=g(_[0],_[0]),B=e(I,h[0]),C=e(I,w[0]),z=g(w[0],w[0]),P=e(z,h[0]),R=e(z,_[0]),N=s(r(R,C),r(B,O)),j=r(P,A),W=r(N,j);return W[W.length-1]}}function p(s,r,g,e){return function(h,_,w,S){var O=s(g(h[0],h[0]),g(h[1],h[1])),A=e(O,_[0]),I=e(O,w[0]),B=e(O,S[0]),C=s(g(_[0],_[0]),g(_[1],_[1])),z=e(C,h[0]),P=e(C,w[0]),R=e(C,S[0]),N=s(g(w[0],w[0]),g(w[1],w[1])),j=e(N,h[0]),W=e(N,_[0]),Y=e(N,S[0]),J=s(g(S[0],S[0]),g(S[1],S[1])),G=e(J,h[0]),H=e(J,_[0]),U=e(J,w[0]),Z=s(s(e(r(U,Y),_[1]),s(e(r(H,R),-w[1]),e(r(W,P),S[1]))),s(e(r(H,R),h[1]),s(e(r(G,B),-_[1]),e(r(z,A),S[1])))),q=s(s(e(r(U,Y),h[1]),s(e(r(G,B),-w[1]),e(r(j,I),S[1]))),s(e(r(W,P),h[1]),s(e(r(j,I),-_[1]),e(r(z,A),w[1])))),Q=r(Z,q);return Q[Q.length-1]}}function c(s,r,g,e){return function(h,_,w,S,O){var A=s(g(h[0],h[0]),s(g(h[1],h[1]),g(h[2],h[2]))),I=e(A,_[0]),B=e(A,w[0]),C=e(A,S[0]),z=e(A,O[0]),P=s(g(_[0],_[0]),s(g(_[1],_[1]),g(_[2],_[2]))),R=e(P,h[0]),N=e(P,w[0]),j=e(P,S[0]),W=e(P,O[0]),Y=s(g(w[0],w[0]),s(g(w[1],w[1]),g(w[2],w[2]))),J=e(Y,h[0]),G=e(Y,_[0]),H=e(Y,S[0]),U=e(Y,O[0]),Z=s(g(S[0],S[0]),s(g(S[1],S[1]),g(S[2],S[2]))),q=e(Z,h[0]),Q=e(Z,_[0]),ne=e(Z,w[0]),ie=e(Z,O[0]),le=s(g(O[0],O[0]),s(g(O[1],O[1]),g(O[2],O[2]))),fe=e(le,h[0]),pe=e(le,_[0]),me=e(le,w[0]),ke=e(le,S[0]),ve=s(s(s(e(s(e(r(ke,ie),w[1]),s(e(r(me,U),-S[1]),e(r(ne,H),O[1]))),_[2]),s(e(s(e(r(ke,ie),_[1]),s(e(r(pe,W),-S[1]),e(r(Q,j),O[1]))),-w[2]),e(s(e(r(me,U),_[1]),s(e(r(pe,W),-w[1]),e(r(G,N),O[1]))),S[2]))),s(e(s(e(r(ne,H),_[1]),s(e(r(Q,j),-w[1]),e(r(G,N),S[1]))),-O[2]),s(e(s(e(r(ke,ie),_[1]),s(e(r(pe,W),-S[1]),e(r(Q,j),O[1]))),h[2]),e(s(e(r(ke,ie),h[1]),s(e(r(fe,z),-S[1]),e(r(q,C),O[1]))),-_[2])))),s(s(e(s(e(r(pe,W),h[1]),s(e(r(fe,z),-_[1]),e(r(R,I),O[1]))),S[2]),s(e(s(e(r(Q,j),h[1]),s(e(r(q,C),-_[1]),e(r(R,I),S[1]))),-O[2]),e(s(e(r(ne,H),_[1]),s(e(r(Q,j),-w[1]),e(r(G,N),S[1]))),h[2]))),s(e(s(e(r(ne,H),h[1]),s(e(r(q,C),-w[1]),e(r(J,B),S[1]))),-_[2]),s(e(s(e(r(Q,j),h[1]),s(e(r(q,C),-_[1]),e(r(R,I),S[1]))),w[2]),e(s(e(r(G,N),h[1]),s(e(r(J,B),-_[1]),e(r(R,I),w[1]))),-S[2]))))),he=s(s(s(e(s(e(r(ke,ie),w[1]),s(e(r(me,U),-S[1]),e(r(ne,H),O[1]))),h[2]),e(s(e(r(ke,ie),h[1]),s(e(r(fe,z),-S[1]),e(r(q,C),O[1]))),-w[2])),s(e(s(e(r(me,U),h[1]),s(e(r(fe,z),-w[1]),e(r(J,B),O[1]))),S[2]),e(s(e(r(ne,H),h[1]),s(e(r(q,C),-w[1]),e(r(J,B),S[1]))),-O[2]))),s(s(e(s(e(r(me,U),_[1]),s(e(r(pe,W),-w[1]),e(r(G,N),O[1]))),h[2]),e(s(e(r(me,U),h[1]),s(e(r(fe,z),-w[1]),e(r(J,B),O[1]))),-_[2])),s(e(s(e(r(pe,W),h[1]),s(e(r(fe,z),-_[1]),e(r(R,I),O[1]))),w[2]),e(s(e(r(G,N),h[1]),s(e(r(J,B),-_[1]),e(r(R,I),w[1]))),-O[2])))),de=r(ve,he);return de[de.length-1]}}function x(s,r,g,e){return function(h,_,w,S,O,A){var I=s(s(g(h[0],h[0]),g(h[1],h[1])),s(g(h[2],h[2]),g(h[3],h[3]))),B=e(I,_[0]),C=e(I,w[0]),z=e(I,S[0]),P=e(I,O[0]),R=e(I,A[0]),N=s(s(g(_[0],_[0]),g(_[1],_[1])),s(g(_[2],_[2]),g(_[3],_[3]))),j=e(N,h[0]),W=e(N,w[0]),Y=e(N,S[0]),J=e(N,O[0]),G=e(N,A[0]),H=s(s(g(w[0],w[0]),g(w[1],w[1])),s(g(w[2],w[2]),g(w[3],w[3]))),U=e(H,h[0]),Z=e(H,_[0]),q=e(H,S[0]),Q=e(H,O[0]),ne=e(H,A[0]),ie=s(s(g(S[0],S[0]),g(S[1],S[1])),s(g(S[2],S[2]),g(S[3],S[3]))),le=e(ie,h[0]),fe=e(ie,_[0]),pe=e(ie,w[0]),me=e(ie,O[0]),ke=e(ie,A[0]),ve=s(s(g(O[0],O[0]),g(O[1],O[1])),s(g(O[2],O[2]),g(O[3],O[3]))),he=e(ve,h[0]),de=e(ve,_[0]),X=e(ve,w[0]),ae=e(ve,S[0]),K=e(ve,A[0]),ge=s(s(g(A[0],A[0]),g(A[1],A[1])),s(g(A[2],A[2]),g(A[3],A[3]))),re=e(ge,h[0]),ue=e(ge,_[0]),we=e(ge,w[0]),Te=e(ge,S[0]),ee=e(ge,O[0]),se=s(s(s(e(s(s(e(s(e(r(ee,K),S[1]),s(e(r(Te,ke),-O[1]),e(r(ae,me),A[1]))),w[2]),e(s(e(r(ee,K),w[1]),s(e(r(we,ne),-O[1]),e(r(X,Q),A[1]))),-S[2])),s(e(s(e(r(Te,ke),w[1]),s(e(r(we,ne),-S[1]),e(r(pe,q),A[1]))),O[2]),e(s(e(r(ae,me),w[1]),s(e(r(X,Q),-S[1]),e(r(pe,q),O[1]))),-A[2]))),_[3]),s(e(s(s(e(s(e(r(ee,K),S[1]),s(e(r(Te,ke),-O[1]),e(r(ae,me),A[1]))),_[2]),e(s(e(r(ee,K),_[1]),s(e(r(ue,G),-O[1]),e(r(de,J),A[1]))),-S[2])),s(e(s(e(r(Te,ke),_[1]),s(e(r(ue,G),-S[1]),e(r(fe,Y),A[1]))),O[2]),e(s(e(r(ae,me),_[1]),s(e(r(de,J),-S[1]),e(r(fe,Y),O[1]))),-A[2]))),-w[3]),e(s(s(e(s(e(r(ee,K),w[1]),s(e(r(we,ne),-O[1]),e(r(X,Q),A[1]))),_[2]),e(s(e(r(ee,K),_[1]),s(e(r(ue,G),-O[1]),e(r(de,J),A[1]))),-w[2])),s(e(s(e(r(we,ne),_[1]),s(e(r(ue,G),-w[1]),e(r(Z,W),A[1]))),O[2]),e(s(e(r(X,Q),_[1]),s(e(r(de,J),-w[1]),e(r(Z,W),O[1]))),-A[2]))),S[3]))),s(s(e(s(s(e(s(e(r(Te,ke),w[1]),s(e(r(we,ne),-S[1]),e(r(pe,q),A[1]))),_[2]),e(s(e(r(Te,ke),_[1]),s(e(r(ue,G),-S[1]),e(r(fe,Y),A[1]))),-w[2])),s(e(s(e(r(we,ne),_[1]),s(e(r(ue,G),-w[1]),e(r(Z,W),A[1]))),S[2]),e(s(e(r(pe,q),_[1]),s(e(r(fe,Y),-w[1]),e(r(Z,W),S[1]))),-A[2]))),-O[3]),e(s(s(e(s(e(r(ae,me),w[1]),s(e(r(X,Q),-S[1]),e(r(pe,q),O[1]))),_[2]),e(s(e(r(ae,me),_[1]),s(e(r(de,J),-S[1]),e(r(fe,Y),O[1]))),-w[2])),s(e(s(e(r(X,Q),_[1]),s(e(r(de,J),-w[1]),e(r(Z,W),O[1]))),S[2]),e(s(e(r(pe,q),_[1]),s(e(r(fe,Y),-w[1]),e(r(Z,W),S[1]))),-O[2]))),A[3])),s(e(s(s(e(s(e(r(ee,K),S[1]),s(e(r(Te,ke),-O[1]),e(r(ae,me),A[1]))),_[2]),e(s(e(r(ee,K),_[1]),s(e(r(ue,G),-O[1]),e(r(de,J),A[1]))),-S[2])),s(e(s(e(r(Te,ke),_[1]),s(e(r(ue,G),-S[1]),e(r(fe,Y),A[1]))),O[2]),e(s(e(r(ae,me),_[1]),s(e(r(de,J),-S[1]),e(r(fe,Y),O[1]))),-A[2]))),h[3]),e(s(s(e(s(e(r(ee,K),S[1]),s(e(r(Te,ke),-O[1]),e(r(ae,me),A[1]))),h[2]),e(s(e(r(ee,K),h[1]),s(e(r(re,R),-O[1]),e(r(he,P),A[1]))),-S[2])),s(e(s(e(r(Te,ke),h[1]),s(e(r(re,R),-S[1]),e(r(le,z),A[1]))),O[2]),e(s(e(r(ae,me),h[1]),s(e(r(he,P),-S[1]),e(r(le,z),O[1]))),-A[2]))),-_[3])))),s(s(s(e(s(s(e(s(e(r(ee,K),_[1]),s(e(r(ue,G),-O[1]),e(r(de,J),A[1]))),h[2]),e(s(e(r(ee,K),h[1]),s(e(r(re,R),-O[1]),e(r(he,P),A[1]))),-_[2])),s(e(s(e(r(ue,G),h[1]),s(e(r(re,R),-_[1]),e(r(j,B),A[1]))),O[2]),e(s(e(r(de,J),h[1]),s(e(r(he,P),-_[1]),e(r(j,B),O[1]))),-A[2]))),S[3]),e(s(s(e(s(e(r(Te,ke),_[1]),s(e(r(ue,G),-S[1]),e(r(fe,Y),A[1]))),h[2]),e(s(e(r(Te,ke),h[1]),s(e(r(re,R),-S[1]),e(r(le,z),A[1]))),-_[2])),s(e(s(e(r(ue,G),h[1]),s(e(r(re,R),-_[1]),e(r(j,B),A[1]))),S[2]),e(s(e(r(fe,Y),h[1]),s(e(r(le,z),-_[1]),e(r(j,B),S[1]))),-A[2]))),-O[3])),s(e(s(s(e(s(e(r(ae,me),_[1]),s(e(r(de,J),-S[1]),e(r(fe,Y),O[1]))),h[2]),e(s(e(r(ae,me),h[1]),s(e(r(he,P),-S[1]),e(r(le,z),O[1]))),-_[2])),s(e(s(e(r(de,J),h[1]),s(e(r(he,P),-_[1]),e(r(j,B),O[1]))),S[2]),e(s(e(r(fe,Y),h[1]),s(e(r(le,z),-_[1]),e(r(j,B),S[1]))),-O[2]))),A[3]),e(s(s(e(s(e(r(Te,ke),w[1]),s(e(r(we,ne),-S[1]),e(r(pe,q),A[1]))),_[2]),e(s(e(r(Te,ke),_[1]),s(e(r(ue,G),-S[1]),e(r(fe,Y),A[1]))),-w[2])),s(e(s(e(r(we,ne),_[1]),s(e(r(ue,G),-w[1]),e(r(Z,W),A[1]))),S[2]),e(s(e(r(pe,q),_[1]),s(e(r(fe,Y),-w[1]),e(r(Z,W),S[1]))),-A[2]))),h[3]))),s(s(e(s(s(e(s(e(r(Te,ke),w[1]),s(e(r(we,ne),-S[1]),e(r(pe,q),A[1]))),h[2]),e(s(e(r(Te,ke),h[1]),s(e(r(re,R),-S[1]),e(r(le,z),A[1]))),-w[2])),s(e(s(e(r(we,ne),h[1]),s(e(r(re,R),-w[1]),e(r(U,C),A[1]))),S[2]),e(s(e(r(pe,q),h[1]),s(e(r(le,z),-w[1]),e(r(U,C),S[1]))),-A[2]))),-_[3]),e(s(s(e(s(e(r(Te,ke),_[1]),s(e(r(ue,G),-S[1]),e(r(fe,Y),A[1]))),h[2]),e(s(e(r(Te,ke),h[1]),s(e(r(re,R),-S[1]),e(r(le,z),A[1]))),-_[2])),s(e(s(e(r(ue,G),h[1]),s(e(r(re,R),-_[1]),e(r(j,B),A[1]))),S[2]),e(s(e(r(fe,Y),h[1]),s(e(r(le,z),-_[1]),e(r(j,B),S[1]))),-A[2]))),w[3])),s(e(s(s(e(s(e(r(we,ne),_[1]),s(e(r(ue,G),-w[1]),e(r(Z,W),A[1]))),h[2]),e(s(e(r(we,ne),h[1]),s(e(r(re,R),-w[1]),e(r(U,C),A[1]))),-_[2])),s(e(s(e(r(ue,G),h[1]),s(e(r(re,R),-_[1]),e(r(j,B),A[1]))),w[2]),e(s(e(r(Z,W),h[1]),s(e(r(U,C),-_[1]),e(r(j,B),w[1]))),-A[2]))),-S[3]),e(s(s(e(s(e(r(pe,q),_[1]),s(e(r(fe,Y),-w[1]),e(r(Z,W),S[1]))),h[2]),e(s(e(r(pe,q),h[1]),s(e(r(le,z),-w[1]),e(r(U,C),S[1]))),-_[2])),s(e(s(e(r(fe,Y),h[1]),s(e(r(le,z),-_[1]),e(r(j,B),S[1]))),w[2]),e(s(e(r(Z,W),h[1]),s(e(r(U,C),-_[1]),e(r(j,B),w[1]))),-S[2]))),A[3]))))),ce=s(s(s(e(s(s(e(s(e(r(ee,K),S[1]),s(e(r(Te,ke),-O[1]),e(r(ae,me),A[1]))),w[2]),e(s(e(r(ee,K),w[1]),s(e(r(we,ne),-O[1]),e(r(X,Q),A[1]))),-S[2])),s(e(s(e(r(Te,ke),w[1]),s(e(r(we,ne),-S[1]),e(r(pe,q),A[1]))),O[2]),e(s(e(r(ae,me),w[1]),s(e(r(X,Q),-S[1]),e(r(pe,q),O[1]))),-A[2]))),h[3]),s(e(s(s(e(s(e(r(ee,K),S[1]),s(e(r(Te,ke),-O[1]),e(r(ae,me),A[1]))),h[2]),e(s(e(r(ee,K),h[1]),s(e(r(re,R),-O[1]),e(r(he,P),A[1]))),-S[2])),s(e(s(e(r(Te,ke),h[1]),s(e(r(re,R),-S[1]),e(r(le,z),A[1]))),O[2]),e(s(e(r(ae,me),h[1]),s(e(r(he,P),-S[1]),e(r(le,z),O[1]))),-A[2]))),-w[3]),e(s(s(e(s(e(r(ee,K),w[1]),s(e(r(we,ne),-O[1]),e(r(X,Q),A[1]))),h[2]),e(s(e(r(ee,K),h[1]),s(e(r(re,R),-O[1]),e(r(he,P),A[1]))),-w[2])),s(e(s(e(r(we,ne),h[1]),s(e(r(re,R),-w[1]),e(r(U,C),A[1]))),O[2]),e(s(e(r(X,Q),h[1]),s(e(r(he,P),-w[1]),e(r(U,C),O[1]))),-A[2]))),S[3]))),s(s(e(s(s(e(s(e(r(Te,ke),w[1]),s(e(r(we,ne),-S[1]),e(r(pe,q),A[1]))),h[2]),e(s(e(r(Te,ke),h[1]),s(e(r(re,R),-S[1]),e(r(le,z),A[1]))),-w[2])),s(e(s(e(r(we,ne),h[1]),s(e(r(re,R),-w[1]),e(r(U,C),A[1]))),S[2]),e(s(e(r(pe,q),h[1]),s(e(r(le,z),-w[1]),e(r(U,C),S[1]))),-A[2]))),-O[3]),e(s(s(e(s(e(r(ae,me),w[1]),s(e(r(X,Q),-S[1]),e(r(pe,q),O[1]))),h[2]),e(s(e(r(ae,me),h[1]),s(e(r(he,P),-S[1]),e(r(le,z),O[1]))),-w[2])),s(e(s(e(r(X,Q),h[1]),s(e(r(he,P),-w[1]),e(r(U,C),O[1]))),S[2]),e(s(e(r(pe,q),h[1]),s(e(r(le,z),-w[1]),e(r(U,C),S[1]))),-O[2]))),A[3])),s(e(s(s(e(s(e(r(ee,K),w[1]),s(e(r(we,ne),-O[1]),e(r(X,Q),A[1]))),_[2]),e(s(e(r(ee,K),_[1]),s(e(r(ue,G),-O[1]),e(r(de,J),A[1]))),-w[2])),s(e(s(e(r(we,ne),_[1]),s(e(r(ue,G),-w[1]),e(r(Z,W),A[1]))),O[2]),e(s(e(r(X,Q),_[1]),s(e(r(de,J),-w[1]),e(r(Z,W),O[1]))),-A[2]))),h[3]),e(s(s(e(s(e(r(ee,K),w[1]),s(e(r(we,ne),-O[1]),e(r(X,Q),A[1]))),h[2]),e(s(e(r(ee,K),h[1]),s(e(r(re,R),-O[1]),e(r(he,P),A[1]))),-w[2])),s(e(s(e(r(we,ne),h[1]),s(e(r(re,R),-w[1]),e(r(U,C),A[1]))),O[2]),e(s(e(r(X,Q),h[1]),s(e(r(he,P),-w[1]),e(r(U,C),O[1]))),-A[2]))),-_[3])))),s(s(s(e(s(s(e(s(e(r(ee,K),_[1]),s(e(r(ue,G),-O[1]),e(r(de,J),A[1]))),h[2]),e(s(e(r(ee,K),h[1]),s(e(r(re,R),-O[1]),e(r(he,P),A[1]))),-_[2])),s(e(s(e(r(ue,G),h[1]),s(e(r(re,R),-_[1]),e(r(j,B),A[1]))),O[2]),e(s(e(r(de,J),h[1]),s(e(r(he,P),-_[1]),e(r(j,B),O[1]))),-A[2]))),w[3]),e(s(s(e(s(e(r(we,ne),_[1]),s(e(r(ue,G),-w[1]),e(r(Z,W),A[1]))),h[2]),e(s(e(r(we,ne),h[1]),s(e(r(re,R),-w[1]),e(r(U,C),A[1]))),-_[2])),s(e(s(e(r(ue,G),h[1]),s(e(r(re,R),-_[1]),e(r(j,B),A[1]))),w[2]),e(s(e(r(Z,W),h[1]),s(e(r(U,C),-_[1]),e(r(j,B),w[1]))),-A[2]))),-O[3])),s(e(s(s(e(s(e(r(X,Q),_[1]),s(e(r(de,J),-w[1]),e(r(Z,W),O[1]))),h[2]),e(s(e(r(X,Q),h[1]),s(e(r(he,P),-w[1]),e(r(U,C),O[1]))),-_[2])),s(e(s(e(r(de,J),h[1]),s(e(r(he,P),-_[1]),e(r(j,B),O[1]))),w[2]),e(s(e(r(Z,W),h[1]),s(e(r(U,C),-_[1]),e(r(j,B),w[1]))),-O[2]))),A[3]),e(s(s(e(s(e(r(ae,me),w[1]),s(e(r(X,Q),-S[1]),e(r(pe,q),O[1]))),_[2]),e(s(e(r(ae,me),_[1]),s(e(r(de,J),-S[1]),e(r(fe,Y),O[1]))),-w[2])),s(e(s(e(r(X,Q),_[1]),s(e(r(de,J),-w[1]),e(r(Z,W),O[1]))),S[2]),e(s(e(r(pe,q),_[1]),s(e(r(fe,Y),-w[1]),e(r(Z,W),S[1]))),-O[2]))),h[3]))),s(s(e(s(s(e(s(e(r(ae,me),w[1]),s(e(r(X,Q),-S[1]),e(r(pe,q),O[1]))),h[2]),e(s(e(r(ae,me),h[1]),s(e(r(he,P),-S[1]),e(r(le,z),O[1]))),-w[2])),s(e(s(e(r(X,Q),h[1]),s(e(r(he,P),-w[1]),e(r(U,C),O[1]))),S[2]),e(s(e(r(pe,q),h[1]),s(e(r(le,z),-w[1]),e(r(U,C),S[1]))),-O[2]))),-_[3]),e(s(s(e(s(e(r(ae,me),_[1]),s(e(r(de,J),-S[1]),e(r(fe,Y),O[1]))),h[2]),e(s(e(r(ae,me),h[1]),s(e(r(he,P),-S[1]),e(r(le,z),O[1]))),-_[2])),s(e(s(e(r(de,J),h[1]),s(e(r(he,P),-_[1]),e(r(j,B),O[1]))),S[2]),e(s(e(r(fe,Y),h[1]),s(e(r(le,z),-_[1]),e(r(j,B),S[1]))),-O[2]))),w[3])),s(e(s(s(e(s(e(r(X,Q),_[1]),s(e(r(de,J),-w[1]),e(r(Z,W),O[1]))),h[2]),e(s(e(r(X,Q),h[1]),s(e(r(he,P),-w[1]),e(r(U,C),O[1]))),-_[2])),s(e(s(e(r(de,J),h[1]),s(e(r(he,P),-_[1]),e(r(j,B),O[1]))),w[2]),e(s(e(r(Z,W),h[1]),s(e(r(U,C),-_[1]),e(r(j,B),w[1]))),-O[2]))),-S[3]),e(s(s(e(s(e(r(pe,q),_[1]),s(e(r(fe,Y),-w[1]),e(r(Z,W),S[1]))),h[2]),e(s(e(r(pe,q),h[1]),s(e(r(le,z),-w[1]),e(r(U,C),S[1]))),-_[2])),s(e(s(e(r(fe,Y),h[1]),s(e(r(le,z),-_[1]),e(r(j,B),S[1]))),w[2]),e(s(e(r(Z,W),h[1]),s(e(r(U,C),-_[1]),e(r(j,B),w[1]))),-S[2]))),O[3]))))),be=r(se,ce);return be[be.length-1]}}var f=[function(){return 0},function(){return 0},function(){return 0}];function n(s){var r=f[s.length];return r||(r=f[s.length]=v(s.length)),r.apply(void 0,s)}function o(s,r,g,e,h,_,w,S){return function(O,A,I,B,C,z){switch(arguments.length){case 0:case 1:return 0;case 2:return e(O,A);case 3:return h(O,A,I);case 4:return _(O,A,I,B);case 5:return w(O,A,I,B,C);case 6:return S(O,A,I,B,C,z)}for(var P=new Array(arguments.length),R=0;R<arguments.length;++R)P[R]=arguments[R];return s(P)}}(function(){for(;f.length<=6;)f.push(v(f.length));b.exports=o.apply(void 0,[n].concat(f));for(var s=0;s<=6;++s)b.exports[s]=f[s]})()},727:function(b,a,t){var u=t(2962);function i(f){return(f===2?l:f===3?d:f===4?v:f===5?y:p)(f<6?u[f]:u)}function l(f){return function(n,o){return[f([[+o[0],+n[0][1]],[+o[1],+n[1][1]]]),f([[+n[0][0],+o[0]],[+n[1][0],+o[1]]]),f(n)]}}function d(f){return function(n,o){return[f([[+o[0],+n[0][1],+n[0][2]],[+o[1],+n[1][1],+n[1][2]],[+o[2],+n[2][1],+n[2][2]]]),f([[+n[0][0],+o[0],+n[0][2]],[+n[1][0],+o[1],+n[1][2]],[+n[2][0],+o[2],+n[2][2]]]),f([[+n[0][0],+n[0][1],+o[0]],[+n[1][0],+n[1][1],+o[1]],[+n[2][0],+n[2][1],+o[2]]]),f(n)]}}function v(f){return function(n,o){return[f([[+o[0],+n[0][1],+n[0][2],+n[0][3]],[+o[1],+n[1][1],+n[1][2],+n[1][3]],[+o[2],+n[2][1],+n[2][2],+n[2][3]],[+o[3],+n[3][1],+n[3][2],+n[3][3]]]),f([[+n[0][0],+o[0],+n[0][2],+n[0][3]],[+n[1][0],+o[1],+n[1][2],+n[1][3]],[+n[2][0],+o[2],+n[2][2],+n[2][3]],[+n[3][0],+o[3],+n[3][2],+n[3][3]]]),f([[+n[0][0],+n[0][1],+o[0],+n[0][3]],[+n[1][0],+n[1][1],+o[1],+n[1][3]],[+n[2][0],+n[2][1],+o[2],+n[2][3]],[+n[3][0],+n[3][1],+o[3],+n[3][3]]]),f([[+n[0][0],+n[0][1],+n[0][2],+o[0]],[+n[1][0],+n[1][1],+n[1][2],+o[1]],[+n[2][0],+n[2][1],+n[2][2],+o[2]],[+n[3][0],+n[3][1],+n[3][2],+o[3]]]),f(n)]}}function y(f){return function(n,o){return[f([[+o[0],+n[0][1],+n[0][2],+n[0][3],+n[0][4]],[+o[1],+n[1][1],+n[1][2],+n[1][3],+n[1][4]],[+o[2],+n[2][1],+n[2][2],+n[2][3],+n[2][4]],[+o[3],+n[3][1],+n[3][2],+n[3][3],+n[3][4]],[+o[4],+n[4][1],+n[4][2],+n[4][3],+n[4][4]]]),f([[+n[0][0],+o[0],+n[0][2],+n[0][3],+n[0][4]],[+n[1][0],+o[1],+n[1][2],+n[1][3],+n[1][4]],[+n[2][0],+o[2],+n[2][2],+n[2][3],+n[2][4]],[+n[3][0],+o[3],+n[3][2],+n[3][3],+n[3][4]],[+n[4][0],+o[4],+n[4][2],+n[4][3],+n[4][4]]]),f([[+n[0][0],+n[0][1],+o[0],+n[0][3],+n[0][4]],[+n[1][0],+n[1][1],+o[1],+n[1][3],+n[1][4]],[+n[2][0],+n[2][1],+o[2],+n[2][3],+n[2][4]],[+n[3][0],+n[3][1],+o[3],+n[3][3],+n[3][4]],[+n[4][0],+n[4][1],+o[4],+n[4][3],+n[4][4]]]),f([[+n[0][0],+n[0][1],+n[0][2],+o[0],+n[0][4]],[+n[1][0],+n[1][1],+n[1][2],+o[1],+n[1][4]],[+n[2][0],+n[2][1],+n[2][2],+o[2],+n[2][4]],[+n[3][0],+n[3][1],+n[3][2],+o[3],+n[3][4]],[+n[4][0],+n[4][1],+n[4][2],+o[4],+n[4][4]]]),f([[+n[0][0],+n[0][1],+n[0][2],+n[0][3],+o[0]],[+n[1][0],+n[1][1],+n[1][2],+n[1][3],+o[1]],[+n[2][0],+n[2][1],+n[2][2],+n[2][3],+o[2]],[+n[3][0],+n[3][1],+n[3][2],+n[3][3],+o[3]],[+n[4][0],+n[4][1],+n[4][2],+n[4][3],+o[4]]]),f(n)]}}function p(f){return function(n,o){return[f([[+o[0],+n[0][1],+n[0][2],+n[0][3],+n[0][4],+n[0][5]],[+o[1],+n[1][1],+n[1][2],+n[1][3],+n[1][4],+n[1][5]],[+o[2],+n[2][1],+n[2][2],+n[2][3],+n[2][4],+n[2][5]],[+o[3],+n[3][1],+n[3][2],+n[3][3],+n[3][4],+n[3][5]],[+o[4],+n[4][1],+n[4][2],+n[4][3],+n[4][4],+n[4][5]],[+o[5],+n[5][1],+n[5][2],+n[5][3],+n[5][4],+n[5][5]]]),f([[+n[0][0],+o[0],+n[0][2],+n[0][3],+n[0][4],+n[0][5]],[+n[1][0],+o[1],+n[1][2],+n[1][3],+n[1][4],+n[1][5]],[+n[2][0],+o[2],+n[2][2],+n[2][3],+n[2][4],+n[2][5]],[+n[3][0],+o[3],+n[3][2],+n[3][3],+n[3][4],+n[3][5]],[+n[4][0],+o[4],+n[4][2],+n[4][3],+n[4][4],+n[4][5]],[+n[5][0],+o[5],+n[5][2],+n[5][3],+n[5][4],+n[5][5]]]),f([[+n[0][0],+n[0][1],+o[0],+n[0][3],+n[0][4],+n[0][5]],[+n[1][0],+n[1][1],+o[1],+n[1][3],+n[1][4],+n[1][5]],[+n[2][0],+n[2][1],+o[2],+n[2][3],+n[2][4],+n[2][5]],[+n[3][0],+n[3][1],+o[3],+n[3][3],+n[3][4],+n[3][5]],[+n[4][0],+n[4][1],+o[4],+n[4][3],+n[4][4],+n[4][5]],[+n[5][0],+n[5][1],+o[5],+n[5][3],+n[5][4],+n[5][5]]]),f([[+n[0][0],+n[0][1],+n[0][2],+o[0],+n[0][4],+n[0][5]],[+n[1][0],+n[1][1],+n[1][2],+o[1],+n[1][4],+n[1][5]],[+n[2][0],+n[2][1],+n[2][2],+o[2],+n[2][4],+n[2][5]],[+n[3][0],+n[3][1],+n[3][2],+o[3],+n[3][4],+n[3][5]],[+n[4][0],+n[4][1],+n[4][2],+o[4],+n[4][4],+n[4][5]],[+n[5][0],+n[5][1],+n[5][2],+o[5],+n[5][4],+n[5][5]]]),f([[+n[0][0],+n[0][1],+n[0][2],+n[0][3],+o[0],+n[0][5]],[+n[1][0],+n[1][1],+n[1][2],+n[1][3],+o[1],+n[1][5]],[+n[2][0],+n[2][1],+n[2][2],+n[2][3],+o[2],+n[2][5]],[+n[3][0],+n[3][1],+n[3][2],+n[3][3],+o[3],+n[3][5]],[+n[4][0],+n[4][1],+n[4][2],+n[4][3],+o[4],+n[4][5]],[+n[5][0],+n[5][1],+n[5][2],+n[5][3],+o[5],+n[5][5]]]),f([[+n[0][0],+n[0][1],+n[0][2],+n[0][3],+n[0][4],+o[0]],[+n[1][0],+n[1][1],+n[1][2],+n[1][3],+n[1][4],+o[1]],[+n[2][0],+n[2][1],+n[2][2],+n[2][3],+n[2][4],+o[2]],[+n[3][0],+n[3][1],+n[3][2],+n[3][3],+n[3][4],+o[3]],[+n[4][0],+n[4][1],+n[4][2],+n[4][3],+n[4][4],+o[4]],[+n[5][0],+n[5][1],+n[5][2],+n[5][3],+n[5][4],+o[5]]]),f(n)]}}var c=[function(){return[[0]]},function(f,n){return[[n[0]],[f[0][0]]]}];function x(f,n,o,s,r,g,e,h){return function(_,w){switch(_.length){case 0:return f(_,w);case 1:return n(_,w);case 2:return o(_,w);case 3:return s(_,w);case 4:return r(_,w);case 5:return g(_,w)}var S=e[_.length];return S||(S=e[_.length]=h(_.length)),S(_,w)}}(function(){for(;c.length<6;)c.push(i(c.length));b.exports=x.apply(void 0,c.concat([c,i]));for(var f=0;f<6;++f)b.exports[f]=c[f]})()},3250:function(b,a,t){var u=t(5250),i=t(8210),l=t(3012),d=t(8545);function v(r,g,e,h){return function(_,w,S){var O=r(r(g(w[1],S[0]),g(-S[1],w[0])),r(g(_[1],w[0]),g(-w[1],_[0]))),A=r(g(_[1],S[0]),g(-S[1],_[0])),I=h(O,A);return I[I.length-1]}}function y(r,g,e,h){return function(_,w,S,O){var A=r(r(e(r(g(S[1],O[0]),g(-O[1],S[0])),w[2]),r(e(r(g(w[1],O[0]),g(-O[1],w[0])),-S[2]),e(r(g(w[1],S[0]),g(-S[1],w[0])),O[2]))),r(e(r(g(w[1],O[0]),g(-O[1],w[0])),_[2]),r(e(r(g(_[1],O[0]),g(-O[1],_[0])),-w[2]),e(r(g(_[1],w[0]),g(-w[1],_[0])),O[2])))),I=r(r(e(r(g(S[1],O[0]),g(-O[1],S[0])),_[2]),r(e(r(g(_[1],O[0]),g(-O[1],_[0])),-S[2]),e(r(g(_[1],S[0]),g(-S[1],_[0])),O[2]))),r(e(r(g(w[1],S[0]),g(-S[1],w[0])),_[2]),r(e(r(g(_[1],S[0]),g(-S[1],_[0])),-w[2]),e(r(g(_[1],w[0]),g(-w[1],_[0])),S[2])))),B=h(A,I);return B[B.length-1]}}function p(r,g,e,h){return function(_,w,S,O,A){var I=r(r(r(e(r(e(r(g(O[1],A[0]),g(-A[1],O[0])),S[2]),r(e(r(g(S[1],A[0]),g(-A[1],S[0])),-O[2]),e(r(g(S[1],O[0]),g(-O[1],S[0])),A[2]))),w[3]),r(e(r(e(r(g(O[1],A[0]),g(-A[1],O[0])),w[2]),r(e(r(g(w[1],A[0]),g(-A[1],w[0])),-O[2]),e(r(g(w[1],O[0]),g(-O[1],w[0])),A[2]))),-S[3]),e(r(e(r(g(S[1],A[0]),g(-A[1],S[0])),w[2]),r(e(r(g(w[1],A[0]),g(-A[1],w[0])),-S[2]),e(r(g(w[1],S[0]),g(-S[1],w[0])),A[2]))),O[3]))),r(e(r(e(r(g(S[1],O[0]),g(-O[1],S[0])),w[2]),r(e(r(g(w[1],O[0]),g(-O[1],w[0])),-S[2]),e(r(g(w[1],S[0]),g(-S[1],w[0])),O[2]))),-A[3]),r(e(r(e(r(g(O[1],A[0]),g(-A[1],O[0])),w[2]),r(e(r(g(w[1],A[0]),g(-A[1],w[0])),-O[2]),e(r(g(w[1],O[0]),g(-O[1],w[0])),A[2]))),_[3]),e(r(e(r(g(O[1],A[0]),g(-A[1],O[0])),_[2]),r(e(r(g(_[1],A[0]),g(-A[1],_[0])),-O[2]),e(r(g(_[1],O[0]),g(-O[1],_[0])),A[2]))),-w[3])))),r(r(e(r(e(r(g(w[1],A[0]),g(-A[1],w[0])),_[2]),r(e(r(g(_[1],A[0]),g(-A[1],_[0])),-w[2]),e(r(g(_[1],w[0]),g(-w[1],_[0])),A[2]))),O[3]),r(e(r(e(r(g(w[1],O[0]),g(-O[1],w[0])),_[2]),r(e(r(g(_[1],O[0]),g(-O[1],_[0])),-w[2]),e(r(g(_[1],w[0]),g(-w[1],_[0])),O[2]))),-A[3]),e(r(e(r(g(S[1],O[0]),g(-O[1],S[0])),w[2]),r(e(r(g(w[1],O[0]),g(-O[1],w[0])),-S[2]),e(r(g(w[1],S[0]),g(-S[1],w[0])),O[2]))),_[3]))),r(e(r(e(r(g(S[1],O[0]),g(-O[1],S[0])),_[2]),r(e(r(g(_[1],O[0]),g(-O[1],_[0])),-S[2]),e(r(g(_[1],S[0]),g(-S[1],_[0])),O[2]))),-w[3]),r(e(r(e(r(g(w[1],O[0]),g(-O[1],w[0])),_[2]),r(e(r(g(_[1],O[0]),g(-O[1],_[0])),-w[2]),e(r(g(_[1],w[0]),g(-w[1],_[0])),O[2]))),S[3]),e(r(e(r(g(w[1],S[0]),g(-S[1],w[0])),_[2]),r(e(r(g(_[1],S[0]),g(-S[1],_[0])),-w[2]),e(r(g(_[1],w[0]),g(-w[1],_[0])),S[2]))),-O[3]))))),B=r(r(r(e(r(e(r(g(O[1],A[0]),g(-A[1],O[0])),S[2]),r(e(r(g(S[1],A[0]),g(-A[1],S[0])),-O[2]),e(r(g(S[1],O[0]),g(-O[1],S[0])),A[2]))),_[3]),e(r(e(r(g(O[1],A[0]),g(-A[1],O[0])),_[2]),r(e(r(g(_[1],A[0]),g(-A[1],_[0])),-O[2]),e(r(g(_[1],O[0]),g(-O[1],_[0])),A[2]))),-S[3])),r(e(r(e(r(g(S[1],A[0]),g(-A[1],S[0])),_[2]),r(e(r(g(_[1],A[0]),g(-A[1],_[0])),-S[2]),e(r(g(_[1],S[0]),g(-S[1],_[0])),A[2]))),O[3]),e(r(e(r(g(S[1],O[0]),g(-O[1],S[0])),_[2]),r(e(r(g(_[1],O[0]),g(-O[1],_[0])),-S[2]),e(r(g(_[1],S[0]),g(-S[1],_[0])),O[2]))),-A[3]))),r(r(e(r(e(r(g(S[1],A[0]),g(-A[1],S[0])),w[2]),r(e(r(g(w[1],A[0]),g(-A[1],w[0])),-S[2]),e(r(g(w[1],S[0]),g(-S[1],w[0])),A[2]))),_[3]),e(r(e(r(g(S[1],A[0]),g(-A[1],S[0])),_[2]),r(e(r(g(_[1],A[0]),g(-A[1],_[0])),-S[2]),e(r(g(_[1],S[0]),g(-S[1],_[0])),A[2]))),-w[3])),r(e(r(e(r(g(w[1],A[0]),g(-A[1],w[0])),_[2]),r(e(r(g(_[1],A[0]),g(-A[1],_[0])),-w[2]),e(r(g(_[1],w[0]),g(-w[1],_[0])),A[2]))),S[3]),e(r(e(r(g(w[1],S[0]),g(-S[1],w[0])),_[2]),r(e(r(g(_[1],S[0]),g(-S[1],_[0])),-w[2]),e(r(g(_[1],w[0]),g(-w[1],_[0])),S[2]))),-A[3])))),C=h(I,B);return C[C.length-1]}}function c(r){return(r===3?v:r===4?y:p)(i,u,l,d)}var x=c(3),f=c(4),n=[function(){return 0},function(){return 0},function(r,g){return g[0]-r[0]},function(r,g,e){var h,_=(r[1]-e[1])*(g[0]-e[0]),w=(r[0]-e[0])*(g[1]-e[1]),S=_-w;if(_>0){if(w<=0)return S;h=_+w}else{if(!(_<0)||w>=0)return S;h=-(_+w)}var O=33306690738754716e-32*h;return S>=O||S<=-O?S:x(r,g,e)},function(r,g,e,h){var _=r[0]-h[0],w=g[0]-h[0],S=e[0]-h[0],O=r[1]-h[1],A=g[1]-h[1],I=e[1]-h[1],B=r[2]-h[2],C=g[2]-h[2],z=e[2]-h[2],P=w*I,R=S*A,N=S*O,j=_*I,W=_*A,Y=w*O,J=B*(P-R)+C*(N-j)+z*(W-Y),G=7771561172376103e-31*((Math.abs(P)+Math.abs(R))*Math.abs(B)+(Math.abs(N)+Math.abs(j))*Math.abs(C)+(Math.abs(W)+Math.abs(Y))*Math.abs(z));return J>G||-J>G?J:f(r,g,e,h)}];function o(r){var g=n[r.length];return g||(g=n[r.length]=c(r.length)),g.apply(void 0,r)}function s(r,g,e,h,_,w,S){return function(O,A,I,B,C){switch(arguments.length){case 0:case 1:return 0;case 2:return h(O,A);case 3:return _(O,A,I);case 4:return w(O,A,I,B);case 5:return S(O,A,I,B,C)}for(var z=new Array(arguments.length),P=0;P<arguments.length;++P)z[P]=arguments[P];return r(z)}}(function(){for(;n.length<=5;)n.push(c(n.length));b.exports=s.apply(void 0,[o].concat(n));for(var r=0;r<=5;++r)b.exports[r]=n[r]})()},5382:function(b,a,t){var u=t(8210),i=t(3012);b.exports=function(l,d){if(l.length===1)return i(d,l[0]);if(d.length===1)return i(l,d[0]);if(l.length===0||d.length===0)return[0];var v=[0];if(l.length<d.length)for(var y=0;y<l.length;++y)v=u(v,i(d,l[y]));else for(y=0;y<d.length;++y)v=u(v,i(l,d[y]));return v}},3012:function(b,a,t){var u=t(5250),i=t(9362);b.exports=function(l,d){var v=l.length;if(v===1){var y=u(l[0],d);return y[0]?y:[y[1]]}var p=new Array(2*v),c=[.1,.1],x=[.1,.1],f=0;u(l[0],d,c),c[0]&&(p[f++]=c[0]);for(var n=1;n<v;++n){u(l[n],d,x);var o=c[1];i(o,x[0],c),c[0]&&(p[f++]=c[0]);var s=x[1],r=c[1],g=s+r,e=r-(g-s);c[1]=g,e&&(p[f++]=e)}return c[1]&&(p[f++]=c[1]),f===0&&(p[f++]=0),p.length=f,p}},1125:function(b,a,t){b.exports=function(i,l,d,v){var y=u(i,d,v),p=u(l,d,v);if(y>0&&p>0||y<0&&p<0)return!1;var c=u(d,i,l),x=u(v,i,l);return!(c>0&&x>0||c<0&&x<0)&&(y!==0||p!==0||c!==0||x!==0||function(f,n,o,s){for(var r=0;r<2;++r){var g=f[r],e=n[r],h=Math.min(g,e),_=Math.max(g,e),w=o[r],S=s[r],O=Math.min(w,S);if(Math.max(w,S)<h||_<O)return!1}return!0}(i,l,d,v))};var u=t(3250)[3]},8545:function(b){b.exports=function(a,t){var u=0|a.length,i=0|t.length;if(u===1&&i===1)return function(O,A){var I=O+A,B=I-O,C=O-(I-B)+(A-B);return C?[C,I]:[I]}(a[0],-t[0]);var l,d,v=new Array(u+i),y=0,p=0,c=0,x=Math.abs,f=a[p],n=x(f),o=-t[c],s=x(o);n<s?(d=f,(p+=1)<u&&(n=x(f=a[p]))):(d=o,(c+=1)<i&&(s=x(o=-t[c]))),p<u&&n<s||c>=i?(l=f,(p+=1)<u&&(n=x(f=a[p]))):(l=o,(c+=1)<i&&(s=x(o=-t[c])));for(var r,g,e=l+d,h=e-l,_=d-h,w=_,S=e;p<u&&c<i;)n<s?(l=f,(p+=1)<u&&(n=x(f=a[p]))):(l=o,(c+=1)<i&&(s=x(o=-t[c]))),(_=(d=w)-(h=(e=l+d)-l))&&(v[y++]=_),w=S-((r=S+e)-(g=r-S))+(e-g),S=r;for(;p<u;)(_=(d=w)-(h=(e=(l=f)+d)-l))&&(v[y++]=_),w=S-((r=S+e)-(g=r-S))+(e-g),S=r,(p+=1)<u&&(f=a[p]);for(;c<i;)(_=(d=w)-(h=(e=(l=o)+d)-l))&&(v[y++]=_),w=S-((r=S+e)-(g=r-S))+(e-g),S=r,(c+=1)<i&&(o=-t[c]);return w&&(v[y++]=w),S&&(v[y++]=S),y||(v[y++]=0),v.length=y,v}},8210:function(b){b.exports=function(a,t){var u=0|a.length,i=0|t.length;if(u===1&&i===1)return function(O,A){var I=O+A,B=I-O,C=O-(I-B)+(A-B);return C?[C,I]:[I]}(a[0],t[0]);var l,d,v=new Array(u+i),y=0,p=0,c=0,x=Math.abs,f=a[p],n=x(f),o=t[c],s=x(o);n<s?(d=f,(p+=1)<u&&(n=x(f=a[p]))):(d=o,(c+=1)<i&&(s=x(o=t[c]))),p<u&&n<s||c>=i?(l=f,(p+=1)<u&&(n=x(f=a[p]))):(l=o,(c+=1)<i&&(s=x(o=t[c])));for(var r,g,e=l+d,h=e-l,_=d-h,w=_,S=e;p<u&&c<i;)n<s?(l=f,(p+=1)<u&&(n=x(f=a[p]))):(l=o,(c+=1)<i&&(s=x(o=t[c]))),(_=(d=w)-(h=(e=l+d)-l))&&(v[y++]=_),w=S-((r=S+e)-(g=r-S))+(e-g),S=r;for(;p<u;)(_=(d=w)-(h=(e=(l=f)+d)-l))&&(v[y++]=_),w=S-((r=S+e)-(g=r-S))+(e-g),S=r,(p+=1)<u&&(f=a[p]);for(;c<i;)(_=(d=w)-(h=(e=(l=o)+d)-l))&&(v[y++]=_),w=S-((r=S+e)-(g=r-S))+(e-g),S=r,(c+=1)<i&&(o=t[c]);return w&&(v[y++]=w),S&&(v[y++]=S),y||(v[y++]=0),v.length=y,v}},9127:function(b,a,t){b.exports=function(l){return i(u(l))};var u=t(6204),i=t(5771)},7765:function(b,a,t){b.exports=function(v,y,p,c){if(p=p||0,c===void 0&&(c=function(e){for(var h=e.length,_=0,w=0;w<h;++w)_=0|Math.max(_,e[w].length);return _-1}(v)),v.length===0||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var x=function(e,h){for(var _=e.length,w=i.mallocUint8(_),S=0;S<_;++S)w[S]=e[S]<h|0;return w}(y,+p),f=function(e,h){for(var _=e.length,w=h*(h+1)/2*_|0,S=i.mallocUint32(2*w),O=0,A=0;A<_;++A)for(var I=e[A],B=(h=I.length,0);B<h;++B)for(var C=0;C<B;++C){var z=I[C],P=I[B];S[O++]=0|Math.min(z,P),S[O++]=0|Math.max(z,P)}l(u(S,[O/2|0,2]));var R=2;for(A=2;A<O;A+=2)S[A-2]===S[A]&&S[A-1]===S[A+1]||(S[R++]=S[A],S[R++]=S[A+1]);return u(S,[R/2|0,2])}(v,c),n=function(e,h,_,w){for(var S=e.data,O=e.shape[0],A=i.mallocDouble(O),I=0,B=0;B<O;++B){var C=S[2*B],z=S[2*B+1];if(_[C]!==_[z]){var P=h[C],R=h[z];S[2*I]=C,S[2*I+1]=z,A[I++]=(R-w)/(R-P)}}return e.shape[0]=I,u(A,[I])}(f,y,x,+p),o=function(e,h){var _=i.mallocInt32(2*h),w=e.shape[0],S=e.data;_[0]=0;for(var O=0,A=0;A<w;++A){var I=S[2*A];if(I!==O){for(_[2*O+1]=A;++O<I;)_[2*O]=A,_[2*O+1]=A;_[2*O]=A}}for(_[2*O+1]=w;++O<h;)_[2*O]=_[2*O+1]=w;return _}(f,0|y.length),s=d(c)(v,f.data,o,x),r=function(e){for(var h=0|e.shape[0],_=e.data,w=new Array(h),S=0;S<h;++S)w[S]=[_[2*S],_[2*S+1]];return w}(f),g=[].slice.call(n.data,0,n.shape[0]);return i.free(x),i.free(f.data),i.free(n.data),i.free(o),{cells:s,vertexIds:r,vertexWeights:g}};var u=t(9618),i=t(1888),l=t(446),d=t(1570)},1570:function(b){b.exports=function(t){return a[t]()};var a=[function(){return function(t,u,i,l){for(var d=t.length,v=0;v<d;++v)t[v].length;return[]}},function(){function t(u,i,l,d){for(var v=0|Math.min(l,d),y=0|Math.max(l,d),p=u[2*v],c=u[2*v+1];p<c;){var x=p+c>>1,f=i[2*x+1];if(f===y)return x;y<f?c=x:p=x+1}return p}return function(u,i,l,d){for(var v=u.length,y=[],p=0;p<v;++p){var c=u[p];if(c.length===2){var x=(d[c[0]]<<0)+(d[c[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:case 3:break;case 1:y.push([t(l,i,c[0],c[1])]);break;case 2:y.push([t(l,i,c[1],c[0])])}}}return y}},function(){function t(u,i,l,d){for(var v=0|Math.min(l,d),y=0|Math.max(l,d),p=u[2*v],c=u[2*v+1];p<c;){var x=p+c>>1,f=i[2*x+1];if(f===y)return x;y<f?c=x:p=x+1}return p}return function(u,i,l,d){for(var v=u.length,y=[],p=0;p<v;++p){var c=u[p],x=c.length;if(x===3){if((f=(d[c[0]]<<0)+(d[c[1]]<<1)+(d[c[2]]<<2))==0||f===7)continue;switch(f){case 0:case 7:break;case 1:y.push([t(l,i,c[0],c[2]),t(l,i,c[0],c[1])]);break;case 2:y.push([t(l,i,c[1],c[0]),t(l,i,c[1],c[2])]);break;case 3:y.push([t(l,i,c[0],c[2]),t(l,i,c[1],c[2])]);break;case 4:y.push([t(l,i,c[2],c[1]),t(l,i,c[2],c[0])]);break;case 5:y.push([t(l,i,c[2],c[1]),t(l,i,c[0],c[1])]);break;case 6:y.push([t(l,i,c[1],c[0]),t(l,i,c[2],c[0])])}}else if(x===2){var f;if((f=(d[c[0]]<<0)+(d[c[1]]<<1))==0||f===3)continue;switch(f){case 0:case 3:break;case 1:y.push([t(l,i,c[0],c[1])]);break;case 2:y.push([t(l,i,c[1],c[0])])}}}return y}},function(){function t(u,i,l,d){for(var v=0|Math.min(l,d),y=0|Math.max(l,d),p=u[2*v],c=u[2*v+1];p<c;){var x=p+c>>1,f=i[2*x+1];if(f===y)return x;y<f?c=x:p=x+1}return p}return function(u,i,l,d){for(var v=u.length,y=[],p=0;p<v;++p){var c=u[p],x=c.length;if(x===4){if((f=(d[c[0]]<<0)+(d[c[1]]<<1)+(d[c[2]]<<2)+(d[c[3]]<<3))==0||f===15)continue;switch(f){case 0:case 15:break;case 1:y.push([t(l,i,c[0],c[1]),t(l,i,c[0],c[2]),t(l,i,c[0],c[3])]);break;case 2:y.push([t(l,i,c[1],c[2]),t(l,i,c[1],c[0]),t(l,i,c[1],c[3])]);break;case 3:y.push([t(l,i,c[1],c[2]),t(l,i,c[0],c[2]),t(l,i,c[0],c[3])],[t(l,i,c[1],c[3]),t(l,i,c[1],c[2]),t(l,i,c[0],c[3])]);break;case 4:y.push([t(l,i,c[2],c[0]),t(l,i,c[2],c[1]),t(l,i,c[2],c[3])]);break;case 5:y.push([t(l,i,c[0],c[1]),t(l,i,c[2],c[1]),t(l,i,c[0],c[3])],[t(l,i,c[2],c[1]),t(l,i,c[2],c[3]),t(l,i,c[0],c[3])]);break;case 6:y.push([t(l,i,c[2],c[0]),t(l,i,c[1],c[0]),t(l,i,c[1],c[3])],[t(l,i,c[2],c[3]),t(l,i,c[2],c[0]),t(l,i,c[1],c[3])]);break;case 7:y.push([t(l,i,c[0],c[3]),t(l,i,c[1],c[3]),t(l,i,c[2],c[3])]);break;case 8:y.push([t(l,i,c[3],c[1]),t(l,i,c[3],c[0]),t(l,i,c[3],c[2])]);break;case 9:y.push([t(l,i,c[3],c[1]),t(l,i,c[0],c[1]),t(l,i,c[0],c[2])],[t(l,i,c[3],c[2]),t(l,i,c[3],c[1]),t(l,i,c[0],c[2])]);break;case 10:y.push([t(l,i,c[1],c[0]),t(l,i,c[3],c[0]),t(l,i,c[1],c[2])],[t(l,i,c[3],c[0]),t(l,i,c[3],c[2]),t(l,i,c[1],c[2])]);break;case 11:y.push([t(l,i,c[1],c[2]),t(l,i,c[0],c[2]),t(l,i,c[3],c[2])]);break;case 12:y.push([t(l,i,c[3],c[0]),t(l,i,c[2],c[0]),t(l,i,c[2],c[1])],[t(l,i,c[3],c[1]),t(l,i,c[3],c[0]),t(l,i,c[2],c[1])]);break;case 13:y.push([t(l,i,c[0],c[1]),t(l,i,c[2],c[1]),t(l,i,c[3],c[1])]);break;case 14:y.push([t(l,i,c[2],c[0]),t(l,i,c[1],c[0]),t(l,i,c[3],c[0])])}}else if(x===3){if((f=(d[c[0]]<<0)+(d[c[1]]<<1)+(d[c[2]]<<2))==0||f===7)continue;switch(f){case 0:case 7:break;case 1:y.push([t(l,i,c[0],c[2]),t(l,i,c[0],c[1])]);break;case 2:y.push([t(l,i,c[1],c[0]),t(l,i,c[1],c[2])]);break;case 3:y.push([t(l,i,c[0],c[2]),t(l,i,c[1],c[2])]);break;case 4:y.push([t(l,i,c[2],c[1]),t(l,i,c[2],c[0])]);break;case 5:y.push([t(l,i,c[2],c[1]),t(l,i,c[0],c[1])]);break;case 6:y.push([t(l,i,c[1],c[0]),t(l,i,c[2],c[0])])}}else if(x===2){var f;if((f=(d[c[0]]<<0)+(d[c[1]]<<1))==0||f===3)continue;switch(f){case 0:case 3:break;case 1:y.push([t(l,i,c[0],c[1])]);break;case 2:y.push([t(l,i,c[1],c[0])])}}}return y}}]},6803:function(b,a,t){t(8828),t(1755);function u(i,l){var d=i.length,v=i.length-l.length,y=Math.min;if(v)return v;switch(d){case 0:return 0;case 1:return i[0]-l[0];case 2:return(x=i[0]+i[1]-l[0]-l[1])||y(i[0],i[1])-y(l[0],l[1]);case 3:var p=i[0]+i[1],c=l[0]+l[1];if(x=p+i[2]-(c+l[2]))return x;var x,f=y(i[0],i[1]),n=y(l[0],l[1]);return(x=y(f,i[2])-y(n,l[2]))||y(f+i[2],p)-y(n+l[2],c);default:var o=i.slice(0);o.sort();var s=l.slice(0);s.sort();for(var r=0;r<d;++r)if(v=o[r]-s[r])return v;return 0}}a.Fw=u},3105:function(b,a){function t(i){var l=32;return(i&=-i)&&l--,65535&i&&(l-=16),16711935&i&&(l-=8),252645135&i&&(l-=4),858993459&i&&(l-=2),1431655765&i&&(l-=1),l}a.INT_BITS=32,a.INT_MAX=2147483647,a.INT_MIN=-2147483648,a.sign=function(i){return(i>0)-(i<0)},a.abs=function(i){var l=i>>31;return(i^l)-l},a.min=function(i,l){return l^(i^l)&-(i<l)},a.max=function(i,l){return i^(i^l)&-(i<l)},a.isPow2=function(i){return!(i&i-1||!i)},a.log2=function(i){var l,d;return l=(i>65535)<<4,l|=d=((i>>>=l)>255)<<3,l|=d=((i>>>=d)>15)<<2,(l|=d=((i>>>=d)>3)<<1)|(i>>>=d)>>1},a.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},a.popCount=function(i){return 16843009*((i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135)>>>24},a.countTrailingZeros=t,a.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,1+(i|=i>>>16)},a.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,(i|=i>>>16)-(i>>>1)},a.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,27030>>>(i&=15)&1};var u=new Array(256);(function(i){for(var l=0;l<256;++l){var d=l,v=l,y=7;for(d>>>=1;d;d>>>=1)v<<=1,v|=1&d,--y;i[l]=v<<y&255}})(u),a.reverse=function(i){return u[255&i]<<24|u[i>>>8&255]<<16|u[i>>>16&255]<<8|u[i>>>24&255]},a.interleave2=function(i,l){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l&=65535)|l<<8))|l<<4))|l<<2))|l<<1))<<1},a.deinterleave2=function(i,l){return(i=65535&((i=16711935&((i=252645135&((i=858993459&((i=i>>>l&1431655765)|i>>>1))|i>>>2))|i>>>4))|i>>>16))<<16>>16},a.interleave3=function(i,l,d){return i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2),(i|=(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<1)|(d=1227133513&((d=3272356035&((d=251719695&((d=4278190335&((d&=1023)|d<<16))|d<<8))|d<<4))|d<<2))<<2},a.deinterleave3=function(i,l){return(i=1023&((i=4278190335&((i=251719695&((i=3272356035&((i=i>>>l&1227133513)|i>>>2))|i>>>4))|i>>>8))|i>>>16))<<22>>22},a.nextCombination=function(i){var l=i|i-1;return l+1|(~l&-~l)-1>>>t(i)+1}},2014:function(b,a,t){var u=t(3105),i=t(4623);function l(f,n){var o=f.length,s=f.length-n.length,r=Math.min;if(s)return s;switch(o){case 0:return 0;case 1:return f[0]-n[0];case 2:return(h=f[0]+f[1]-n[0]-n[1])||r(f[0],f[1])-r(n[0],n[1]);case 3:var g=f[0]+f[1],e=n[0]+n[1];if(h=g+f[2]-(e+n[2]))return h;var h,_=r(f[0],f[1]),w=r(n[0],n[1]);return(h=r(_,f[2])-r(w,n[2]))||r(_+f[2],g)-r(w+n[2],e);default:var S=f.slice(0);S.sort();var O=n.slice(0);O.sort();for(var A=0;A<o;++A)if(s=S[A]-O[A])return s;return 0}}function d(f,n){return l(f[0],n[0])}function v(f,n){if(n){for(var o=f.length,s=new Array(o),r=0;r<o;++r)s[r]=[f[r],n[r]];for(s.sort(d),r=0;r<o;++r)f[r]=s[r][0],n[r]=s[r][1];return f}return f.sort(l),f}function y(f){if(f.length===0)return[];for(var n=1,o=f.length,s=1;s<o;++s){var r=f[s];if(l(r,f[s-1])){if(s===n){n++;continue}f[n++]=r}}return f.length=n,f}function p(f,n){for(var o=0,s=f.length-1,r=-1;o<=s;){var g=o+s>>1,e=l(f[g],n);e<=0?(e===0&&(r=g),o=g+1):e>0&&(s=g-1)}return r}function c(f,n){for(var o=new Array(f.length),s=0,r=o.length;s<r;++s)o[s]=[];for(var g=[],e=(s=0,n.length);s<e;++s)for(var h=n[s],_=h.length,w=1,S=1<<_;w<S;++w){g.length=u.popCount(w);for(var O=0,A=0;A<_;++A)w&1<<A&&(g[O++]=h[A]);var I=p(f,g);if(!(I<0))for(;o[I++].push(s),!(I>=f.length||l(f[I],g)!==0););}return o}function x(f,n){if(n<0)return[];for(var o=[],s=(1<<n+1)-1,r=0;r<f.length;++r)for(var g=f[r],e=s;e<1<<g.length;e=u.nextCombination(e)){for(var h=new Array(n+1),_=0,w=0;w<g.length;++w)e&1<<w&&(h[_++]=g[w]);o.push(h)}return v(o)}a.dimension=function(f){for(var n=0,o=Math.max,s=0,r=f.length;s<r;++s)n=o(n,f[s].length);return n-1},a.countVertices=function(f){for(var n=-1,o=Math.max,s=0,r=f.length;s<r;++s)for(var g=f[s],e=0,h=g.length;e<h;++e)n=o(n,g[e]);return n+1},a.cloneCells=function(f){for(var n=new Array(f.length),o=0,s=f.length;o<s;++o)n[o]=f[o].slice(0);return n},a.compareCells=l,a.normalize=v,a.unique=y,a.findCell=p,a.incidence=c,a.dual=function(f,n){if(!n)return c(y(x(f,0)),f);for(var o=new Array(n),s=0;s<n;++s)o[s]=[];s=0;for(var r=f.length;s<r;++s)for(var g=f[s],e=0,h=g.length;e<h;++e)o[g[e]].push(s);return o},a.explode=function(f){for(var n=[],o=0,s=f.length;o<s;++o)for(var r=f[o],g=0|r.length,e=1,h=1<<g;e<h;++e){for(var _=[],w=0;w<g;++w)e>>>w&1&&_.push(r[w]);n.push(_)}return v(n)},a.skeleton=x,a.boundary=function(f){for(var n=[],o=0,s=f.length;o<s;++o)for(var r=f[o],g=0,e=r.length;g<e;++g){for(var h=new Array(r.length-1),_=0,w=0;_<e;++_)_!==g&&(h[w++]=r[_]);n.push(h)}return v(n)},a.connectedComponents=function(f,n){return n?function(o,s){for(var r=new i(s),g=0;g<o.length;++g)for(var e=o[g],h=0;h<e.length;++h)for(var _=h+1;_<e.length;++_)r.link(e[h],e[_]);var w=[],S=r.ranks;for(g=0;g<S.length;++g)S[g]=-1;for(g=0;g<o.length;++g){var O=r.find(o[g][0]);S[O]<0?(S[O]=w.length,w.push([o[g].slice(0)])):w[S[O]].push(o[g].slice(0))}return w}(f,n):function(o){for(var s=y(v(x(o,0))),r=new i(s.length),g=0;g<o.length;++g)for(var e=o[g],h=0;h<e.length;++h)for(var _=p(s,[e[h]]),w=h+1;w<e.length;++w)r.link(_,p(s,[e[w]]));var S=[],O=r.ranks;for(g=0;g<O.length;++g)O[g]=-1;for(g=0;g<o.length;++g){var A=r.find(p(s,[o[g][0]]));O[A]<0?(O[A]=S.length,S.push([o[g].slice(0)])):S[O[A]].push(o[g].slice(0))}return S}(f)}},4623:function(b){function a(t){this.roots=new Array(t),this.ranks=new Array(t);for(var u=0;u<t;++u)this.roots[u]=u,this.ranks[u]=0}b.exports=a,a.prototype.length=function(){return this.roots.length},a.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},a.prototype.find=function(t){for(var u=this.roots;u[t]!==t;){var i=u[t];u[t]=u[i],t=i}return t},a.prototype.link=function(t,u){var i=this.find(t),l=this.find(u);if(i!==l){var d=this.ranks,v=this.roots,y=d[i],p=d[l];y<p?v[i]=l:p<y?v[l]=i:(v[l]=i,++d[i])}}},5878:function(b,a,t){b.exports=function(l,d,v){for(var y=d.length,p=l.length,c=new Array(y),x=new Array(y),f=new Array(y),n=new Array(y),o=0;o<y;++o)c[o]=x[o]=-1,f[o]=1/0,n[o]=!1;for(o=0;o<p;++o){var s=l[o];if(s.length!==2)throw new Error("Input must be a graph");var r=s[1],g=s[0];x[g]!==-1?x[g]=-2:x[g]=r,c[r]!==-1?c[r]=-2:c[r]=g}function e(Y){if(n[Y])return 1/0;var J,G,H,U=c[Y],Z=x[Y];return U<0||Z<0?1/0:(J=d[Y],G=d[U],H=d[Z],Math.abs(u(J,G,H))/Math.sqrt(Math.pow(G[0]-H[0],2)+Math.pow(G[1]-H[1],2)))}function h(Y,J){var G=C[Y],H=C[J];C[Y]=H,C[J]=G,z[G]=J,z[H]=Y}function _(Y){return f[C[Y]]}function w(Y){return 1&Y?Y-1>>1:(Y>>1)-1}function S(Y){for(var J=_(Y);;){var G=J,H=2*Y+1,U=2*(Y+1),Z=Y;if(H<P){var q=_(H);q<G&&(Z=H,G=q)}if(U<P&&_(U)<G&&(Z=U),Z===Y)return Y;h(Y,Z),Y=Z}}function O(Y){for(var J=_(Y);Y>0;){var G=w(Y);if(!(G>=0&&J<_(G)))return Y;h(Y,G),Y=G}}function A(){if(P>0){var Y=C[0];return h(0,P-1),P-=1,S(0),Y}return-1}function I(Y,J){var G=C[Y];return f[G]===J?Y:(f[G]=-1/0,O(Y),A(),f[G]=J,O((P+=1)-1))}function B(Y){if(!n[Y]){n[Y]=!0;var J=c[Y],G=x[Y];c[G]>=0&&(c[G]=J),x[J]>=0&&(x[J]=G),z[J]>=0&&I(z[J],e(J)),z[G]>=0&&I(z[G],e(G))}}var C=[],z=new Array(y);for(o=0;o<y;++o)(f[o]=e(o))<1/0?(z[o]=C.length,C.push(o)):z[o]=-1;var P=C.length;for(o=P>>1;o>=0;--o)S(o);for(;;){var R=A();if(R<0||f[R]>v)break;B(R)}var N=[];for(o=0;o<y;++o)n[o]||(z[o]=N.length,N.push(d[o].slice()));function j(Y,J){if(Y[J]<0)return J;var G=J,H=J;do{var U=Y[H];if(!n[H]||U<0||U===H||(U=Y[H=U],!n[H]||U<0||U===H))break;H=U,G=Y[G]}while(G!==H);for(var Z=J;Z!==H;Z=Y[Z])Y[Z]=H;return H}N.length;var W=[];return l.forEach(function(Y){var J=j(c,Y[0]),G=j(x,Y[1]);if(J>=0&&G>=0&&J!==G){var H=z[J],U=z[G];H!==U&&W.push([H,U])}}),i.unique(i.normalize(W)),{positions:N,edges:W}};var u=t(3250),i=t(2014)},1303:function(b,a,t){b.exports=function(l,d){var v,y,p,c;if(d[0][0]<d[1][0])v=d[0],y=d[1];else{if(!(d[0][0]>d[1][0]))return i(d,l);v=d[1],y=d[0]}if(l[0][0]<l[1][0])p=l[0],c=l[1];else{if(!(l[0][0]>l[1][0]))return-i(l,d);p=l[1],c=l[0]}var x=u(v,y,c),f=u(v,y,p);if(x<0){if(f<=0)return x}else if(x>0){if(f>=0)return x}else if(f)return f;if(x=u(c,p,y),f=u(c,p,v),x<0){if(f<=0)return x}else if(x>0){if(f>=0)return x}else if(f)return f;return y[0]-c[0]};var u=t(3250);function i(l,d){var v,y,p,c;if(d[0][0]<d[1][0])v=d[0],y=d[1];else{if(!(d[0][0]>d[1][0])){var x=Math.min(l[0][1],l[1][1]),f=Math.max(l[0][1],l[1][1]),n=Math.min(d[0][1],d[1][1]),o=Math.max(d[0][1],d[1][1]);return f<n?f-n:x>o?x-o:f-o}v=d[1],y=d[0]}l[0][1]<l[1][1]?(p=l[0],c=l[1]):(p=l[1],c=l[0]);var s=u(y,v,p);return s||(s=u(y,v,c))||c-y}},4209:function(b,a,t){b.exports=function(f){for(var n=f.length,o=2*n,s=new Array(o),r=0;r<n;++r){var g=f[r],e=g[0][0]<g[1][0];s[2*r]=new x(g[0][0],g,e,r),s[2*r+1]=new x(g[1][0],g,!e,r)}s.sort(function(B,C){var z=B.x-C.x;return z||(z=B.create-C.create)||Math.min(B.segment[0][1],B.segment[1][1])-Math.min(C.segment[0][1],C.segment[1][1])});var h=i(d),_=[],w=[],S=[];for(r=0;r<o;){for(var O=s[r].x,A=[];r<o;){var I=s[r];if(I.x!==O)break;r+=1,I.segment[0][0]===I.x&&I.segment[1][0]===I.x?I.create&&(I.segment[0][1]<I.segment[1][1]?(A.push(new c(I.segment[0][1],I.index,!0,!0)),A.push(new c(I.segment[1][1],I.index,!1,!1))):(A.push(new c(I.segment[1][1],I.index,!0,!1)),A.push(new c(I.segment[0][1],I.index,!1,!0)))):h=I.create?h.insert(I.segment,I.index):h.remove(I.segment)}_.push(h.root),w.push(O),S.push(A)}return new v(_,w,S)};var u=t(2478),i=t(3840),l=t(3250),d=t(1303);function v(f,n,o){this.slabs=f,this.coordinates=n,this.horizontal=o}function y(f,n){return f.y-n}function p(f,n){for(var o=null;f;){var s,r,g=f.key;g[0][0]<g[1][0]?(s=g[0],r=g[1]):(s=g[1],r=g[0]);var e=l(s,r,n);if(e<0)f=f.left;else if(e>0)if(n[0]!==g[1][0])o=f,f=f.right;else{if(h=p(f.right,n))return h;f=f.left}else{if(n[0]!==g[1][0])return f;var h;if(h=p(f.right,n))return h;f=f.left}}return o}function c(f,n,o,s){this.y=f,this.index=n,this.start=o,this.closed=s}function x(f,n,o,s){this.x=f,this.segment=n,this.create=o,this.index=s}v.prototype.castUp=function(f){var n=u.le(this.coordinates,f[0]);if(n<0)return-1;this.slabs[n];var o=p(this.slabs[n],f),s=-1;if(o&&(s=o.value),this.coordinates[n]===f[0]){var r=null;if(o&&(r=o.key),n>0){var g=p(this.slabs[n-1],f);g&&(r?d(g.key,r)>0&&(r=g.key,s=g.value):(s=g.value,r=g.key))}var e=this.horizontal[n];if(e.length>0){var h=u.ge(e,f[1],y);if(h<e.length){var _=e[h];if(f[1]===_.y){if(_.closed)return _.index;for(;h<e.length-1&&e[h+1].y===f[1];)if((_=e[h+=1]).closed)return _.index;if(_.y===f[1]&&!_.start){if((h+=1)>=e.length)return s;_=e[h]}}if(_.start)if(r){var w=l(r[0],r[1],[f[0],_.y]);r[0][0]>r[1][0]&&(w=-w),w>0&&(s=_.index)}else s=_.index;else _.y!==f[1]&&(s=_.index)}}}return s}},5202:function(b,a,t){var u=t(1944),i=t(8210);function l(v,y){var p=i(u(v,y),[y[y.length-1]]);return p[p.length-1]}function d(v,y,p,c){var x=-y/(c-y);x<0?x=0:x>1&&(x=1);for(var f=1-x,n=v.length,o=new Array(n),s=0;s<n;++s)o[s]=x*v[s]+f*p[s];return o}b.exports=function(v,y){for(var p=[],c=[],x=l(v[v.length-1],y),f=v[v.length-1],n=v[0],o=0;o<v.length;++o,f=n){var s=l(n=v[o],y);if(x<0&&s>0||x>0&&s<0){var r=d(f,s,n,x);p.push(r),c.push(r.slice())}s<0?c.push(n.slice()):s>0?p.push(n.slice()):(p.push(n.slice()),c.push(n.slice())),x=s}return{positive:p,negative:c}},b.exports.positive=function(v,y){for(var p=[],c=l(v[v.length-1],y),x=v[v.length-1],f=v[0],n=0;n<v.length;++n,x=f){var o=l(f=v[n],y);(c<0&&o>0||c>0&&o<0)&&p.push(d(x,o,f,c)),o>=0&&p.push(f.slice()),c=o}return p},b.exports.negative=function(v,y){for(var p=[],c=l(v[v.length-1],y),x=v[v.length-1],f=v[0],n=0;n<v.length;++n,x=f){var o=l(f=v[n],y);(c<0&&o>0||c>0&&o<0)&&p.push(d(x,o,f,c)),o<=0&&p.push(f.slice()),c=o}return p}},3387:function(b,a,t){var u;(function(){var i={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function l(y){return function(p,c){var x,f,n,o,s,r,g,e,h,_=1,w=p.length,S="";for(f=0;f<w;f++)if(typeof p[f]=="string")S+=p[f];else if(typeof p[f]=="object"){if((o=p[f]).keys)for(x=c[_],n=0;n<o.keys.length;n++){if(x==null)throw new Error(l('[sprintf] Cannot access property "%s" of undefined value "%s"',o.keys[n],o.keys[n-1]));x=x[o.keys[n]]}else x=o.param_no?c[o.param_no]:c[_++];if(i.not_type.test(o.type)&&i.not_primitive.test(o.type)&&x instanceof Function&&(x=x()),i.numeric_arg.test(o.type)&&typeof x!="number"&&isNaN(x))throw new TypeError(l("[sprintf] expecting number but found %T",x));switch(i.number.test(o.type)&&(e=x>=0),o.type){case"b":x=parseInt(x,10).toString(2);break;case"c":x=String.fromCharCode(parseInt(x,10));break;case"d":case"i":x=parseInt(x,10);break;case"j":x=JSON.stringify(x,null,o.width?parseInt(o.width):0);break;case"e":x=o.precision?parseFloat(x).toExponential(o.precision):parseFloat(x).toExponential();break;case"f":x=o.precision?parseFloat(x).toFixed(o.precision):parseFloat(x);break;case"g":x=o.precision?String(Number(x.toPrecision(o.precision))):parseFloat(x);break;case"o":x=(parseInt(x,10)>>>0).toString(8);break;case"s":x=String(x),x=o.precision?x.substring(0,o.precision):x;break;case"t":x=String(!!x),x=o.precision?x.substring(0,o.precision):x;break;case"T":x=Object.prototype.toString.call(x).slice(8,-1).toLowerCase(),x=o.precision?x.substring(0,o.precision):x;break;case"u":x=parseInt(x,10)>>>0;break;case"v":x=x.valueOf(),x=o.precision?x.substring(0,o.precision):x;break;case"x":x=(parseInt(x,10)>>>0).toString(16);break;case"X":x=(parseInt(x,10)>>>0).toString(16).toUpperCase()}i.json.test(o.type)?S+=x:(!i.number.test(o.type)||e&&!o.sign?h="":(h=e?"+":"-",x=x.toString().replace(i.sign,"")),r=o.pad_char?o.pad_char==="0"?"0":o.pad_char.charAt(1):" ",g=o.width-(h+x).length,s=o.width&&g>0?r.repeat(g):"",S+=o.align?h+x+s:r==="0"?h+s+x:s+h+x)}return S}(function(p){if(v[p])return v[p];for(var c,x=p,f=[],n=0;x;){if((c=i.text.exec(x))!==null)f.push(c[0]);else if((c=i.modulo.exec(x))!==null)f.push("%");else{if((c=i.placeholder.exec(x))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){n|=1;var o=[],s=c[2],r=[];if((r=i.key.exec(s))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(r[1]);(s=s.substring(r[0].length))!=="";)if((r=i.key_access.exec(s))!==null)o.push(r[1]);else{if((r=i.index_access.exec(s))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(r[1])}c[2]=o}else n|=2;if(n===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");f.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}x=x.substring(c[0].length)}return v[p]=f}(y),arguments)}function d(y,p){return l.apply(null,[y].concat(p||[]))}var v=Object.create(null);a.sprintf=l,a.vsprintf=d,typeof window<"u"&&(window.sprintf=l,window.vsprintf=d,(u=(function(){return{sprintf:l,vsprintf:d}}).call(a,t,a,b))===void 0||(b.exports=u))})()},3711:function(b,a,t){b.exports=function(v,y){if(v.dimension<=0)return{positions:[],cells:[]};if(v.dimension===1)return function(x,f){for(var n=i(x,f),o=n.length,s=new Array(o),r=new Array(o),g=0;g<o;++g)s[g]=[n[g]],r[g]=[g];return{positions:s,cells:r}}(v,y);var p=v.order.join()+"-"+v.dtype,c=d[p];return y=+y||0,c||(c=d[p]=function(x,f){var n=x.length+"d",o=l[n];if(o)return o(u,x,f)}(v.order,v.dtype)),c(v,y)};var u=t(2640),i=t(781),l={"2d":function(v,y,p){var c=v({order:y,scalarArguments:3,getters:p==="generic"?[0]:void 0,phase:function(x,f,n,o){return x>o|0},vertex:function(x,f,n,o,s,r,g,e,h,_,w,S,O){var A=(g<<0)+(e<<1)+(h<<2)+(_<<3)|0;if(A!==0&&A!==15)switch(A){case 0:case 15:w.push([x-.5,f-.5]);break;case 1:w.push([x-.25-.25*(o+n-2*O)/(n-o),f-.25-.25*(s+n-2*O)/(n-s)]);break;case 2:w.push([x-.75-.25*(-o-n+2*O)/(o-n),f-.25-.25*(r+o-2*O)/(o-r)]);break;case 3:w.push([x-.5,f-.5-.5*(s+n+r+o-4*O)/(n-s+o-r)]);break;case 4:w.push([x-.25-.25*(r+s-2*O)/(s-r),f-.75-.25*(-s-n+2*O)/(s-n)]);break;case 5:w.push([x-.5-.5*(o+n+r+s-4*O)/(n-o+s-r),f-.5]);break;case 6:w.push([x-.5-.25*(-o-n+r+s)/(o-n+s-r),f-.5-.25*(-s-n+r+o)/(s-n+o-r)]);break;case 7:w.push([x-.75-.25*(r+s-2*O)/(s-r),f-.75-.25*(r+o-2*O)/(o-r)]);break;case 8:w.push([x-.75-.25*(-r-s+2*O)/(r-s),f-.75-.25*(-r-o+2*O)/(r-o)]);break;case 9:w.push([x-.5-.25*(o+n+-r-s)/(n-o+r-s),f-.5-.25*(s+n+-r-o)/(n-s+r-o)]);break;case 10:w.push([x-.5-.5*(-o-n-r-s+4*O)/(o-n+r-s),f-.5]);break;case 11:w.push([x-.25-.25*(-r-s+2*O)/(r-s),f-.75-.25*(s+n-2*O)/(n-s)]);break;case 12:w.push([x-.5,f-.5-.5*(-s-n-r-o+4*O)/(s-n+r-o)]);break;case 13:w.push([x-.75-.25*(o+n-2*O)/(n-o),f-.25-.25*(-r-o+2*O)/(r-o)]);break;case 14:w.push([x-.25-.25*(-o-n+2*O)/(o-n),f-.25-.25*(-s-n+2*O)/(s-n)])}},cell:function(x,f,n,o,s,r,g,e,h){s?e.push([x,f]):e.push([f,x])}});return function(x,f){var n=[],o=[];return c(x,n,o,f),{positions:n,cells:o}}}},d={}},529:function(b,a,t){b.exports=function d(v,y,p){var c=(p=p||{}).fontStyle||"normal",x=p.fontWeight||"normal",f=p.fontVariant||"normal",n=[c,x,f,v].join("_"),o=l[n];o||(o=l[n]={" ":{data:new Float32Array(0),shape:.2}});var s=o[y];if(!s)if(y.length<=1||!/\d/.test(y))s=o[y]=function(B){for(var C=B.cells,z=B.positions,P=new Float32Array(6*C.length),R=0,N=0,j=0;j<C.length;++j)for(var W=C[j],Y=0;Y<3;++Y){var J=z[W[Y]];P[R++]=J[0],P[R++]=J[1]+1.4,N=Math.max(J[0],N)}return{data:P,shape:N}}(u(y,{triangles:!0,font:v,fontStyle:c,fontWeight:x,fontVariant:f,textAlign:p.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var r=y.split(/(\d|\s)/),g=new Array(r.length),e=0,h=0,_=0;_<r.length;++_)g[_]=d(v,r[_]),e+=g[_].data.length,h+=g[_].shape,_>0&&(h+=.02);var w=new Float32Array(e),S=0,O=-.5*h;for(_=0;_<g.length;++_){for(var A=g[_].data,I=0;I<A.length;I+=2)w[S++]=A[I]+O,w[S++]=A[I+1];O+=g[_].shape+.02}s=o[y]={data:w,shape:h}}return s};var u=t(4359),i=window||D.global||{},l=i.__TEXT_CACHE||{};i.__TEXT_CACHE={}},665:function(b,a,t){var u=t(3202);b.exports=d;var i=96;function l(v,y){var p=u(getComputedStyle(v).getPropertyValue(y));return p[0]*d(p[1],v)}function d(v,y){switch(y=y||document.body,v=(v||"px").trim().toLowerCase(),y!==window&&y!==document||(y=document.body),v){case"%":return y.clientHeight/100;case"ch":case"ex":return function(p,c){var x=document.createElement("div");x.style["font-size"]="128"+p,c.appendChild(x);var f=l(x,"font-size")/128;return c.removeChild(x),f}(v,y);case"em":return l(y,"font-size");case"rem":return l(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},7261:function(b,a,t){b.exports=function(s){var r=(s=s||{}).center||[0,0,0],g=s.up||[0,1,0],e=s.right||x(g),h=s.radius||1,_=s.theta||0,w=s.phi||0;if(r=[].slice.call(r,0,3),g=[].slice.call(g,0,3),v(g,g),e=[].slice.call(e,0,3),v(e,e),"eye"in s){var S=s.eye,O=[S[0]-r[0],S[1]-r[1],S[2]-r[2]];d(e,O,g),p(e[0],e[1],e[2])<1e-6?e=x(g):v(e,e),h=p(O[0],O[1],O[2]);var A=y(g,O)/h,I=y(e,O)/h;w=Math.acos(A),_=Math.acos(I)}return h=Math.log(h),new f(s.zoomMin,s.zoomMax,r,g,e,h,_,w)};var u=t(9215),i=t(7608),l=t(6079),d=t(5911),v=t(3536),y=t(244);function p(s,r,g){return Math.sqrt(Math.pow(s,2)+Math.pow(r,2)+Math.pow(g,2))}function c(s){return Math.min(1,Math.max(-1,s))}function x(s){var r=Math.abs(s[0]),g=Math.abs(s[1]),e=Math.abs(s[2]),h=[0,0,0];r>Math.max(g,e)?h[2]=1:g>Math.max(r,e)?h[0]=1:h[1]=1;for(var _=0,w=0,S=0;S<3;++S)_+=s[S]*s[S],w+=h[S]*s[S];for(S=0;S<3;++S)h[S]-=w/_*s[S];return v(h,h),h}function f(s,r,g,e,h,_,w,S){this.center=u(g),this.up=u(e),this.right=u(h),this.radius=u([_]),this.angle=u([w,S]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(s,r),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var O=0;O<16;++O)this.computedMatrix[O]=.5;this.recalcMatrix(0)}var n=f.prototype;n.setDistanceLimits=function(s,r){s=s>0?Math.log(s):-1/0,r=r>0?Math.log(r):1/0,r=Math.max(r,s),this.radius.bounds[0][0]=s,this.radius.bounds[1][0]=r},n.getDistanceLimits=function(s){var r=this.radius.bounds[0];return s?(s[0]=Math.exp(r[0][0]),s[1]=Math.exp(r[1][0]),s):[Math.exp(r[0][0]),Math.exp(r[1][0])]},n.recalcMatrix=function(s){this.center.curve(s),this.up.curve(s),this.right.curve(s),this.radius.curve(s),this.angle.curve(s);for(var r=this.computedUp,g=this.computedRight,e=0,h=0,_=0;_<3;++_)h+=r[_]*g[_],e+=r[_]*r[_];var w=Math.sqrt(e),S=0;for(_=0;_<3;++_)g[_]-=r[_]*h/e,S+=g[_]*g[_],r[_]/=w;var O=Math.sqrt(S);for(_=0;_<3;++_)g[_]/=O;var A=this.computedToward;d(A,r,g),v(A,A);var I=Math.exp(this.computedRadius[0]),B=this.computedAngle[0],C=this.computedAngle[1],z=Math.cos(B),P=Math.sin(B),R=Math.cos(C),N=Math.sin(C),j=this.computedCenter,W=z*R,Y=P*R,J=N,G=-z*N,H=-P*N,U=R,Z=this.computedEye,q=this.computedMatrix;for(_=0;_<3;++_){var Q=W*g[_]+Y*A[_]+J*r[_];q[4*_+1]=G*g[_]+H*A[_]+U*r[_],q[4*_+2]=Q,q[4*_+3]=0}var ne=q[1],ie=q[5],le=q[9],fe=q[2],pe=q[6],me=q[10],ke=ie*me-le*pe,ve=le*fe-ne*me,he=ne*pe-ie*fe,de=p(ke,ve,he);for(ke/=de,ve/=de,he/=de,q[0]=ke,q[4]=ve,q[8]=he,_=0;_<3;++_)Z[_]=j[_]+q[2+4*_]*I;for(_=0;_<3;++_){S=0;for(var X=0;X<3;++X)S+=q[_+4*X]*Z[X];q[12+_]=-S}q[15]=1},n.getMatrix=function(s,r){this.recalcMatrix(s);var g=this.computedMatrix;if(r){for(var e=0;e<16;++e)r[e]=g[e];return r}return g};var o=[0,0,0];n.rotate=function(s,r,g,e){if(this.angle.move(s,r,g),e){this.recalcMatrix(s);var h=this.computedMatrix;o[0]=h[2],o[1]=h[6],o[2]=h[10];for(var _=this.computedUp,w=this.computedRight,S=this.computedToward,O=0;O<3;++O)h[4*O]=_[O],h[4*O+1]=w[O],h[4*O+2]=S[O];for(l(h,h,e,o),O=0;O<3;++O)_[O]=h[4*O],w[O]=h[4*O+1];this.up.set(s,_[0],_[1],_[2]),this.right.set(s,w[0],w[1],w[2])}},n.pan=function(s,r,g,e){r=r||0,g=g||0,e=e||0,this.recalcMatrix(s);var h=this.computedMatrix,_=(Math.exp(this.computedRadius[0]),h[1]),w=h[5],S=h[9],O=p(_,w,S);_/=O,w/=O,S/=O;var A=h[0],I=h[4],B=h[8],C=A*_+I*w+B*S,z=p(A-=_*C,I-=w*C,B-=S*C),P=(A/=z)*r+_*g,R=(I/=z)*r+w*g,N=(B/=z)*r+S*g;this.center.move(s,P,R,N);var j=Math.exp(this.computedRadius[0]);j=Math.max(1e-4,j+e),this.radius.set(s,Math.log(j))},n.translate=function(s,r,g,e){this.center.move(s,r||0,g||0,e||0)},n.setMatrix=function(s,r,g,e){var h=1;typeof g=="number"&&(h=0|g),(h<0||h>3)&&(h=1);var _=(h+2)%3;r||(this.recalcMatrix(s),r=this.computedMatrix);var w=r[h],S=r[h+4],O=r[h+8];if(e){var A=Math.abs(w),I=Math.abs(S),B=Math.abs(O),C=Math.max(A,I,B);A===C?(w=w<0?-1:1,S=O=0):B===C?(O=O<0?-1:1,w=S=0):(S=S<0?-1:1,w=O=0)}else{var z=p(w,S,O);w/=z,S/=z,O/=z}var P,R,N=r[_],j=r[_+4],W=r[_+8],Y=N*w+j*S+W*O,J=p(N-=w*Y,j-=S*Y,W-=O*Y),G=S*(W/=J)-O*(j/=J),H=O*(N/=J)-w*W,U=w*j-S*N,Z=p(G,H,U);if(G/=Z,H/=Z,U/=Z,this.center.jump(s,re,ue,we),this.radius.idle(s),this.up.jump(s,w,S,O),this.right.jump(s,N,j,W),h===2){var q=r[1],Q=r[5],ne=r[9],ie=q*N+Q*j+ne*W,le=q*G+Q*H+ne*U;P=ke<0?-Math.PI/2:Math.PI/2,R=Math.atan2(le,ie)}else{var fe=r[2],pe=r[6],me=r[10],ke=fe*w+pe*S+me*O,ve=fe*N+pe*j+me*W,he=fe*G+pe*H+me*U;P=Math.asin(c(ke)),R=Math.atan2(he,ve)}this.angle.jump(s,R,P),this.recalcMatrix(s);var de=r[2],X=r[6],ae=r[10],K=this.computedMatrix;i(K,r);var ge=K[15],re=K[12]/ge,ue=K[13]/ge,we=K[14]/ge,Te=Math.exp(this.computedRadius[0]);this.center.jump(s,re-de*Te,ue-X*Te,we-ae*Te)},n.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},n.idle=function(s){this.center.idle(s),this.up.idle(s),this.right.idle(s),this.radius.idle(s),this.angle.idle(s)},n.flush=function(s){this.center.flush(s),this.up.flush(s),this.right.flush(s),this.radius.flush(s),this.angle.flush(s)},n.setDistance=function(s,r){r>0&&this.radius.set(s,Math.log(r))},n.lookAt=function(s,r,g,e){this.recalcMatrix(s),r=r||this.computedEye,g=g||this.computedCenter;var h=(e=e||this.computedUp)[0],_=e[1],w=e[2],S=p(h,_,w);if(!(S<1e-6)){h/=S,_/=S,w/=S;var O=r[0]-g[0],A=r[1]-g[1],I=r[2]-g[2],B=p(O,A,I);if(!(B<1e-6)){O/=B,A/=B,I/=B;var C=this.computedRight,z=C[0],P=C[1],R=C[2],N=h*z+_*P+w*R,j=p(z-=N*h,P-=N*_,R-=N*w);if(!(j<.01&&(j=p(z=_*I-w*A,P=w*O-h*I,R=h*A-_*O))<1e-6)){z/=j,P/=j,R/=j,this.up.set(s,h,_,w),this.right.set(s,z,P,R),this.center.set(s,g[0],g[1],g[2]),this.radius.set(s,Math.log(B));var W=_*R-w*P,Y=w*z-h*R,J=h*P-_*z,G=p(W,Y,J),H=h*O+_*A+w*I,U=z*O+P*A+R*I,Z=(W/=G)*O+(Y/=G)*A+(J/=G)*I,q=Math.asin(c(H)),Q=Math.atan2(Z,U),ne=this.angle._state,ie=ne[ne.length-1],le=ne[ne.length-2];ie%=2*Math.PI;var fe=Math.abs(ie+2*Math.PI-Q),pe=Math.abs(ie-Q),me=Math.abs(ie-2*Math.PI-Q);fe<pe&&(ie+=2*Math.PI),me<pe&&(ie-=2*Math.PI),this.angle.jump(this.angle.lastT(),ie,le),this.angle.set(s,Q,q)}}}}},5250:function(b){b.exports=function(t,u,i){var l=t*u,d=a*t,v=d-(d-t),y=t-v,p=a*u,c=p-(p-u),x=u-c,f=y*x-(l-v*c-y*c-v*x);return i?(i[0]=f,i[1]=l,i):[f,l]};var a=+(Math.pow(2,27)+1)},9362:function(b){b.exports=function(a,t,u){var i=a+t,l=i-a,d=t-l,v=a-(i-l);return u?(u[0]=v+d,u[1]=i,u):[v+d,i]}},1888:function(b,a,t){var u=t(8828),i=t(1338),l=t(4793).hp;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var d=typeof Uint8ClampedArray<"u",v=typeof BigUint64Array<"u",y=typeof BigInt64Array<"u",p=t.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=i([32,0])),p.BIGUINT64||(p.BIGUINT64=i([32,0])),p.BIGINT64||(p.BIGINT64=i([32,0])),p.BUFFER||(p.BUFFER=i([32,0]));var c=p.DATA,x=p.BUFFER;function f(C){if(C){var z=C.length||C.byteLength,P=u.log2(z);c[P].push(C)}}function n(C){C=u.nextPow2(C);var z=u.log2(C),P=c[z];return P.length>0?P.pop():new ArrayBuffer(C)}function o(C){return new Uint8Array(n(C),0,C)}function s(C){return new Uint16Array(n(2*C),0,C)}function r(C){return new Uint32Array(n(4*C),0,C)}function g(C){return new Int8Array(n(C),0,C)}function e(C){return new Int16Array(n(2*C),0,C)}function h(C){return new Int32Array(n(4*C),0,C)}function _(C){return new Float32Array(n(4*C),0,C)}function w(C){return new Float64Array(n(8*C),0,C)}function S(C){return d?new Uint8ClampedArray(n(C),0,C):o(C)}function O(C){return v?new BigUint64Array(n(8*C),0,C):null}function A(C){return y?new BigInt64Array(n(8*C),0,C):null}function I(C){return new DataView(n(C),0,C)}function B(C){C=u.nextPow2(C);var z=u.log2(C),P=x[z];return P.length>0?P.pop():new l(C)}a.free=function(C){if(l.isBuffer(C))x[u.log2(C.length)].push(C);else{if(Object.prototype.toString.call(C)!=="[object ArrayBuffer]"&&(C=C.buffer),!C)return;var z=C.length||C.byteLength,P=0|u.log2(z);c[P].push(C)}},a.freeUint8=a.freeUint16=a.freeUint32=a.freeBigUint64=a.freeInt8=a.freeInt16=a.freeInt32=a.freeBigInt64=a.freeFloat32=a.freeFloat=a.freeFloat64=a.freeDouble=a.freeUint8Clamped=a.freeDataView=function(C){f(C.buffer)},a.freeArrayBuffer=f,a.freeBuffer=function(C){x[u.log2(C.length)].push(C)},a.malloc=function(C,z){if(z===void 0||z==="arraybuffer")return n(C);switch(z){case"uint8":return o(C);case"uint16":return s(C);case"uint32":return r(C);case"int8":return g(C);case"int16":return e(C);case"int32":return h(C);case"float":case"float32":return _(C);case"double":case"float64":return w(C);case"uint8_clamped":return S(C);case"bigint64":return A(C);case"biguint64":return O(C);case"buffer":return B(C);case"data":case"dataview":return I(C);default:return null}return null},a.mallocArrayBuffer=n,a.mallocUint8=o,a.mallocUint16=s,a.mallocUint32=r,a.mallocInt8=g,a.mallocInt16=e,a.mallocInt32=h,a.mallocFloat32=a.mallocFloat=_,a.mallocFloat64=a.mallocDouble=w,a.mallocUint8Clamped=S,a.mallocBigUint64=O,a.mallocBigInt64=A,a.mallocDataView=I,a.mallocBuffer=B,a.clearCache=function(){for(var C=0;C<32;++C)p.UINT8[C].length=0,p.UINT16[C].length=0,p.UINT32[C].length=0,p.INT8[C].length=0,p.INT16[C].length=0,p.INT32[C].length=0,p.FLOAT[C].length=0,p.DOUBLE[C].length=0,p.BIGUINT64[C].length=0,p.BIGINT64[C].length=0,p.UINT8C[C].length=0,c[C].length=0,x[C].length=0}},1755:function(b){function a(u){this.roots=new Array(u),this.ranks=new Array(u);for(var i=0;i<u;++i)this.roots[i]=i,this.ranks[i]=0}b.exports=a;var t=a.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var u=this.roots.length;return this.roots.push(u),this.ranks.push(0),u},t.find=function(u){for(var i=u,l=this.roots;l[u]!==u;)u=l[u];for(;l[i]!==u;){var d=l[i];l[i]=u,i=d}return u},t.link=function(u,i){var l=this.find(u),d=this.find(i);if(l!==d){var v=this.ranks,y=this.roots,p=v[l],c=v[d];p<c?y[l]=d:c<p?y[d]=l:(y[d]=l,++v[l])}}},1682:function(b){b.exports=function(a,t,u){return a.length===0?a:t?(u||a.sort(t),function(i,l){for(var d=1,v=i.length,y=i[0],p=i[0],c=1;c<v;++c)if(p=y,l(y=i[c],p)){if(c===d){d++;continue}i[d++]=y}return i.length=d,i}(a,t)):(u||a.sort(),function(i){for(var l=1,d=i.length,v=i[0],y=i[0],p=1;p<d;++p,y=v)if(y=v,(v=i[p])!==y){if(p===l){l++;continue}i[l++]=v}return i.length=l,i}(a))}},4359:function(b,a,t){b.exports=function(d,v){return typeof v=="object"&&v!==null||(v={}),u(d,v.canvas||i,v.context||l,v)};var u=t(7718),i=null,l=null;typeof document<"u"&&((i=document.createElement("canvas")).width=8192,i.height=1024,l=i.getContext("2d"))},7718:function(b,a,t){b.exports=function(O,A,I,B){var C=64,z=1.25,P={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return B&&(B.size&&B.size>0&&(C=B.size),B.lineSpacing&&B.lineSpacing>0&&(z=B.lineSpacing),B.styletags&&B.styletags.breaklines&&(P.breaklines=!!B.styletags.breaklines),B.styletags&&B.styletags.bolds&&(P.bolds=!!B.styletags.bolds),B.styletags&&B.styletags.italics&&(P.italics=!!B.styletags.italics),B.styletags&&B.styletags.subscripts&&(P.subscripts=!!B.styletags.subscripts),B.styletags&&B.styletags.superscripts&&(P.superscripts=!!B.styletags.superscripts)),I.font=[B.fontStyle,B.fontVariant,B.fontWeight,C+"px",B.font].filter(function(R){return R}).join(" "),I.textAlign="start",I.textBaseline="alphabetic",I.direction="ltr",S(function(R,N,j,W,Y,J){j=j.replace(/\n/g,""),j=J.breaklines===!0?j.replace(/\<br\>/g,`
`):j.replace(/\<br\>/g," ");var G="",H=[];for(Q=0;Q<j.length;++Q)H[Q]=G;J.bolds===!0&&(H=h(p,c,j,H)),J.italics===!0&&(H=h(x,f,j,H)),J.superscripts===!0&&(H=h(n,s,j,H)),J.subscripts===!0&&(H=h(r,e,j,H));var U=[],Z="";for(Q=0;Q<j.length;++Q)H[Q]!==null&&(Z+=j[Q],U.push(H[Q]));var q,Q,ne,ie,le,fe=Z.split(`
`),pe=fe.length,me=Math.round(Y*W),ke=W,ve=2*W,he=0,de=pe*me+ve;R.height<de&&(R.height=de),N.fillStyle="#000",N.fillRect(0,0,R.width,R.height),N.fillStyle="#fff";var X=0,ae="";function K(){if(ae!==""){var ce=N.measureText(ae).width;N.fillText(ae,ke+ne,ve+ie),ne+=ce}}function ge(){return Math.round(le)+"px "}function re(ce,be){var Ee=""+N.font;if(J.subscripts===!0){var Se=ce.indexOf(g),De=be.indexOf(g),Ge=Se>-1?parseInt(ce[1+Se]):0,Xe=De>-1?parseInt(be[1+De]):0;Ge!==Xe&&(Ee=Ee.replace(ge(),"?px "),le*=Math.pow(.75,Xe-Ge),Ee=Ee.replace("?px ",ge())),ie+=.25*me*(Xe-Ge)}if(J.superscripts===!0){var Ke=ce.indexOf(o),ut=be.indexOf(o),Tt=Ke>-1?parseInt(ce[1+Ke]):0,je=ut>-1?parseInt(be[1+ut]):0;Tt!==je&&(Ee=Ee.replace(ge(),"?px "),le*=Math.pow(.75,je-Tt),Ee=Ee.replace("?px ",ge())),ie-=.25*me*(je-Tt)}if(J.bolds===!0){var Le=ce.indexOf(c)>-1,$e=be.indexOf(c)>-1;!Le&&$e&&(Ee=st?Ee.replace("italic ","italic bold "):"bold "+Ee),Le&&!$e&&(Ee=Ee.replace("bold ",""))}if(J.italics===!0){var st=ce.indexOf(f)>-1,Ot=be.indexOf(f)>-1;!st&&Ot&&(Ee="italic "+Ee),st&&!Ot&&(Ee=Ee.replace("italic ",""))}N.font=Ee}for(q=0;q<pe;++q){var ue=fe[q]+`
`;for(ne=0,ie=q*me,le=W,ae="",Q=0;Q<ue.length;++Q){var we=Q+X<U.length?U[Q+X]:U[U.length-1];G===we?ae+=ue[Q]:(K(),ae=ue[Q],we!==void 0&&(re(G,we),G=we))}K(),X+=ue.length;var Te=0|Math.round(ne+2*ke);he<Te&&(he=Te)}var ee=he,se=ve+me*pe;return i(N.getImageData(0,0,ee,se).data,[se,ee,4]).pick(-1,-1,0).transpose(1,0)}(A,I,O,C,z,P),B,C)},b.exports.processPixels=S;var u=t(3711),i=t(9618),l=t(5878),d=t(332),v=t(2538),y=t(2095),p="b",c="b|",x="i",f="i|",n="sup",o="+",s="+1",r="sub",g="-",e="-1";function h(O,A,I,B){for(var C="<"+O+">",z="</"+O+">",P=C.length,R=z.length,N=A[0]===o||A[0]===g,j=0,W=-R;j>-1&&(j=I.indexOf(C,j))!==-1&&(W=I.indexOf(z,j+P))!==-1&&!(W<=j);){for(var Y=j;Y<W+R;++Y)if(Y<j+P||Y>=W)B[Y]=null,I=I.substr(0,Y)+" "+I.substr(Y+1);else if(B[Y]!==null){var J=B[Y].indexOf(A[0]);J===-1?B[Y]+=A:N&&(B[Y]=B[Y].substr(0,J+1)+(1+parseInt(B[Y][J+1]))+B[Y].substr(J+2))}var G=j+P,H=I.substr(G,W-G).indexOf(C);j=H!==-1?H:W+R}return B}function _(O,A){var I=u(O,128);return A?l(I.cells,I.positions,.25):{edges:I.cells,positions:I.positions}}function w(O,A,I,B){var C=_(O,B),z=function(q,Q,ne){for(var ie=Q.textAlign||"start",le=Q.textBaseline||"alphabetic",fe=[1<<30,1<<30],pe=[0,0],me=q.length,ke=0;ke<me;++ke)for(var ve=q[ke],he=0;he<2;++he)fe[he]=0|Math.min(fe[he],ve[he]),pe[he]=0|Math.max(pe[he],ve[he]);var de=0;switch(ie){case"center":de=-.5*(fe[0]+pe[0]);break;case"right":case"end":de=-pe[0];break;case"left":case"start":de=-fe[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+ie+"'")}var X=0;switch(le){case"hanging":case"top":X=-fe[1];break;case"middle":X=-.5*(fe[1]+pe[1]);break;case"alphabetic":case"ideographic":X=-3*ne;break;case"bottom":X=-pe[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+le+"'")}var ae=1/ne;return"lineHeight"in Q?ae*=+Q.lineHeight:"width"in Q?ae=Q.width/(pe[0]-fe[0]):"height"in Q&&(ae=Q.height/(pe[1]-fe[1])),q.map(function(K){return[ae*(K[0]+de),ae*(K[1]+X)]})}(C.positions,A,I),P=C.edges,R=A.orientation==="ccw";if(d(z,P),A.polygons||A.polygon||A.polyline){for(var N=y(P,z),j=new Array(N.length),W=0;W<N.length;++W){for(var Y=N[W],J=new Array(Y.length),G=0;G<Y.length;++G){for(var H=Y[G],U=new Array(H.length),Z=0;Z<H.length;++Z)U[Z]=z[H[Z]].slice();R&&U.reverse(),J[G]=U}j[W]=J}return j}return A.triangles||A.triangulate||A.triangle?{cells:v(z,P,{delaunay:!1,exterior:!1,interior:!0}),positions:z}:{edges:P,positions:z}}function S(O,A,I){try{return w(O,A,I,!0)}catch{}try{return w(O,A,I,!1)}catch{}return A.polygons||A.polyline||A.polygon?[]:A.triangles||A.triangulate||A.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},1538:function(b){(function(){if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var a=!1;if(typeof WeakMap=="function"){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var u=new t,i=Object.freeze({});if(u.set(i,1),u.get(i)===1)return void(b.exports=WeakMap);a=!0}}var l=Object.getOwnPropertyNames,d=Object.defineProperty,v=Object.isExtensible,y="weakmap:",p=y+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),x=new Uint8Array(c);crypto.getRandomValues(x),p=y+"rand:"+Array.prototype.map.call(x,function(w){return(w%36).toString(36)}).join("")+"___"}if(d(Object,"getOwnPropertyNames",{value:function(w){return l(w).filter(g)}}),"getPropertyNames"in Object){var f=Object.getPropertyNames;d(Object,"getPropertyNames",{value:function(w){return f(w).filter(g)}})}(function(){var w=Object.freeze;d(Object,"freeze",{value:function(A){return e(A),w(A)}});var S=Object.seal;d(Object,"seal",{value:function(A){return e(A),S(A)}});var O=Object.preventExtensions;d(Object,"preventExtensions",{value:function(A){return e(A),O(A)}})})();var n=!1,o=0,s=function(){this instanceof s||_();var w=[],S=[],O=o++;return Object.create(s.prototype,{get___:{value:h(function(A,I){var B,C=e(A);return C?O in C?C[O]:I:(B=w.indexOf(A))>=0?S[B]:I})},has___:{value:h(function(A){var I=e(A);return I?O in I:w.indexOf(A)>=0})},set___:{value:h(function(A,I){var B,C=e(A);return C?C[O]=I:(B=w.indexOf(A))>=0?S[B]=I:(B=w.length,S[B]=I,w[B]=A),this})},delete___:{value:h(function(A){var I,B,C=e(A);return C?O in C&&delete C[O]:!((I=w.indexOf(A))<0||(B=w.length-1,w[I]=void 0,S[I]=S[B],w[I]=w[B],w.length=B,S.length=B,0))})}})};s.prototype=Object.create(Object.prototype,{get:{value:function(w,S){return this.get___(w,S)},writable:!0,configurable:!0},has:{value:function(w){return this.has___(w)},writable:!0,configurable:!0},set:{value:function(w,S){return this.set___(w,S)},writable:!0,configurable:!0},delete:{value:function(w){return this.delete___(w)},writable:!0,configurable:!0}}),typeof t=="function"?function(){function w(){this instanceof s||_();var S,O=new t,A=void 0,I=!1;return S=a?function(B,C){return O.set(B,C),O.has(B)||(A||(A=new s),A.set(B,C)),this}:function(B,C){if(I)try{O.set(B,C)}catch{A||(A=new s),A.set___(B,C)}else O.set(B,C);return this},Object.create(s.prototype,{get___:{value:h(function(B,C){return A?O.has(B)?O.get(B):A.get___(B,C):O.get(B,C)})},has___:{value:h(function(B){return O.has(B)||!!A&&A.has___(B)})},set___:{value:h(S)},delete___:{value:h(function(B){var C=!!O.delete(B);return A&&A.delete___(B)||C})},permitHostObjects___:{value:h(function(B){if(B!==r)throw new Error("bogus call to permitHostObjects___");I=!0})}})}a&&typeof Proxy<"u"&&(Proxy=void 0),w.prototype=s.prototype,b.exports=w,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),b.exports=s)}function r(w){w.permitHostObjects___&&w.permitHostObjects___(r)}function g(w){return!(w.substr(0,8)==y&&w.substr(w.length-3)==="___")}function e(w){if(w!==Object(w))throw new TypeError("Not an object: "+w);var S=w[p];if(S&&S.key===w)return S;if(v(w)){S={key:w};try{return d(w,p,{value:S,writable:!1,enumerable:!1,configurable:!1}),S}catch{return}}}function h(w){return w.prototype=null,Object.freeze(w)}function _(){n||typeof console>"u"||(n=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},236:function(b,a,t){var u=t(8284);b.exports=function(){var i={};return function(l){if((typeof l!="object"||l===null)&&typeof l!="function")throw new Error("Weakmap-shim: Key must be object");var d=l.valueOf(i);return d&&d.identity===i?d:u(l,i)}}},8284:function(b){b.exports=function(a,t){var u={identity:t},i=a.valueOf;return Object.defineProperty(a,"valueOf",{value:function(l){return l!==t?i.apply(this,arguments):u},writable:!0}),u}},606:function(b,a,t){var u=t(236);b.exports=function(){var i=u();return{get:function(l,d){var v=i(l);return v.hasOwnProperty("value")?v.value:d},set:function(l,d){return i(l).value=d,this},has:function(l){return"value"in i(l)},delete:function(l){return delete i(l).value}}}},3349:function(b){b.exports=function(a){var t={};return function(u,i,l){var d=u.dtype,v=u.order,y=[d,v.join()].join(),p=t[y];return p||(t[y]=p=a([d,v])),p(u.shape.slice(0),u.data,u.stride,0|u.offset,i,l)}}((function(){return function(a,t,u,i,l,d){var v=a[0],y=u[0],p=[0],c=y;i|=0;var x=0,f=y;for(x=0;x<v;++x){var n=t[i]-d,o=t[i+c]-d;n>=0!=o>=0&&l.push(p[0]+.5+.5*(n+o)/(n-o)),i+=f,++p[0]}}}).bind(void 0,{funcName:"zeroCrossings"}))},781:function(b,a,t){b.exports=function(i,l){var d=[];return l=+l||0,u(i.hi(i.shape[0]-1),d,l),d};var u=t(3349)},7790:function(){}},T={};function k(b){var a=T[b];if(a!==void 0)return a.exports;var t=T[b]={id:b,loaded:!1,exports:{}};return E[b].call(t.exports,t,t.exports,k),t.loaded=!0,t.exports}k.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),k.nmd=function(b){return b.paths=[],b.children||(b.children=[]),b};var M=k(1964);$.exports=M})()},45708:function($,F,m){function L(X,ae){for(var K=0;K<ae.length;K++){var ge=ae[K];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(X,D(ge.key),ge)}}function D(X){var ae=function(K,ge){if(b(K)!="object"||!K)return K;var re=K[Symbol.toPrimitive];if(re!==void 0){var ue=re.call(K,"string");if(b(ue)!="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}(X);return b(ae)=="symbol"?ae:ae+""}function E(){try{var X=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E=function(){return!!X})()}function T(X){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},T(X)}function k(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function M(X,ae){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,ge){return K.__proto__=ge,K},M(X,ae)}function b(X){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},b(X)}var a=m(76226),t=m(27415),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;F.hp=d,F.IS=50;var i=2147483647;function l(X){if(X>i)throw new RangeError('The value "'+X+'" is invalid for option "size"');var ae=new Uint8Array(X);return Object.setPrototypeOf(ae,d.prototype),ae}function d(X,ae,K){if(typeof X=="number"){if(typeof ae=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(X)}return v(X,ae,K)}function v(X,ae,K){if(typeof X=="string")return function(ue,we){if(typeof we=="string"&&we!==""||(we="utf8"),!d.isEncoding(we))throw new TypeError("Unknown encoding: "+we);var Te=0|n(ue,we),ee=l(Te),se=ee.write(ue,we);return se!==Te&&(ee=ee.slice(0,se)),ee}(X,ae);if(ArrayBuffer.isView(X))return function(ue){if(me(ue,Uint8Array)){var we=new Uint8Array(ue);return x(we.buffer,we.byteOffset,we.byteLength)}return c(ue)}(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(X));if(me(X,ArrayBuffer)||X&&me(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(X,SharedArrayBuffer)||X&&me(X.buffer,SharedArrayBuffer)))return x(X,ae,K);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ge=X.valueOf&&X.valueOf();if(ge!=null&&ge!==X)return d.from(ge,ae,K);var re=function(ue){if(d.isBuffer(ue)){var we=0|f(ue.length),Te=l(we);return Te.length===0||ue.copy(Te,0,0,we),Te}return ue.length!==void 0?typeof ue.length!="number"||ke(ue.length)?l(0):c(ue):ue.type==="Buffer"&&Array.isArray(ue.data)?c(ue.data):void 0}(X);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return d.from(X[Symbol.toPrimitive]("string"),ae,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(X))}function y(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function p(X){return y(X),l(X<0?0:0|f(X))}function c(X){for(var ae=X.length<0?0:0|f(X.length),K=l(ae),ge=0;ge<ae;ge+=1)K[ge]=255&X[ge];return K}function x(X,ae,K){if(ae<0||X.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<ae+(K||0))throw new RangeError('"length" is outside of buffer bounds');var ge;return ge=ae===void 0&&K===void 0?new Uint8Array(X):K===void 0?new Uint8Array(X,ae):new Uint8Array(X,ae,K),Object.setPrototypeOf(ge,d.prototype),ge}function f(X){if(X>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|X}function n(X,ae){if(d.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||me(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(X));var K=X.length,ge=arguments.length>2&&arguments[2]===!0;if(!ge&&K===0)return 0;for(var re=!1;;)switch(ae){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return le(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return fe(X).length;default:if(re)return ge?-1:le(X).length;ae=(""+ae).toLowerCase(),re=!0}}function o(X,ae,K){var ge=!1;if((ae===void 0||ae<0)&&(ae=0),ae>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(ae>>>=0))return"";for(X||(X="utf8");;)switch(X){case"hex":return z(this,ae,K);case"utf8":case"utf-8":return A(this,ae,K);case"ascii":return B(this,ae,K);case"latin1":case"binary":return C(this,ae,K);case"base64":return O(this,ae,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,ae,K);default:if(ge)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),ge=!0}}function s(X,ae,K){var ge=X[ae];X[ae]=X[K],X[K]=ge}function r(X,ae,K,ge,re){if(X.length===0)return-1;if(typeof K=="string"?(ge=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),ke(K=+K)&&(K=re?0:X.length-1),K<0&&(K=X.length+K),K>=X.length){if(re)return-1;K=X.length-1}else if(K<0){if(!re)return-1;K=0}if(typeof ae=="string"&&(ae=d.from(ae,ge)),d.isBuffer(ae))return ae.length===0?-1:g(X,ae,K,ge,re);if(typeof ae=="number")return ae&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(X,ae,K):Uint8Array.prototype.lastIndexOf.call(X,ae,K):g(X,[ae],K,ge,re);throw new TypeError("val must be string, number or Buffer")}function g(X,ae,K,ge,re){var ue,we=1,Te=X.length,ee=ae.length;if(ge!==void 0&&((ge=String(ge).toLowerCase())==="ucs2"||ge==="ucs-2"||ge==="utf16le"||ge==="utf-16le")){if(X.length<2||ae.length<2)return-1;we=2,Te/=2,ee/=2,K/=2}function se(Se,De){return we===1?Se[De]:Se.readUInt16BE(De*we)}if(re){var ce=-1;for(ue=K;ue<Te;ue++)if(se(X,ue)===se(ae,ce===-1?0:ue-ce)){if(ce===-1&&(ce=ue),ue-ce+1===ee)return ce*we}else ce!==-1&&(ue-=ue-ce),ce=-1}else for(K+ee>Te&&(K=Te-ee),ue=K;ue>=0;ue--){for(var be=!0,Ee=0;Ee<ee;Ee++)if(se(X,ue+Ee)!==se(ae,Ee)){be=!1;break}if(be)return ue}return-1}function e(X,ae,K,ge){K=Number(K)||0;var re=X.length-K;ge?(ge=Number(ge))>re&&(ge=re):ge=re;var ue,we=ae.length;for(ge>we/2&&(ge=we/2),ue=0;ue<ge;++ue){var Te=parseInt(ae.substr(2*ue,2),16);if(ke(Te))return ue;X[K+ue]=Te}return ue}function h(X,ae,K,ge){return pe(le(ae,X.length-K),X,K,ge)}function _(X,ae,K,ge){return pe(function(re){for(var ue=[],we=0;we<re.length;++we)ue.push(255&re.charCodeAt(we));return ue}(ae),X,K,ge)}function w(X,ae,K,ge){return pe(fe(ae),X,K,ge)}function S(X,ae,K,ge){return pe(function(re,ue){for(var we,Te,ee,se=[],ce=0;ce<re.length&&!((ue-=2)<0);++ce)Te=(we=re.charCodeAt(ce))>>8,ee=we%256,se.push(ee),se.push(Te);return se}(ae,X.length-K),X,K,ge)}function O(X,ae,K){return ae===0&&K===X.length?a.fromByteArray(X):a.fromByteArray(X.slice(ae,K))}function A(X,ae,K){K=Math.min(X.length,K);for(var ge=[],re=ae;re<K;){var ue=X[re],we=null,Te=ue>239?4:ue>223?3:ue>191?2:1;if(re+Te<=K){var ee=void 0,se=void 0,ce=void 0,be=void 0;switch(Te){case 1:ue<128&&(we=ue);break;case 2:(192&(ee=X[re+1]))==128&&(be=(31&ue)<<6|63&ee)>127&&(we=be);break;case 3:ee=X[re+1],se=X[re+2],(192&ee)==128&&(192&se)==128&&(be=(15&ue)<<12|(63&ee)<<6|63&se)>2047&&(be<55296||be>57343)&&(we=be);break;case 4:ee=X[re+1],se=X[re+2],ce=X[re+3],(192&ee)==128&&(192&se)==128&&(192&ce)==128&&(be=(15&ue)<<18|(63&ee)<<12|(63&se)<<6|63&ce)>65535&&be<1114112&&(we=be)}}we===null?(we=65533,Te=1):we>65535&&(we-=65536,ge.push(we>>>10&1023|55296),we=56320|1023&we),ge.push(we),re+=Te}return function(Ee){var Se=Ee.length;if(Se<=I)return String.fromCharCode.apply(String,Ee);for(var De="",Ge=0;Ge<Se;)De+=String.fromCharCode.apply(String,Ee.slice(Ge,Ge+=I));return De}(ge)}d.TYPED_ARRAY_SUPPORT=function(){try{var X=new Uint8Array(1),ae={foo:function(){return 42}};return Object.setPrototypeOf(ae,Uint8Array.prototype),Object.setPrototypeOf(X,ae),X.foo()===42}catch{return!1}}(),d.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(X,ae,K){return v(X,ae,K)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(X,ae,K){return function(ge,re,ue){return y(ge),ge<=0?l(ge):re!==void 0?typeof ue=="string"?l(ge).fill(re,ue):l(ge).fill(re):l(ge)}(X,ae,K)},d.allocUnsafe=function(X){return p(X)},d.allocUnsafeSlow=function(X){return p(X)},d.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==d.prototype},d.compare=function(X,ae){if(me(X,Uint8Array)&&(X=d.from(X,X.offset,X.byteLength)),me(ae,Uint8Array)&&(ae=d.from(ae,ae.offset,ae.byteLength)),!d.isBuffer(X)||!d.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===ae)return 0;for(var K=X.length,ge=ae.length,re=0,ue=Math.min(K,ge);re<ue;++re)if(X[re]!==ae[re]){K=X[re],ge=ae[re];break}return K<ge?-1:ge<K?1:0},d.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(X,ae){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return d.alloc(0);var K;if(ae===void 0)for(ae=0,K=0;K<X.length;++K)ae+=X[K].length;var ge=d.allocUnsafe(ae),re=0;for(K=0;K<X.length;++K){var ue=X[K];if(me(ue,Uint8Array))re+ue.length>ge.length?(d.isBuffer(ue)||(ue=d.from(ue)),ue.copy(ge,re)):Uint8Array.prototype.set.call(ge,ue,re);else{if(!d.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(ge,re)}re+=ue.length}return ge},d.byteLength=n,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ae=0;ae<X;ae+=2)s(this,ae,ae+1);return this},d.prototype.swap32=function(){var X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ae=0;ae<X;ae+=4)s(this,ae,ae+3),s(this,ae+1,ae+2);return this},d.prototype.swap64=function(){var X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ae=0;ae<X;ae+=8)s(this,ae,ae+7),s(this,ae+1,ae+6),s(this,ae+2,ae+5),s(this,ae+3,ae+4);return this},d.prototype.toString=function(){var X=this.length;return X===0?"":arguments.length===0?A(this,0,X):o.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(X){if(!d.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X||d.compare(this,X)===0},d.prototype.inspect=function(){var X="",ae=F.IS;return X=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(X+=" ... "),"<Buffer "+X+">"},u&&(d.prototype[u]=d.prototype.inspect),d.prototype.compare=function(X,ae,K,ge,re){if(me(X,Uint8Array)&&(X=d.from(X,X.offset,X.byteLength)),!d.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(X));if(ae===void 0&&(ae=0),K===void 0&&(K=X?X.length:0),ge===void 0&&(ge=0),re===void 0&&(re=this.length),ae<0||K>X.length||ge<0||re>this.length)throw new RangeError("out of range index");if(ge>=re&&ae>=K)return 0;if(ge>=re)return-1;if(ae>=K)return 1;if(this===X)return 0;for(var ue=(re>>>=0)-(ge>>>=0),we=(K>>>=0)-(ae>>>=0),Te=Math.min(ue,we),ee=this.slice(ge,re),se=X.slice(ae,K),ce=0;ce<Te;++ce)if(ee[ce]!==se[ce]){ue=ee[ce],we=se[ce];break}return ue<we?-1:we<ue?1:0},d.prototype.includes=function(X,ae,K){return this.indexOf(X,ae,K)!==-1},d.prototype.indexOf=function(X,ae,K){return r(this,X,ae,K,!0)},d.prototype.lastIndexOf=function(X,ae,K){return r(this,X,ae,K,!1)},d.prototype.write=function(X,ae,K,ge){if(ae===void 0)ge="utf8",K=this.length,ae=0;else if(K===void 0&&typeof ae=="string")ge=ae,K=this.length,ae=0;else{if(!isFinite(ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ae>>>=0,isFinite(K)?(K>>>=0,ge===void 0&&(ge="utf8")):(ge=K,K=void 0)}var re=this.length-ae;if((K===void 0||K>re)&&(K=re),X.length>0&&(K<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");for(var ue=!1;;)switch(ge){case"hex":return e(this,X,ae,K);case"utf8":case"utf-8":return h(this,X,ae,K);case"ascii":case"latin1":case"binary":return _(this,X,ae,K);case"base64":return w(this,X,ae,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,X,ae,K);default:if(ue)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),ue=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function B(X,ae,K){var ge="";K=Math.min(X.length,K);for(var re=ae;re<K;++re)ge+=String.fromCharCode(127&X[re]);return ge}function C(X,ae,K){var ge="";K=Math.min(X.length,K);for(var re=ae;re<K;++re)ge+=String.fromCharCode(X[re]);return ge}function z(X,ae,K){var ge=X.length;(!ae||ae<0)&&(ae=0),(!K||K<0||K>ge)&&(K=ge);for(var re="",ue=ae;ue<K;++ue)re+=ve[X[ue]];return re}function P(X,ae,K){for(var ge=X.slice(ae,K),re="",ue=0;ue<ge.length-1;ue+=2)re+=String.fromCharCode(ge[ue]+256*ge[ue+1]);return re}function R(X,ae,K){if(X%1!=0||X<0)throw new RangeError("offset is not uint");if(X+ae>K)throw new RangeError("Trying to access beyond buffer length")}function N(X,ae,K,ge,re,ue){if(!d.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae>re||ae<ue)throw new RangeError('"value" argument is out of bounds');if(K+ge>X.length)throw new RangeError("Index out of range")}function j(X,ae,K,ge,re){q(ae,ge,re,X,K,7);var ue=Number(ae&BigInt(4294967295));X[K++]=ue,ue>>=8,X[K++]=ue,ue>>=8,X[K++]=ue,ue>>=8,X[K++]=ue;var we=Number(ae>>BigInt(32)&BigInt(4294967295));return X[K++]=we,we>>=8,X[K++]=we,we>>=8,X[K++]=we,we>>=8,X[K++]=we,K}function W(X,ae,K,ge,re){q(ae,ge,re,X,K,7);var ue=Number(ae&BigInt(4294967295));X[K+7]=ue,ue>>=8,X[K+6]=ue,ue>>=8,X[K+5]=ue,ue>>=8,X[K+4]=ue;var we=Number(ae>>BigInt(32)&BigInt(4294967295));return X[K+3]=we,we>>=8,X[K+2]=we,we>>=8,X[K+1]=we,we>>=8,X[K]=we,K+8}function Y(X,ae,K,ge,re,ue){if(K+ge>X.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function J(X,ae,K,ge,re){return ae=+ae,K>>>=0,re||Y(X,0,K,4),t.write(X,ae,K,ge,23,4),K+4}function G(X,ae,K,ge,re){return ae=+ae,K>>>=0,re||Y(X,0,K,8),t.write(X,ae,K,ge,52,8),K+8}d.prototype.slice=function(X,ae){var K=this.length;(X=~~X)<0?(X+=K)<0&&(X=0):X>K&&(X=K),(ae=ae===void 0?K:~~ae)<0?(ae+=K)<0&&(ae=0):ae>K&&(ae=K),ae<X&&(ae=X);var ge=this.subarray(X,ae);return Object.setPrototypeOf(ge,d.prototype),ge},d.prototype.readUintLE=d.prototype.readUIntLE=function(X,ae,K){X>>>=0,ae>>>=0,K||R(X,ae,this.length);for(var ge=this[X],re=1,ue=0;++ue<ae&&(re*=256);)ge+=this[X+ue]*re;return ge},d.prototype.readUintBE=d.prototype.readUIntBE=function(X,ae,K){X>>>=0,ae>>>=0,K||R(X,ae,this.length);for(var ge=this[X+--ae],re=1;ae>0&&(re*=256);)ge+=this[X+--ae]*re;return ge},d.prototype.readUint8=d.prototype.readUInt8=function(X,ae){return X>>>=0,ae||R(X,1,this.length),this[X]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(X,ae){return X>>>=0,ae||R(X,2,this.length),this[X]|this[X+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(X,ae){return X>>>=0,ae||R(X,2,this.length),this[X]<<8|this[X+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(X,ae){return X>>>=0,ae||R(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(X,ae){return X>>>=0,ae||R(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},d.prototype.readBigUInt64LE=he(function(X){Q(X>>>=0,"offset");var ae=this[X],K=this[X+7];ae!==void 0&&K!==void 0||ne(X,this.length-8);var ge=ae+this[++X]*Math.pow(2,8)+this[++X]*Math.pow(2,16)+this[++X]*Math.pow(2,24),re=this[++X]+this[++X]*Math.pow(2,8)+this[++X]*Math.pow(2,16)+K*Math.pow(2,24);return BigInt(ge)+(BigInt(re)<<BigInt(32))}),d.prototype.readBigUInt64BE=he(function(X){Q(X>>>=0,"offset");var ae=this[X],K=this[X+7];ae!==void 0&&K!==void 0||ne(X,this.length-8);var ge=ae*Math.pow(2,24)+this[++X]*Math.pow(2,16)+this[++X]*Math.pow(2,8)+this[++X],re=this[++X]*Math.pow(2,24)+this[++X]*Math.pow(2,16)+this[++X]*Math.pow(2,8)+K;return(BigInt(ge)<<BigInt(32))+BigInt(re)}),d.prototype.readIntLE=function(X,ae,K){X>>>=0,ae>>>=0,K||R(X,ae,this.length);for(var ge=this[X],re=1,ue=0;++ue<ae&&(re*=256);)ge+=this[X+ue]*re;return ge>=(re*=128)&&(ge-=Math.pow(2,8*ae)),ge},d.prototype.readIntBE=function(X,ae,K){X>>>=0,ae>>>=0,K||R(X,ae,this.length);for(var ge=ae,re=1,ue=this[X+--ge];ge>0&&(re*=256);)ue+=this[X+--ge]*re;return ue>=(re*=128)&&(ue-=Math.pow(2,8*ae)),ue},d.prototype.readInt8=function(X,ae){return X>>>=0,ae||R(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},d.prototype.readInt16LE=function(X,ae){X>>>=0,ae||R(X,2,this.length);var K=this[X]|this[X+1]<<8;return 32768&K?4294901760|K:K},d.prototype.readInt16BE=function(X,ae){X>>>=0,ae||R(X,2,this.length);var K=this[X+1]|this[X]<<8;return 32768&K?4294901760|K:K},d.prototype.readInt32LE=function(X,ae){return X>>>=0,ae||R(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},d.prototype.readInt32BE=function(X,ae){return X>>>=0,ae||R(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},d.prototype.readBigInt64LE=he(function(X){Q(X>>>=0,"offset");var ae=this[X],K=this[X+7];ae!==void 0&&K!==void 0||ne(X,this.length-8);var ge=this[X+4]+this[X+5]*Math.pow(2,8)+this[X+6]*Math.pow(2,16)+(K<<24);return(BigInt(ge)<<BigInt(32))+BigInt(ae+this[++X]*Math.pow(2,8)+this[++X]*Math.pow(2,16)+this[++X]*Math.pow(2,24))}),d.prototype.readBigInt64BE=he(function(X){Q(X>>>=0,"offset");var ae=this[X],K=this[X+7];ae!==void 0&&K!==void 0||ne(X,this.length-8);var ge=(ae<<24)+this[++X]*Math.pow(2,16)+this[++X]*Math.pow(2,8)+this[++X];return(BigInt(ge)<<BigInt(32))+BigInt(this[++X]*Math.pow(2,24)+this[++X]*Math.pow(2,16)+this[++X]*Math.pow(2,8)+K)}),d.prototype.readFloatLE=function(X,ae){return X>>>=0,ae||R(X,4,this.length),t.read(this,X,!0,23,4)},d.prototype.readFloatBE=function(X,ae){return X>>>=0,ae||R(X,4,this.length),t.read(this,X,!1,23,4)},d.prototype.readDoubleLE=function(X,ae){return X>>>=0,ae||R(X,8,this.length),t.read(this,X,!0,52,8)},d.prototype.readDoubleBE=function(X,ae){return X>>>=0,ae||R(X,8,this.length),t.read(this,X,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(X,ae,K,ge){X=+X,ae>>>=0,K>>>=0,ge||N(this,X,ae,K,Math.pow(2,8*K)-1,0);var re=1,ue=0;for(this[ae]=255&X;++ue<K&&(re*=256);)this[ae+ue]=X/re&255;return ae+K},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(X,ae,K,ge){X=+X,ae>>>=0,K>>>=0,ge||N(this,X,ae,K,Math.pow(2,8*K)-1,0);var re=K-1,ue=1;for(this[ae+re]=255&X;--re>=0&&(ue*=256);)this[ae+re]=X/ue&255;return ae+K},d.prototype.writeUint8=d.prototype.writeUInt8=function(X,ae,K){return X=+X,ae>>>=0,K||N(this,X,ae,1,255,0),this[ae]=255&X,ae+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(X,ae,K){return X=+X,ae>>>=0,K||N(this,X,ae,2,65535,0),this[ae]=255&X,this[ae+1]=X>>>8,ae+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(X,ae,K){return X=+X,ae>>>=0,K||N(this,X,ae,2,65535,0),this[ae]=X>>>8,this[ae+1]=255&X,ae+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(X,ae,K){return X=+X,ae>>>=0,K||N(this,X,ae,4,4294967295,0),this[ae+3]=X>>>24,this[ae+2]=X>>>16,this[ae+1]=X>>>8,this[ae]=255&X,ae+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(X,ae,K){return X=+X,ae>>>=0,K||N(this,X,ae,4,4294967295,0),this[ae]=X>>>24,this[ae+1]=X>>>16,this[ae+2]=X>>>8,this[ae+3]=255&X,ae+4},d.prototype.writeBigUInt64LE=he(function(X){return j(this,X,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=he(function(X){return W(this,X,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(X,ae,K,ge){if(X=+X,ae>>>=0,!ge){var re=Math.pow(2,8*K-1);N(this,X,ae,K,re-1,-re)}var ue=0,we=1,Te=0;for(this[ae]=255&X;++ue<K&&(we*=256);)X<0&&Te===0&&this[ae+ue-1]!==0&&(Te=1),this[ae+ue]=(X/we>>0)-Te&255;return ae+K},d.prototype.writeIntBE=function(X,ae,K,ge){if(X=+X,ae>>>=0,!ge){var re=Math.pow(2,8*K-1);N(this,X,ae,K,re-1,-re)}var ue=K-1,we=1,Te=0;for(this[ae+ue]=255&X;--ue>=0&&(we*=256);)X<0&&Te===0&&this[ae+ue+1]!==0&&(Te=1),this[ae+ue]=(X/we>>0)-Te&255;return ae+K},d.prototype.writeInt8=function(X,ae,K){return X=+X,ae>>>=0,K||N(this,X,ae,1,127,-128),X<0&&(X=255+X+1),this[ae]=255&X,ae+1},d.prototype.writeInt16LE=function(X,ae,K){return X=+X,ae>>>=0,K||N(this,X,ae,2,32767,-32768),this[ae]=255&X,this[ae+1]=X>>>8,ae+2},d.prototype.writeInt16BE=function(X,ae,K){return X=+X,ae>>>=0,K||N(this,X,ae,2,32767,-32768),this[ae]=X>>>8,this[ae+1]=255&X,ae+2},d.prototype.writeInt32LE=function(X,ae,K){return X=+X,ae>>>=0,K||N(this,X,ae,4,2147483647,-2147483648),this[ae]=255&X,this[ae+1]=X>>>8,this[ae+2]=X>>>16,this[ae+3]=X>>>24,ae+4},d.prototype.writeInt32BE=function(X,ae,K){return X=+X,ae>>>=0,K||N(this,X,ae,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[ae]=X>>>24,this[ae+1]=X>>>16,this[ae+2]=X>>>8,this[ae+3]=255&X,ae+4},d.prototype.writeBigInt64LE=he(function(X){return j(this,X,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=he(function(X){return W(this,X,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeFloatLE=function(X,ae,K){return J(this,X,ae,!0,K)},d.prototype.writeFloatBE=function(X,ae,K){return J(this,X,ae,!1,K)},d.prototype.writeDoubleLE=function(X,ae,K){return G(this,X,ae,!0,K)},d.prototype.writeDoubleBE=function(X,ae,K){return G(this,X,ae,!1,K)},d.prototype.copy=function(X,ae,K,ge){if(!d.isBuffer(X))throw new TypeError("argument should be a Buffer");if(K||(K=0),ge||ge===0||(ge=this.length),ae>=X.length&&(ae=X.length),ae||(ae=0),ge>0&&ge<K&&(ge=K),ge===K||X.length===0||this.length===0)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),X.length-ae<ge-K&&(ge=X.length-ae+K);var re=ge-K;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ae,K,ge):Uint8Array.prototype.set.call(X,this.subarray(K,ge),ae),re},d.prototype.fill=function(X,ae,K,ge){if(typeof X=="string"){if(typeof ae=="string"?(ge=ae,ae=0,K=this.length):typeof K=="string"&&(ge=K,K=this.length),ge!==void 0&&typeof ge!="string")throw new TypeError("encoding must be a string");if(typeof ge=="string"&&!d.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);if(X.length===1){var re=X.charCodeAt(0);(ge==="utf8"&&re<128||ge==="latin1")&&(X=re)}}else typeof X=="number"?X&=255:typeof X=="boolean"&&(X=Number(X));if(ae<0||this.length<ae||this.length<K)throw new RangeError("Out of range index");if(K<=ae)return this;var ue;if(ae>>>=0,K=K===void 0?this.length:K>>>0,X||(X=0),typeof X=="number")for(ue=ae;ue<K;++ue)this[ue]=X;else{var we=d.isBuffer(X)?X:d.from(X,ge),Te=we.length;if(Te===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(ue=0;ue<K-ae;++ue)this[ue+ae]=we[ue%Te]}return this};var H={};function U(X,ae,K){H[X]=function(ge){function re(){var Te;return function(ee,se){if(!(ee instanceof se))throw new TypeError("Cannot call a class as a function")}(this,re),Te=function(ee,se,ce){return se=T(se),function(be,Ee){if(Ee&&(b(Ee)=="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(be)}(ee,E()?Reflect.construct(se,[],T(ee).constructor):se.apply(ee,ce))}(this,re),Object.defineProperty(k(Te),"message",{value:ae.apply(k(Te),arguments),writable:!0,configurable:!0}),Te.name="".concat(Te.name," [").concat(X,"]"),Te.stack,delete Te.name,Te}var ue,we;return function(Te,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),ee&&M(Te,ee)}(re,ge),ue=re,(we=[{key:"code",get:function(){return X},set:function(Te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Te,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(X,"]: ").concat(this.message)}}])&&L(ue.prototype,we),Object.defineProperty(ue,"prototype",{writable:!1}),re}(K)}function Z(X){for(var ae="",K=X.length,ge=X[0]==="-"?1:0;K>=ge+4;K-=3)ae="_".concat(X.slice(K-3,K)).concat(ae);return"".concat(X.slice(0,K)).concat(ae)}function q(X,ae,K,ge,re,ue){if(X>K||X<ae){var we,Te=typeof ae=="bigint"?"n":"";throw we=ae===0||ae===BigInt(0)?">= 0".concat(Te," and < 2").concat(Te," ** ").concat(8*(ue+1)).concat(Te):">= -(2".concat(Te," ** ").concat(8*(ue+1)-1).concat(Te,") and < 2 ** ")+"".concat(8*(ue+1)-1).concat(Te),new H.ERR_OUT_OF_RANGE("value",we,X)}(function(ee,se,ce){Q(se,"offset"),ee[se]!==void 0&&ee[se+ce]!==void 0||ne(se,ee.length-(ce+1))})(ge,re,ue)}function Q(X,ae){if(typeof X!="number")throw new H.ERR_INVALID_ARG_TYPE(ae,"number",X)}function ne(X,ae,K){throw Math.floor(X)!==X?(Q(X,K),new H.ERR_OUT_OF_RANGE("offset","an integer",X)):ae<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(ae),X)}U("ERR_BUFFER_OUT_OF_BOUNDS",function(X){return X?"".concat(X," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(X,ae){return'The "'.concat(X,'" argument must be of type number. Received type ').concat(b(ae))},TypeError),U("ERR_OUT_OF_RANGE",function(X,ae,K){var ge='The value of "'.concat(X,'" is out of range.'),re=K;return Number.isInteger(K)&&Math.abs(K)>Math.pow(2,32)?re=Z(String(K)):typeof K=="bigint"&&(re=String(K),(K>Math.pow(BigInt(2),BigInt(32))||K<-Math.pow(BigInt(2),BigInt(32)))&&(re=Z(re)),re+="n"),ge+" It must be ".concat(ae,". Received ").concat(re)},RangeError);var ie=/[^+/0-9A-Za-z-_]/g;function le(X,ae){var K;ae=ae||1/0;for(var ge=X.length,re=null,ue=[],we=0;we<ge;++we){if((K=X.charCodeAt(we))>55295&&K<57344){if(!re){if(K>56319){(ae-=3)>-1&&ue.push(239,191,189);continue}if(we+1===ge){(ae-=3)>-1&&ue.push(239,191,189);continue}re=K;continue}if(K<56320){(ae-=3)>-1&&ue.push(239,191,189),re=K;continue}K=65536+(re-55296<<10|K-56320)}else re&&(ae-=3)>-1&&ue.push(239,191,189);if(re=null,K<128){if((ae-=1)<0)break;ue.push(K)}else if(K<2048){if((ae-=2)<0)break;ue.push(K>>6|192,63&K|128)}else if(K<65536){if((ae-=3)<0)break;ue.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((ae-=4)<0)break;ue.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return ue}function fe(X){return a.toByteArray(function(ae){if((ae=(ae=ae.split("=")[0]).trim().replace(ie,"")).length<2)return"";for(;ae.length%4!=0;)ae+="=";return ae}(X))}function pe(X,ae,K,ge){var re;for(re=0;re<ge&&!(re+K>=ae.length||re>=X.length);++re)ae[re+K]=X[re];return re}function me(X,ae){return X instanceof ae||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===ae.name}function ke(X){return X!=X}var ve=function(){for(var X="0123456789abcdef",ae=new Array(256),K=0;K<16;++K)for(var ge=16*K,re=0;re<16;++re)ae[ge+re]=X[K]+X[re];return ae}();function he(X){return typeof BigInt>"u"?de:X}function de(){throw new Error("BigInt not supported")}},13087:function($){$.exports=D,$.exports.isMobile=D,$.exports.default=D;var F=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,m=/CrOS/,L=/android|ipad|playbook|silk/i;function D(E){E||(E={});var T=E.ua;if(T||typeof navigator>"u"||(T=navigator.userAgent),T&&T.headers&&typeof T.headers["user-agent"]=="string"&&(T=T.headers["user-agent"]),typeof T!="string")return!1;var k=F.test(T)&&!m.test(T)||!!E.tablet&&L.test(T);return!k&&E.tablet&&E.featureDetect&&navigator&&navigator.maxTouchPoints>1&&T.indexOf("Macintosh")!==-1&&T.indexOf("Safari")!==-1&&(k=!0),k}},5955:function($,F,m){var L=m(22413),D=m.n(L),E=m(51070),T=m.n(E),k=m(62133),M=m.n(k),b=new URL(m(77035),m.b),a=new URL(m(43470),m.b),t=new URL(m(68164),m.b),u=new URL(m(64665),m.b),i=new URL(m(4890),m.b),l=new URL(m(13363),m.b),d=new URL(m(13490),m.b),v=new URL(m(47603),m.b),y=new URL(m(13913),m.b),p=new URL(m(91413),m.b),c=new URL(m(64643),m.b),x=new URL(m(80216),m.b),f=new URL(m(61907),m.b),n=new URL(m(68605),m.b),o=new URL(m(25446),m.b),s=new URL(m(56694),m.b),r=new URL(m(24420),m.b),g=new URL(m(75796),m.b),e=new URL(m(92228),m.b),h=new URL(m(9819),m.b),_=new URL(m(47695),m.b),w=new URL(m(28869),m.b),S=new URL(m(30557),m.b),O=new URL(m(48460),m.b),A=new URL(m(56539),m.b),I=new URL(m(43737),m.b),B=new URL(m(47914),m.b),C=new URL(m(26117),m.b),z=new URL(m(66311),m.b),P=T()(D()),R=M()(b),N=M()(a),j=M()(t),W=M()(u),Y=M()(i),J=M()(l),G=M()(d),H=M()(v),U=M()(y),Z=M()(p),q=M()(c),Q=M()(x),ne=M()(f),ie=M()(n),le=M()(o),fe=M()(s),pe=M()(r),me=M()(g),ke=M()(e),ve=M()(h),he=M()(_),de=M()(w),X=M()(S),ae=M()(O),K=M()(A),ge=M()(I),re=M()(B),ue=M()(C),we=M()(z);P.push([$.id,".maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("+R+")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("+N+")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("+j+")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("+W+")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("+Y+")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("+J+")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("+G+")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("+H+")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("+U+")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("+Z+")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("+q+")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("+H+")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("+Q+")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("+ne+")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("+ie+")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("+le+")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("+fe+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("+pe+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("+me+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("+ke+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("+ve+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("+he+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("+de+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("+X+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("+ae+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("+ke+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("+ve+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("+he+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("+de+")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("+K+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("+ge+")}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("+re+");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("+re+")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("+re+")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("+ue+");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("+we+")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("+ue+')}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}',""]),F.A=P},45568:function($,F,m){var L,D;(function(){var E={version:"3.8.2"},T=[].slice,k=function(V){return T.call(V)},M=self.document;function b(V){return V&&(V.ownerDocument||V.document||V).documentElement}function a(V){return V&&(V.ownerDocument&&V.ownerDocument.defaultView||V.document&&V||V.defaultView)}if(M)try{k(M.documentElement.childNodes)[0].nodeType}catch{k=function(te){for(var oe=te.length,ye=new Array(oe);oe--;)ye[oe]=te[oe];return ye}}if(Date.now||(Date.now=function(){return+new Date}),M)try{M.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,u=t.setAttribute,i=t.setAttributeNS,l=this.CSSStyleDeclaration.prototype,d=l.setProperty;t.setAttribute=function(te,oe){u.call(this,te,oe+"")},t.setAttributeNS=function(te,oe,ye){i.call(this,te,oe,ye+"")},l.setProperty=function(te,oe,ye){d.call(this,te,oe+"",ye)}}function v(V,te){return V<te?-1:V>te?1:V>=te?0:NaN}function y(V){return V===null?NaN:+V}function p(V){return!isNaN(V)}function c(V){return{left:function(te,oe,ye,xe){for(arguments.length<3&&(ye=0),arguments.length<4&&(xe=te.length);ye<xe;){var Me=ye+xe>>>1;V(te[Me],oe)<0?ye=Me+1:xe=Me}return ye},right:function(te,oe,ye,xe){for(arguments.length<3&&(ye=0),arguments.length<4&&(xe=te.length);ye<xe;){var Me=ye+xe>>>1;V(te[Me],oe)>0?xe=Me:ye=Me+1}return ye}}}E.ascending=v,E.descending=function(V,te){return te<V?-1:te>V?1:te>=V?0:NaN},E.min=function(V,te){var oe,ye,xe=-1,Me=V.length;if(arguments.length===1){for(;++xe<Me;)if((ye=V[xe])!=null&&ye>=ye){oe=ye;break}for(;++xe<Me;)(ye=V[xe])!=null&&oe>ye&&(oe=ye)}else{for(;++xe<Me;)if((ye=te.call(V,V[xe],xe))!=null&&ye>=ye){oe=ye;break}for(;++xe<Me;)(ye=te.call(V,V[xe],xe))!=null&&oe>ye&&(oe=ye)}return oe},E.max=function(V,te){var oe,ye,xe=-1,Me=V.length;if(arguments.length===1){for(;++xe<Me;)if((ye=V[xe])!=null&&ye>=ye){oe=ye;break}for(;++xe<Me;)(ye=V[xe])!=null&&ye>oe&&(oe=ye)}else{for(;++xe<Me;)if((ye=te.call(V,V[xe],xe))!=null&&ye>=ye){oe=ye;break}for(;++xe<Me;)(ye=te.call(V,V[xe],xe))!=null&&ye>oe&&(oe=ye)}return oe},E.extent=function(V,te){var oe,ye,xe,Me=-1,Ce=V.length;if(arguments.length===1){for(;++Me<Ce;)if((ye=V[Me])!=null&&ye>=ye){oe=xe=ye;break}for(;++Me<Ce;)(ye=V[Me])!=null&&(oe>ye&&(oe=ye),xe<ye&&(xe=ye))}else{for(;++Me<Ce;)if((ye=te.call(V,V[Me],Me))!=null&&ye>=ye){oe=xe=ye;break}for(;++Me<Ce;)(ye=te.call(V,V[Me],Me))!=null&&(oe>ye&&(oe=ye),xe<ye&&(xe=ye))}return[oe,xe]},E.sum=function(V,te){var oe,ye=0,xe=V.length,Me=-1;if(arguments.length===1)for(;++Me<xe;)p(oe=+V[Me])&&(ye+=oe);else for(;++Me<xe;)p(oe=+te.call(V,V[Me],Me))&&(ye+=oe);return ye},E.mean=function(V,te){var oe,ye=0,xe=V.length,Me=-1,Ce=xe;if(arguments.length===1)for(;++Me<xe;)p(oe=y(V[Me]))?ye+=oe:--Ce;else for(;++Me<xe;)p(oe=y(te.call(V,V[Me],Me)))?ye+=oe:--Ce;if(Ce)return ye/Ce},E.quantile=function(V,te){var oe=(V.length-1)*te+1,ye=Math.floor(oe),xe=+V[ye-1],Me=oe-ye;return Me?xe+Me*(V[ye]-xe):xe},E.median=function(V,te){var oe,ye=[],xe=V.length,Me=-1;if(arguments.length===1)for(;++Me<xe;)p(oe=y(V[Me]))&&ye.push(oe);else for(;++Me<xe;)p(oe=y(te.call(V,V[Me],Me)))&&ye.push(oe);if(ye.length)return E.quantile(ye.sort(v),.5)},E.variance=function(V,te){var oe,ye,xe=V.length,Me=0,Ce=0,Re=-1,Ie=0;if(arguments.length===1)for(;++Re<xe;)p(oe=y(V[Re]))&&(Ce+=(ye=oe-Me)*(oe-(Me+=ye/++Ie)));else for(;++Re<xe;)p(oe=y(te.call(V,V[Re],Re)))&&(Ce+=(ye=oe-Me)*(oe-(Me+=ye/++Ie)));if(Ie>1)return Ce/(Ie-1)},E.deviation=function(){var V=E.variance.apply(this,arguments);return V&&Math.sqrt(V)};var x=c(v);function f(V){return V.length}E.bisectLeft=x.left,E.bisect=E.bisectRight=x.right,E.bisector=function(V){return c(V.length===1?function(te,oe){return v(V(te),oe)}:V)},E.shuffle=function(V,te,oe){(Me=arguments.length)<3&&(oe=V.length,Me<2&&(te=0));for(var ye,xe,Me=oe-te;Me;)xe=Math.random()*Me--|0,ye=V[Me+te],V[Me+te]=V[xe+te],V[xe+te]=ye;return V},E.permute=function(V,te){for(var oe=te.length,ye=new Array(oe);oe--;)ye[oe]=V[te[oe]];return ye},E.pairs=function(V){for(var te=0,oe=V.length-1,ye=V[0],xe=new Array(oe<0?0:oe);te<oe;)xe[te]=[ye,ye=V[++te]];return xe},E.transpose=function(V){if(!(xe=V.length))return[];for(var te=-1,oe=E.min(V,f),ye=new Array(oe);++te<oe;)for(var xe,Me=-1,Ce=ye[te]=new Array(xe);++Me<xe;)Ce[Me]=V[Me][te];return ye},E.zip=function(){return E.transpose(arguments)},E.keys=function(V){var te=[];for(var oe in V)te.push(oe);return te},E.values=function(V){var te=[];for(var oe in V)te.push(V[oe]);return te},E.entries=function(V){var te=[];for(var oe in V)te.push({key:oe,value:V[oe]});return te},E.merge=function(V){for(var te,oe,ye,xe=V.length,Me=-1,Ce=0;++Me<xe;)Ce+=V[Me].length;for(oe=new Array(Ce);--xe>=0;)for(te=(ye=V[xe]).length;--te>=0;)oe[--Ce]=ye[te];return oe};var n=Math.abs;function o(V,te){for(var oe in te)Object.defineProperty(V.prototype,oe,{value:te[oe],enumerable:!1})}function s(){this._=Object.create(null)}E.range=function(V,te,oe){if(arguments.length<3&&(oe=1,arguments.length<2&&(te=V,V=0)),(te-V)/oe==1/0)throw new Error("infinite range");var ye,xe=[],Me=function(Re){for(var Ie=1;Re*Ie%1;)Ie*=10;return Ie}(n(oe)),Ce=-1;if(V*=Me,te*=Me,(oe*=Me)<0)for(;(ye=V+oe*++Ce)>te;)xe.push(ye/Me);else for(;(ye=V+oe*++Ce)<te;)xe.push(ye/Me);return xe},E.map=function(V,te){var oe=new s;if(V instanceof s)V.forEach(function(Re,Ie){oe.set(Re,Ie)});else if(Array.isArray(V)){var ye,xe=-1,Me=V.length;if(arguments.length===1)for(;++xe<Me;)oe.set(xe,V[xe]);else for(;++xe<Me;)oe.set(te.call(V,ye=V[xe],xe),ye)}else for(var Ce in V)oe.set(Ce,V[Ce]);return oe};var r="__proto__",g="\0";function e(V){return(V+="")===r||V[0]===g?g+V:V}function h(V){return(V+="")[0]===g?V.slice(1):V}function _(V){return e(V)in this._}function w(V){return(V=e(V))in this._&&delete this._[V]}function S(){var V=[];for(var te in this._)V.push(h(te));return V}function O(){var V=0;for(var te in this._)++V;return V}function A(){for(var V in this._)return!1;return!0}function I(){this._=Object.create(null)}function B(V){return V}function C(V,te,oe){return function(){var ye=oe.apply(te,arguments);return ye===te?V:ye}}function z(V,te){if(te in V)return te;te=te.charAt(0).toUpperCase()+te.slice(1);for(var oe=0,ye=P.length;oe<ye;++oe){var xe=P[oe]+te;if(xe in V)return xe}}o(s,{has:_,get:function(V){return this._[e(V)]},set:function(V,te){return this._[e(V)]=te},remove:w,keys:S,values:function(){var V=[];for(var te in this._)V.push(this._[te]);return V},entries:function(){var V=[];for(var te in this._)V.push({key:h(te),value:this._[te]});return V},size:O,empty:A,forEach:function(V){for(var te in this._)V.call(this,h(te),this._[te])}}),E.nest=function(){var V,te,oe={},ye=[],xe=[];function Me(Re,Ie,ze){if(ze>=ye.length)return te?te.call(oe,Ie):V?Ie.sort(V):Ie;for(var et,ct,yt,Dt,Ht=-1,Rt=Ie.length,Pt=ye[ze++],At=new s;++Ht<Rt;)(Dt=At.get(et=Pt(ct=Ie[Ht])))?Dt.push(ct):At.set(et,[ct]);return Re?(ct=Re(),yt=function(Yt,Ft){ct.set(Yt,Me(Re,Ft,ze))}):(ct={},yt=function(Yt,Ft){ct[Yt]=Me(Re,Ft,ze)}),At.forEach(yt),ct}function Ce(Re,Ie){if(Ie>=ye.length)return Re;var ze=[],et=xe[Ie++];return Re.forEach(function(ct,yt){ze.push({key:ct,values:Ce(yt,Ie)})}),et?ze.sort(function(ct,yt){return et(ct.key,yt.key)}):ze}return oe.map=function(Re,Ie){return Me(Ie,Re,0)},oe.entries=function(Re){return Ce(Me(E.map,Re,0),0)},oe.key=function(Re){return ye.push(Re),oe},oe.sortKeys=function(Re){return xe[ye.length-1]=Re,oe},oe.sortValues=function(Re){return V=Re,oe},oe.rollup=function(Re){return te=Re,oe},oe},E.set=function(V){var te=new I;if(V)for(var oe=0,ye=V.length;oe<ye;++oe)te.add(V[oe]);return te},o(I,{has:_,add:function(V){return this._[e(V+="")]=!0,V},remove:w,values:S,size:O,empty:A,forEach:function(V){for(var te in this._)V.call(this,h(te))}}),E.behavior={},E.rebind=function(V,te){for(var oe,ye=1,xe=arguments.length;++ye<xe;)V[oe=arguments[ye]]=C(V,te,te[oe]);return V};var P=["webkit","ms","moz","Moz","o","O"];function R(){}function N(){}function j(V){var te=[],oe=new s;function ye(){for(var xe,Me=te,Ce=-1,Re=Me.length;++Ce<Re;)(xe=Me[Ce].on)&&xe.apply(this,arguments);return V}return ye.on=function(xe,Me){var Ce,Re=oe.get(xe);return arguments.length<2?Re&&Re.on:(Re&&(Re.on=null,te=te.slice(0,Ce=te.indexOf(Re)).concat(te.slice(Ce+1)),oe.remove(xe)),Me&&te.push(oe.set(xe,{on:Me})),V)},ye}function W(){E.event.preventDefault()}function Y(){for(var V,te=E.event;V=te.sourceEvent;)te=V;return te}function J(V){for(var te=new N,oe=0,ye=arguments.length;++oe<ye;)te[arguments[oe]]=j(te);return te.of=function(xe,Me){return function(Ce){try{var Re=Ce.sourceEvent=E.event;Ce.target=V,E.event=Ce,te[Ce.type].apply(xe,Me)}finally{E.event=Re}}},te}E.dispatch=function(){for(var V=new N,te=-1,oe=arguments.length;++te<oe;)V[arguments[te]]=j(V);return V},N.prototype.on=function(V,te){var oe=V.indexOf("."),ye="";if(oe>=0&&(ye=V.slice(oe+1),V=V.slice(0,oe)),V)return arguments.length<2?this[V].on(ye):this[V].on(ye,te);if(arguments.length===2){if(te==null)for(V in this)this.hasOwnProperty(V)&&this[V].on(ye,null);return this}},E.event=null,E.requote=function(V){return V.replace(G,"\\$&")};var G=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(V,te){V.__proto__=te}:function(V,te){for(var oe in te)V[oe]=te[oe]};function U(V){return H(V,ne),V}var Z=function(V,te){return te.querySelector(V)},q=function(V,te){return te.querySelectorAll(V)},Q=function(V,te){var oe=V.matches||V[z(V,"matchesSelector")];return Q=function(ye,xe){return oe.call(ye,xe)},Q(V,te)};typeof Sizzle=="function"&&(Z=function(V,te){return Sizzle(V,te)[0]||null},q=Sizzle,Q=Sizzle.matchesSelector),E.selection=function(){return E.select(M.documentElement)};var ne=E.selection.prototype=[];function ie(V){return typeof V=="function"?V:function(){return Z(V,this)}}function le(V){return typeof V=="function"?V:function(){return q(V,this)}}ne.select=function(V){var te,oe,ye,xe,Me=[];V=ie(V);for(var Ce=-1,Re=this.length;++Ce<Re;){Me.push(te=[]),te.parentNode=(ye=this[Ce]).parentNode;for(var Ie=-1,ze=ye.length;++Ie<ze;)(xe=ye[Ie])?(te.push(oe=V.call(xe,xe.__data__,Ie,Ce)),oe&&"__data__"in xe&&(oe.__data__=xe.__data__)):te.push(null)}return U(Me)},ne.selectAll=function(V){var te,oe,ye=[];V=le(V);for(var xe=-1,Me=this.length;++xe<Me;)for(var Ce=this[xe],Re=-1,Ie=Ce.length;++Re<Ie;)(oe=Ce[Re])&&(ye.push(te=k(V.call(oe,oe.__data__,Re,xe))),te.parentNode=oe);return U(ye)};var fe="http://www.w3.org/1999/xhtml",pe={svg:"http://www.w3.org/2000/svg",xhtml:fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function me(V,te){return V=E.ns.qualify(V),te==null?V.local?function(){this.removeAttributeNS(V.space,V.local)}:function(){this.removeAttribute(V)}:typeof te=="function"?V.local?function(){var oe=te.apply(this,arguments);oe==null?this.removeAttributeNS(V.space,V.local):this.setAttributeNS(V.space,V.local,oe)}:function(){var oe=te.apply(this,arguments);oe==null?this.removeAttribute(V):this.setAttribute(V,oe)}:V.local?function(){this.setAttributeNS(V.space,V.local,te)}:function(){this.setAttribute(V,te)}}function ke(V){return V.trim().replace(/\s+/g," ")}function ve(V){return new RegExp("(?:^|\\s+)"+E.requote(V)+"(?:\\s+|$)","g")}function he(V){return(V+"").trim().split(/^|\s+/)}function de(V,te){var oe=(V=he(V).map(X)).length;return typeof te=="function"?function(){for(var ye=-1,xe=te.apply(this,arguments);++ye<oe;)V[ye](this,xe)}:function(){for(var ye=-1;++ye<oe;)V[ye](this,te)}}function X(V){var te=ve(V);return function(oe,ye){if(xe=oe.classList)return ye?xe.add(V):xe.remove(V);var xe=oe.getAttribute("class")||"";ye?(te.lastIndex=0,te.test(xe)||oe.setAttribute("class",ke(xe+" "+V))):oe.setAttribute("class",ke(xe.replace(te," ")))}}function ae(V,te,oe){return te==null?function(){this.style.removeProperty(V)}:typeof te=="function"?function(){var ye=te.apply(this,arguments);ye==null?this.style.removeProperty(V):this.style.setProperty(V,ye,oe)}:function(){this.style.setProperty(V,te,oe)}}function K(V,te){return te==null?function(){delete this[V]}:typeof te=="function"?function(){var oe=te.apply(this,arguments);oe==null?delete this[V]:this[V]=oe}:function(){this[V]=te}}function ge(V){return typeof V=="function"?V:(V=E.ns.qualify(V)).local?function(){return this.ownerDocument.createElementNS(V.space,V.local)}:function(){var te=this.ownerDocument,oe=this.namespaceURI;return oe===fe&&te.documentElement.namespaceURI===fe?te.createElement(V):te.createElementNS(oe,V)}}function re(){var V=this.parentNode;V&&V.removeChild(this)}function ue(V){return{__data__:V}}function we(V){return function(){return Q(this,V)}}function Te(V){return arguments.length||(V=v),function(te,oe){return te&&oe?V(te.__data__,oe.__data__):!te-!oe}}function ee(V,te){for(var oe=0,ye=V.length;oe<ye;oe++)for(var xe,Me=V[oe],Ce=0,Re=Me.length;Ce<Re;Ce++)(xe=Me[Ce])&&te(xe,Ce,oe);return V}function se(V){return H(V,ce),V}E.ns={prefix:pe,qualify:function(V){var te=V.indexOf(":"),oe=V;return te>=0&&(oe=V.slice(0,te))!=="xmlns"&&(V=V.slice(te+1)),pe.hasOwnProperty(oe)?{space:pe[oe],local:V}:V}},ne.attr=function(V,te){if(arguments.length<2){if(typeof V=="string"){var oe=this.node();return(V=E.ns.qualify(V)).local?oe.getAttributeNS(V.space,V.local):oe.getAttribute(V)}for(te in V)this.each(me(te,V[te]));return this}return this.each(me(V,te))},ne.classed=function(V,te){if(arguments.length<2){if(typeof V=="string"){var oe=this.node(),ye=(V=he(V)).length,xe=-1;if(te=oe.classList){for(;++xe<ye;)if(!te.contains(V[xe]))return!1}else for(te=oe.getAttribute("class");++xe<ye;)if(!ve(V[xe]).test(te))return!1;return!0}for(te in V)this.each(de(te,V[te]));return this}return this.each(de(V,te))},ne.style=function(V,te,oe){var ye=arguments.length;if(ye<3){if(typeof V!="string"){for(oe in ye<2&&(te=""),V)this.each(ae(oe,V[oe],te));return this}if(ye<2){var xe=this.node();return a(xe).getComputedStyle(xe,null).getPropertyValue(V)}oe=""}return this.each(ae(V,te,oe))},ne.property=function(V,te){if(arguments.length<2){if(typeof V=="string")return this.node()[V];for(te in V)this.each(K(te,V[te]));return this}return this.each(K(V,te))},ne.text=function(V){return arguments.length?this.each(typeof V=="function"?function(){var te=V.apply(this,arguments);this.textContent=te??""}:V==null?function(){this.textContent=""}:function(){this.textContent=V}):this.node().textContent},ne.html=function(V){return arguments.length?this.each(typeof V=="function"?function(){var te=V.apply(this,arguments);this.innerHTML=te??""}:V==null?function(){this.innerHTML=""}:function(){this.innerHTML=V}):this.node().innerHTML},ne.append=function(V){return V=ge(V),this.select(function(){return this.appendChild(V.apply(this,arguments))})},ne.insert=function(V,te){return V=ge(V),te=ie(te),this.select(function(){return this.insertBefore(V.apply(this,arguments),te.apply(this,arguments)||null)})},ne.remove=function(){return this.each(re)},ne.data=function(V,te){var oe,ye,xe=-1,Me=this.length;if(!arguments.length){for(V=new Array(Me=(oe=this[0]).length);++xe<Me;)(ye=oe[xe])&&(V[xe]=ye.__data__);return V}function Ce(et,ct){var yt,Dt,Ht,Rt=et.length,Pt=ct.length,At=Math.min(Rt,Pt),Yt=new Array(Pt),Ft=new Array(Pt),Ct=new Array(Rt);if(te){var tn,nn=new s,yn=new Array(Rt);for(yt=-1;++yt<Rt;)(Dt=et[yt])&&(nn.has(tn=te.call(Dt,Dt.__data__,yt))?Ct[yt]=Dt:nn.set(tn,Dt),yn[yt]=tn);for(yt=-1;++yt<Pt;)(Dt=nn.get(tn=te.call(ct,Ht=ct[yt],yt)))?Dt!==!0&&(Yt[yt]=Dt,Dt.__data__=Ht):Ft[yt]=ue(Ht),nn.set(tn,!0);for(yt=-1;++yt<Rt;)yt in yn&&nn.get(yn[yt])!==!0&&(Ct[yt]=et[yt])}else{for(yt=-1;++yt<At;)Dt=et[yt],Ht=ct[yt],Dt?(Dt.__data__=Ht,Yt[yt]=Dt):Ft[yt]=ue(Ht);for(;yt<Pt;++yt)Ft[yt]=ue(ct[yt]);for(;yt<Rt;++yt)Ct[yt]=et[yt]}Ft.update=Yt,Ft.parentNode=Yt.parentNode=Ct.parentNode=et.parentNode,Re.push(Ft),Ie.push(Yt),ze.push(Ct)}var Re=se([]),Ie=U([]),ze=U([]);if(typeof V=="function")for(;++xe<Me;)Ce(oe=this[xe],V.call(oe,oe.parentNode.__data__,xe));else for(;++xe<Me;)Ce(oe=this[xe],V);return Ie.enter=function(){return Re},Ie.exit=function(){return ze},Ie},ne.datum=function(V){return arguments.length?this.property("__data__",V):this.property("__data__")},ne.filter=function(V){var te,oe,ye,xe=[];typeof V!="function"&&(V=we(V));for(var Me=0,Ce=this.length;Me<Ce;Me++){xe.push(te=[]),te.parentNode=(oe=this[Me]).parentNode;for(var Re=0,Ie=oe.length;Re<Ie;Re++)(ye=oe[Re])&&V.call(ye,ye.__data__,Re,Me)&&te.push(ye)}return U(xe)},ne.order=function(){for(var V=-1,te=this.length;++V<te;)for(var oe,ye=this[V],xe=ye.length-1,Me=ye[xe];--xe>=0;)(oe=ye[xe])&&(Me&&Me!==oe.nextSibling&&Me.parentNode.insertBefore(oe,Me),Me=oe);return this},ne.sort=function(V){V=Te.apply(this,arguments);for(var te=-1,oe=this.length;++te<oe;)this[te].sort(V);return this.order()},ne.each=function(V){return ee(this,function(te,oe,ye){V.call(te,te.__data__,oe,ye)})},ne.call=function(V){var te=k(arguments);return V.apply(te[0]=this,te),this},ne.empty=function(){return!this.node()},ne.node=function(){for(var V=0,te=this.length;V<te;V++)for(var oe=this[V],ye=0,xe=oe.length;ye<xe;ye++){var Me=oe[ye];if(Me)return Me}return null},ne.size=function(){var V=0;return ee(this,function(){++V}),V};var ce=[];function be(V,te,oe){var ye="__on"+V,xe=V.indexOf("."),Me=Se;xe>0&&(V=V.slice(0,xe));var Ce=Ee.get(V);function Re(){var Ie=this[ye];Ie&&(this.removeEventListener(V,Ie,Ie.$),delete this[ye])}return Ce&&(V=Ce,Me=De),xe?te?function(){var Ie=Me(te,k(arguments));Re.call(this),this.addEventListener(V,this[ye]=Ie,Ie.$=oe),Ie._=te}:Re:te?R:function(){var Ie,ze=new RegExp("^__on([^.]+)"+E.requote(V)+"$");for(var et in this)if(Ie=et.match(ze)){var ct=this[et];this.removeEventListener(Ie[1],ct,ct.$),delete this[et]}}}E.selection.enter=se,E.selection.enter.prototype=ce,ce.append=ne.append,ce.empty=ne.empty,ce.node=ne.node,ce.call=ne.call,ce.size=ne.size,ce.select=function(V){for(var te,oe,ye,xe,Me,Ce=[],Re=-1,Ie=this.length;++Re<Ie;){ye=(xe=this[Re]).update,Ce.push(te=[]),te.parentNode=xe.parentNode;for(var ze=-1,et=xe.length;++ze<et;)(Me=xe[ze])?(te.push(ye[ze]=oe=V.call(xe.parentNode,Me.__data__,ze,Re)),oe.__data__=Me.__data__):te.push(null)}return U(Ce)},ce.insert=function(V,te){var oe,ye,xe;return arguments.length<2&&(oe=this,te=function(Me,Ce,Re){var Ie,ze=oe[Re].update,et=ze.length;for(Re!=xe&&(xe=Re,ye=0),Ce>=ye&&(ye=Ce+1);!(Ie=ze[ye])&&++ye<et;);return Ie}),ne.insert.call(this,V,te)},E.select=function(V){var te;return typeof V=="string"?(te=[Z(V,M)]).parentNode=M.documentElement:(te=[V]).parentNode=b(V),U([te])},E.selectAll=function(V){var te;return typeof V=="string"?(te=k(q(V,M))).parentNode=M.documentElement:(te=k(V)).parentNode=null,U([te])},ne.on=function(V,te,oe){var ye=arguments.length;if(ye<3){if(typeof V!="string"){for(oe in ye<2&&(te=!1),V)this.each(be(oe,V[oe],te));return this}if(ye<2)return(ye=this.node()["__on"+V])&&ye._;oe=!1}return this.each(be(V,te,oe))};var Ee=E.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Se(V,te){return function(oe){var ye=E.event;E.event=oe,te[0]=this.__data__;try{V.apply(this,te)}finally{E.event=ye}}}function De(V,te){var oe=Se(V,te);return function(ye){var xe=this,Me=ye.relatedTarget;Me&&(Me===xe||8&Me.compareDocumentPosition(xe))||oe.call(xe,ye)}}M&&Ee.forEach(function(V){"on"+V in M&&Ee.remove(V)});var Ge,Xe=0;function Ke(V){var te=".dragsuppress-"+ ++Xe,oe="click"+te,ye=E.select(a(V)).on("touchmove"+te,W).on("dragstart"+te,W).on("selectstart"+te,W);if(Ge==null&&(Ge=!("onselectstart"in V)&&z(V.style,"userSelect")),Ge){var xe=b(V).style,Me=xe[Ge];xe[Ge]="none"}return function(Ce){if(ye.on(te,null),Ge&&(xe[Ge]=Me),Ce){var Re=function(){ye.on(oe,null)};ye.on(oe,function(){W(),Re()},!0),setTimeout(Re,0)}}}E.mouse=function(V){return Tt(V,Y())};var ut=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Tt(V,te){te.changedTouches&&(te=te.changedTouches[0]);var oe=V.ownerSVGElement||V;if(oe.createSVGPoint){var ye=oe.createSVGPoint();if(ut<0){var xe=a(V);if(xe.scrollX||xe.scrollY){var Me=(oe=E.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();ut=!(Me.f||Me.e),oe.remove()}}return ut?(ye.x=te.pageX,ye.y=te.pageY):(ye.x=te.clientX,ye.y=te.clientY),[(ye=ye.matrixTransform(V.getScreenCTM().inverse())).x,ye.y]}var Ce=V.getBoundingClientRect();return[te.clientX-Ce.left-V.clientLeft,te.clientY-Ce.top-V.clientTop]}function je(){return E.event.changedTouches[0].identifier}E.touch=function(V,te,oe){if(arguments.length<3&&(oe=te,te=Y().changedTouches),te){for(var ye,xe=0,Me=te.length;xe<Me;++xe)if((ye=te[xe]).identifier===oe)return Tt(V,ye)}},E.behavior.drag=function(){var V=J(xe,"drag","dragstart","dragend"),te=null,oe=Me(R,E.mouse,a,"mousemove","mouseup"),ye=Me(je,E.touch,B,"touchmove","touchend");function xe(){this.on("mousedown.drag",oe).on("touchstart.drag",ye)}function Me(Ce,Re,Ie,ze,et){return function(){var ct,yt=this,Dt=E.event.target.correspondingElement||E.event.target,Ht=yt.parentNode,Rt=V.of(yt,arguments),Pt=0,At=Ce(),Yt=".drag"+(At==null?"":"-"+At),Ft=E.select(Ie(Dt)).on(ze+Yt,function(){var nn,yn,vn=Re(Ht,At);vn&&(nn=vn[0]-tn[0],yn=vn[1]-tn[1],Pt|=nn|yn,tn=vn,Rt({type:"drag",x:vn[0]+ct[0],y:vn[1]+ct[1],dx:nn,dy:yn}))}).on(et+Yt,function(){Re(Ht,At)&&(Ft.on(ze+Yt,null).on(et+Yt,null),Ct(Pt),Rt({type:"dragend"}))}),Ct=Ke(Dt),tn=Re(Ht,At);ct=te?[(ct=te.apply(yt,arguments)).x-tn[0],ct.y-tn[1]]:[0,0],Rt({type:"dragstart"})}}return xe.origin=function(Ce){return arguments.length?(te=Ce,xe):te},E.rebind(xe,V,"on")},E.touches=function(V,te){return arguments.length<2&&(te=Y().touches),te?k(te).map(function(oe){var ye=Tt(V,oe);return ye.identifier=oe.identifier,ye}):[]};var Le=1e-6,$e=Le*Le,st=Math.PI,Ot=2*st,Je=Ot-Le,at=st/2,gt=st/180,Oe=180/st;function Be(V){return V>1?at:V<-1?-at:Math.asin(V)}function it(V){return((V=Math.exp(V))+1/V)/2}var tt=Math.SQRT2;E.interpolateZoom=function(V,te){var oe,ye,xe=V[0],Me=V[1],Ce=V[2],Re=te[0],Ie=te[1],ze=te[2],et=Re-xe,ct=Ie-Me,yt=et*et+ct*ct;if(yt<$e)ye=Math.log(ze/Ce)/tt,oe=function(Yt){return[xe+Yt*et,Me+Yt*ct,Ce*Math.exp(tt*Yt*ye)]};else{var Dt=Math.sqrt(yt),Ht=(ze*ze-Ce*Ce+4*yt)/(2*Ce*2*Dt),Rt=(ze*ze-Ce*Ce-4*yt)/(2*ze*2*Dt),Pt=Math.log(Math.sqrt(Ht*Ht+1)-Ht),At=Math.log(Math.sqrt(Rt*Rt+1)-Rt);ye=(At-Pt)/tt,oe=function(Yt){var Ft,Ct=Yt*ye,tn=it(Pt),nn=Ce/(2*Dt)*(tn*(Ft=tt*Ct+Pt,((Ft=Math.exp(2*Ft))-1)/(Ft+1))-function(yn){return((yn=Math.exp(yn))-1/yn)/2}(Pt));return[xe+nn*et,Me+nn*ct,Ce*tn/it(tt*Ct+Pt)]}}return oe.duration=1e3*ye,oe},E.behavior.zoom=function(){var V,te,oe,ye,xe,Me,Ce,Re,Ie,ze={x:0,y:0,k:1},et=[960,500],ct=_e,yt=250,Dt=0,Ht="mousedown.zoom",Rt="mousemove.zoom",Pt="mouseup.zoom",At="touchstart.zoom",Yt=J(Ft,"zoomstart","zoom","zoomend");function Ft(_n){_n.on(Ht,Cn).on(pt+".zoom",Gn).on("dblclick.zoom",Yn).on(At,Un)}function Ct(_n){return[(_n[0]-ze.x)/ze.k,(_n[1]-ze.y)/ze.k]}function tn(_n){ze.k=Math.max(ct[0],Math.min(ct[1],_n))}function nn(_n,Tn){Tn=function(Nn){return[Nn[0]*ze.k+ze.x,Nn[1]*ze.k+ze.y]}(Tn),ze.x+=_n[0]-Tn[0],ze.y+=_n[1]-Tn[1]}function yn(_n,Tn,Nn,Bn){_n.__chart__={x:ze.x,y:ze.y,k:ze.k},tn(Math.pow(2,Bn)),nn(te=Tn,Nn),_n=E.select(_n),yt>0&&(_n=_n.transition().duration(yt)),_n.call(Ft.event)}function vn(){Ce&&Ce.domain(Me.range().map(function(_n){return(_n-ze.x)/ze.k}).map(Me.invert)),Ie&&Ie.domain(Re.range().map(function(_n){return(_n-ze.y)/ze.k}).map(Re.invert))}function En(_n){Dt++||_n({type:"zoomstart"})}function On(_n){vn(),_n({type:"zoom",scale:ze.k,translate:[ze.x,ze.y]})}function Dn(_n){--Dt||(_n({type:"zoomend"}),te=null)}function Cn(){var _n=this,Tn=Yt.of(_n,arguments),Nn=0,Bn=E.select(a(_n)).on(Rt,function(){Nn=1,nn(E.mouse(_n),Hn),On(Tn)}).on(Pt,function(){Bn.on(Rt,null).on(Pt,null),Wn(Nn),Dn(Tn)}),Hn=Ct(E.mouse(_n)),Wn=Ke(_n);$r.call(_n),En(Tn)}function Un(){var _n,Tn=this,Nn=Yt.of(Tn,arguments),Bn={},Hn=0,Wn=".zoom-"+E.event.changedTouches[0].identifier,$n="touchmove"+Wn,Jn="touchend"+Wn,ar=[],Kn=E.select(Tn),ir=Ke(Tn);function ur(){var sr=E.touches(Tn);return _n=ze.k,sr.forEach(function(Qn){Qn.identifier in Bn&&(Bn[Qn.identifier]=Ct(Qn))}),sr}function yr(){var sr=E.event.target;E.select(sr).on($n,Ar).on(Jn,Mr),ar.push(sr);for(var Qn=E.event.changedTouches,fr=0,hr=Qn.length;fr<hr;++fr)Bn[Qn[fr].identifier]=null;var dr=ur(),vr=Date.now();if(dr.length===1){if(vr-xe<500){var kr=dr[0];yn(Tn,kr,Bn[kr.identifier],Math.floor(Math.log(ze.k)/Math.LN2)+1),W()}xe=vr}else if(dr.length>1){kr=dr[0];var Or=dr[1],ea=kr[0]-Or[0],vi=kr[1]-Or[1];Hn=ea*ea+vi*vi}}function Ar(){var sr,Qn,fr,hr,dr=E.touches(Tn);$r.call(Tn);for(var vr=0,kr=dr.length;vr<kr;++vr,hr=null)if(fr=dr[vr],hr=Bn[fr.identifier]){if(Qn)break;sr=fr,Qn=hr}if(hr){var Or=(Or=fr[0]-sr[0])*Or+(Or=fr[1]-sr[1])*Or,ea=Hn&&Math.sqrt(Or/Hn);sr=[(sr[0]+fr[0])/2,(sr[1]+fr[1])/2],Qn=[(Qn[0]+hr[0])/2,(Qn[1]+hr[1])/2],tn(ea*_n)}xe=null,nn(sr,Qn),On(Nn)}function Mr(){if(E.event.touches.length){for(var sr=E.event.changedTouches,Qn=0,fr=sr.length;Qn<fr;++Qn)delete Bn[sr[Qn].identifier];for(var hr in Bn)return void ur()}E.selectAll(ar).on(Wn,null),Kn.on(Ht,Cn).on(At,Un),ir(),Dn(Nn)}yr(),En(Nn),Kn.on(Ht,null).on(At,yr)}function Gn(){var _n=Yt.of(this,arguments);ye?clearTimeout(ye):($r.call(this),V=Ct(te=oe||E.mouse(this)),En(_n)),ye=setTimeout(function(){ye=null,Dn(_n)},50),W(),tn(Math.pow(2,.002*ft())*ze.k),nn(te,V),On(_n)}function Yn(){var _n=E.mouse(this),Tn=Math.log(ze.k)/Math.LN2;yn(this,_n,Ct(_n),E.event.shiftKey?Math.ceil(Tn)-1:Math.floor(Tn)+1)}return pt||(pt="onwheel"in M?(ft=function(){return-E.event.deltaY*(E.event.deltaMode?120:1)},"wheel"):"onmousewheel"in M?(ft=function(){return E.event.wheelDelta},"mousewheel"):(ft=function(){return-E.event.detail},"MozMousePixelScroll")),Ft.event=function(_n){_n.each(function(){var Tn=Yt.of(this,arguments),Nn=ze;Pr?E.select(this).transition().each("start.zoom",function(){ze=this.__chart__||{x:0,y:0,k:1},En(Tn)}).tween("zoom:zoom",function(){var Bn=et[0],Hn=et[1],Wn=te?te[0]:Bn/2,$n=te?te[1]:Hn/2,Jn=E.interpolateZoom([(Wn-ze.x)/ze.k,($n-ze.y)/ze.k,Bn/ze.k],[(Wn-Nn.x)/Nn.k,($n-Nn.y)/Nn.k,Bn/Nn.k]);return function(ar){var Kn=Jn(ar),ir=Bn/Kn[2];this.__chart__=ze={x:Wn-Kn[0]*ir,y:$n-Kn[1]*ir,k:ir},On(Tn)}}).each("interrupt.zoom",function(){Dn(Tn)}).each("end.zoom",function(){Dn(Tn)}):(this.__chart__=ze,En(Tn),On(Tn),Dn(Tn))})},Ft.translate=function(_n){return arguments.length?(ze={x:+_n[0],y:+_n[1],k:ze.k},vn(),Ft):[ze.x,ze.y]},Ft.scale=function(_n){return arguments.length?(ze={x:ze.x,y:ze.y,k:null},tn(+_n),vn(),Ft):ze.k},Ft.scaleExtent=function(_n){return arguments.length?(ct=_n==null?_e:[+_n[0],+_n[1]],Ft):ct},Ft.center=function(_n){return arguments.length?(oe=_n&&[+_n[0],+_n[1]],Ft):oe},Ft.size=function(_n){return arguments.length?(et=_n&&[+_n[0],+_n[1]],Ft):et},Ft.duration=function(_n){return arguments.length?(yt=+_n,Ft):yt},Ft.x=function(_n){return arguments.length?(Ce=_n,Me=_n.copy(),ze={x:0,y:0,k:1},Ft):Ce},Ft.y=function(_n){return arguments.length?(Ie=_n,Re=_n.copy(),ze={x:0,y:0,k:1},Ft):Ie},E.rebind(Ft,Yt,"on")};var ft,pt,_e=[0,1/0];function Ae(){}function Ve(V,te,oe){return this instanceof Ve?(this.h=+V,this.s=+te,void(this.l=+oe)):arguments.length<2?V instanceof Ve?new Ve(V.h,V.s,V.l):wt(""+V,Wt,Ve):new Ve(V,te,oe)}E.color=Ae,Ae.prototype.toString=function(){return this.rgb()+""},E.hsl=Ve;var He=Ve.prototype=new Ae;function We(V,te,oe){var ye,xe;function Me(Ce){return Math.round(255*function(Re){return Re>360?Re-=360:Re<0&&(Re+=360),Re<60?ye+(xe-ye)*Re/60:Re<180?xe:Re<240?ye+(xe-ye)*(240-Re)/60:ye}(Ce))}return V=isNaN(V)?0:(V%=360)<0?V+360:V,te=isNaN(te)||te<0?0:te>1?1:te,ye=2*(oe=oe<0?0:oe>1?1:oe)-(xe=oe<=.5?oe*(1+te):oe+te-oe*te),new Ut(Me(V+120),Me(V),Me(V-120))}function Pe(V,te,oe){return this instanceof Pe?(this.h=+V,this.c=+te,void(this.l=+oe)):arguments.length<2?V instanceof Pe?new Pe(V.h,V.c,V.l):function(ye,xe,Me){return ye>0?new Pe(Math.atan2(Me,xe)*Oe,Math.sqrt(xe*xe+Me*Me),ye):new Pe(NaN,NaN,ye)}(V instanceof Ye?V.l:(V=jt((V=E.rgb(V)).r,V.g,V.b)).l,V.a,V.b):new Pe(V,te,oe)}He.brighter=function(V){return V=Math.pow(.7,arguments.length?V:1),new Ve(this.h,this.s,this.l/V)},He.darker=function(V){return V=Math.pow(.7,arguments.length?V:1),new Ve(this.h,this.s,V*this.l)},He.rgb=function(){return We(this.h,this.s,this.l)},E.hcl=Pe;var Ue=Pe.prototype=new Ae;function Ne(V,te,oe){return isNaN(V)&&(V=0),isNaN(te)&&(te=0),new Ye(oe,Math.cos(V*=gt)*te,Math.sin(V)*te)}function Ye(V,te,oe){return this instanceof Ye?(this.l=+V,this.a=+te,void(this.b=+oe)):arguments.length<2?V instanceof Ye?new Ye(V.l,V.a,V.b):V instanceof Pe?Ne(V.h,V.c,V.l):jt((V=Ut(V)).r,V.g,V.b):new Ye(V,te,oe)}Ue.brighter=function(V){return new Pe(this.h,this.c,Math.min(100,this.l+Fe*(arguments.length?V:1)))},Ue.darker=function(V){return new Pe(this.h,this.c,Math.max(0,this.l-Fe*(arguments.length?V:1)))},Ue.rgb=function(){return Ne(this.h,this.c,this.l).rgb()},E.lab=Ye;var Fe=18,Ze=.95047,rt=1,vt=1.08883,Lt=Ye.prototype=new Ae;function St(V,te,oe){var ye=(V+16)/116,xe=ye+te/500,Me=ye-oe/200;return new Ut(xt(3.2404542*(xe=It(xe)*Ze)-1.5371385*(ye=It(ye)*rt)-.4985314*(Me=It(Me)*vt)),xt(-.969266*xe+1.8760108*ye+.041556*Me),xt(.0556434*xe-.2040259*ye+1.0572252*Me))}function It(V){return V>.206893034?V*V*V:(V-.13793103448275862)/7.787037}function ot(V){return V>.008856?Math.pow(V,.3333333333333333):7.787037*V+.13793103448275862}function xt(V){return Math.round(255*(V<=.00304?12.92*V:1.055*Math.pow(V,.4166666666666667)-.055))}function Ut(V,te,oe){return this instanceof Ut?(this.r=~~V,this.g=~~te,void(this.b=~~oe)):arguments.length<2?V instanceof Ut?new Ut(V.r,V.g,V.b):wt(""+V,Ut,We):new Ut(V,te,oe)}function Et(V){return new Ut(V>>16,V>>8&255,255&V)}function mt(V){return Et(V)+""}Lt.brighter=function(V){return new Ye(Math.min(100,this.l+Fe*(arguments.length?V:1)),this.a,this.b)},Lt.darker=function(V){return new Ye(Math.max(0,this.l-Fe*(arguments.length?V:1)),this.a,this.b)},Lt.rgb=function(){return St(this.l,this.a,this.b)},E.rgb=Ut;var kt=Ut.prototype=new Ae;function ht(V){return V<16?"0"+Math.max(0,V).toString(16):Math.min(255,V).toString(16)}function wt(V,te,oe){var ye,xe,Me,Ce=0,Re=0,Ie=0;if(ye=/([a-z]+)\((.*)\)/.exec(V=V.toLowerCase()))switch(xe=ye[2].split(","),ye[1]){case"hsl":return oe(parseFloat(xe[0]),parseFloat(xe[1])/100,parseFloat(xe[2])/100);case"rgb":return te(qt(xe[0]),qt(xe[1]),qt(xe[2]))}return(Me=Xt.get(V))?te(Me.r,Me.g,Me.b):(V==null||V.charAt(0)!=="#"||isNaN(Me=parseInt(V.slice(1),16))||(V.length===4?(Ce=(3840&Me)>>4,Ce|=Ce>>4,Re=240&Me,Re|=Re>>4,Ie=15&Me,Ie|=Ie<<4):V.length===7&&(Ce=(16711680&Me)>>16,Re=(65280&Me)>>8,Ie=255&Me)),te(Ce,Re,Ie))}function Wt(V,te,oe){var ye,xe,Me=Math.min(V/=255,te/=255,oe/=255),Ce=Math.max(V,te,oe),Re=Ce-Me,Ie=(Ce+Me)/2;return Re?(xe=Ie<.5?Re/(Ce+Me):Re/(2-Ce-Me),ye=V==Ce?(te-oe)/Re+(te<oe?6:0):te==Ce?(oe-V)/Re+2:(V-te)/Re+4,ye*=60):(ye=NaN,xe=Ie>0&&Ie<1?0:ye),new Ve(ye,xe,Ie)}function jt(V,te,oe){var ye=ot((.4124564*(V=Jt(V))+.3575761*(te=Jt(te))+.1804375*(oe=Jt(oe)))/Ze),xe=ot((.2126729*V+.7151522*te+.072175*oe)/rt);return Ye(116*xe-16,500*(ye-xe),200*(xe-ot((.0193339*V+.119192*te+.9503041*oe)/vt)))}function Jt(V){return(V/=255)<=.04045?V/12.92:Math.pow((V+.055)/1.055,2.4)}function qt(V){var te=parseFloat(V);return V.charAt(V.length-1)==="%"?Math.round(2.55*te):te}kt.brighter=function(V){V=Math.pow(.7,arguments.length?V:1);var te=this.r,oe=this.g,ye=this.b,xe=30;return te||oe||ye?(te&&te<xe&&(te=xe),oe&&oe<xe&&(oe=xe),ye&&ye<xe&&(ye=xe),new Ut(Math.min(255,te/V),Math.min(255,oe/V),Math.min(255,ye/V))):new Ut(xe,xe,xe)},kt.darker=function(V){return new Ut((V=Math.pow(.7,arguments.length?V:1))*this.r,V*this.g,V*this.b)},kt.hsl=function(){return Wt(this.r,this.g,this.b)},kt.toString=function(){return"#"+ht(this.r)+ht(this.g)+ht(this.b)};var Xt=E.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function $t(V){return typeof V=="function"?V:function(){return V}}function pn(V){return function(te,oe,ye){return arguments.length===2&&typeof oe=="function"&&(ye=oe,oe=null),An(te,oe,V,ye)}}function An(V,te,oe,ye){var xe={},Me=E.dispatch("beforesend","progress","load","error"),Ce={},Re=new XMLHttpRequest,Ie=null;function ze(){var et,ct=Re.status;if(!ct&&function(yt){var Dt=yt.responseType;return Dt&&Dt!=="text"?yt.response:yt.responseText}(Re)||ct>=200&&ct<300||ct===304){try{et=oe.call(xe,Re)}catch(yt){return void Me.error.call(xe,yt)}Me.load.call(xe,et)}else Me.error.call(xe,Re)}return self.XDomainRequest&&!("withCredentials"in Re)&&/^(http(s)?:)?\/\//.test(V)&&(Re=new XDomainRequest),"onload"in Re?Re.onload=Re.onerror=ze:Re.onreadystatechange=function(){Re.readyState>3&&ze()},Re.onprogress=function(et){var ct=E.event;E.event=et;try{Me.progress.call(xe,Re)}finally{E.event=ct}},xe.header=function(et,ct){return et=(et+"").toLowerCase(),arguments.length<2?Ce[et]:(ct==null?delete Ce[et]:Ce[et]=ct+"",xe)},xe.mimeType=function(et){return arguments.length?(te=et==null?null:et+"",xe):te},xe.responseType=function(et){return arguments.length?(Ie=et,xe):Ie},xe.response=function(et){return oe=et,xe},["get","post"].forEach(function(et){xe[et]=function(){return xe.send.apply(xe,[et].concat(k(arguments)))}}),xe.send=function(et,ct,yt){if(arguments.length===2&&typeof ct=="function"&&(yt=ct,ct=null),Re.open(et,V,!0),te==null||"accept"in Ce||(Ce.accept=te+",*/*"),Re.setRequestHeader)for(var Dt in Ce)Re.setRequestHeader(Dt,Ce[Dt]);return te!=null&&Re.overrideMimeType&&Re.overrideMimeType(te),Ie!=null&&(Re.responseType=Ie),yt!=null&&xe.on("error",yt).on("load",function(Ht){yt(null,Ht)}),Me.beforesend.call(xe,Re),Re.send(ct??null),xe},xe.abort=function(){return Re.abort(),xe},E.rebind(xe,Me,"on"),ye==null?xe:xe.get(function(et){return et.length===1?function(ct,yt){et(ct==null?yt:null)}:et}(ye))}Xt.forEach(function(V,te){Xt.set(V,Et(te))}),E.functor=$t,E.xhr=pn(B),E.dsv=function(V,te){var oe=new RegExp('["'+V+`
]`),ye=V.charCodeAt(0);function xe(ze,et,ct){arguments.length<3&&(ct=et,et=null);var yt=An(ze,te,et==null?Me:Ce(et),ct);return yt.row=function(Dt){return arguments.length?yt.response((et=Dt)==null?Me:Ce(Dt)):et},yt}function Me(ze){return xe.parse(ze.responseText)}function Ce(ze){return function(et){return xe.parse(et.responseText,ze)}}function Re(ze){return ze.map(Ie).join(V)}function Ie(ze){return oe.test(ze)?'"'+ze.replace(/\"/g,'""')+'"':ze}return xe.parse=function(ze,et){var ct;return xe.parseRows(ze,function(yt,Dt){if(ct)return ct(yt,Dt-1);var Ht=function(Rt){for(var Pt={},At=yt.length,Yt=0;Yt<At;++Yt)Pt[yt[Yt]]=Rt[Yt];return Pt};ct=et?function(Rt,Pt){return et(Ht(Rt),Pt)}:Ht})},xe.parseRows=function(ze,et){var ct,yt,Dt={},Ht={},Rt=[],Pt=ze.length,At=0,Yt=0;function Ft(){if(At>=Pt)return Ht;if(yt)return yt=!1,Dt;var tn=At;if(ze.charCodeAt(tn)===34){for(var nn=tn;nn++<Pt;)if(ze.charCodeAt(nn)===34){if(ze.charCodeAt(nn+1)!==34)break;++nn}return At=nn+2,(yn=ze.charCodeAt(nn+1))===13?(yt=!0,ze.charCodeAt(nn+2)===10&&++At):yn===10&&(yt=!0),ze.slice(tn+1,nn).replace(/""/g,'"')}for(;At<Pt;){var yn,vn=1;if((yn=ze.charCodeAt(At++))===10)yt=!0;else if(yn===13)yt=!0,ze.charCodeAt(At)===10&&(++At,++vn);else if(yn!==ye)continue;return ze.slice(tn,At-vn)}return ze.slice(tn)}for(;(ct=Ft())!==Ht;){for(var Ct=[];ct!==Dt&&ct!==Ht;)Ct.push(ct),ct=Ft();et&&(Ct=et(Ct,Yt++))==null||Rt.push(Ct)}return Rt},xe.format=function(ze){if(Array.isArray(ze[0]))return xe.formatRows(ze);var et=new I,ct=[];return ze.forEach(function(yt){for(var Dt in yt)et.has(Dt)||ct.push(et.add(Dt))}),[ct.map(Ie).join(V)].concat(ze.map(function(yt){return ct.map(function(Dt){return Ie(yt[Dt])}).join(V)})).join(`
`)},xe.formatRows=function(ze){return ze.map(Re).join(`
`)},xe},E.csv=E.dsv(",","text/csv"),E.tsv=E.dsv("	","text/tab-separated-values");var rn,ln,gn,xn,sn=this[z(this,"requestAnimationFrame")]||function(V){setTimeout(V,17)};function fn(V,te,oe){var ye=arguments.length;ye<2&&(te=0),ye<3&&(oe=Date.now());var xe={c:V,t:oe+te,n:null};return ln?ln.n=xe:rn=xe,ln=xe,gn||(xn=clearTimeout(xn),gn=1,sn(bn)),xe}function bn(){var V=wn(),te=Sn()-V;te>24?(isFinite(te)&&(clearTimeout(xn),xn=setTimeout(bn,te)),gn=0):(gn=1,sn(bn))}function wn(){for(var V=Date.now(),te=rn;te;)V>=te.t&&te.c(V-te.t)&&(te.c=null),te=te.n;return V}function Sn(){for(var V,te=rn,oe=1/0;te;)te.c?(te.t<oe&&(oe=te.t),te=(V=te).n):te=V?V.n=te.n:rn=te.n;return ln=V,oe}function kn(V){return V[0]}function Ln(V){return V[1]}function zn(V){for(var te,oe,ye,xe=V.length,Me=[0,1],Ce=2,Re=2;Re<xe;Re++){for(;Ce>1&&(te=V[Me[Ce-2]],oe=V[Me[Ce-1]],ye=V[Re],(oe[0]-te[0])*(ye[1]-te[1])-(oe[1]-te[1])*(ye[0]-te[0])<=0);)--Ce;Me[Ce++]=Re}return Me.slice(0,Ce)}function jn(V,te){return V[0]-te[0]||V[1]-te[1]}E.timer=function(){fn.apply(this,arguments)},E.timer.flush=function(){wn(),Sn()},E.round=function(V,te){return te?Math.round(V*(te=Math.pow(10,te)))/te:Math.round(V)},E.geom={},E.geom.hull=function(V){var te=kn,oe=Ln;if(arguments.length)return ye(V);function ye(xe){if(xe.length<3)return[];var Me,Ce=$t(te),Re=$t(oe),Ie=xe.length,ze=[],et=[];for(Me=0;Me<Ie;Me++)ze.push([+Ce.call(this,xe[Me],Me),+Re.call(this,xe[Me],Me),Me]);for(ze.sort(jn),Me=0;Me<Ie;Me++)et.push([ze[Me][0],-ze[Me][1]]);var ct=zn(ze),yt=zn(et),Dt=yt[0]===ct[0],Ht=yt[yt.length-1]===ct[ct.length-1],Rt=[];for(Me=ct.length-1;Me>=0;--Me)Rt.push(xe[ze[ct[Me]][2]]);for(Me=+Dt;Me<yt.length-Ht;++Me)Rt.push(xe[ze[yt[Me]][2]]);return Rt}return ye.x=function(xe){return arguments.length?(te=xe,ye):te},ye.y=function(xe){return arguments.length?(oe=xe,ye):oe},ye},E.geom.polygon=function(V){return H(V,dt),V};var dt=E.geom.polygon.prototype=[];function Zt(V,te,oe){return(oe[0]-te[0])*(V[1]-te[1])<(oe[1]-te[1])*(V[0]-te[0])}function qe(V,te,oe,ye){var xe=V[0],Me=oe[0],Ce=te[0]-xe,Re=ye[0]-Me,Ie=V[1],ze=oe[1],et=te[1]-Ie,ct=ye[1]-ze,yt=(Re*(Ie-ze)-ct*(xe-Me))/(ct*Ce-Re*et);return[xe+yt*Ce,Ie+yt*et]}function nt(V){var te=V[0],oe=V[V.length-1];return!(te[0]-oe[0]||te[1]-oe[1])}dt.area=function(){for(var V,te=-1,oe=this.length,ye=this[oe-1],xe=0;++te<oe;)V=ye,ye=this[te],xe+=V[1]*ye[0]-V[0]*ye[1];return .5*xe},dt.centroid=function(V){var te,oe,ye=-1,xe=this.length,Me=0,Ce=0,Re=this[xe-1];for(arguments.length||(V=-1/(6*this.area()));++ye<xe;)te=Re,Re=this[ye],oe=te[0]*Re[1]-Re[0]*te[1],Me+=(te[0]+Re[0])*oe,Ce+=(te[1]+Re[1])*oe;return[Me*V,Ce*V]},dt.clip=function(V){for(var te,oe,ye,xe,Me,Ce,Re=nt(V),Ie=-1,ze=this.length-nt(this),et=this[ze-1];++Ie<ze;){for(te=V.slice(),V.length=0,xe=this[Ie],Me=te[(ye=te.length-Re)-1],oe=-1;++oe<ye;)Zt(Ce=te[oe],et,xe)?(Zt(Me,et,xe)||V.push(qe(Me,Ce,et,xe)),V.push(Ce)):Zt(Me,et,xe)&&V.push(qe(Me,Ce,et,xe)),Me=Ce;Re&&V.push(V[0]),et=xe}return V};var _t,zt,Bt,Vt,Nt,Mt=[],lt=[];function Qe(){qn(this),this.edge=this.site=this.circle=null}function bt(V){var te=Mt.pop()||new Qe;return te.site=V,te}function Gt(V){mn(V),Bt.remove(V),Mt.push(V),qn(V)}function en(V){var te=V.circle,oe=te.x,ye=te.cy,xe={x:oe,y:ye},Me=V.P,Ce=V.N,Re=[V];Gt(V);for(var Ie=Me;Ie.circle&&n(oe-Ie.circle.x)<Le&&n(ye-Ie.circle.cy)<Le;)Me=Ie.P,Re.unshift(Ie),Gt(Ie),Ie=Me;Re.unshift(Ie),mn(Ie);for(var ze=Ce;ze.circle&&n(oe-ze.circle.x)<Le&&n(ye-ze.circle.cy)<Le;)Ce=ze.N,Re.push(ze),Gt(ze),ze=Ce;Re.push(ze),mn(ze);var et,ct=Re.length;for(et=1;et<ct;++et)ze=Re[et],Ie=Re[et-1],Mn(ze.edge,Ie.site,ze.site,xe);Ie=Re[0],(ze=Re[ct-1]).edge=un(Ie.site,ze.site,null,xe),hn(Ie),hn(ze)}function Qt(V){for(var te,oe,ye,xe,Me=V.x,Ce=V.y,Re=Bt._;Re;)if((ye=Kt(Re,Ce)-Me)>Le)Re=Re.L;else{if(!((xe=Me-on(Re,Ce))>Le)){ye>-Le?(te=Re.P,oe=Re):xe>-Le?(te=Re,oe=Re.N):te=oe=Re;break}if(!Re.R){te=Re;break}Re=Re.R}var Ie=bt(V);if(Bt.insert(te,Ie),te||oe){if(te===oe)return mn(te),oe=bt(te.site),Bt.insert(Ie,oe),Ie.edge=oe.edge=un(te.site,Ie.site),hn(te),void hn(oe);if(oe){mn(te),mn(oe);var ze=te.site,et=ze.x,ct=ze.y,yt=V.x-et,Dt=V.y-ct,Ht=oe.site,Rt=Ht.x-et,Pt=Ht.y-ct,At=2*(yt*Pt-Dt*Rt),Yt=yt*yt+Dt*Dt,Ft=Rt*Rt+Pt*Pt,Ct={x:(Pt*Yt-Dt*Ft)/At+et,y:(yt*Ft-Rt*Yt)/At+ct};Mn(oe.edge,ze,Ht,Ct),Ie.edge=un(ze,V,null,Ct),oe.edge=un(V,Ht,null,Ct),hn(te),hn(oe)}else Ie.edge=un(te.site,Ie.site)}}function Kt(V,te){var oe=V.site,ye=oe.x,xe=oe.y,Me=xe-te;if(!Me)return ye;var Ce=V.P;if(!Ce)return-1/0;var Re=(oe=Ce.site).x,Ie=oe.y,ze=Ie-te;if(!ze)return Re;var et=Re-ye,ct=1/Me-1/ze,yt=et/ze;return ct?(-yt+Math.sqrt(yt*yt-2*ct*(et*et/(-2*ze)-Ie+ze/2+xe-Me/2)))/ct+ye:(ye+Re)/2}function on(V,te){var oe=V.N;if(oe)return Kt(oe,te);var ye=V.site;return ye.y===te?ye.x:1/0}function an(V){this.site=V,this.edges=[]}function dn(V,te){return te.angle-V.angle}function cn(){qn(this),this.x=this.y=this.arc=this.site=this.cy=null}function hn(V){var te=V.P,oe=V.N;if(te&&oe){var ye=te.site,xe=V.site,Me=oe.site;if(ye!==Me){var Ce=xe.x,Re=xe.y,Ie=ye.x-Ce,ze=ye.y-Re,et=Me.x-Ce,ct=2*(Ie*(Pt=Me.y-Re)-ze*et);if(!(ct>=-$e)){var yt=Ie*Ie+ze*ze,Dt=et*et+Pt*Pt,Ht=(Pt*yt-ze*Dt)/ct,Rt=(Ie*Dt-et*yt)/ct,Pt=Rt+Re,At=lt.pop()||new cn;At.arc=V,At.site=xe,At.x=Ht+Ce,At.y=Pt+Math.sqrt(Ht*Ht+Rt*Rt),At.cy=Pt,V.circle=At;for(var Yt=null,Ft=Nt._;Ft;)if(At.y<Ft.y||At.y===Ft.y&&At.x<=Ft.x){if(!Ft.L){Yt=Ft.P;break}Ft=Ft.L}else{if(!Ft.R){Yt=Ft;break}Ft=Ft.R}Nt.insert(Yt,At),Yt||(Vt=At)}}}}function mn(V){var te=V.circle;te&&(te.P||(Vt=te.N),Nt.remove(te),lt.push(te),qn(te),V.circle=null)}function Fn(V,te){var oe=V.b;if(oe)return!0;var ye,xe,Me=V.a,Ce=te[0][0],Re=te[1][0],Ie=te[0][1],ze=te[1][1],et=V.l,ct=V.r,yt=et.x,Dt=et.y,Ht=ct.x,Rt=ct.y,Pt=(yt+Ht)/2,At=(Dt+Rt)/2;if(Rt===Dt){if(Pt<Ce||Pt>=Re)return;if(yt>Ht){if(Me){if(Me.y>=ze)return}else Me={x:Pt,y:Ie};oe={x:Pt,y:ze}}else{if(Me){if(Me.y<Ie)return}else Me={x:Pt,y:ze};oe={x:Pt,y:Ie}}}else if(xe=At-(ye=(yt-Ht)/(Rt-Dt))*Pt,ye<-1||ye>1)if(yt>Ht){if(Me){if(Me.y>=ze)return}else Me={x:(Ie-xe)/ye,y:Ie};oe={x:(ze-xe)/ye,y:ze}}else{if(Me){if(Me.y<Ie)return}else Me={x:(ze-xe)/ye,y:ze};oe={x:(Ie-xe)/ye,y:Ie}}else if(Dt<Rt){if(Me){if(Me.x>=Re)return}else Me={x:Ce,y:ye*Ce+xe};oe={x:Re,y:ye*Re+xe}}else{if(Me){if(Me.x<Ce)return}else Me={x:Re,y:ye*Re+xe};oe={x:Ce,y:ye*Ce+xe}}return V.a=Me,V.b=oe,!0}function Rn(V,te){this.l=V,this.r=te,this.a=this.b=null}function un(V,te,oe,ye){var xe=new Rn(V,te);return _t.push(xe),oe&&Mn(xe,V,te,oe),ye&&Mn(xe,te,V,ye),zt[V.i].edges.push(new Pn(xe,V,te)),zt[te.i].edges.push(new Pn(xe,te,V)),xe}function Mn(V,te,oe,ye){V.a||V.b?V.l===oe?V.b=ye:V.a=ye:(V.a=ye,V.l=te,V.r=oe)}function Pn(V,te,oe){var ye=V.a,xe=V.b;this.edge=V,this.site=te,this.angle=oe?Math.atan2(oe.y-te.y,oe.x-te.x):V.l===te?Math.atan2(xe.x-ye.x,ye.y-xe.y):Math.atan2(ye.x-xe.x,xe.y-ye.y)}function Vn(){this._=null}function qn(V){V.U=V.C=V.L=V.R=V.P=V.N=null}function Xn(V,te){var oe=te,ye=te.R,xe=oe.U;xe?xe.L===oe?xe.L=ye:xe.R=ye:V._=ye,ye.U=xe,oe.U=ye,oe.R=ye.L,oe.R&&(oe.R.U=oe),ye.L=oe}function lr(V,te){var oe=te,ye=te.L,xe=oe.U;xe?xe.L===oe?xe.L=ye:xe.R=ye:V._=ye,ye.U=xe,oe.U=ye,oe.L=ye.R,oe.L&&(oe.L.U=oe),ye.R=oe}function er(V){for(;V.L;)V=V.L;return V}function Zn(V,te){var oe,ye,xe,Me=V.sort(br).pop();for(_t=[],zt=new Array(V.length),Bt=new Vn,Nt=new Vn;;)if(xe=Vt,Me&&(!xe||Me.y<xe.y||Me.y===xe.y&&Me.x<xe.x))Me.x===oe&&Me.y===ye||(zt[Me.i]=new an(Me),Qt(Me),oe=Me.x,ye=Me.y),Me=V.pop();else{if(!xe)break;en(xe.arc)}te&&(function(Re){for(var Ie,ze,et,ct,yt,Dt=_t,Ht=(ze=Re[0][0],et=Re[0][1],ct=Re[1][0],yt=Re[1][1],function(Pt){var At,Yt=Pt.a,Ft=Pt.b,Ct=Yt.x,tn=Yt.y,nn=0,yn=1,vn=Ft.x-Ct,En=Ft.y-tn;if(At=ze-Ct,vn||!(At>0)){if(At/=vn,vn<0){if(At<nn)return;At<yn&&(yn=At)}else if(vn>0){if(At>yn)return;At>nn&&(nn=At)}if(At=ct-Ct,vn||!(At<0)){if(At/=vn,vn<0){if(At>yn)return;At>nn&&(nn=At)}else if(vn>0){if(At<nn)return;At<yn&&(yn=At)}if(At=et-tn,En||!(At>0)){if(At/=En,En<0){if(At<nn)return;At<yn&&(yn=At)}else if(En>0){if(At>yn)return;At>nn&&(nn=At)}if(At=yt-tn,En||!(At<0)){if(At/=En,En<0){if(At>yn)return;At>nn&&(nn=At)}else if(En>0){if(At<nn)return;At<yn&&(yn=At)}return nn>0&&(Pt.a={x:Ct+nn*vn,y:tn+nn*En}),yn<1&&(Pt.b={x:Ct+yn*vn,y:tn+yn*En}),Pt}}}}}),Rt=Dt.length;Rt--;)(!Fn(Ie=Dt[Rt],Re)||!Ht(Ie)||n(Ie.a.x-Ie.b.x)<Le&&n(Ie.a.y-Ie.b.y)<Le)&&(Ie.a=Ie.b=null,Dt.splice(Rt,1))}(te),function(Re){for(var Ie,ze,et,ct,yt,Dt,Ht,Rt,Pt,At,Yt=Re[0][0],Ft=Re[1][0],Ct=Re[0][1],tn=Re[1][1],nn=zt,yn=nn.length;yn--;)if((yt=nn[yn])&&yt.prepare())for(Rt=(Ht=yt.edges).length,Dt=0;Dt<Rt;)et=(At=Ht[Dt].end()).x,ct=At.y,Ie=(Pt=Ht[++Dt%Rt].start()).x,ze=Pt.y,(n(et-Ie)>Le||n(ct-ze)>Le)&&(Ht.splice(Dt,0,new Pn((vn=yt.site,En=At,On=n(et-Yt)<Le&&tn-ct>Le?{x:Yt,y:n(Ie-Yt)<Le?ze:tn}:n(ct-tn)<Le&&Ft-et>Le?{x:n(ze-tn)<Le?Ie:Ft,y:tn}:n(et-Ft)<Le&&ct-Ct>Le?{x:Ft,y:n(Ie-Ft)<Le?ze:Ct}:n(ct-Ct)<Le&&et-Yt>Le?{x:n(ze-Ct)<Le?Ie:Yt,y:Ct}:null,Dn=void 0,(Dn=new Rn(vn,null)).a=En,Dn.b=On,_t.push(Dn),Dn),yt.site,null)),++Rt);var vn,En,On,Dn}(te));var Ce={cells:zt,edges:_t};return Bt=Nt=_t=zt=null,Ce}function br(V,te){return te.y-V.y||te.x-V.x}an.prototype.prepare=function(){for(var V,te=this.edges,oe=te.length;oe--;)(V=te[oe].edge).b&&V.a||te.splice(oe,1);return te.sort(dn),te.length},Pn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Vn.prototype={insert:function(V,te){var oe,ye,xe;if(V){if(te.P=V,te.N=V.N,V.N&&(V.N.P=te),V.N=te,V.R){for(V=V.R;V.L;)V=V.L;V.L=te}else V.R=te;oe=V}else this._?(V=er(this._),te.P=null,te.N=V,V.P=V.L=te,oe=V):(te.P=te.N=null,this._=te,oe=null);for(te.L=te.R=null,te.U=oe,te.C=!0,V=te;oe&&oe.C;)oe===(ye=oe.U).L?(xe=ye.R)&&xe.C?(oe.C=xe.C=!1,ye.C=!0,V=ye):(V===oe.R&&(Xn(this,oe),oe=(V=oe).U),oe.C=!1,ye.C=!0,lr(this,ye)):(xe=ye.L)&&xe.C?(oe.C=xe.C=!1,ye.C=!0,V=ye):(V===oe.L&&(lr(this,oe),oe=(V=oe).U),oe.C=!1,ye.C=!0,Xn(this,ye)),oe=V.U;this._.C=!1},remove:function(V){V.N&&(V.N.P=V.P),V.P&&(V.P.N=V.N),V.N=V.P=null;var te,oe,ye,xe=V.U,Me=V.L,Ce=V.R;if(oe=Me?Ce?er(Ce):Me:Ce,xe?xe.L===V?xe.L=oe:xe.R=oe:this._=oe,Me&&Ce?(ye=oe.C,oe.C=V.C,oe.L=Me,Me.U=oe,oe!==Ce?(xe=oe.U,oe.U=V.U,V=oe.R,xe.L=V,oe.R=Ce,Ce.U=oe):(oe.U=xe,xe=oe,V=oe.R)):(ye=V.C,V=oe),V&&(V.U=xe),!ye)if(V&&V.C)V.C=!1;else{do{if(V===this._)break;if(V===xe.L){if((te=xe.R).C&&(te.C=!1,xe.C=!0,Xn(this,xe),te=xe.R),te.L&&te.L.C||te.R&&te.R.C){te.R&&te.R.C||(te.L.C=!1,te.C=!0,lr(this,te),te=xe.R),te.C=xe.C,xe.C=te.R.C=!1,Xn(this,xe),V=this._;break}}else if((te=xe.L).C&&(te.C=!1,xe.C=!0,lr(this,xe),te=xe.L),te.L&&te.L.C||te.R&&te.R.C){te.L&&te.L.C||(te.R.C=!1,te.C=!0,Xn(this,te),te=xe.L),te.C=xe.C,xe.C=te.L.C=!1,lr(this,xe),V=this._;break}te.C=!0,V=xe,xe=xe.U}while(!V.C);V&&(V.C=!1)}}},E.geom.voronoi=function(V){var te=kn,oe=Ln,ye=te,xe=oe,Me=In;if(V)return Ce(V);function Ce(Ie){var ze=new Array(Ie.length),et=Me[0][0],ct=Me[0][1],yt=Me[1][0],Dt=Me[1][1];return Zn(Re(Ie),Me).cells.forEach(function(Ht,Rt){var Pt=Ht.edges,At=Ht.site;(ze[Rt]=Pt.length?Pt.map(function(Yt){var Ft=Yt.start();return[Ft.x,Ft.y]}):At.x>=et&&At.x<=yt&&At.y>=ct&&At.y<=Dt?[[et,Dt],[yt,Dt],[yt,ct],[et,ct]]:[]).point=Ie[Rt]}),ze}function Re(Ie){return Ie.map(function(ze,et){return{x:Math.round(ye(ze,et)/Le)*Le,y:Math.round(xe(ze,et)/Le)*Le,i:et}})}return Ce.links=function(Ie){return Zn(Re(Ie)).edges.filter(function(ze){return ze.l&&ze.r}).map(function(ze){return{source:Ie[ze.l.i],target:Ie[ze.r.i]}})},Ce.triangles=function(Ie){var ze=[];return Zn(Re(Ie)).cells.forEach(function(et,ct){for(var yt,Dt,Ht,Rt,Pt=et.site,At=et.edges.sort(dn),Yt=-1,Ft=At.length,Ct=At[Ft-1].edge,tn=Ct.l===Pt?Ct.r:Ct.l;++Yt<Ft;)yt=tn,tn=(Ct=At[Yt].edge).l===Pt?Ct.r:Ct.l,ct<yt.i&&ct<tn.i&&(Ht=yt,Rt=tn,((Dt=Pt).x-Rt.x)*(Ht.y-Dt.y)-(Dt.x-Ht.x)*(Rt.y-Dt.y)<0)&&ze.push([Ie[ct],Ie[yt.i],Ie[tn.i]])}),ze},Ce.x=function(Ie){return arguments.length?(ye=$t(te=Ie),Ce):te},Ce.y=function(Ie){return arguments.length?(xe=$t(oe=Ie),Ce):oe},Ce.clipExtent=function(Ie){return arguments.length?(Me=Ie??In,Ce):Me===In?null:Me},Ce.size=function(Ie){return arguments.length?Ce.clipExtent(Ie&&[[0,0],Ie]):Me===In?null:Me&&Me[1]},Ce};var In=[[-1e6,-1e6],[1e6,1e6]];function rr(V){return V.x}function pr(V){return V.y}function tr(V,te,oe,ye,xe,Me){if(!V(te,oe,ye,xe,Me)){var Ce=.5*(oe+xe),Re=.5*(ye+Me),Ie=te.nodes;Ie[0]&&tr(V,Ie[0],oe,ye,Ce,Re),Ie[1]&&tr(V,Ie[1],Ce,ye,xe,Re),Ie[2]&&tr(V,Ie[2],oe,Re,Ce,Me),Ie[3]&&tr(V,Ie[3],Ce,Re,xe,Me)}}function Lr(V,te){V=E.rgb(V),te=E.rgb(te);var oe=V.r,ye=V.g,xe=V.b,Me=te.r-oe,Ce=te.g-ye,Re=te.b-xe;return function(Ie){return"#"+ht(Math.round(oe+Me*Ie))+ht(Math.round(ye+Ce*Ie))+ht(Math.round(xe+Re*Ie))}}function Ir(V,te){var oe,ye={},xe={};for(oe in V)oe in te?ye[oe]=_r(V[oe],te[oe]):xe[oe]=V[oe];for(oe in te)oe in V||(xe[oe]=te[oe]);return function(Me){for(oe in ye)xe[oe]=ye[oe](Me);return xe}}function cr(V,te){return V=+V,te=+te,function(oe){return V*(1-oe)+te*oe}}function Sr(V,te){var oe,ye,xe,Me=Tr.lastIndex=Rr.lastIndex=0,Ce=-1,Re=[],Ie=[];for(V+="",te+="";(oe=Tr.exec(V))&&(ye=Rr.exec(te));)(xe=ye.index)>Me&&(xe=te.slice(Me,xe),Re[Ce]?Re[Ce]+=xe:Re[++Ce]=xe),(oe=oe[0])===(ye=ye[0])?Re[Ce]?Re[Ce]+=ye:Re[++Ce]=ye:(Re[++Ce]=null,Ie.push({i:Ce,x:cr(oe,ye)})),Me=Rr.lastIndex;return Me<te.length&&(xe=te.slice(Me),Re[Ce]?Re[Ce]+=xe:Re[++Ce]=xe),Re.length<2?Ie[0]?(te=Ie[0].x,function(ze){return te(ze)+""}):function(){return te}:(te=Ie.length,function(ze){for(var et,ct=0;ct<te;++ct)Re[(et=Ie[ct]).i]=et.x(ze);return Re.join("")})}E.geom.delaunay=function(V){return E.geom.voronoi().triangles(V)},E.geom.quadtree=function(V,te,oe,ye,xe){var Me,Ce=kn,Re=Ln;if(Me=arguments.length)return Ce=rr,Re=pr,Me===3&&(xe=oe,ye=te,oe=te=0),Ie(V);function Ie(ze){var et,ct,yt,Dt,Ht,Rt,Pt,At,Yt,Ft=$t(Ce),Ct=$t(Re);if(te!=null)Rt=te,Pt=oe,At=ye,Yt=xe;else if(At=Yt=-(Rt=Pt=1/0),ct=[],yt=[],Ht=ze.length,Me)for(Dt=0;Dt<Ht;++Dt)(et=ze[Dt]).x<Rt&&(Rt=et.x),et.y<Pt&&(Pt=et.y),et.x>At&&(At=et.x),et.y>Yt&&(Yt=et.y),ct.push(et.x),yt.push(et.y);else for(Dt=0;Dt<Ht;++Dt){var tn=+Ft(et=ze[Dt],Dt),nn=+Ct(et,Dt);tn<Rt&&(Rt=tn),nn<Pt&&(Pt=nn),tn>At&&(At=tn),nn>Yt&&(Yt=nn),ct.push(tn),yt.push(nn)}var yn=At-Rt,vn=Yt-Pt;function En(Cn,Un,Gn,Yn,_n,Tn,Nn,Bn){if(!isNaN(Gn)&&!isNaN(Yn))if(Cn.leaf){var Hn=Cn.x,Wn=Cn.y;if(Hn!=null)if(n(Hn-Gn)+n(Wn-Yn)<.01)On(Cn,Un,Gn,Yn,_n,Tn,Nn,Bn);else{var $n=Cn.point;Cn.x=Cn.y=Cn.point=null,On(Cn,$n,Hn,Wn,_n,Tn,Nn,Bn),On(Cn,Un,Gn,Yn,_n,Tn,Nn,Bn)}else Cn.x=Gn,Cn.y=Yn,Cn.point=Un}else On(Cn,Un,Gn,Yn,_n,Tn,Nn,Bn)}function On(Cn,Un,Gn,Yn,_n,Tn,Nn,Bn){var Hn=.5*(_n+Nn),Wn=.5*(Tn+Bn),$n=Gn>=Hn,Jn=Yn>=Wn,ar=Jn<<1|$n;Cn.leaf=!1,$n?_n=Hn:Nn=Hn,Jn?Tn=Wn:Bn=Wn,En(Cn=Cn.nodes[ar]||(Cn.nodes[ar]={leaf:!0,nodes:[],point:null,x:null,y:null}),Un,Gn,Yn,_n,Tn,Nn,Bn)}yn>vn?Yt=Pt+yn:At=Rt+vn;var Dn={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Cn){En(Dn,Cn,+Ft(Cn,++Dt),+Ct(Cn,Dt),Rt,Pt,At,Yt)}};if(Dn.visit=function(Cn){tr(Cn,Dn,Rt,Pt,At,Yt)},Dn.find=function(Cn){return function(Un,Gn,Yn,_n,Tn,Nn,Bn){var Hn,Wn=1/0;return function $n(Jn,ar,Kn,ir,ur){if(!(ar>Nn||Kn>Bn||ir<_n||ur<Tn)){if(yr=Jn.point){var yr,Ar=Gn-Jn.x,Mr=Yn-Jn.y,sr=Ar*Ar+Mr*Mr;if(sr<Wn){var Qn=Math.sqrt(Wn=sr);_n=Gn-Qn,Tn=Yn-Qn,Nn=Gn+Qn,Bn=Yn+Qn,Hn=yr}}for(var fr=Jn.nodes,hr=.5*(ar+ir),dr=.5*(Kn+ur),vr=(Yn>=dr)<<1|Gn>=hr,kr=vr+4;vr<kr;++vr)if(Jn=fr[3&vr])switch(3&vr){case 0:$n(Jn,ar,Kn,hr,dr);break;case 1:$n(Jn,hr,Kn,ir,dr);break;case 2:$n(Jn,ar,dr,hr,ur);break;case 3:$n(Jn,hr,dr,ir,ur)}}}(Un,_n,Tn,Nn,Bn),Hn}(Dn,Cn[0],Cn[1],Rt,Pt,At,Yt)},Dt=-1,te==null){for(;++Dt<Ht;)En(Dn,ze[Dt],ct[Dt],yt[Dt],Rt,Pt,At,Yt);--Dt}else ze.forEach(Dn.add);return ct=yt=ze=et=null,Dn}return Ie.x=function(ze){return arguments.length?(Ce=ze,Ie):Ce},Ie.y=function(ze){return arguments.length?(Re=ze,Ie):Re},Ie.extent=function(ze){return arguments.length?(ze==null?te=oe=ye=xe=null:(te=+ze[0][0],oe=+ze[0][1],ye=+ze[1][0],xe=+ze[1][1]),Ie):te==null?null:[[te,oe],[ye,xe]]},Ie.size=function(ze){return arguments.length?(ze==null?te=oe=ye=xe=null:(te=oe=0,ye=+ze[0],xe=+ze[1]),Ie):te==null?null:[ye-te,xe-oe]},Ie},E.interpolateRgb=Lr,E.interpolateObject=Ir,E.interpolateNumber=cr,E.interpolateString=Sr;var Tr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rr=new RegExp(Tr.source,"g");function _r(V,te){for(var oe,ye=E.interpolators.length;--ye>=0&&!(oe=E.interpolators[ye](V,te)););return oe}function Dr(V,te){var oe,ye=[],xe=[],Me=V.length,Ce=te.length,Re=Math.min(V.length,te.length);for(oe=0;oe<Re;++oe)ye.push(_r(V[oe],te[oe]));for(;oe<Me;++oe)xe[oe]=V[oe];for(;oe<Ce;++oe)xe[oe]=te[oe];return function(Ie){for(oe=0;oe<Re;++oe)xe[oe]=ye[oe](Ie);return xe}}E.interpolate=_r,E.interpolators=[function(V,te){var oe=typeof te;return(oe==="string"?Xt.has(te.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(te)?Lr:Sr:te instanceof Ae?Lr:Array.isArray(te)?Dr:oe==="object"&&isNaN(te)?Ir:cr)(V,te)}],E.interpolateArray=Dr;var Fr=function(){return B},Hr=E.map({linear:Fr,poly:function(V){return function(te){return Math.pow(te,V)}},quad:function(){return bi},cubic:function(){return _i},sin:function(){return Ai},exp:function(){return Mi},circle:function(){return Ti},elastic:function(V,te){var oe;return arguments.length<2&&(te=.45),arguments.length?oe=te/Ot*Math.asin(1/V):(V=1,oe=te/4),function(ye){return 1+V*Math.pow(2,-10*ye)*Math.sin((ye-oe)*Ot/te)}},back:function(V){return V||(V=1.70158),function(te){return te*te*((V+1)*te-V)}},bounce:function(){return ki}}),xi=E.map({in:B,out:ba,"in-out":_a,"out-in":function(V){return _a(ba(V))}});function ba(V){return function(te){return 1-V(1-te)}}function _a(V){return function(te){return .5*(te<.5?V(2*te):2-V(2-2*te))}}function bi(V){return V*V}function _i(V){return V*V*V}function wi(V){if(V<=0)return 0;if(V>=1)return 1;var te=V*V,oe=te*V;return 4*(V<.5?oe:3*(V-te)+oe-.75)}function Ai(V){return 1-Math.cos(V*at)}function Mi(V){return Math.pow(2,10*(V-1))}function Ti(V){return 1-Math.sqrt(1-V*V)}function ki(V){return V<.36363636363636365?7.5625*V*V:V<.7272727272727273?7.5625*(V-=.5454545454545454)*V+.75:V<.9090909090909091?7.5625*(V-=.8181818181818182)*V+.9375:7.5625*(V-=.9545454545454546)*V+.984375}function wa(V,te){return te-=V,function(oe){return Math.round(V+te*oe)}}function Aa(V){var te,oe,ye,xe=[V.a,V.b],Me=[V.c,V.d],Ce=Ta(xe),Re=Ma(xe,Me),Ie=Ta(((te=Me)[0]+=(ye=-Re)*(oe=xe)[0],te[1]+=ye*oe[1],te))||0;xe[0]*Me[1]<Me[0]*xe[1]&&(xe[0]*=-1,xe[1]*=-1,Ce*=-1,Re*=-1),this.rotate=(Ce?Math.atan2(xe[1],xe[0]):Math.atan2(-Me[0],Me[1]))*Oe,this.translate=[V.e,V.f],this.scale=[Ce,Ie],this.skew=Ie?Math.atan2(Re,Ie)*Oe:0}function Ma(V,te){return V[0]*te[0]+V[1]*te[1]}function Ta(V){var te=Math.sqrt(Ma(V,V));return te&&(V[0]/=te,V[1]/=te),te}E.ease=function(V){var te,oe=V.indexOf("-"),ye=oe>=0?V.slice(0,oe):V,xe=oe>=0?V.slice(oe+1):"in";return ye=Hr.get(ye)||Fr,xe=xi.get(xe)||B,te=xe(ye.apply(null,T.call(arguments,1))),function(Me){return Me<=0?0:Me>=1?1:te(Me)}},E.interpolateHcl=function(V,te){V=E.hcl(V),te=E.hcl(te);var oe=V.h,ye=V.c,xe=V.l,Me=te.h-oe,Ce=te.c-ye,Re=te.l-xe;return isNaN(Ce)&&(Ce=0,ye=isNaN(ye)?te.c:ye),isNaN(Me)?(Me=0,oe=isNaN(oe)?te.h:oe):Me>180?Me-=360:Me<-180&&(Me+=360),function(Ie){return Ne(oe+Me*Ie,ye+Ce*Ie,xe+Re*Ie)+""}},E.interpolateHsl=function(V,te){V=E.hsl(V),te=E.hsl(te);var oe=V.h,ye=V.s,xe=V.l,Me=te.h-oe,Ce=te.s-ye,Re=te.l-xe;return isNaN(Ce)&&(Ce=0,ye=isNaN(ye)?te.s:ye),isNaN(Me)?(Me=0,oe=isNaN(oe)?te.h:oe):Me>180?Me-=360:Me<-180&&(Me+=360),function(Ie){return We(oe+Me*Ie,ye+Ce*Ie,xe+Re*Ie)+""}},E.interpolateLab=function(V,te){V=E.lab(V),te=E.lab(te);var oe=V.l,ye=V.a,xe=V.b,Me=te.l-oe,Ce=te.a-ye,Re=te.b-xe;return function(Ie){return St(oe+Me*Ie,ye+Ce*Ie,xe+Re*Ie)+""}},E.interpolateRound=wa,E.transform=function(V){var te=M.createElementNS(E.ns.prefix.svg,"g");return(E.transform=function(oe){if(oe!=null){te.setAttribute("transform",oe);var ye=te.transform.baseVal.consolidate()}return new Aa(ye?ye.matrix:Si)})(V)},Aa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Si={a:1,b:0,c:0,d:1,e:0,f:0};function zr(V){return V.length?V.pop()+",":""}function ka(V,te){var oe=[],ye=[];return V=E.transform(V),te=E.transform(te),function(xe,Me,Ce,Re){if(xe[0]!==Me[0]||xe[1]!==Me[1]){var Ie=Ce.push("translate(",null,",",null,")");Re.push({i:Ie-4,x:cr(xe[0],Me[0])},{i:Ie-2,x:cr(xe[1],Me[1])})}else(Me[0]||Me[1])&&Ce.push("translate("+Me+")")}(V.translate,te.translate,oe,ye),function(xe,Me,Ce,Re){xe!==Me?(xe-Me>180?Me+=360:Me-xe>180&&(xe+=360),Re.push({i:Ce.push(zr(Ce)+"rotate(",null,")")-2,x:cr(xe,Me)})):Me&&Ce.push(zr(Ce)+"rotate("+Me+")")}(V.rotate,te.rotate,oe,ye),function(xe,Me,Ce,Re){xe!==Me?Re.push({i:Ce.push(zr(Ce)+"skewX(",null,")")-2,x:cr(xe,Me)}):Me&&Ce.push(zr(Ce)+"skewX("+Me+")")}(V.skew,te.skew,oe,ye),function(xe,Me,Ce,Re){if(xe[0]!==Me[0]||xe[1]!==Me[1]){var Ie=Ce.push(zr(Ce)+"scale(",null,",",null,")");Re.push({i:Ie-4,x:cr(xe[0],Me[0])},{i:Ie-2,x:cr(xe[1],Me[1])})}else Me[0]===1&&Me[1]===1||Ce.push(zr(Ce)+"scale("+Me+")")}(V.scale,te.scale,oe,ye),V=te=null,function(xe){for(var Me,Ce=-1,Re=ye.length;++Ce<Re;)oe[(Me=ye[Ce]).i]=Me.x(xe);return oe.join("")}}function Ei(V,te){return te=(te-=V=+V)||1/te,function(oe){return(oe-V)/te}}function Oi(V,te){return te=(te-=V=+V)||1/te,function(oe){return Math.max(0,Math.min(1,(oe-V)/te))}}function Ci(V){for(var te=V.source,oe=V.target,ye=function(Ce,Re){if(Ce===Re)return Ce;for(var Ie=Sa(Ce),ze=Sa(Re),et=Ie.pop(),ct=ze.pop(),yt=null;et===ct;)yt=et,et=Ie.pop(),ct=ze.pop();return yt}(te,oe),xe=[te];te!==ye;)te=te.parent,xe.push(te);for(var Me=xe.length;oe!==ye;)xe.splice(Me,0,oe),oe=oe.parent;return xe}function Sa(V){for(var te=[],oe=V.parent;oe!=null;)te.push(V),V=oe,oe=oe.parent;return te.push(V),te}function Li(V){V.fixed|=2}function Ri(V){V.fixed&=-7}function Di(V){V.fixed|=4,V.px=V.x,V.py=V.y}function Pi(V){V.fixed&=-5}function Ea(V,te,oe){var ye=0,xe=0;if(V.charge=0,!V.leaf)for(var Me,Ce=V.nodes,Re=Ce.length,Ie=-1;++Ie<Re;)(Me=Ce[Ie])!=null&&(Ea(Me,te,oe),V.charge+=Me.charge,ye+=Me.charge*Me.cx,xe+=Me.charge*Me.cy);if(V.point){V.leaf||(V.point.x+=Math.random()-.5,V.point.y+=Math.random()-.5);var ze=te*oe[V.point.index];V.charge+=V.pointCharge=ze,ye+=ze*V.point.x,xe+=ze*V.point.y}V.cx=ye/V.charge,V.cy=xe/V.charge}E.interpolateTransform=ka,E.layout={},E.layout.bundle=function(){return function(V){for(var te=[],oe=-1,ye=V.length;++oe<ye;)te.push(Ci(V[oe]));return te}},E.layout.chord=function(){var V,te,oe,ye,xe,Me,Ce,Re={},Ie=0;function ze(){var ct,yt,Dt,Ht,Rt,Pt={},At=[],Yt=E.range(ye),Ft=[];for(V=[],te=[],ct=0,Ht=-1;++Ht<ye;){for(yt=0,Rt=-1;++Rt<ye;)yt+=oe[Ht][Rt];At.push(yt),Ft.push(E.range(ye)),ct+=yt}for(xe&&Yt.sort(function(Dn,Cn){return xe(At[Dn],At[Cn])}),Me&&Ft.forEach(function(Dn,Cn){Dn.sort(function(Un,Gn){return Me(oe[Cn][Un],oe[Cn][Gn])})}),ct=(Ot-Ie*ye)/ct,yt=0,Ht=-1;++Ht<ye;){for(Dt=yt,Rt=-1;++Rt<ye;){var Ct=Yt[Ht],tn=Ft[Ct][Rt],nn=oe[Ct][tn],yn=yt,vn=yt+=nn*ct;Pt[Ct+"-"+tn]={index:Ct,subindex:tn,startAngle:yn,endAngle:vn,value:nn}}te[Ct]={index:Ct,startAngle:Dt,endAngle:yt,value:At[Ct]},yt+=Ie}for(Ht=-1;++Ht<ye;)for(Rt=Ht-1;++Rt<ye;){var En=Pt[Ht+"-"+Rt],On=Pt[Rt+"-"+Ht];(En.value||On.value)&&V.push(En.value<On.value?{source:On,target:En}:{source:En,target:On})}Ce&&et()}function et(){V.sort(function(ct,yt){return Ce((ct.source.value+ct.target.value)/2,(yt.source.value+yt.target.value)/2)})}return Re.matrix=function(ct){return arguments.length?(ye=(oe=ct)&&oe.length,V=te=null,Re):oe},Re.padding=function(ct){return arguments.length?(Ie=ct,V=te=null,Re):Ie},Re.sortGroups=function(ct){return arguments.length?(xe=ct,V=te=null,Re):xe},Re.sortSubgroups=function(ct){return arguments.length?(Me=ct,V=null,Re):Me},Re.sortChords=function(ct){return arguments.length?(Ce=ct,V&&et(),Re):Ce},Re.chords=function(){return V||ze(),V},Re.groups=function(){return te||ze(),te},Re},E.layout.force=function(){var V,te,oe,ye,xe,Me,Ce={},Re=E.dispatch("start","tick","end"),Ie=[1,1],ze=.9,et=Ii,ct=Fi,yt=-30,Dt=zi,Ht=.1,Rt=.64,Pt=[],At=[];function Yt(Ct){return function(tn,nn,yn,vn){if(tn.point!==Ct){var En=tn.cx-Ct.x,On=tn.cy-Ct.y,Dn=vn-nn,Cn=En*En+On*On;if(Dn*Dn/Rt<Cn){if(Cn<Dt){var Un=tn.charge/Cn;Ct.px-=En*Un,Ct.py-=On*Un}return!0}tn.point&&Cn&&Cn<Dt&&(Un=tn.pointCharge/Cn,Ct.px-=En*Un,Ct.py-=On*Un)}return!tn.charge}}function Ft(Ct){Ct.px=E.event.x,Ct.py=E.event.y,Ce.resume()}return Ce.tick=function(){if((oe*=.99)<.005)return V=null,Re.end({type:"end",alpha:oe=0}),!0;var Ct,tn,nn,yn,vn,En,On,Dn,Cn,Un=Pt.length,Gn=At.length;for(tn=0;tn<Gn;++tn)yn=(nn=At[tn]).source,(En=(Dn=(vn=nn.target).x-yn.x)*Dn+(Cn=vn.y-yn.y)*Cn)&&(Dn*=En=oe*xe[tn]*((En=Math.sqrt(En))-ye[tn])/En,Cn*=En,vn.x-=Dn*(On=yn.weight+vn.weight?yn.weight/(yn.weight+vn.weight):.5),vn.y-=Cn*On,yn.x+=Dn*(On=1-On),yn.y+=Cn*On);if((On=oe*Ht)&&(Dn=Ie[0]/2,Cn=Ie[1]/2,tn=-1,On))for(;++tn<Un;)(nn=Pt[tn]).x+=(Dn-nn.x)*On,nn.y+=(Cn-nn.y)*On;if(yt)for(Ea(Ct=E.geom.quadtree(Pt),oe,Me),tn=-1;++tn<Un;)(nn=Pt[tn]).fixed||Ct.visit(Yt(nn));for(tn=-1;++tn<Un;)(nn=Pt[tn]).fixed?(nn.x=nn.px,nn.y=nn.py):(nn.x-=(nn.px-(nn.px=nn.x))*ze,nn.y-=(nn.py-(nn.py=nn.y))*ze);Re.tick({type:"tick",alpha:oe})},Ce.nodes=function(Ct){return arguments.length?(Pt=Ct,Ce):Pt},Ce.links=function(Ct){return arguments.length?(At=Ct,Ce):At},Ce.size=function(Ct){return arguments.length?(Ie=Ct,Ce):Ie},Ce.linkDistance=function(Ct){return arguments.length?(et=typeof Ct=="function"?Ct:+Ct,Ce):et},Ce.distance=Ce.linkDistance,Ce.linkStrength=function(Ct){return arguments.length?(ct=typeof Ct=="function"?Ct:+Ct,Ce):ct},Ce.friction=function(Ct){return arguments.length?(ze=+Ct,Ce):ze},Ce.charge=function(Ct){return arguments.length?(yt=typeof Ct=="function"?Ct:+Ct,Ce):yt},Ce.chargeDistance=function(Ct){return arguments.length?(Dt=Ct*Ct,Ce):Math.sqrt(Dt)},Ce.gravity=function(Ct){return arguments.length?(Ht=+Ct,Ce):Ht},Ce.theta=function(Ct){return arguments.length?(Rt=Ct*Ct,Ce):Math.sqrt(Rt)},Ce.alpha=function(Ct){return arguments.length?(Ct=+Ct,oe?Ct>0?oe=Ct:(V.c=null,V.t=NaN,V=null,Re.end({type:"end",alpha:oe=0})):Ct>0&&(Re.start({type:"start",alpha:oe=Ct}),V=fn(Ce.tick)),Ce):oe},Ce.start=function(){var Ct,tn,nn,yn=Pt.length,vn=At.length,En=Ie[0],On=Ie[1];for(Ct=0;Ct<yn;++Ct)(nn=Pt[Ct]).index=Ct,nn.weight=0;for(Ct=0;Ct<vn;++Ct)typeof(nn=At[Ct]).source=="number"&&(nn.source=Pt[nn.source]),typeof nn.target=="number"&&(nn.target=Pt[nn.target]),++nn.source.weight,++nn.target.weight;for(Ct=0;Ct<yn;++Ct)nn=Pt[Ct],isNaN(nn.x)&&(nn.x=Dn("x",En)),isNaN(nn.y)&&(nn.y=Dn("y",On)),isNaN(nn.px)&&(nn.px=nn.x),isNaN(nn.py)&&(nn.py=nn.y);if(ye=[],typeof et=="function")for(Ct=0;Ct<vn;++Ct)ye[Ct]=+et.call(this,At[Ct],Ct);else for(Ct=0;Ct<vn;++Ct)ye[Ct]=et;if(xe=[],typeof ct=="function")for(Ct=0;Ct<vn;++Ct)xe[Ct]=+ct.call(this,At[Ct],Ct);else for(Ct=0;Ct<vn;++Ct)xe[Ct]=ct;if(Me=[],typeof yt=="function")for(Ct=0;Ct<yn;++Ct)Me[Ct]=+yt.call(this,Pt[Ct],Ct);else for(Ct=0;Ct<yn;++Ct)Me[Ct]=yt;function Dn(Cn,Un){if(!tn){for(tn=new Array(yn),Tn=0;Tn<yn;++Tn)tn[Tn]=[];for(Tn=0;Tn<vn;++Tn){var Gn=At[Tn];tn[Gn.source.index].push(Gn.target),tn[Gn.target.index].push(Gn.source)}}for(var Yn,_n=tn[Ct],Tn=-1,Nn=_n.length;++Tn<Nn;)if(!isNaN(Yn=_n[Tn][Cn]))return Yn;return Math.random()*Un}return Ce.resume()},Ce.resume=function(){return Ce.alpha(.1)},Ce.stop=function(){return Ce.alpha(0)},Ce.drag=function(){if(te||(te=E.behavior.drag().origin(B).on("dragstart.force",Li).on("drag.force",Ft).on("dragend.force",Ri)),!arguments.length)return te;this.on("mouseover.force",Di).on("mouseout.force",Pi).call(te)},E.rebind(Ce,Re,"on")};var Ii=20,Fi=1,zi=1/0;function Br(V,te){return E.rebind(V,te,"sort","children","value"),V.nodes=V,V.links=Ui,V}function jr(V,te){for(var oe=[V];(V=oe.pop())!=null;)if(te(V),(xe=V.children)&&(ye=xe.length))for(var ye,xe;--ye>=0;)oe.push(xe[ye])}function wr(V,te){for(var oe=[V],ye=[];(V=oe.pop())!=null;)if(ye.push(V),(Me=V.children)&&(xe=Me.length))for(var xe,Me,Ce=-1;++Ce<xe;)oe.push(Me[Ce]);for(;(V=ye.pop())!=null;)te(V)}function Ni(V){return V.children}function Bi(V){return V.value}function ji(V,te){return te.value-V.value}function Ui(V){return E.merge(V.map(function(te){return(te.children||[]).map(function(oe){return{source:te,target:oe}})}))}E.layout.hierarchy=function(){var V=ji,te=Ni,oe=Bi;function ye(xe){var Me,Ce=[xe],Re=[];for(xe.depth=0;(Me=Ce.pop())!=null;)if(Re.push(Me),(ze=te.call(ye,Me,Me.depth))&&(Ie=ze.length)){for(var Ie,ze,et;--Ie>=0;)Ce.push(et=ze[Ie]),et.parent=Me,et.depth=Me.depth+1;oe&&(Me.value=0),Me.children=ze}else oe&&(Me.value=+oe.call(ye,Me,Me.depth)||0),delete Me.children;return wr(xe,function(ct){var yt,Dt;V&&(yt=ct.children)&&yt.sort(V),oe&&(Dt=ct.parent)&&(Dt.value+=ct.value)}),Re}return ye.sort=function(xe){return arguments.length?(V=xe,ye):V},ye.children=function(xe){return arguments.length?(te=xe,ye):te},ye.value=function(xe){return arguments.length?(oe=xe,ye):oe},ye.revalue=function(xe){return oe&&(jr(xe,function(Me){Me.children&&(Me.value=0)}),wr(xe,function(Me){var Ce;Me.children||(Me.value=+oe.call(ye,Me,Me.depth)||0),(Ce=Me.parent)&&(Ce.value+=Me.value)})),xe},ye},E.layout.partition=function(){var V=E.layout.hierarchy(),te=[1,1];function oe(Me,Ce,Re,Ie){var ze=Me.children;if(Me.x=Ce,Me.y=Me.depth*Ie,Me.dx=Re,Me.dy=Ie,ze&&(et=ze.length)){var et,ct,yt,Dt=-1;for(Re=Me.value?Re/Me.value:0;++Dt<et;)oe(ct=ze[Dt],Ce,yt=ct.value*Re,Ie),Ce+=yt}}function ye(Me){var Ce=Me.children,Re=0;if(Ce&&(Ie=Ce.length))for(var Ie,ze=-1;++ze<Ie;)Re=Math.max(Re,ye(Ce[ze]));return 1+Re}function xe(Me,Ce){var Re=V.call(this,Me,Ce);return oe(Re[0],0,te[0],te[1]/ye(Re[0])),Re}return xe.size=function(Me){return arguments.length?(te=Me,xe):te},Br(xe,V)},E.layout.pie=function(){var V=Number,te=Oa,oe=0,ye=Ot,xe=0;function Me(Ce){var Re,Ie=Ce.length,ze=Ce.map(function(Yt,Ft){return+V.call(Me,Yt,Ft)}),et=+(typeof oe=="function"?oe.apply(this,arguments):oe),ct=(typeof ye=="function"?ye.apply(this,arguments):ye)-et,yt=Math.min(Math.abs(ct)/Ie,+(typeof xe=="function"?xe.apply(this,arguments):xe)),Dt=yt*(ct<0?-1:1),Ht=E.sum(ze),Rt=Ht?(ct-Ie*Dt)/Ht:0,Pt=E.range(Ie),At=[];return te!=null&&Pt.sort(te===Oa?function(Yt,Ft){return ze[Ft]-ze[Yt]}:function(Yt,Ft){return te(Ce[Yt],Ce[Ft])}),Pt.forEach(function(Yt){At[Yt]={data:Ce[Yt],value:Re=ze[Yt],startAngle:et,endAngle:et+=Re*Rt+Dt,padAngle:yt}}),At}return Me.value=function(Ce){return arguments.length?(V=Ce,Me):V},Me.sort=function(Ce){return arguments.length?(te=Ce,Me):te},Me.startAngle=function(Ce){return arguments.length?(oe=Ce,Me):oe},Me.endAngle=function(Ce){return arguments.length?(ye=Ce,Me):ye},Me.padAngle=function(Ce){return arguments.length?(xe=Ce,Me):xe},Me};var Oa={};function Hi(V){return V.x}function Vi(V){return V.y}function Gi(V,te,oe){V.y0=te,V.y=oe}E.layout.stack=function(){var V=B,te=na,oe=ra,ye=Gi,xe=Hi,Me=Vi;function Ce(Re,Ie){if(!(yt=Re.length))return Re;var ze=Re.map(function(Yt,Ft){return V.call(Ce,Yt,Ft)}),et=ze.map(function(Yt){return Yt.map(function(Ft,Ct){return[xe.call(Ce,Ft,Ct),Me.call(Ce,Ft,Ct)]})}),ct=te.call(Ce,et,Ie);ze=E.permute(ze,ct),et=E.permute(et,ct);var yt,Dt,Ht,Rt,Pt=oe.call(Ce,et,Ie),At=ze[0].length;for(Ht=0;Ht<At;++Ht)for(ye.call(Ce,ze[0][Ht],Rt=Pt[Ht],et[0][Ht][1]),Dt=1;Dt<yt;++Dt)ye.call(Ce,ze[Dt][Ht],Rt+=et[Dt-1][Ht][1],et[Dt][Ht][1]);return Re}return Ce.values=function(Re){return arguments.length?(V=Re,Ce):V},Ce.order=function(Re){return arguments.length?(te=typeof Re=="function"?Re:Wi.get(Re)||na,Ce):te},Ce.offset=function(Re){return arguments.length?(oe=typeof Re=="function"?Re:Yi.get(Re)||ra,Ce):oe},Ce.x=function(Re){return arguments.length?(xe=Re,Ce):xe},Ce.y=function(Re){return arguments.length?(Me=Re,Ce):Me},Ce.out=function(Re){return arguments.length?(ye=Re,Ce):ye},Ce};var Wi=E.map({"inside-out":function(V){var te,oe,ye=V.length,xe=V.map(qi),Me=V.map(Xi),Ce=E.range(ye).sort(function(ct,yt){return xe[ct]-xe[yt]}),Re=0,Ie=0,ze=[],et=[];for(te=0;te<ye;++te)oe=Ce[te],Re<Ie?(Re+=Me[oe],ze.push(oe)):(Ie+=Me[oe],et.push(oe));return et.reverse().concat(ze)},reverse:function(V){return E.range(V.length).reverse()},default:na}),Yi=E.map({silhouette:function(V){var te,oe,ye,xe=V.length,Me=V[0].length,Ce=[],Re=0,Ie=[];for(oe=0;oe<Me;++oe){for(te=0,ye=0;te<xe;te++)ye+=V[te][oe][1];ye>Re&&(Re=ye),Ce.push(ye)}for(oe=0;oe<Me;++oe)Ie[oe]=(Re-Ce[oe])/2;return Ie},wiggle:function(V){var te,oe,ye,xe,Me,Ce,Re,Ie,ze,et=V.length,ct=V[0],yt=ct.length,Dt=[];for(Dt[0]=Ie=ze=0,oe=1;oe<yt;++oe){for(te=0,xe=0;te<et;++te)xe+=V[te][oe][1];for(te=0,Me=0,Re=ct[oe][0]-ct[oe-1][0];te<et;++te){for(ye=0,Ce=(V[te][oe][1]-V[te][oe-1][1])/(2*Re);ye<te;++ye)Ce+=(V[ye][oe][1]-V[ye][oe-1][1])/Re;Me+=Ce*V[te][oe][1]}Dt[oe]=Ie-=xe?Me/xe*Re:0,Ie<ze&&(ze=Ie)}for(oe=0;oe<yt;++oe)Dt[oe]-=ze;return Dt},expand:function(V){var te,oe,ye,xe=V.length,Me=V[0].length,Ce=1/xe,Re=[];for(oe=0;oe<Me;++oe){for(te=0,ye=0;te<xe;te++)ye+=V[te][oe][1];if(ye)for(te=0;te<xe;te++)V[te][oe][1]/=ye;else for(te=0;te<xe;te++)V[te][oe][1]=Ce}for(oe=0;oe<Me;++oe)Re[oe]=0;return Re},zero:ra});function na(V){return E.range(V.length)}function ra(V){for(var te=-1,oe=V[0].length,ye=[];++te<oe;)ye[te]=0;return ye}function qi(V){for(var te,oe=1,ye=0,xe=V[0][1],Me=V.length;oe<Me;++oe)(te=V[oe][1])>xe&&(ye=oe,xe=te);return ye}function Xi(V){return V.reduce(Zi,0)}function Zi(V,te){return V+te[1]}function Ji(V,te){return Ca(V,Math.ceil(Math.log(te.length)/Math.LN2+1))}function Ca(V,te){for(var oe=-1,ye=+V[0],xe=(V[1]-ye)/te,Me=[];++oe<=te;)Me[oe]=xe*oe+ye;return Me}function $i(V){return[E.min(V),E.max(V)]}function Ki(V,te){return V.value-te.value}function aa(V,te){var oe=V._pack_next;V._pack_next=te,te._pack_prev=V,te._pack_next=oe,oe._pack_prev=te}function La(V,te){V._pack_next=te,te._pack_prev=V}function Ra(V,te){var oe=te.x-V.x,ye=te.y-V.y,xe=V.r+te.r;return .999*xe*xe>oe*oe+ye*ye}function Da(V){if((te=V.children)&&(Ie=te.length)){var te,oe,ye,xe,Me,Ce,Re,Ie,ze=1/0,et=-1/0,ct=1/0,yt=-1/0;if(te.forEach(Qi),(oe=te[0]).x=-oe.r,oe.y=0,Ft(oe),Ie>1&&((ye=te[1]).x=ye.r,ye.y=0,Ft(ye),Ie>2))for(Ia(oe,ye,xe=te[2]),Ft(xe),aa(oe,xe),oe._pack_prev=xe,aa(xe,ye),ye=oe._pack_next,Me=3;Me<Ie;Me++){Ia(oe,ye,xe=te[Me]);var Dt=0,Ht=1,Rt=1;for(Ce=ye._pack_next;Ce!==ye;Ce=Ce._pack_next,Ht++)if(Ra(Ce,xe)){Dt=1;break}if(Dt==1)for(Re=oe._pack_prev;Re!==Ce._pack_prev&&!Ra(Re,xe);Re=Re._pack_prev,Rt++);Dt?(Ht<Rt||Ht==Rt&&ye.r<oe.r?La(oe,ye=Ce):La(oe=Re,ye),Me--):(aa(oe,xe),ye=xe,Ft(xe))}var Pt=(ze+et)/2,At=(ct+yt)/2,Yt=0;for(Me=0;Me<Ie;Me++)(xe=te[Me]).x-=Pt,xe.y-=At,Yt=Math.max(Yt,xe.r+Math.sqrt(xe.x*xe.x+xe.y*xe.y));V.r=Yt,te.forEach(eo)}function Ft(Ct){ze=Math.min(Ct.x-Ct.r,ze),et=Math.max(Ct.x+Ct.r,et),ct=Math.min(Ct.y-Ct.r,ct),yt=Math.max(Ct.y+Ct.r,yt)}}function Qi(V){V._pack_next=V._pack_prev=V}function eo(V){delete V._pack_next,delete V._pack_prev}function Pa(V,te,oe,ye){var xe=V.children;if(V.x=te+=ye*V.x,V.y=oe+=ye*V.y,V.r*=ye,xe)for(var Me=-1,Ce=xe.length;++Me<Ce;)Pa(xe[Me],te,oe,ye)}function Ia(V,te,oe){var ye=V.r+oe.r,xe=te.x-V.x,Me=te.y-V.y;if(ye&&(xe||Me)){var Ce=te.r+oe.r,Re=xe*xe+Me*Me,Ie=.5+((ye*=ye)-(Ce*=Ce))/(2*Re),ze=Math.sqrt(Math.max(0,2*Ce*(ye+Re)-(ye-=Re)*ye-Ce*Ce))/(2*Re);oe.x=V.x+Ie*xe+ze*Me,oe.y=V.y+Ie*Me-ze*xe}else oe.x=V.x+ye,oe.y=V.y}function Fa(V,te){return V.parent==te.parent?1:2}function ia(V){var te=V.children;return te.length?te[0]:V.t}function oa(V){var te,oe=V.children;return(te=oe.length)?oe[te-1]:V.t}function to(V,te,oe){var ye=oe/(te.i-V.i);te.c-=ye,te.s+=oe,V.c+=ye,te.z+=oe,te.m+=oe}function no(V,te,oe){return V.a.parent===te.parent?V.a:oe}function za(V){var te=V.children;return te&&te.length?za(te[0]):V}function Na(V){var te,oe=V.children;return oe&&(te=oe.length)?Na(oe[te-1]):V}function sa(V){return{x:V.x,y:V.y,dx:V.dx,dy:V.dy}}function Ba(V,te){var oe=V.x+te[3],ye=V.y+te[0],xe=V.dx-te[1]-te[3],Me=V.dy-te[0]-te[2];return xe<0&&(oe+=xe/2,xe=0),Me<0&&(ye+=Me/2,Me=0),{x:oe,y:ye,dx:xe,dy:Me}}function Vr(V){var te=V[0],oe=V[V.length-1];return te<oe?[te,oe]:[oe,te]}function Gr(V){return V.rangeExtent?V.rangeExtent():Vr(V.range())}function ro(V,te,oe,ye){var xe=oe(V[0],V[1]),Me=ye(te[0],te[1]);return function(Ce){return Me(xe(Ce))}}function la(V,te){var oe,ye=0,xe=V.length-1,Me=V[ye],Ce=V[xe];return Ce<Me&&(oe=ye,ye=xe,xe=oe,oe=Me,Me=Ce,Ce=oe),V[ye]=te.floor(Me),V[xe]=te.ceil(Ce),V}function ja(V){return V?{floor:function(te){return Math.floor(te/V)*V},ceil:function(te){return Math.ceil(te/V)*V}}:ao}E.layout.histogram=function(){var V=!0,te=Number,oe=$i,ye=Ji;function xe(Me,Ce){for(var Re,Ie,ze=[],et=Me.map(te,this),ct=oe.call(this,et,Ce),yt=ye.call(this,ct,et,Ce),Dt=(Ce=-1,et.length),Ht=yt.length-1,Rt=V?1:1/Dt;++Ce<Ht;)(Re=ze[Ce]=[]).dx=yt[Ce+1]-(Re.x=yt[Ce]),Re.y=0;if(Ht>0)for(Ce=-1;++Ce<Dt;)(Ie=et[Ce])>=ct[0]&&Ie<=ct[1]&&((Re=ze[E.bisect(yt,Ie,1,Ht)-1]).y+=Rt,Re.push(Me[Ce]));return ze}return xe.value=function(Me){return arguments.length?(te=Me,xe):te},xe.range=function(Me){return arguments.length?(oe=$t(Me),xe):oe},xe.bins=function(Me){return arguments.length?(ye=typeof Me=="number"?function(Ce){return Ca(Ce,Me)}:$t(Me),xe):ye},xe.frequency=function(Me){return arguments.length?(V=!!Me,xe):V},xe},E.layout.pack=function(){var V,te=E.layout.hierarchy().sort(Ki),oe=0,ye=[1,1];function xe(Me,Ce){var Re=te.call(this,Me,Ce),Ie=Re[0],ze=ye[0],et=ye[1],ct=V==null?Math.sqrt:typeof V=="function"?V:function(){return V};if(Ie.x=Ie.y=0,wr(Ie,function(Dt){Dt.r=+ct(Dt.value)}),wr(Ie,Da),oe){var yt=oe*(V?1:Math.max(2*Ie.r/ze,2*Ie.r/et))/2;wr(Ie,function(Dt){Dt.r+=yt}),wr(Ie,Da),wr(Ie,function(Dt){Dt.r-=yt})}return Pa(Ie,ze/2,et/2,V?1:1/Math.max(2*Ie.r/ze,2*Ie.r/et)),Re}return xe.size=function(Me){return arguments.length?(ye=Me,xe):ye},xe.radius=function(Me){return arguments.length?(V=Me==null||typeof Me=="function"?Me:+Me,xe):V},xe.padding=function(Me){return arguments.length?(oe=+Me,xe):oe},Br(xe,te)},E.layout.tree=function(){var V=E.layout.hierarchy().sort(null).value(null),te=Fa,oe=[1,1],ye=null;function xe(Ie,ze){var et=V.call(this,Ie,ze),ct=et[0],yt=function(Ft){for(var Ct,tn={A:null,children:[Ft]},nn=[tn];(Ct=nn.pop())!=null;)for(var yn,vn=Ct.children,En=0,On=vn.length;En<On;++En)nn.push((vn[En]=yn={_:vn[En],parent:Ct,children:(yn=vn[En].children)&&yn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:En}).a=yn);return tn.children[0]}(ct);if(wr(yt,Me),yt.parent.m=-yt.z,jr(yt,Ce),ye)jr(ct,Re);else{var Dt=ct,Ht=ct,Rt=ct;jr(ct,function(Ft){Ft.x<Dt.x&&(Dt=Ft),Ft.x>Ht.x&&(Ht=Ft),Ft.depth>Rt.depth&&(Rt=Ft)});var Pt=te(Dt,Ht)/2-Dt.x,At=oe[0]/(Ht.x+te(Ht,Dt)/2+Pt),Yt=oe[1]/(Rt.depth||1);jr(ct,function(Ft){Ft.x=(Ft.x+Pt)*At,Ft.y=Ft.depth*Yt})}return et}function Me(Ie){var ze=Ie.children,et=Ie.parent.children,ct=Ie.i?et[Ie.i-1]:null;if(ze.length){(function(Dt){for(var Ht,Rt=0,Pt=0,At=Dt.children,Yt=At.length;--Yt>=0;)(Ht=At[Yt]).z+=Rt,Ht.m+=Rt,Rt+=Ht.s+(Pt+=Ht.c)})(Ie);var yt=(ze[0].z+ze[ze.length-1].z)/2;ct?(Ie.z=ct.z+te(Ie._,ct._),Ie.m=Ie.z-yt):Ie.z=yt}else ct&&(Ie.z=ct.z+te(Ie._,ct._));Ie.parent.A=function(Dt,Ht,Rt){if(Ht){for(var Pt,At=Dt,Yt=Dt,Ft=Ht,Ct=At.parent.children[0],tn=At.m,nn=Yt.m,yn=Ft.m,vn=Ct.m;Ft=oa(Ft),At=ia(At),Ft&&At;)Ct=ia(Ct),(Yt=oa(Yt)).a=Dt,(Pt=Ft.z+yn-At.z-tn+te(Ft._,At._))>0&&(to(no(Ft,Dt,Rt),Dt,Pt),tn+=Pt,nn+=Pt),yn+=Ft.m,tn+=At.m,vn+=Ct.m,nn+=Yt.m;Ft&&!oa(Yt)&&(Yt.t=Ft,Yt.m+=yn-nn),At&&!ia(Ct)&&(Ct.t=At,Ct.m+=tn-vn,Rt=Dt)}return Rt}(Ie,ct,Ie.parent.A||et[0])}function Ce(Ie){Ie._.x=Ie.z+Ie.parent.m,Ie.m+=Ie.parent.m}function Re(Ie){Ie.x*=oe[0],Ie.y=Ie.depth*oe[1]}return xe.separation=function(Ie){return arguments.length?(te=Ie,xe):te},xe.size=function(Ie){return arguments.length?(ye=(oe=Ie)==null?Re:null,xe):ye?null:oe},xe.nodeSize=function(Ie){return arguments.length?(ye=(oe=Ie)==null?null:Re,xe):ye?oe:null},Br(xe,V)},E.layout.cluster=function(){var V=E.layout.hierarchy().sort(null).value(null),te=Fa,oe=[1,1],ye=!1;function xe(Me,Ce){var Re,Ie=V.call(this,Me,Ce),ze=Ie[0],et=0;wr(ze,function(Rt){var Pt=Rt.children;Pt&&Pt.length?(Rt.x=function(At){return At.reduce(function(Yt,Ft){return Yt+Ft.x},0)/At.length}(Pt),Rt.y=function(At){return 1+E.max(At,function(Yt){return Yt.y})}(Pt)):(Rt.x=Re?et+=te(Rt,Re):0,Rt.y=0,Re=Rt)});var ct=za(ze),yt=Na(ze),Dt=ct.x-te(ct,yt)/2,Ht=yt.x+te(yt,ct)/2;return wr(ze,ye?function(Rt){Rt.x=(Rt.x-ze.x)*oe[0],Rt.y=(ze.y-Rt.y)*oe[1]}:function(Rt){Rt.x=(Rt.x-Dt)/(Ht-Dt)*oe[0],Rt.y=(1-(ze.y?Rt.y/ze.y:1))*oe[1]}),Ie}return xe.separation=function(Me){return arguments.length?(te=Me,xe):te},xe.size=function(Me){return arguments.length?(ye=(oe=Me)==null,xe):ye?null:oe},xe.nodeSize=function(Me){return arguments.length?(ye=(oe=Me)!=null,xe):ye?oe:null},Br(xe,V)},E.layout.treemap=function(){var V,te=E.layout.hierarchy(),oe=Math.round,ye=[1,1],xe=null,Me=sa,Ce=!1,Re="squarify",Ie=.5*(1+Math.sqrt(5));function ze(Rt,Pt){for(var At,Yt,Ft=-1,Ct=Rt.length;++Ft<Ct;)Yt=(At=Rt[Ft]).value*(Pt<0?0:Pt),At.area=isNaN(Yt)||Yt<=0?0:Yt}function et(Rt){var Pt=Rt.children;if(Pt&&Pt.length){var At,Yt,Ft,Ct=Me(Rt),tn=[],nn=Pt.slice(),yn=1/0,vn=Re==="slice"?Ct.dx:Re==="dice"?Ct.dy:Re==="slice-dice"?1&Rt.depth?Ct.dy:Ct.dx:Math.min(Ct.dx,Ct.dy);for(ze(nn,Ct.dx*Ct.dy/Rt.value),tn.area=0;(Ft=nn.length)>0;)tn.push(At=nn[Ft-1]),tn.area+=At.area,Re!=="squarify"||(Yt=yt(tn,vn))<=yn?(nn.pop(),yn=Yt):(tn.area-=tn.pop().area,Dt(tn,vn,Ct,!1),vn=Math.min(Ct.dx,Ct.dy),tn.length=tn.area=0,yn=1/0);tn.length&&(Dt(tn,vn,Ct,!0),tn.length=tn.area=0),Pt.forEach(et)}}function ct(Rt){var Pt=Rt.children;if(Pt&&Pt.length){var At,Yt=Me(Rt),Ft=Pt.slice(),Ct=[];for(ze(Ft,Yt.dx*Yt.dy/Rt.value),Ct.area=0;At=Ft.pop();)Ct.push(At),Ct.area+=At.area,At.z!=null&&(Dt(Ct,At.z?Yt.dx:Yt.dy,Yt,!Ft.length),Ct.length=Ct.area=0);Pt.forEach(ct)}}function yt(Rt,Pt){for(var At,Yt=Rt.area,Ft=0,Ct=1/0,tn=-1,nn=Rt.length;++tn<nn;)(At=Rt[tn].area)&&(At<Ct&&(Ct=At),At>Ft&&(Ft=At));return Pt*=Pt,(Yt*=Yt)?Math.max(Pt*Ft*Ie/Yt,Yt/(Pt*Ct*Ie)):1/0}function Dt(Rt,Pt,At,Yt){var Ft,Ct=-1,tn=Rt.length,nn=At.x,yn=At.y,vn=Pt?oe(Rt.area/Pt):0;if(Pt==At.dx){for((Yt||vn>At.dy)&&(vn=At.dy);++Ct<tn;)(Ft=Rt[Ct]).x=nn,Ft.y=yn,Ft.dy=vn,nn+=Ft.dx=Math.min(At.x+At.dx-nn,vn?oe(Ft.area/vn):0);Ft.z=!0,Ft.dx+=At.x+At.dx-nn,At.y+=vn,At.dy-=vn}else{for((Yt||vn>At.dx)&&(vn=At.dx);++Ct<tn;)(Ft=Rt[Ct]).x=nn,Ft.y=yn,Ft.dx=vn,yn+=Ft.dy=Math.min(At.y+At.dy-yn,vn?oe(Ft.area/vn):0);Ft.z=!1,Ft.dy+=At.y+At.dy-yn,At.x+=vn,At.dx-=vn}}function Ht(Rt){var Pt=V||te(Rt),At=Pt[0];return At.x=At.y=0,At.value?(At.dx=ye[0],At.dy=ye[1]):At.dx=At.dy=0,V&&te.revalue(At),ze([At],At.dx*At.dy/At.value),(V?ct:et)(At),Ce&&(V=Pt),Pt}return Ht.size=function(Rt){return arguments.length?(ye=Rt,Ht):ye},Ht.padding=function(Rt){if(!arguments.length)return xe;function Pt(Yt){return Ba(Yt,Rt)}var At;return Me=(xe=Rt)==null?sa:(At=typeof Rt)=="function"?function(Yt){var Ft=Rt.call(Ht,Yt,Yt.depth);return Ft==null?sa(Yt):Ba(Yt,typeof Ft=="number"?[Ft,Ft,Ft,Ft]:Ft)}:(At==="number"&&(Rt=[Rt,Rt,Rt,Rt]),Pt),Ht},Ht.round=function(Rt){return arguments.length?(oe=Rt?Math.round:Number,Ht):oe!=Number},Ht.sticky=function(Rt){return arguments.length?(Ce=Rt,V=null,Ht):Ce},Ht.ratio=function(Rt){return arguments.length?(Ie=Rt,Ht):Ie},Ht.mode=function(Rt){return arguments.length?(Re=Rt+"",Ht):Re},Br(Ht,te)},E.random={normal:function(V,te){var oe=arguments.length;return oe<2&&(te=1),oe<1&&(V=0),function(){var ye,xe,Me;do Me=(ye=2*Math.random()-1)*ye+(xe=2*Math.random()-1)*xe;while(!Me||Me>1);return V+te*ye*Math.sqrt(-2*Math.log(Me)/Me)}},logNormal:function(){var V=E.random.normal.apply(E,arguments);return function(){return Math.exp(V())}},bates:function(V){var te=E.random.irwinHall(V);return function(){return te()/V}},irwinHall:function(V){return function(){for(var te=0,oe=0;oe<V;oe++)te+=Math.random();return te}}},E.scale={};var ao={floor:B,ceil:B};function io(V,te,oe,ye){var xe=[],Me=[],Ce=0,Re=Math.min(V.length,te.length)-1;for(V[Re]<V[0]&&(V=V.slice().reverse(),te=te.slice().reverse());++Ce<=Re;)xe.push(oe(V[Ce-1],V[Ce])),Me.push(ye(te[Ce-1],te[Ce]));return function(Ie){var ze=E.bisect(V,Ie,1,Re)-1;return Me[ze](xe[ze](Ie))}}function Ua(V,te,oe,ye){var xe,Me;function Ce(){var Ie=Math.min(V.length,te.length)>2?io:ro,ze=ye?Oi:Ei;return xe=Ie(V,te,ze,oe),Me=Ie(te,V,ze,_r),Re}function Re(Ie){return xe(Ie)}return Re.invert=function(Ie){return Me(Ie)},Re.domain=function(Ie){return arguments.length?(V=Ie.map(Number),Ce()):V},Re.range=function(Ie){return arguments.length?(te=Ie,Ce()):te},Re.rangeRound=function(Ie){return Re.range(Ie).interpolate(wa)},Re.clamp=function(Ie){return arguments.length?(ye=Ie,Ce()):ye},Re.interpolate=function(Ie){return arguments.length?(oe=Ie,Ce()):oe},Re.ticks=function(Ie){return ca(V,Ie)},Re.tickFormat=function(Ie,ze){return d3_scale_linearTickFormat(V,Ie,ze)},Re.nice=function(Ie){return Va(V,Ie),Ce()},Re.copy=function(){return Ua(V,te,oe,ye)},Ce()}function Ha(V,te){return E.rebind(V,te,"range","rangeRound","interpolate","clamp")}function Va(V,te){return la(V,ja(ua(V,te)[2])),la(V,ja(ua(V,te)[2])),V}function ua(V,te){te==null&&(te=10);var oe=Vr(V),ye=oe[1]-oe[0],xe=Math.pow(10,Math.floor(Math.log(ye/te)/Math.LN10)),Me=te/ye*xe;return Me<=.15?xe*=10:Me<=.35?xe*=5:Me<=.75&&(xe*=2),oe[0]=Math.ceil(oe[0]/xe)*xe,oe[1]=Math.floor(oe[1]/xe)*xe+.5*xe,oe[2]=xe,oe}function ca(V,te){return E.range.apply(E,ua(V,te))}function Ga(V,te,oe,ye){function xe(Re){return(oe?Math.log(Re<0?0:Re):-Math.log(Re>0?0:-Re))/Math.log(te)}function Me(Re){return oe?Math.pow(te,Re):-Math.pow(te,-Re)}function Ce(Re){return V(xe(Re))}return Ce.invert=function(Re){return Me(V.invert(Re))},Ce.domain=function(Re){return arguments.length?(oe=Re[0]>=0,V.domain((ye=Re.map(Number)).map(xe)),Ce):ye},Ce.base=function(Re){return arguments.length?(te=+Re,V.domain(ye.map(xe)),Ce):te},Ce.nice=function(){var Re=la(ye.map(xe),oe?Math:oo);return V.domain(Re),ye=Re.map(Me),Ce},Ce.ticks=function(){var Re=Vr(ye),Ie=[],ze=Re[0],et=Re[1],ct=Math.floor(xe(ze)),yt=Math.ceil(xe(et)),Dt=te%1?2:te;if(isFinite(yt-ct)){if(oe){for(;ct<yt;ct++)for(var Ht=1;Ht<Dt;Ht++)Ie.push(Me(ct)*Ht);Ie.push(Me(ct))}else for(Ie.push(Me(ct));ct++<yt;)for(Ht=Dt-1;Ht>0;Ht--)Ie.push(Me(ct)*Ht);for(ct=0;Ie[ct]<ze;ct++);for(yt=Ie.length;Ie[yt-1]>et;yt--);Ie=Ie.slice(ct,yt)}return Ie},Ce.copy=function(){return Ga(V.copy(),te,oe,ye)},Ha(Ce,V)}E.scale.linear=function(){return Ua([0,1],[0,1],_r,!1)},E.scale.log=function(){return Ga(E.scale.linear().domain([0,1]),10,!0,[1,10])};var oo={floor:function(V){return-Math.ceil(-V)},ceil:function(V){return-Math.floor(-V)}};function Wa(V,te,oe){var ye=Wr(te),xe=Wr(1/te);function Me(Ce){return V(ye(Ce))}return Me.invert=function(Ce){return xe(V.invert(Ce))},Me.domain=function(Ce){return arguments.length?(V.domain((oe=Ce.map(Number)).map(ye)),Me):oe},Me.ticks=function(Ce){return ca(oe,Ce)},Me.tickFormat=function(Ce,Re){return d3_scale_linearTickFormat(oe,Ce,Re)},Me.nice=function(Ce){return Me.domain(Va(oe,Ce))},Me.exponent=function(Ce){return arguments.length?(ye=Wr(te=Ce),xe=Wr(1/te),V.domain(oe.map(ye)),Me):te},Me.copy=function(){return Wa(V.copy(),te,oe)},Ha(Me,V)}function Wr(V){return function(te){return te<0?-Math.pow(-te,V):Math.pow(te,V)}}function Ya(V,te){var oe,ye,xe;function Me(Re){return ye[((oe.get(Re)||(te.t==="range"?oe.set(Re,V.push(Re)):NaN))-1)%ye.length]}function Ce(Re,Ie){return E.range(V.length).map(function(ze){return Re+Ie*ze})}return Me.domain=function(Re){if(!arguments.length)return V;V=[],oe=new s;for(var Ie,ze=-1,et=Re.length;++ze<et;)oe.has(Ie=Re[ze])||oe.set(Ie,V.push(Ie));return Me[te.t].apply(Me,te.a)},Me.range=function(Re){return arguments.length?(ye=Re,xe=0,te={t:"range",a:arguments},Me):ye},Me.rangePoints=function(Re,Ie){arguments.length<2&&(Ie=0);var ze=Re[0],et=Re[1],ct=V.length<2?(ze=(ze+et)/2,0):(et-ze)/(V.length-1+Ie);return ye=Ce(ze+ct*Ie/2,ct),xe=0,te={t:"rangePoints",a:arguments},Me},Me.rangeRoundPoints=function(Re,Ie){arguments.length<2&&(Ie=0);var ze=Re[0],et=Re[1],ct=V.length<2?(ze=et=Math.round((ze+et)/2),0):(et-ze)/(V.length-1+Ie)|0;return ye=Ce(ze+Math.round(ct*Ie/2+(et-ze-(V.length-1+Ie)*ct)/2),ct),xe=0,te={t:"rangeRoundPoints",a:arguments},Me},Me.rangeBands=function(Re,Ie,ze){arguments.length<2&&(Ie=0),arguments.length<3&&(ze=Ie);var et=Re[1]<Re[0],ct=Re[et-0],yt=(Re[1-et]-ct)/(V.length-Ie+2*ze);return ye=Ce(ct+yt*ze,yt),et&&ye.reverse(),xe=yt*(1-Ie),te={t:"rangeBands",a:arguments},Me},Me.rangeRoundBands=function(Re,Ie,ze){arguments.length<2&&(Ie=0),arguments.length<3&&(ze=Ie);var et=Re[1]<Re[0],ct=Re[et-0],yt=Re[1-et],Dt=Math.floor((yt-ct)/(V.length-Ie+2*ze));return ye=Ce(ct+Math.round((yt-ct-(V.length-Ie)*Dt)/2),Dt),et&&ye.reverse(),xe=Math.round(Dt*(1-Ie)),te={t:"rangeRoundBands",a:arguments},Me},Me.rangeBand=function(){return xe},Me.rangeExtent=function(){return Vr(te.a[0])},Me.copy=function(){return Ya(V,te)},Me.domain(V)}E.scale.pow=function(){return Wa(E.scale.linear(),1,[0,1])},E.scale.sqrt=function(){return E.scale.pow().exponent(.5)},E.scale.ordinal=function(){return Ya([],{t:"range",a:[[]]})},E.scale.category10=function(){return E.scale.ordinal().range(so)},E.scale.category20=function(){return E.scale.ordinal().range(lo)},E.scale.category20b=function(){return E.scale.ordinal().range(uo)},E.scale.category20c=function(){return E.scale.ordinal().range(co)};var so=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(mt),lo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(mt),uo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(mt),co=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(mt);function qa(V,te){var oe;function ye(){var Me=0,Ce=te.length;for(oe=[];++Me<Ce;)oe[Me-1]=E.quantile(V,Me/Ce);return xe}function xe(Me){if(!isNaN(Me=+Me))return te[E.bisect(oe,Me)]}return xe.domain=function(Me){return arguments.length?(V=Me.map(y).filter(p).sort(v),ye()):V},xe.range=function(Me){return arguments.length?(te=Me,ye()):te},xe.quantiles=function(){return oe},xe.invertExtent=function(Me){return(Me=te.indexOf(Me))<0?[NaN,NaN]:[Me>0?oe[Me-1]:V[0],Me<oe.length?oe[Me]:V[V.length-1]]},xe.copy=function(){return qa(V,te)},ye()}function Xa(V,te,oe){var ye,xe;function Me(Re){return oe[Math.max(0,Math.min(xe,Math.floor(ye*(Re-V))))]}function Ce(){return ye=oe.length/(te-V),xe=oe.length-1,Me}return Me.domain=function(Re){return arguments.length?(V=+Re[0],te=+Re[Re.length-1],Ce()):[V,te]},Me.range=function(Re){return arguments.length?(oe=Re,Ce()):oe},Me.invertExtent=function(Re){return[Re=(Re=oe.indexOf(Re))<0?NaN:Re/ye+V,Re+1/ye]},Me.copy=function(){return Xa(V,te,oe)},Ce()}function Za(V,te){function oe(ye){if(ye<=ye)return te[E.bisect(V,ye)]}return oe.domain=function(ye){return arguments.length?(V=ye,oe):V},oe.range=function(ye){return arguments.length?(te=ye,oe):te},oe.invertExtent=function(ye){return ye=te.indexOf(ye),[V[ye-1],V[ye]]},oe.copy=function(){return Za(V,te)},oe}function Ja(V){function te(oe){return+oe}return te.invert=te,te.domain=te.range=function(oe){return arguments.length?(V=oe.map(te),te):V},te.ticks=function(oe){return ca(V,oe)},te.tickFormat=function(oe,ye){return d3_scale_linearTickFormat(V,oe,ye)},te.copy=function(){return Ja(V)},te}function fo(){return 0}E.scale.quantile=function(){return qa([],[])},E.scale.quantize=function(){return Xa(0,1,[0,1])},E.scale.threshold=function(){return Za([.5],[0,1])},E.scale.identity=function(){return Ja([0,1])},E.svg={},E.svg.arc=function(){var V=ho,te=po,oe=fo,ye=Yr,xe=$a,Me=Ka,Ce=go;function Re(){var ze=Math.max(0,+V.apply(this,arguments)),et=Math.max(0,+te.apply(this,arguments)),ct=xe.apply(this,arguments)-at,yt=Me.apply(this,arguments)-at,Dt=Math.abs(yt-ct),Ht=ct>yt?0:1;if(et<ze&&(Rt=et,et=ze,ze=Rt),Dt>=Je)return Ie(et,Ht)+(ze?Ie(ze,1-Ht):"")+"Z";var Rt,Pt,At,Yt,Ft,Ct,tn,nn,yn,vn,En,On,Dn=0,Cn=0,Un=[];if((Yt=(+Ce.apply(this,arguments)||0)/2)&&(At=ye===Yr?Math.sqrt(ze*ze+et*et):+ye.apply(this,arguments),Ht||(Cn*=-1),et&&(Cn=Be(At/et*Math.sin(Yt))),ze&&(Dn=Be(At/ze*Math.sin(Yt)))),et){Ft=et*Math.cos(ct+Cn),Ct=et*Math.sin(ct+Cn),tn=et*Math.cos(yt-Cn),nn=et*Math.sin(yt-Cn);var Gn=Math.abs(yt-ct-2*Cn)<=st?0:1;if(Cn&&qr(Ft,Ct,tn,nn)===Ht^Gn){var Yn=(ct+yt)/2;Ft=et*Math.cos(Yn),Ct=et*Math.sin(Yn),tn=nn=null}}else Ft=Ct=0;if(ze){yn=ze*Math.cos(yt-Dn),vn=ze*Math.sin(yt-Dn),En=ze*Math.cos(ct+Dn),On=ze*Math.sin(ct+Dn);var _n=Math.abs(ct-yt+2*Dn)<=st?0:1;if(Dn&&qr(yn,vn,En,On)===1-Ht^_n){var Tn=(ct+yt)/2;yn=ze*Math.cos(Tn),vn=ze*Math.sin(Tn),En=On=null}}else yn=vn=0;if(Dt>Le&&(Rt=Math.min(Math.abs(et-ze)/2,+oe.apply(this,arguments)))>.001){Pt=ze<et^Ht?0:1;var Nn=Rt,Bn=Rt;if(Dt<st){var Hn=En==null?[yn,vn]:tn==null?[Ft,Ct]:qe([Ft,Ct],[En,On],[tn,nn],[yn,vn]),Wn=Ft-Hn[0],$n=Ct-Hn[1],Jn=tn-Hn[0],ar=nn-Hn[1],Kn=1/Math.sin(Math.acos((Wn*Jn+$n*ar)/(Math.sqrt(Wn*Wn+$n*$n)*Math.sqrt(Jn*Jn+ar*ar)))/2),ir=Math.sqrt(Hn[0]*Hn[0]+Hn[1]*Hn[1]);Bn=Math.min(Rt,(ze-ir)/(Kn-1)),Nn=Math.min(Rt,(et-ir)/(Kn+1))}if(tn!=null){var ur=Xr(En==null?[yn,vn]:[En,On],[Ft,Ct],et,Nn,Ht),yr=Xr([tn,nn],[yn,vn],et,Nn,Ht);Rt===Nn?Un.push("M",ur[0],"A",Nn,",",Nn," 0 0,",Pt," ",ur[1],"A",et,",",et," 0 ",1-Ht^qr(ur[1][0],ur[1][1],yr[1][0],yr[1][1]),",",Ht," ",yr[1],"A",Nn,",",Nn," 0 0,",Pt," ",yr[0]):Un.push("M",ur[0],"A",Nn,",",Nn," 0 1,",Pt," ",yr[0])}else Un.push("M",Ft,",",Ct);if(En!=null){var Ar=Xr([Ft,Ct],[En,On],ze,-Bn,Ht),Mr=Xr([yn,vn],tn==null?[Ft,Ct]:[tn,nn],ze,-Bn,Ht);Rt===Bn?Un.push("L",Mr[0],"A",Bn,",",Bn," 0 0,",Pt," ",Mr[1],"A",ze,",",ze," 0 ",Ht^qr(Mr[1][0],Mr[1][1],Ar[1][0],Ar[1][1]),",",1-Ht," ",Ar[1],"A",Bn,",",Bn," 0 0,",Pt," ",Ar[0]):Un.push("L",Mr[0],"A",Bn,",",Bn," 0 0,",Pt," ",Ar[0])}else Un.push("L",yn,",",vn)}else Un.push("M",Ft,",",Ct),tn!=null&&Un.push("A",et,",",et," 0 ",Gn,",",Ht," ",tn,",",nn),Un.push("L",yn,",",vn),En!=null&&Un.push("A",ze,",",ze," 0 ",_n,",",1-Ht," ",En,",",On);return Un.push("Z"),Un.join("")}function Ie(ze,et){return"M0,"+ze+"A"+ze+","+ze+" 0 1,"+et+" 0,"+-ze+"A"+ze+","+ze+" 0 1,"+et+" 0,"+ze}return Re.innerRadius=function(ze){return arguments.length?(V=$t(ze),Re):V},Re.outerRadius=function(ze){return arguments.length?(te=$t(ze),Re):te},Re.cornerRadius=function(ze){return arguments.length?(oe=$t(ze),Re):oe},Re.padRadius=function(ze){return arguments.length?(ye=ze==Yr?Yr:$t(ze),Re):ye},Re.startAngle=function(ze){return arguments.length?(xe=$t(ze),Re):xe},Re.endAngle=function(ze){return arguments.length?(Me=$t(ze),Re):Me},Re.padAngle=function(ze){return arguments.length?(Ce=$t(ze),Re):Ce},Re.centroid=function(){var ze=(+V.apply(this,arguments)+ +te.apply(this,arguments))/2,et=(+xe.apply(this,arguments)+ +Me.apply(this,arguments))/2-at;return[Math.cos(et)*ze,Math.sin(et)*ze]},Re};var Yr="auto";function ho(V){return V.innerRadius}function po(V){return V.outerRadius}function $a(V){return V.startAngle}function Ka(V){return V.endAngle}function go(V){return V&&V.padAngle}function qr(V,te,oe,ye){return(V-oe)*te-(te-ye)*V>0?0:1}function Xr(V,te,oe,ye,xe){var Me=V[0]-te[0],Ce=V[1]-te[1],Re=(xe?ye:-ye)/Math.sqrt(Me*Me+Ce*Ce),Ie=Re*Ce,ze=-Re*Me,et=V[0]+Ie,ct=V[1]+ze,yt=te[0]+Ie,Dt=te[1]+ze,Ht=(et+yt)/2,Rt=(ct+Dt)/2,Pt=yt-et,At=Dt-ct,Yt=Pt*Pt+At*At,Ft=oe-ye,Ct=et*Dt-yt*ct,tn=(At<0?-1:1)*Math.sqrt(Math.max(0,Ft*Ft*Yt-Ct*Ct)),nn=(Ct*At-Pt*tn)/Yt,yn=(-Ct*Pt-At*tn)/Yt,vn=(Ct*At+Pt*tn)/Yt,En=(-Ct*Pt+At*tn)/Yt,On=nn-Ht,Dn=yn-Rt,Cn=vn-Ht,Un=En-Rt;return On*On+Dn*Dn>Cn*Cn+Un*Un&&(nn=vn,yn=En),[[nn-Ie,yn-ze],[nn*oe/Ft,yn*oe/Ft]]}function Qa(){return!0}function ei(V){var te=kn,oe=Ln,ye=Qa,xe=mr,Me=xe.key,Ce=.7;function Re(Ie){var ze,et=[],ct=[],yt=-1,Dt=Ie.length,Ht=$t(te),Rt=$t(oe);function Pt(){et.push("M",xe(V(ct),Ce))}for(;++yt<Dt;)ye.call(this,ze=Ie[yt],yt)?ct.push([+Ht.call(this,ze,yt),+Rt.call(this,ze,yt)]):ct.length&&(Pt(),ct=[]);return ct.length&&Pt(),et.length?et.join(""):null}return Re.x=function(Ie){return arguments.length?(te=Ie,Re):te},Re.y=function(Ie){return arguments.length?(oe=Ie,Re):oe},Re.defined=function(Ie){return arguments.length?(ye=Ie,Re):ye},Re.interpolate=function(Ie){return arguments.length?(Me=typeof Ie=="function"?xe=Ie:(xe=fa.get(Ie)||mr).key,Re):Me},Re.tension=function(Ie){return arguments.length?(Ce=Ie,Re):Ce},Re}E.svg.line=function(){return ei(B)};var fa=E.map({linear:mr,"linear-closed":ti,step:function(V){for(var te=0,oe=V.length,ye=V[0],xe=[ye[0],",",ye[1]];++te<oe;)xe.push("H",(ye[0]+(ye=V[te])[0])/2,"V",ye[1]);return oe>1&&xe.push("H",ye[0]),xe.join("")},"step-before":ha,"step-after":da,basis:ni,"basis-open":function(V){if(V.length<4)return mr(V);for(var te,oe=[],ye=-1,xe=V.length,Me=[0],Ce=[0];++ye<3;)te=V[ye],Me.push(te[0]),Ce.push(te[1]);for(oe.push(gr(Er,Me)+","+gr(Er,Ce)),--ye;++ye<xe;)te=V[ye],Me.shift(),Me.push(te[0]),Ce.shift(),Ce.push(te[1]),ga(oe,Me,Ce);return oe.join("")},"basis-closed":function(V){for(var te,oe,ye=-1,xe=V.length,Me=xe+4,Ce=[],Re=[];++ye<4;)oe=V[ye%xe],Ce.push(oe[0]),Re.push(oe[1]);for(te=[gr(Er,Ce),",",gr(Er,Re)],--ye;++ye<Me;)oe=V[ye%xe],Ce.shift(),Ce.push(oe[0]),Re.shift(),Re.push(oe[1]),ga(te,Ce,Re);return te.join("")},bundle:function(V,te){var oe=V.length-1;if(oe)for(var ye,xe,Me=V[0][0],Ce=V[0][1],Re=V[oe][0]-Me,Ie=V[oe][1]-Ce,ze=-1;++ze<=oe;)xe=ze/oe,(ye=V[ze])[0]=te*ye[0]+(1-te)*(Me+xe*Re),ye[1]=te*ye[1]+(1-te)*(Ce+xe*Ie);return ni(V)},cardinal:function(V,te){return V.length<3?mr(V):V[0]+Zr(V,pa(V,te))},"cardinal-open":function(V,te){return V.length<4?mr(V):V[1]+Zr(V.slice(1,-1),pa(V,te))},"cardinal-closed":function(V,te){return V.length<3?ti(V):V[0]+Zr((V.push(V[0]),V),pa([V[V.length-2]].concat(V,[V[1]]),te))},monotone:function(V){return V.length<3?mr(V):V[0]+Zr(V,function(te){for(var oe,ye,xe,Me,Ce=[],Re=function(et){for(var ct=0,yt=et.length-1,Dt=[],Ht=et[0],Rt=et[1],Pt=Dt[0]=va(Ht,Rt);++ct<yt;)Dt[ct]=(Pt+(Pt=va(Ht=Rt,Rt=et[ct+1])))/2;return Dt[ct]=Pt,Dt}(te),Ie=-1,ze=te.length-1;++Ie<ze;)oe=va(te[Ie],te[Ie+1]),n(oe)<Le?Re[Ie]=Re[Ie+1]=0:(Me=(ye=Re[Ie]/oe)*ye+(xe=Re[Ie+1]/oe)*xe)>9&&(Me=3*oe/Math.sqrt(Me),Re[Ie]=Me*ye,Re[Ie+1]=Me*xe);for(Ie=-1;++Ie<=ze;)Me=(te[Math.min(ze,Ie+1)][0]-te[Math.max(0,Ie-1)][0])/(6*(1+Re[Ie]*Re[Ie])),Ce.push([Me||0,Re[Ie]*Me||0]);return Ce}(V))}});function mr(V){return V.length>1?V.join("L"):V+"Z"}function ti(V){return V.join("L")+"Z"}function ha(V){for(var te=0,oe=V.length,ye=V[0],xe=[ye[0],",",ye[1]];++te<oe;)xe.push("V",(ye=V[te])[1],"H",ye[0]);return xe.join("")}function da(V){for(var te=0,oe=V.length,ye=V[0],xe=[ye[0],",",ye[1]];++te<oe;)xe.push("H",(ye=V[te])[0],"V",ye[1]);return xe.join("")}function Zr(V,te){if(te.length<1||V.length!=te.length&&V.length!=te.length+2)return mr(V);var oe=V.length!=te.length,ye="",xe=V[0],Me=V[1],Ce=te[0],Re=Ce,Ie=1;if(oe&&(ye+="Q"+(Me[0]-2*Ce[0]/3)+","+(Me[1]-2*Ce[1]/3)+","+Me[0]+","+Me[1],xe=V[1],Ie=2),te.length>1){Re=te[1],Me=V[Ie],Ie++,ye+="C"+(xe[0]+Ce[0])+","+(xe[1]+Ce[1])+","+(Me[0]-Re[0])+","+(Me[1]-Re[1])+","+Me[0]+","+Me[1];for(var ze=2;ze<te.length;ze++,Ie++)Me=V[Ie],Re=te[ze],ye+="S"+(Me[0]-Re[0])+","+(Me[1]-Re[1])+","+Me[0]+","+Me[1]}if(oe){var et=V[Ie];ye+="Q"+(Me[0]+2*Re[0]/3)+","+(Me[1]+2*Re[1]/3)+","+et[0]+","+et[1]}return ye}function pa(V,te){for(var oe,ye=[],xe=(1-te)/2,Me=V[0],Ce=V[1],Re=1,Ie=V.length;++Re<Ie;)oe=Me,Me=Ce,Ce=V[Re],ye.push([xe*(Ce[0]-oe[0]),xe*(Ce[1]-oe[1])]);return ye}function ni(V){if(V.length<3)return mr(V);var te=1,oe=V.length,ye=V[0],xe=ye[0],Me=ye[1],Ce=[xe,xe,xe,(ye=V[1])[0]],Re=[Me,Me,Me,ye[1]],Ie=[xe,",",Me,"L",gr(Er,Ce),",",gr(Er,Re)];for(V.push(V[oe-1]);++te<=oe;)ye=V[te],Ce.shift(),Ce.push(ye[0]),Re.shift(),Re.push(ye[1]),ga(Ie,Ce,Re);return V.pop(),Ie.push("L",ye),Ie.join("")}function gr(V,te){return V[0]*te[0]+V[1]*te[1]+V[2]*te[2]+V[3]*te[3]}fa.forEach(function(V,te){te.key=V,te.closed=/-closed$/.test(V)});var ri=[0,2/3,1/3,0],ai=[0,1/3,2/3,0],Er=[0,1/6,2/3,1/6];function ga(V,te,oe){V.push("C",gr(ri,te),",",gr(ri,oe),",",gr(ai,te),",",gr(ai,oe),",",gr(Er,te),",",gr(Er,oe))}function va(V,te){return(te[1]-V[1])/(te[0]-V[0])}function ii(V){for(var te,oe,ye,xe=-1,Me=V.length;++xe<Me;)oe=(te=V[xe])[0],ye=te[1]-at,te[0]=oe*Math.cos(ye),te[1]=oe*Math.sin(ye);return V}function oi(V){var te=kn,oe=kn,ye=0,xe=Ln,Me=Qa,Ce=mr,Re=Ce.key,Ie=Ce,ze="L",et=.7;function ct(yt){var Dt,Ht,Rt,Pt=[],At=[],Yt=[],Ft=-1,Ct=yt.length,tn=$t(te),nn=$t(ye),yn=te===oe?function(){return Ht}:$t(oe),vn=ye===xe?function(){return Rt}:$t(xe);function En(){Pt.push("M",Ce(V(Yt),et),ze,Ie(V(At.reverse()),et),"Z")}for(;++Ft<Ct;)Me.call(this,Dt=yt[Ft],Ft)?(At.push([Ht=+tn.call(this,Dt,Ft),Rt=+nn.call(this,Dt,Ft)]),Yt.push([+yn.call(this,Dt,Ft),+vn.call(this,Dt,Ft)])):At.length&&(En(),At=[],Yt=[]);return At.length&&En(),Pt.length?Pt.join(""):null}return ct.x=function(yt){return arguments.length?(te=oe=yt,ct):oe},ct.x0=function(yt){return arguments.length?(te=yt,ct):te},ct.x1=function(yt){return arguments.length?(oe=yt,ct):oe},ct.y=function(yt){return arguments.length?(ye=xe=yt,ct):xe},ct.y0=function(yt){return arguments.length?(ye=yt,ct):ye},ct.y1=function(yt){return arguments.length?(xe=yt,ct):xe},ct.defined=function(yt){return arguments.length?(Me=yt,ct):Me},ct.interpolate=function(yt){return arguments.length?(Re=typeof yt=="function"?Ce=yt:(Ce=fa.get(yt)||mr).key,Ie=Ce.reverse||Ce,ze=Ce.closed?"M":"L",ct):Re},ct.tension=function(yt){return arguments.length?(et=yt,ct):et},ct}function si(V){return V.source}function li(V){return V.target}function vo(V){return V.radius}function ui(V){return[V.x,V.y]}function mo(){return 64}function yo(){return"circle"}function ci(V){var te=Math.sqrt(V/st);return"M0,"+te+"A"+te+","+te+" 0 1,1 0,"+-te+"A"+te+","+te+" 0 1,1 0,"+te+"Z"}E.svg.line.radial=function(){var V=ei(ii);return V.radius=V.x,delete V.x,V.angle=V.y,delete V.y,V},ha.reverse=da,da.reverse=ha,E.svg.area=function(){return oi(B)},E.svg.area.radial=function(){var V=oi(ii);return V.radius=V.x,delete V.x,V.innerRadius=V.x0,delete V.x0,V.outerRadius=V.x1,delete V.x1,V.angle=V.y,delete V.y,V.startAngle=V.y0,delete V.y0,V.endAngle=V.y1,delete V.y1,V},E.svg.chord=function(){var V=si,te=li,oe=vo,ye=$a,xe=Ka;function Me(ze,et){var ct,yt,Dt=Ce(this,V,ze,et),Ht=Ce(this,te,ze,et);return"M"+Dt.p0+Re(Dt.r,Dt.p1,Dt.a1-Dt.a0)+(yt=Ht,((ct=Dt).a0==yt.a0&&ct.a1==yt.a1?Ie(Dt.r,Dt.p1,Dt.r,Dt.p0):Ie(Dt.r,Dt.p1,Ht.r,Ht.p0)+Re(Ht.r,Ht.p1,Ht.a1-Ht.a0)+Ie(Ht.r,Ht.p1,Dt.r,Dt.p0))+"Z")}function Ce(ze,et,ct,yt){var Dt=et.call(ze,ct,yt),Ht=oe.call(ze,Dt,yt),Rt=ye.call(ze,Dt,yt)-at,Pt=xe.call(ze,Dt,yt)-at;return{r:Ht,a0:Rt,a1:Pt,p0:[Ht*Math.cos(Rt),Ht*Math.sin(Rt)],p1:[Ht*Math.cos(Pt),Ht*Math.sin(Pt)]}}function Re(ze,et,ct){return"A"+ze+","+ze+" 0 "+ +(ct>st)+",1 "+et}function Ie(ze,et,ct,yt){return"Q 0,0 "+yt}return Me.radius=function(ze){return arguments.length?(oe=$t(ze),Me):oe},Me.source=function(ze){return arguments.length?(V=$t(ze),Me):V},Me.target=function(ze){return arguments.length?(te=$t(ze),Me):te},Me.startAngle=function(ze){return arguments.length?(ye=$t(ze),Me):ye},Me.endAngle=function(ze){return arguments.length?(xe=$t(ze),Me):xe},Me},E.svg.diagonal=function(){var V=si,te=li,oe=ui;function ye(xe,Me){var Ce=V.call(this,xe,Me),Re=te.call(this,xe,Me),Ie=(Ce.y+Re.y)/2,ze=[Ce,{x:Ce.x,y:Ie},{x:Re.x,y:Ie},Re];return"M"+(ze=ze.map(oe))[0]+"C"+ze[1]+" "+ze[2]+" "+ze[3]}return ye.source=function(xe){return arguments.length?(V=$t(xe),ye):V},ye.target=function(xe){return arguments.length?(te=$t(xe),ye):te},ye.projection=function(xe){return arguments.length?(oe=xe,ye):oe},ye},E.svg.diagonal.radial=function(){var V=E.svg.diagonal(),te=ui,oe=V.projection;return V.projection=function(ye){return arguments.length?oe(function(xe){return function(){var Me=xe.apply(this,arguments),Ce=Me[0],Re=Me[1]-at;return[Ce*Math.cos(Re),Ce*Math.sin(Re)]}}(te=ye)):te},V},E.svg.symbol=function(){var V=yo,te=mo;function oe(ye,xe){return(fi.get(V.call(this,ye,xe))||ci)(te.call(this,ye,xe))}return oe.type=function(ye){return arguments.length?(V=$t(ye),oe):V},oe.size=function(ye){return arguments.length?(te=$t(ye),oe):te},oe};var fi=E.map({circle:ci,cross:function(V){var te=Math.sqrt(V/5)/2;return"M"+-3*te+","+-te+"H"+-te+"V"+-3*te+"H"+te+"V"+-te+"H"+3*te+"V"+te+"H"+te+"V"+3*te+"H"+-te+"V"+te+"H"+-3*te+"Z"},diamond:function(V){var te=Math.sqrt(V/(2*hi)),oe=te*hi;return"M0,"+-te+"L"+oe+",0 0,"+te+" "+-oe+",0Z"},square:function(V){var te=Math.sqrt(V)/2;return"M"+-te+","+-te+"L"+te+","+-te+" "+te+","+te+" "+-te+","+te+"Z"},"triangle-down":function(V){var te=Math.sqrt(V/Jr),oe=te*Jr/2;return"M0,"+oe+"L"+te+","+-oe+" "+-te+","+-oe+"Z"},"triangle-up":function(V){var te=Math.sqrt(V/Jr),oe=te*Jr/2;return"M0,"+-oe+"L"+te+","+oe+" "+-te+","+oe+"Z"}});E.svg.symbolTypes=fi.keys();var Jr=Math.sqrt(3),hi=Math.tan(30*gt);ne.transition=function(V){for(var te,oe,ye=Pr||++pi,xe=ya(V),Me=[],Ce=Kr||{time:Date.now(),ease:wi,delay:0,duration:250},Re=-1,Ie=this.length;++Re<Ie;){Me.push(te=[]);for(var ze=this[Re],et=-1,ct=ze.length;++et<ct;)(oe=ze[et])&&Qr(oe,et,xe,ye,Ce),te.push(oe)}return Ur(Me,xe,ye)},ne.interrupt=function(V){return this.each(V==null?$r:di(ya(V)))};var $r=di(ya());function di(V){return function(){var te,oe,ye;(te=this[V])&&(ye=te[oe=te.active])&&(ye.timer.c=null,ye.timer.t=NaN,--te.count?delete te[oe]:delete this[V],te.active+=.5,ye.event&&ye.event.interrupt.call(this,this.__data__,ye.index))}}function Ur(V,te,oe){return H(V,nr),V.namespace=te,V.id=oe,V}var Pr,Kr,nr=[],pi=0;function ma(V,te,oe,ye){var xe=V.id,Me=V.namespace;return ee(V,typeof oe=="function"?function(Ce,Re,Ie){Ce[Me][xe].tween.set(te,ye(oe.call(Ce,Ce.__data__,Re,Ie)))}:(oe=ye(oe),function(Ce){Ce[Me][xe].tween.set(te,oe)}))}function xo(V){return V==null&&(V=""),function(){this.textContent=V}}function ya(V){return V==null?"__transition__":"__transition_"+V+"__"}function Qr(V,te,oe,ye,xe){var Me,Ce,Re,Ie,ze,et=V[oe]||(V[oe]={active:0,count:0}),ct=et[ye];function yt(Ht){var Rt=et.active,Pt=et[Rt];for(var At in Pt&&(Pt.timer.c=null,Pt.timer.t=NaN,--et.count,delete et[Rt],Pt.event&&Pt.event.interrupt.call(V,V.__data__,Pt.index)),et)if(+At<ye){var Yt=et[At];Yt.timer.c=null,Yt.timer.t=NaN,--et.count,delete et[At]}Ce.c=Dt,fn(function(){return Ce.c&&Dt(Ht||1)&&(Ce.c=null,Ce.t=NaN),1},0,Me),et.active=ye,ct.event&&ct.event.start.call(V,V.__data__,te),ze=[],ct.tween.forEach(function(Ft,Ct){(Ct=Ct.call(V,V.__data__,te))&&ze.push(Ct)}),Ie=ct.ease,Re=ct.duration}function Dt(Ht){for(var Rt=Ht/Re,Pt=Ie(Rt),At=ze.length;At>0;)ze[--At].call(V,Pt);if(Rt>=1)return ct.event&&ct.event.end.call(V,V.__data__,te),--et.count?delete et[ye]:delete V[oe],1}ct||(Me=xe.time,Ce=fn(function(Ht){var Rt=ct.delay;if(Ce.t=Rt+Me,Rt<=Ht)return yt(Ht-Rt);Ce.c=yt},0,Me),ct=et[ye]={tween:new s,time:Me,timer:Ce,delay:xe.delay,duration:xe.duration,ease:xe.ease,index:te},xe=null,++et.count)}nr.call=ne.call,nr.empty=ne.empty,nr.node=ne.node,nr.size=ne.size,E.transition=function(V,te){return V&&V.transition?Pr?V.transition(te):V:E.selection().transition(V)},E.transition.prototype=nr,nr.select=function(V){var te,oe,ye,xe=this.id,Me=this.namespace,Ce=[];V=ie(V);for(var Re=-1,Ie=this.length;++Re<Ie;){Ce.push(te=[]);for(var ze=this[Re],et=-1,ct=ze.length;++et<ct;)(ye=ze[et])&&(oe=V.call(ye,ye.__data__,et,Re))?("__data__"in ye&&(oe.__data__=ye.__data__),Qr(oe,et,Me,xe,ye[Me][xe]),te.push(oe)):te.push(null)}return Ur(Ce,Me,xe)},nr.selectAll=function(V){var te,oe,ye,xe,Me,Ce=this.id,Re=this.namespace,Ie=[];V=le(V);for(var ze=-1,et=this.length;++ze<et;)for(var ct=this[ze],yt=-1,Dt=ct.length;++yt<Dt;)if(ye=ct[yt]){Me=ye[Re][Ce],oe=V.call(ye,ye.__data__,yt,ze),Ie.push(te=[]);for(var Ht=-1,Rt=oe.length;++Ht<Rt;)(xe=oe[Ht])&&Qr(xe,Ht,Re,Ce,Me),te.push(xe)}return Ur(Ie,Re,Ce)},nr.filter=function(V){var te,oe,ye=[];typeof V!="function"&&(V=we(V));for(var xe=0,Me=this.length;xe<Me;xe++){ye.push(te=[]);for(var Ce,Re=0,Ie=(Ce=this[xe]).length;Re<Ie;Re++)(oe=Ce[Re])&&V.call(oe,oe.__data__,Re,xe)&&te.push(oe)}return Ur(ye,this.namespace,this.id)},nr.tween=function(V,te){var oe=this.id,ye=this.namespace;return arguments.length<2?this.node()[ye][oe].tween.get(V):ee(this,te==null?function(xe){xe[ye][oe].tween.remove(V)}:function(xe){xe[ye][oe].tween.set(V,te)})},nr.attr=function(V,te){if(arguments.length<2){for(te in V)this.attr(te,V[te]);return this}var oe=V=="transform"?ka:_r,ye=E.ns.qualify(V);function xe(){this.removeAttribute(ye)}function Me(){this.removeAttributeNS(ye.space,ye.local)}return ma(this,"attr."+V,te,ye.local?function(Ce){return Ce==null?Me:(Ce+="",function(){var Re,Ie=this.getAttributeNS(ye.space,ye.local);return Ie!==Ce&&(Re=oe(Ie,Ce),function(ze){this.setAttributeNS(ye.space,ye.local,Re(ze))})})}:function(Ce){return Ce==null?xe:(Ce+="",function(){var Re,Ie=this.getAttribute(ye);return Ie!==Ce&&(Re=oe(Ie,Ce),function(ze){this.setAttribute(ye,Re(ze))})})})},nr.attrTween=function(V,te){var oe=E.ns.qualify(V);return this.tween("attr."+V,oe.local?function(ye,xe){var Me=te.call(this,ye,xe,this.getAttributeNS(oe.space,oe.local));return Me&&function(Ce){this.setAttributeNS(oe.space,oe.local,Me(Ce))}}:function(ye,xe){var Me=te.call(this,ye,xe,this.getAttribute(oe));return Me&&function(Ce){this.setAttribute(oe,Me(Ce))}})},nr.style=function(V,te,oe){var ye=arguments.length;if(ye<3){if(typeof V!="string"){for(oe in ye<2&&(te=""),V)this.style(oe,V[oe],te);return this}oe=""}function xe(){this.style.removeProperty(V)}return ma(this,"style."+V,te,function(Me){return Me==null?xe:(Me+="",function(){var Ce,Re=a(this).getComputedStyle(this,null).getPropertyValue(V);return Re!==Me&&(Ce=_r(Re,Me),function(Ie){this.style.setProperty(V,Ce(Ie),oe)})})})},nr.styleTween=function(V,te,oe){return arguments.length<3&&(oe=""),this.tween("style."+V,function(ye,xe){var Me=te.call(this,ye,xe,a(this).getComputedStyle(this,null).getPropertyValue(V));return Me&&function(Ce){this.style.setProperty(V,Me(Ce),oe)}})},nr.text=function(V){return ma(this,"text",V,xo)},nr.remove=function(){var V=this.namespace;return this.each("end.transition",function(){var te;this[V].count<2&&(te=this.parentNode)&&te.removeChild(this)})},nr.ease=function(V){var te=this.id,oe=this.namespace;return arguments.length<1?this.node()[oe][te].ease:(typeof V!="function"&&(V=E.ease.apply(E,arguments)),ee(this,function(ye){ye[oe][te].ease=V}))},nr.delay=function(V){var te=this.id,oe=this.namespace;return arguments.length<1?this.node()[oe][te].delay:ee(this,typeof V=="function"?function(ye,xe,Me){ye[oe][te].delay=+V.call(ye,ye.__data__,xe,Me)}:(V=+V,function(ye){ye[oe][te].delay=V}))},nr.duration=function(V){var te=this.id,oe=this.namespace;return arguments.length<1?this.node()[oe][te].duration:ee(this,typeof V=="function"?function(ye,xe,Me){ye[oe][te].duration=Math.max(1,V.call(ye,ye.__data__,xe,Me))}:(V=Math.max(1,V),function(ye){ye[oe][te].duration=V}))},nr.each=function(V,te){var oe=this.id,ye=this.namespace;if(arguments.length<2){var xe=Kr,Me=Pr;try{Pr=oe,ee(this,function(Ce,Re,Ie){Kr=Ce[ye][oe],V.call(Ce,Ce.__data__,Re,Ie)})}finally{Kr=xe,Pr=Me}}else ee(this,function(Ce){var Re=Ce[ye][oe];(Re.event||(Re.event=E.dispatch("start","end","interrupt"))).on(V,te)});return this},nr.transition=function(){for(var V,te,oe,ye=this.id,xe=++pi,Me=this.namespace,Ce=[],Re=0,Ie=this.length;Re<Ie;Re++){Ce.push(V=[]);for(var ze,et=0,ct=(ze=this[Re]).length;et<ct;et++)(te=ze[et])&&Qr(te,et,Me,xe,{time:(oe=te[Me][ye]).time,ease:oe.ease,delay:oe.delay+oe.duration,duration:oe.duration}),V.push(te)}return Ur(Ce,Me,xe)},E.svg.axis=function(){var V,te=E.scale.linear(),oe=gi,ye=6,xe=6,Me=3,Ce=[10],Re=null;function Ie(ze){ze.each(function(){var et,ct=E.select(this),yt=this.__chart__||te,Dt=this.__chart__=te.copy(),Ht=Re??(Dt.ticks?Dt.ticks.apply(Dt,Ce):Dt.domain()),Rt=V??(Dt.tickFormat?Dt.tickFormat.apply(Dt,Ce):B),Pt=ct.selectAll(".tick").data(Ht,Dt),At=Pt.enter().insert("g",".domain").attr("class","tick").style("opacity",Le),Yt=E.transition(Pt.exit()).style("opacity",Le).remove(),Ft=E.transition(Pt.order()).style("opacity",1),Ct=Math.max(ye,0)+Me,tn=Gr(Dt),nn=ct.selectAll(".domain").data([0]),yn=(nn.enter().append("path").attr("class","domain"),E.transition(nn));At.append("line"),At.append("text");var vn,En,On,Dn,Cn=At.select("line"),Un=Ft.select("line"),Gn=Pt.select("text").text(Rt),Yn=At.select("text"),_n=Ft.select("text"),Tn=oe==="top"||oe==="left"?-1:1;if(oe==="bottom"||oe==="top"?(et=_o,vn="x",On="y",En="x2",Dn="y2",Gn.attr("dy",Tn<0?"0em":".71em").style("text-anchor","middle"),yn.attr("d","M"+tn[0]+","+Tn*xe+"V0H"+tn[1]+"V"+Tn*xe)):(et=wo,vn="y",On="x",En="y2",Dn="x2",Gn.attr("dy",".32em").style("text-anchor",Tn<0?"end":"start"),yn.attr("d","M"+Tn*xe+","+tn[0]+"H0V"+tn[1]+"H"+Tn*xe)),Cn.attr(Dn,Tn*ye),Yn.attr(On,Tn*Ct),Un.attr(En,0).attr(Dn,Tn*ye),_n.attr(vn,0).attr(On,Tn*Ct),Dt.rangeBand){var Nn=Dt,Bn=Nn.rangeBand()/2;yt=Dt=function(Hn){return Nn(Hn)+Bn}}else yt.rangeBand?yt=Dt:Yt.call(et,Dt,yt);At.call(et,yt,Dt),Ft.call(et,Dt,Dt)})}return Ie.scale=function(ze){return arguments.length?(te=ze,Ie):te},Ie.orient=function(ze){return arguments.length?(oe=ze in bo?ze+"":gi,Ie):oe},Ie.ticks=function(){return arguments.length?(Ce=k(arguments),Ie):Ce},Ie.tickValues=function(ze){return arguments.length?(Re=ze,Ie):Re},Ie.tickFormat=function(ze){return arguments.length?(V=ze,Ie):V},Ie.tickSize=function(ze){var et=arguments.length;return et?(ye=+ze,xe=+arguments[et-1],Ie):ye},Ie.innerTickSize=function(ze){return arguments.length?(ye=+ze,Ie):ye},Ie.outerTickSize=function(ze){return arguments.length?(xe=+ze,Ie):xe},Ie.tickPadding=function(ze){return arguments.length?(Me=+ze,Ie):Me},Ie.tickSubdivide=function(){return arguments.length&&Ie},Ie};var gi="bottom",bo={top:1,right:1,bottom:1,left:1};function _o(V,te,oe){V.attr("transform",function(ye){var xe=te(ye);return"translate("+(isFinite(xe)?xe:oe(ye))+",0)"})}function wo(V,te,oe){V.attr("transform",function(ye){var xe=te(ye);return"translate(0,"+(isFinite(xe)?xe:oe(ye))+")"})}E.svg.brush=function(){var V,te,oe=J(et,"brushstart","brush","brushend"),ye=null,xe=null,Me=[0,0],Ce=[0,0],Re=!0,Ie=!0,ze=xa[0];function et(Rt){Rt.each(function(){var Pt=E.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ht).on("touchstart.brush",Ht),At=Pt.selectAll(".background").data([0]);At.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Pt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Yt=Pt.selectAll(".resize").data(ze,B);Yt.exit().remove(),Yt.enter().append("g").attr("class",function(nn){return"resize "+nn}).style("cursor",function(nn){return Ao[nn]}).append("rect").attr("x",function(nn){return/[ew]$/.test(nn)?-3:null}).attr("y",function(nn){return/^[ns]/.test(nn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Yt.style("display",et.empty()?"none":null);var Ft,Ct=E.transition(Pt),tn=E.transition(At);ye&&(Ft=Gr(ye),tn.attr("x",Ft[0]).attr("width",Ft[1]-Ft[0]),yt(Ct)),xe&&(Ft=Gr(xe),tn.attr("y",Ft[0]).attr("height",Ft[1]-Ft[0]),Dt(Ct)),ct(Ct)})}function ct(Rt){Rt.selectAll(".resize").attr("transform",function(Pt){return"translate("+Me[+/e$/.test(Pt)]+","+Ce[+/^s/.test(Pt)]+")"})}function yt(Rt){Rt.select(".extent").attr("x",Me[0]),Rt.selectAll(".extent,.n>rect,.s>rect").attr("width",Me[1]-Me[0])}function Dt(Rt){Rt.select(".extent").attr("y",Ce[0]),Rt.selectAll(".extent,.e>rect,.w>rect").attr("height",Ce[1]-Ce[0])}function Ht(){var Rt,Pt,At=this,Yt=E.select(E.event.target),Ft=oe.of(At,arguments),Ct=E.select(At),tn=Yt.datum(),nn=!/^(n|s)$/.test(tn)&&ye,yn=!/^(e|w)$/.test(tn)&&xe,vn=Yt.classed("extent"),En=Ke(At),On=E.mouse(At),Dn=E.select(a(At)).on("keydown.brush",function(){E.event.keyCode==32&&(vn||(Rt=null,On[0]-=Me[1],On[1]-=Ce[1],vn=2),W())}).on("keyup.brush",function(){E.event.keyCode==32&&vn==2&&(On[0]+=Me[1],On[1]+=Ce[1],vn=0,W())});if(E.event.changedTouches?Dn.on("touchmove.brush",Gn).on("touchend.brush",_n):Dn.on("mousemove.brush",Gn).on("mouseup.brush",_n),Ct.interrupt().selectAll("*").interrupt(),vn)On[0]=Me[0]-On[0],On[1]=Ce[0]-On[1];else if(tn){var Cn=+/w$/.test(tn),Un=+/^n/.test(tn);Pt=[Me[1-Cn]-On[0],Ce[1-Un]-On[1]],On[0]=Me[Cn],On[1]=Ce[Un]}else E.event.altKey&&(Rt=On.slice());function Gn(){var Tn=E.mouse(At),Nn=!1;Pt&&(Tn[0]+=Pt[0],Tn[1]+=Pt[1]),vn||(E.event.altKey?(Rt||(Rt=[(Me[0]+Me[1])/2,(Ce[0]+Ce[1])/2]),On[0]=Me[+(Tn[0]<Rt[0])],On[1]=Ce[+(Tn[1]<Rt[1])]):Rt=null),nn&&Yn(Tn,ye,0)&&(yt(Ct),Nn=!0),yn&&Yn(Tn,xe,1)&&(Dt(Ct),Nn=!0),Nn&&(ct(Ct),Ft({type:"brush",mode:vn?"move":"resize"}))}function Yn(Tn,Nn,Bn){var Hn,Wn,$n=Gr(Nn),Jn=$n[0],ar=$n[1],Kn=On[Bn],ir=Bn?Ce:Me,ur=ir[1]-ir[0];if(vn&&(Jn-=Kn,ar-=ur+Kn),Hn=(Bn?Ie:Re)?Math.max(Jn,Math.min(ar,Tn[Bn])):Tn[Bn],vn?Wn=(Hn+=Kn)+ur:(Rt&&(Kn=Math.max(Jn,Math.min(ar,2*Rt[Bn]-Hn))),Kn<Hn?(Wn=Hn,Hn=Kn):Wn=Kn),ir[0]!=Hn||ir[1]!=Wn)return Bn?te=null:V=null,ir[0]=Hn,ir[1]=Wn,!0}function _n(){Gn(),Ct.style("pointer-events","all").selectAll(".resize").style("display",et.empty()?"none":null),E.select("body").style("cursor",null),Dn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),En(),Ft({type:"brushend"})}Ct.style("pointer-events","none").selectAll(".resize").style("display",null),E.select("body").style("cursor",Yt.style("cursor")),Ft({type:"brushstart"}),Gn()}return et.event=function(Rt){Rt.each(function(){var Pt=oe.of(this,arguments),At={x:Me,y:Ce,i:V,j:te},Yt=this.__chart__||At;this.__chart__=At,Pr?E.select(this).transition().each("start.brush",function(){V=Yt.i,te=Yt.j,Me=Yt.x,Ce=Yt.y,Pt({type:"brushstart"})}).tween("brush:brush",function(){var Ft=Dr(Me,At.x),Ct=Dr(Ce,At.y);return V=te=null,function(tn){Me=At.x=Ft(tn),Ce=At.y=Ct(tn),Pt({type:"brush",mode:"resize"})}}).each("end.brush",function(){V=At.i,te=At.j,Pt({type:"brush",mode:"resize"}),Pt({type:"brushend"})}):(Pt({type:"brushstart"}),Pt({type:"brush",mode:"resize"}),Pt({type:"brushend"}))})},et.x=function(Rt){return arguments.length?(ze=xa[!(ye=Rt)<<1|!xe],et):ye},et.y=function(Rt){return arguments.length?(ze=xa[!ye<<1|!(xe=Rt)],et):xe},et.clamp=function(Rt){return arguments.length?(ye&&xe?(Re=!!Rt[0],Ie=!!Rt[1]):ye?Re=!!Rt:xe&&(Ie=!!Rt),et):ye&&xe?[Re,Ie]:ye?Re:xe?Ie:null},et.extent=function(Rt){var Pt,At,Yt,Ft,Ct;return arguments.length?(ye&&(Pt=Rt[0],At=Rt[1],xe&&(Pt=Pt[0],At=At[0]),V=[Pt,At],ye.invert&&(Pt=ye(Pt),At=ye(At)),At<Pt&&(Ct=Pt,Pt=At,At=Ct),Pt==Me[0]&&At==Me[1]||(Me=[Pt,At])),xe&&(Yt=Rt[0],Ft=Rt[1],ye&&(Yt=Yt[1],Ft=Ft[1]),te=[Yt,Ft],xe.invert&&(Yt=xe(Yt),Ft=xe(Ft)),Ft<Yt&&(Ct=Yt,Yt=Ft,Ft=Ct),Yt==Ce[0]&&Ft==Ce[1]||(Ce=[Yt,Ft])),et):(ye&&(V?(Pt=V[0],At=V[1]):(Pt=Me[0],At=Me[1],ye.invert&&(Pt=ye.invert(Pt),At=ye.invert(At)),At<Pt&&(Ct=Pt,Pt=At,At=Ct))),xe&&(te?(Yt=te[0],Ft=te[1]):(Yt=Ce[0],Ft=Ce[1],xe.invert&&(Yt=xe.invert(Yt),Ft=xe.invert(Ft)),Ft<Yt&&(Ct=Yt,Yt=Ft,Ft=Ct))),ye&&xe?[[Pt,Yt],[At,Ft]]:ye?[Pt,At]:xe&&[Yt,Ft])},et.clear=function(){return et.empty()||(Me=[0,0],Ce=[0,0],V=te=null),et},et.empty=function(){return!!ye&&Me[0]==Me[1]||!!xe&&Ce[0]==Ce[1]},E.rebind(et,oe,"on")};var Ao={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},xa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Mo(V){return JSON.parse(V.responseText)}function To(V){var te=M.createRange();return te.selectNode(M.body),te.createContextualFragment(V.responseText)}E.text=pn(function(V){return V.responseText}),E.json=function(V,te){return An(V,"application/json",Mo,te)},E.html=function(V,te){return An(V,"text/html",To,te)},E.xml=pn(function(V){return V.responseXML}),(D=typeof(L=E)=="function"?L.call(F,m,F,$):L)===void 0||($.exports=D)}).apply(self)},27549:function($,F,m){$.exports=m(55366)},55366:function($,F,m){var L=m(31625),D=m(75144),E=m(5137),T=m(78112),k=m(6807),M=m(68650),b=m(83473),a=m(60201),t=m(10275),u=m(62914);function i(l,d){for(var v=d[0],y=d[1],p=1/(d[2]-v),c=1/(d[3]-y),x=new Array(l.length),f=0,n=l.length/2;f<n;f++)x[2*f]=D((l[2*f]-v)*p,0,1),x[2*f+1]=D((l[2*f+1]-y)*c,0,1);return x}$.exports=function(l,d){d||(d={}),l=b(l,"float64"),d=k(d,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var v=M(d.maxDepth,255),y=M(d.bounds,T(l,2));y[0]===y[2]&&y[2]++,y[1]===y[3]&&y[3]++;var p,c=i(l,y),x=l.length>>>1;d.dtype||(d.dtype="array"),typeof d.dtype=="string"?p=new(t(d.dtype))(x):d.dtype&&(p=d.dtype,Array.isArray(p)&&(p.length=x));for(var f=0;f<x;++f)p[f]=f;var n=[],o=[],s=[],r=[];(function A(I,B,C,z,P,R){if(!z.length)return null;var N=n[P]||(n[P]=[]),j=s[P]||(s[P]=[]),W=o[P]||(o[P]=[]),Y=N.length;if(++P>v||R>1073741824){for(var J=0;J<z.length;J++)N.push(z[J]),j.push(R),W.push(null,null,null,null);return Y}if(N.push(z[0]),j.push(R),z.length<=1)return W.push(null,null,null,null),Y;for(var G=.5*C,H=I+G,U=B+G,Z=[],q=[],Q=[],ne=[],ie=1,le=z.length;ie<le;ie++){var fe=z[ie],pe=c[2*fe],me=c[2*fe+1];pe<H?me<U?Z.push(fe):q.push(fe):me<U?Q.push(fe):ne.push(fe)}return R<<=2,W.push(A(I,B,G,Z,P,R),A(I,U,G,q,P,R+1),A(H,B,G,Q,P,R+2),A(H,U,G,ne,P,R+3)),Y})(0,0,1,p,0,1);for(var g=0,e=0;e<n.length;e++){var h=n[e];if(p.set)p.set(h,g);else for(var _=0,w=h.length;_<w;_++)p[_+g]=h[_];var S=g+n[e].length;r[e]=[g,S],g=S}return p.range=function(){for(var A,I=[],B=arguments.length;B--;)I[B]=arguments[B];if(a(I[I.length-1])){var C=I.pop();I.length||C.x==null&&C.l==null&&C.left==null||(I=[C],A={}),A=k(C,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else A={};I.length||(I=y);var z,P=E.apply(void 0,I),R=[Math.min(P.x,P.x+P.width),Math.min(P.y,P.y+P.height),Math.max(P.x,P.x+P.width),Math.max(P.y,P.y+P.height)],N=R[0],j=R[1],W=R[2],Y=R[3],J=i([N,j,W,Y],y),G=J[0],H=J[1],U=J[2],Z=J[3],q=M(A.level,n.length);if(A.d!=null&&(typeof A.d=="number"?z=[A.d,A.d]:A.d.length&&(z=A.d),q=Math.min(Math.max(Math.ceil(-u(Math.abs(z[0])/(y[2]-y[0]))),Math.ceil(-u(Math.abs(z[1])/(y[3]-y[1])))),q)),q=Math.min(q,n.length),A.lod)return function(ne,ie,le,fe,pe){for(var me=[],ke=0;ke<pe;ke++){var ve=s[ke],he=r[ke][0],de=O(ne,ie,ke),X=O(le,fe,ke),ae=L.ge(ve,de),K=L.gt(ve,X,ae,ve.length-1);me[ke]=[ae+he,K+he]}return me}(G,H,U,Z,q);var Q=[];return function ne(ie,le,fe,pe,me,ke){if(me!==null&&ke!==null&&!(G>ie+fe||H>le+fe||U<ie||Z<le||pe>=q||me===ke)){var ve=n[pe];ke===void 0&&(ke=ve.length);for(var he=me;he<ke;he++){var de=ve[he],X=l[2*de],ae=l[2*de+1];X>=N&&X<=W&&ae>=j&&ae<=Y&&Q.push(de)}var K=o[pe],ge=K[4*me+0],re=K[4*me+1],ue=K[4*me+2],we=K[4*me+3],Te=function(ce,be){for(var Ee=null,Se=0;Ee===null;)if(Ee=ce[4*be+Se],++Se>ce.length)return null;return Ee}(K,me+1),ee=.5*fe,se=pe+1;ne(ie,le,ee,se,ge,re||ue||we||Te),ne(ie,le+ee,ee,se,re,ue||we||Te),ne(ie+ee,le,ee,se,ue,we||Te),ne(ie+ee,le+ee,ee,se,we,Te)}}(0,0,1,0,0,1),Q},p;function O(A,I,B){for(var C=1,z=.5,P=.5,R=.5,N=0;N<B;N++)C<<=2,C+=A<z?I<P?0:1:I<P?2:3,R*=.5,z+=A<z?-R:R,P+=I<P?-R:R;return C}}},16844:function($){$.exports=function(F){var m=0,L=0,D=0,E=0;return F.map(function(T){var k=(T=T.slice())[0],M=k.toUpperCase();if(k!=M)switch(T[0]=M,k){case"a":T[6]+=D,T[7]+=E;break;case"v":T[1]+=E;break;case"h":T[1]+=D;break;default:for(var b=1;b<T.length;)T[b++]+=D,T[b++]+=E}switch(M){case"Z":D=m,E=L;break;case"H":D=T[1];break;case"V":E=T[1];break;case"M":D=m=T[1],E=L=T[2];break;default:D=T[T.length-2],E=T[T.length-1]}return T})}},78112:function($){$.exports=function(F,m){if(!F||F.length==null)throw Error("Argument should be an array");m=m==null?1:Math.floor(m);for(var L=Array(2*m),D=0;D<m;D++){for(var E=-1/0,T=1/0,k=D,M=F.length;k<M;k+=m)F[k]>E&&(E=F[k]),F[k]<T&&(T=F[k]);L[D]=T,L[m+D]=E}return L}},33055:function($){$.exports=function(F,m,L){if(typeof Array.prototype.findIndex=="function")return F.findIndex(m,L);if(typeof m!="function")throw new TypeError("predicate must be a function");var D=Object(F),E=D.length;if(E===0)return-1;for(var T=0;T<E;T++)if(m.call(L,D[T],T,D))return T;return-1}},90956:function($,F,m){var L=m(78112);$.exports=function(D,E,T){if(!D||D.length==null)throw Error("Argument should be an array");E==null&&(E=1),T==null&&(T=L(D,E));for(var k=0;k<E;k++){var M=T[E+k],b=T[k],a=k,t=D.length;if(M===1/0&&b===-1/0)for(a=k;a<t;a+=E)D[a]=D[a]===M?1:D[a]===b?0:.5;else if(M===1/0)for(a=k;a<t;a+=E)D[a]=D[a]===M?1:0;else if(b===-1/0)for(a=k;a<t;a+=E)D[a]=D[a]===b?0:1;else{var u=M-b;for(a=k;a<t;a+=E)isNaN(D[a])||(D[a]=u===0?.5:(D[a]-b)/u)}}return D}},27902:function($){$.exports=function(F,m){var L=typeof F=="number",D=typeof m=="number";L&&!D?(m=F,F=0):L||D||(F=0,m=0);var E=(m|=0)-(F|=0);if(E<0)throw new Error("array length must be positive");for(var T=new Array(E),k=0,M=F;k<E;k++,M++)T[k]=M;return T}},85672:function($,F,m){var L=m(33282);function D(P){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},D(P)}function E(P,R,N){return Object.defineProperty(P,"prototype",{writable:!1}),P}var T,k,M=m(34585).codes,b=M.ERR_AMBIGUOUS_ARGUMENT,a=M.ERR_INVALID_ARG_TYPE,t=M.ERR_INVALID_ARG_VALUE,u=M.ERR_INVALID_RETURN_VALUE,i=M.ERR_MISSING_ARGS,l=m(68586),d=m(56557).inspect,v=m(56557).types,y=v.isPromise,p=v.isRegExp,c=m(68686)(),x=m(9622)(),f=m(63063)("RegExp.prototype.test");function n(){var P=m(23879);T=P.isDeepEqual,k=P.isDeepStrictEqual}var o=!1,s=$.exports=h,r={};function g(P){throw P.message instanceof Error?P.message:new l(P)}function e(P,R,N,j){if(!N){var W=!1;if(R===0)W=!0,j="No value argument passed to `assert.ok()`";else if(j instanceof Error)throw j;var Y=new l({actual:N,expected:!0,message:j,operator:"==",stackStartFn:P});throw Y.generatedMessage=W,Y}}function h(){for(var P=arguments.length,R=new Array(P),N=0;N<P;N++)R[N]=arguments[N];e.apply(void 0,[h,R.length].concat(R))}s.fail=function P(R,N,j,W,Y){var J,G=arguments.length;if(G===0?J="Failed":G===1?(j=R,R=void 0):(o===!1&&(o=!0,(L.emitWarning?L.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),G===2&&(W="!=")),j instanceof Error)throw j;var H={actual:R,expected:N,operator:W===void 0?"fail":W,stackStartFn:Y||P};j!==void 0&&(H.message=j);var U=new l(H);throw J&&(U.message=J,U.generatedMessage=!0),U},s.AssertionError=l,s.ok=h,s.equal=function P(R,N,j){if(arguments.length<2)throw new i("actual","expected");R!=N&&g({actual:R,expected:N,message:j,operator:"==",stackStartFn:P})},s.notEqual=function P(R,N,j){if(arguments.length<2)throw new i("actual","expected");R==N&&g({actual:R,expected:N,message:j,operator:"!=",stackStartFn:P})},s.deepEqual=function P(R,N,j){if(arguments.length<2)throw new i("actual","expected");T===void 0&&n(),T(R,N)||g({actual:R,expected:N,message:j,operator:"deepEqual",stackStartFn:P})},s.notDeepEqual=function P(R,N,j){if(arguments.length<2)throw new i("actual","expected");T===void 0&&n(),T(R,N)&&g({actual:R,expected:N,message:j,operator:"notDeepEqual",stackStartFn:P})},s.deepStrictEqual=function P(R,N,j){if(arguments.length<2)throw new i("actual","expected");T===void 0&&n(),k(R,N)||g({actual:R,expected:N,message:j,operator:"deepStrictEqual",stackStartFn:P})},s.notDeepStrictEqual=function P(R,N,j){if(arguments.length<2)throw new i("actual","expected");T===void 0&&n(),k(R,N)&&g({actual:R,expected:N,message:j,operator:"notDeepStrictEqual",stackStartFn:P})},s.strictEqual=function P(R,N,j){if(arguments.length<2)throw new i("actual","expected");x(R,N)||g({actual:R,expected:N,message:j,operator:"strictEqual",stackStartFn:P})},s.notStrictEqual=function P(R,N,j){if(arguments.length<2)throw new i("actual","expected");x(R,N)&&g({actual:R,expected:N,message:j,operator:"notStrictEqual",stackStartFn:P})};var _=E(function P(R,N,j){var W=this;(function(Y,J){if(!(Y instanceof J))throw new TypeError("Cannot call a class as a function")})(this,P),N.forEach(function(Y){Y in R&&(j!==void 0&&typeof j[Y]=="string"&&p(R[Y])&&f(R[Y],j[Y])?W[Y]=j[Y]:W[Y]=R[Y])})});function w(P,R,N,j){if(typeof R!="function"){if(p(R))return f(R,P);if(arguments.length===2)throw new a("expected",["Function","RegExp"],R);if(D(P)!=="object"||P===null){var W=new l({actual:P,expected:R,message:N,operator:"deepStrictEqual",stackStartFn:j});throw W.operator=j.name,W}var Y=Object.keys(R);if(R instanceof Error)Y.push("name","message");else if(Y.length===0)throw new t("error",R,"may not be an empty object");return T===void 0&&n(),Y.forEach(function(J){typeof P[J]=="string"&&p(R[J])&&f(R[J],P[J])||function(G,H,U,Z,q,Q){if(!(U in G)||!k(G[U],H[U])){if(!Z){var ne=new _(G,q),ie=new _(H,q,G),le=new l({actual:ne,expected:ie,operator:"deepStrictEqual",stackStartFn:Q});throw le.actual=G,le.expected=H,le.operator=Q.name,le}g({actual:G,expected:H,message:Z,operator:Q.name,stackStartFn:Q})}}(P,R,J,N,Y,j)}),!0}return R.prototype!==void 0&&P instanceof R||!Error.isPrototypeOf(R)&&R.call({},P)===!0}function S(P){if(typeof P!="function")throw new a("fn","Function",P);try{P()}catch(R){return R}return r}function O(P){return y(P)||P!==null&&D(P)==="object"&&typeof P.then=="function"&&typeof P.catch=="function"}function A(P){return Promise.resolve().then(function(){var R;if(typeof P=="function"){if(!O(R=P()))throw new u("instance of Promise","promiseFn",R)}else{if(!O(P))throw new a("promiseFn",["Function","Promise"],P);R=P}return Promise.resolve().then(function(){return R}).then(function(){return r}).catch(function(N){return N})})}function I(P,R,N,j){if(typeof N=="string"){if(arguments.length===4)throw new a("error",["Object","Error","Function","RegExp"],N);if(D(R)==="object"&&R!==null){if(R.message===N)throw new b("error/message",'The error message "'.concat(R.message,'" is identical to the message.'))}else if(R===N)throw new b("error/message",'The error "'.concat(R,'" is identical to the message.'));j=N,N=void 0}else if(N!=null&&D(N)!=="object"&&typeof N!="function")throw new a("error",["Object","Error","Function","RegExp"],N);if(R===r){var W="";N&&N.name&&(W+=" (".concat(N.name,")")),W+=j?": ".concat(j):".";var Y=P.name==="rejects"?"rejection":"exception";g({actual:void 0,expected:N,operator:P.name,message:"Missing expected ".concat(Y).concat(W),stackStartFn:P})}if(N&&!w(R,N,j,P))throw R}function B(P,R,N,j){if(R!==r){if(typeof N=="string"&&(j=N,N=void 0),!N||w(R,N)){var W=j?": ".concat(j):".",Y=P.name==="doesNotReject"?"rejection":"exception";g({actual:R,expected:N,operator:P.name,message:"Got unwanted ".concat(Y).concat(W,`
`)+'Actual message: "'.concat(R&&R.message,'"'),stackStartFn:P})}throw R}}function C(P,R,N,j,W){if(!p(R))throw new a("regexp","RegExp",R);var Y=W==="match";if(typeof P!="string"||f(R,P)!==Y){if(N instanceof Error)throw N;var J=!N;N=N||(typeof P!="string"?'The "string" argument must be of type string. Received type '+"".concat(D(P)," (").concat(d(P),")"):(Y?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(d(R),`. Input:

`).concat(d(P),`
`));var G=new l({actual:P,expected:R,message:N,operator:W,stackStartFn:j});throw G.generatedMessage=J,G}}function z(){for(var P=arguments.length,R=new Array(P),N=0;N<P;N++)R[N]=arguments[N];e.apply(void 0,[z,R.length].concat(R))}s.throws=function P(R){for(var N=arguments.length,j=new Array(N>1?N-1:0),W=1;W<N;W++)j[W-1]=arguments[W];I.apply(void 0,[P,S(R)].concat(j))},s.rejects=function P(R){for(var N=arguments.length,j=new Array(N>1?N-1:0),W=1;W<N;W++)j[W-1]=arguments[W];return A(R).then(function(Y){return I.apply(void 0,[P,Y].concat(j))})},s.doesNotThrow=function P(R){for(var N=arguments.length,j=new Array(N>1?N-1:0),W=1;W<N;W++)j[W-1]=arguments[W];B.apply(void 0,[P,S(R)].concat(j))},s.doesNotReject=function P(R){for(var N=arguments.length,j=new Array(N>1?N-1:0),W=1;W<N;W++)j[W-1]=arguments[W];return A(R).then(function(Y){return B.apply(void 0,[P,Y].concat(j))})},s.ifError=function P(R){if(R!=null){var N="ifError got unwanted exception: ";D(R)==="object"&&typeof R.message=="string"?R.message.length===0&&R.constructor?N+=R.constructor.name:N+=R.message:N+=d(R);var j=new l({actual:R,expected:null,operator:"ifError",message:N,stackStartFn:P}),W=R.stack;if(typeof W=="string"){var Y=W.split(`
`);Y.shift();for(var J=j.stack.split(`
`),G=0;G<Y.length;G++){var H=J.indexOf(Y[G]);if(H!==-1){J=J.slice(0,H);break}}j.stack="".concat(J.join(`
`),`
`).concat(Y.join(`
`))}throw j}},s.match=function P(R,N,j){C(R,N,j,P,"match")},s.doesNotMatch=function P(R,N,j){C(R,N,j,P,"doesNotMatch")},s.strict=c(z,s,{equal:s.strictEqual,deepEqual:s.deepStrictEqual,notEqual:s.notStrictEqual,notDeepEqual:s.notDeepStrictEqual}),s.strict.strict=s.strict},68586:function($,F,m){var L=m(33282);function D(e,h){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(e);h&&(w=w.filter(function(S){return Object.getOwnPropertyDescriptor(e,S).enumerable})),_.push.apply(_,w)}return _}function E(e){for(var h=1;h<arguments.length;h++){var _=arguments[h]!=null?arguments[h]:{};h%2?D(Object(_),!0).forEach(function(w){var S,O,A;S=e,O=w,A=_[w],(O=k(O))in S?Object.defineProperty(S,O,{value:A,enumerable:!0,configurable:!0,writable:!0}):S[O]=A}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):D(Object(_)).forEach(function(w){Object.defineProperty(e,w,Object.getOwnPropertyDescriptor(_,w))})}return e}function T(e,h){for(var _=0;_<h.length;_++){var w=h[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(e,k(w.key),w)}}function k(e){var h=function(_,w){if(d(_)!=="object"||_===null)return _;var S=_[Symbol.toPrimitive];if(S!==void 0){var O=S.call(_,"string");if(d(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(e);return d(h)==="symbol"?h:String(h)}function M(e,h){if(h&&(d(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var h=typeof Map=="function"?new Map:void 0;return a=function(_){if(_===null||(w=_,Function.toString.call(w).indexOf("[native code]")===-1))return _;var w;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(h!==void 0){if(h.has(_))return h.get(_);h.set(_,S)}function S(){return t(_,arguments,l(this).constructor)}return S.prototype=Object.create(_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),i(S,_)},a(e)}function t(e,h,_){return t=u()?Reflect.construct.bind():function(w,S,O){var A=[null];A.push.apply(A,S);var I=new(Function.bind.apply(w,A));return O&&i(I,O.prototype),I},t.apply(null,arguments)}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i(e,h){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},i(e,h)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},l(e)}function d(e){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},d(e)}var v=m(56557).inspect,y=m(34585).codes.ERR_INVALID_ARG_TYPE;function p(e,h,_){return(_===void 0||_>e.length)&&(_=e.length),e.substring(_-h.length,_)===h}var c="",x="",f="",n="",o={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function s(e){var h=Object.keys(e),_=Object.create(Object.getPrototypeOf(e));return h.forEach(function(w){_[w]=e[w]}),Object.defineProperty(_,"message",{value:e.message}),_}function r(e){return v(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var g=function(e,h){(function(B,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(C&&C.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),C&&i(B,C)})(I,e);var _,w,S,O,A=(_=I,w=u(),function(){var B,C=l(_);if(w){var z=l(this).constructor;B=Reflect.construct(C,arguments,z)}else B=C.apply(this,arguments);return M(this,B)});function I(B){var C;if(function(Z,q){if(!(Z instanceof q))throw new TypeError("Cannot call a class as a function")}(this,I),d(B)!=="object"||B===null)throw new y("options","Object",B);var z=B.message,P=B.operator,R=B.stackStartFn,N=B.actual,j=B.expected,W=Error.stackTraceLimit;if(Error.stackTraceLimit=0,z!=null)C=A.call(this,String(z));else if(L.stderr&&L.stderr.isTTY&&(L.stderr&&L.stderr.getColorDepth&&L.stderr.getColorDepth()!==1?(c="\x1B[34m",x="\x1B[32m",n="\x1B[39m",f="\x1B[31m"):(c="",x="",n="",f="")),d(N)==="object"&&N!==null&&d(j)==="object"&&j!==null&&"stack"in N&&N instanceof Error&&"stack"in j&&j instanceof Error&&(N=s(N),j=s(j)),P==="deepStrictEqual"||P==="strictEqual")C=A.call(this,function(Z,q,Q){var ne="",ie="",le=0,fe="",pe=!1,me=r(Z),ke=me.split(`
`),ve=r(q).split(`
`),he=0,de="";if(Q==="strictEqual"&&d(Z)==="object"&&d(q)==="object"&&Z!==null&&q!==null&&(Q="strictEqualObject"),ke.length===1&&ve.length===1&&ke[0]!==ve[0]){var X=ke[0].length+ve[0].length;if(X<=10){if(!(d(Z)==="object"&&Z!==null||d(q)==="object"&&q!==null||Z===0&&q===0))return"".concat(o[Q],`

`)+"".concat(ke[0]," !== ").concat(ve[0],`
`)}else if(Q!=="strictEqualObject"&&X<(L.stderr&&L.stderr.isTTY?L.stderr.columns:80)){for(;ke[0][he]===ve[0][he];)he++;he>2&&(de=`
  `.concat(function(Ee,Se){if(Se=Math.floor(Se),Ee.length==0||Se==0)return"";var De=Ee.length*Se;for(Se=Math.floor(Math.log(Se)/Math.log(2));Se;)Ee+=Ee,Se--;return Ee+Ee.substring(0,De-Ee.length)}(" ",he),"^"),he=0)}}for(var ae=ke[ke.length-1],K=ve[ve.length-1];ae===K&&(he++<2?fe=`
  `.concat(ae).concat(fe):ne=ae,ke.pop(),ve.pop(),ke.length!==0&&ve.length!==0);)ae=ke[ke.length-1],K=ve[ve.length-1];var ge=Math.max(ke.length,ve.length);if(ge===0){var re=me.split(`
`);if(re.length>30)for(re[26]="".concat(c,"...").concat(n);re.length>27;)re.pop();return"".concat(o.notIdentical,`

`).concat(re.join(`
`),`
`)}he>3&&(fe=`
`.concat(c,"...").concat(n).concat(fe),pe=!0),ne!==""&&(fe=`
  `.concat(ne).concat(fe),ne="");var ue=0,we=o[Q]+`
`.concat(x,"+ actual").concat(n," ").concat(f,"- expected").concat(n),Te=" ".concat(c,"...").concat(n," Lines skipped");for(he=0;he<ge;he++){var ee=he-le;if(ke.length<he+1)ee>1&&he>2&&(ee>4?(ie+=`
`.concat(c,"...").concat(n),pe=!0):ee>3&&(ie+=`
  `.concat(ve[he-2]),ue++),ie+=`
  `.concat(ve[he-1]),ue++),le=he,ne+=`
`.concat(f,"-").concat(n," ").concat(ve[he]),ue++;else if(ve.length<he+1)ee>1&&he>2&&(ee>4?(ie+=`
`.concat(c,"...").concat(n),pe=!0):ee>3&&(ie+=`
  `.concat(ke[he-2]),ue++),ie+=`
  `.concat(ke[he-1]),ue++),le=he,ie+=`
`.concat(x,"+").concat(n," ").concat(ke[he]),ue++;else{var se=ve[he],ce=ke[he],be=ce!==se&&(!p(ce,",")||ce.slice(0,-1)!==se);be&&p(se,",")&&se.slice(0,-1)===ce&&(be=!1,ce+=","),be?(ee>1&&he>2&&(ee>4?(ie+=`
`.concat(c,"...").concat(n),pe=!0):ee>3&&(ie+=`
  `.concat(ke[he-2]),ue++),ie+=`
  `.concat(ke[he-1]),ue++),le=he,ie+=`
`.concat(x,"+").concat(n," ").concat(ce),ne+=`
`.concat(f,"-").concat(n," ").concat(se),ue+=2):(ie+=ne,ne="",ee!==1&&he!==0||(ie+=`
  `.concat(ce),ue++))}if(ue>20&&he<ge-2)return"".concat(we).concat(Te,`
`).concat(ie,`
`).concat(c,"...").concat(n).concat(ne,`
`)+"".concat(c,"...").concat(n)}return"".concat(we).concat(pe?Te:"",`
`).concat(ie).concat(ne).concat(fe).concat(de)}(N,j,P));else if(P==="notDeepStrictEqual"||P==="notStrictEqual"){var Y=o[P],J=r(N).split(`
`);if(P==="notStrictEqual"&&d(N)==="object"&&N!==null&&(Y=o.notStrictEqualObject),J.length>30)for(J[26]="".concat(c,"...").concat(n);J.length>27;)J.pop();C=J.length===1?A.call(this,"".concat(Y," ").concat(J[0])):A.call(this,"".concat(Y,`

`).concat(J.join(`
`),`
`))}else{var G=r(N),H="",U=o[P];P==="notDeepEqual"||P==="notEqual"?(G="".concat(o[P],`

`).concat(G)).length>1024&&(G="".concat(G.slice(0,1021),"...")):(H="".concat(r(j)),G.length>512&&(G="".concat(G.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),P==="deepEqual"||P==="equal"?G="".concat(U,`

`).concat(G,`

should equal

`):H=" ".concat(P," ").concat(H)),C=A.call(this,"".concat(G).concat(H))}return Error.stackTraceLimit=W,C.generatedMessage=!z,Object.defineProperty(b(C),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),C.code="ERR_ASSERTION",C.actual=N,C.expected=j,C.operator=P,Error.captureStackTrace&&Error.captureStackTrace(b(C),R),C.stack,C.name="AssertionError",M(C)}return S=I,(O=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h,value:function(B,C){return v(this,E(E({},C),{},{customInspect:!1,depth:0}))}}])&&T(S.prototype,O),Object.defineProperty(S,"prototype",{writable:!1}),I}(a(Error),v.custom);$.exports=g},34585:function($,F,m){function L(t){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},L(t)}function D(t,u){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},D(t,u)}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},E(t)}var T,k,M={};function b(t,u,i){i||(i=Error);var l=function(d){(function(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),n&&D(f,n)})(x,d);var v,y,p,c=(y=x,p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var f,n=E(y);if(p){var o=E(this).constructor;f=Reflect.construct(n,arguments,o)}else f=n.apply(this,arguments);return function(s,r){if(r&&(L(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(s)}(this,f)});function x(f,n,o){var s;return function(r,g){if(!(r instanceof g))throw new TypeError("Cannot call a class as a function")}(this,x),s=c.call(this,function(r,g,e){return typeof u=="string"?u:u(r,g,e)}(f,n,o)),s.code=t,s}return v=x,Object.defineProperty(v,"prototype",{writable:!1}),v}(i);M[t]=l}function a(t,u){if(Array.isArray(t)){var i=t.length;return t=t.map(function(l){return String(l)}),i>2?"one of ".concat(u," ").concat(t.slice(0,i-1).join(", "),", or ")+t[i-1]:i===2?"one of ".concat(u," ").concat(t[0]," or ").concat(t[1]):"of ".concat(u," ").concat(t[0])}return"of ".concat(u," ").concat(String(t))}b("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),b("ERR_INVALID_ARG_TYPE",function(t,u,i){var l,d,v,y,p;if(T===void 0&&(T=m(85672)),T(typeof t=="string","'name' must be a string"),typeof u=="string"&&(d="not ",u.substr(0,4)===d)?(l="must not be",u=u.replace(/^not /,"")):l="must be",function(x,f,n){return(n===void 0||n>x.length)&&(n=x.length),x.substring(n-9,n)===f}(t," argument"))v="The ".concat(t," ").concat(l," ").concat(a(u,"type"));else{var c=(typeof p!="number"&&(p=0),p+1>(y=t).length||y.indexOf(".",p)===-1?"argument":"property");v='The "'.concat(t,'" ').concat(c," ").concat(l," ").concat(a(u,"type"))}return v+". Received type ".concat(L(i))},TypeError),b("ERR_INVALID_ARG_VALUE",function(t,u){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";k===void 0&&(k=m(56557));var l=k.inspect(u);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(i,". Received ").concat(l)},TypeError),b("ERR_INVALID_RETURN_VALUE",function(t,u,i){var l;return l=i&&i.constructor&&i.constructor.name?"instance of ".concat(i.constructor.name):"type ".concat(L(i)),"Expected ".concat(t,' to be returned from the "').concat(u,'"')+" function but got ".concat(l,".")},TypeError),b("ERR_MISSING_ARGS",function(){for(var t=arguments.length,u=new Array(t),i=0;i<t;i++)u[i]=arguments[i];T===void 0&&(T=m(85672)),T(u.length>0,"At least one arg needs to be specified");var l="The ",d=u.length;switch(u=u.map(function(v){return'"'.concat(v,'"')}),d){case 1:l+="".concat(u[0]," argument");break;case 2:l+="".concat(u[0]," and ").concat(u[1]," arguments");break;default:l+=u.slice(0,d-1).join(", "),l+=", and ".concat(u[d-1]," arguments")}return"".concat(l," must be specified")},TypeError),$.exports.codes=M},23879:function($,F,m){function L(U,Z){return function(q){if(Array.isArray(q))return q}(U)||function(q,Q){var ne=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(ne!=null){var ie,le,fe,pe,me=[],ke=!0,ve=!1;try{if(fe=(ne=ne.call(q)).next,Q!==0)for(;!(ke=(ie=fe.call(ne)).done)&&(me.push(ie.value),me.length!==Q);ke=!0);}catch(he){ve=!0,le=he}finally{try{if(!ke&&ne.return!=null&&(pe=ne.return(),Object(pe)!==pe))return}finally{if(ve)throw le}}return me}}(U,Z)||function(q,Q){if(q){if(typeof q=="string")return D(q,Q);var ne=Object.prototype.toString.call(q).slice(8,-1);return ne==="Object"&&q.constructor&&(ne=q.constructor.name),ne==="Map"||ne==="Set"?Array.from(q):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?D(q,Q):void 0}}(U,Z)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(U,Z){(Z==null||Z>U.length)&&(Z=U.length);for(var q=0,Q=new Array(Z);q<Z;q++)Q[q]=U[q];return Q}function E(U){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},E(U)}var T=/a/g.flags!==void 0,k=function(U){var Z=[];return U.forEach(function(q){return Z.push(q)}),Z},M=function(U){var Z=[];return U.forEach(function(q,Q){return Z.push([Q,q])}),Z},b=Object.is?Object.is:m(13969),a=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:m(63057);function u(U){return U.call.bind(U)}var i=u(Object.prototype.hasOwnProperty),l=u(Object.prototype.propertyIsEnumerable),d=u(Object.prototype.toString),v=m(56557).types,y=v.isAnyArrayBuffer,p=v.isArrayBufferView,c=v.isDate,x=v.isMap,f=v.isRegExp,n=v.isSet,o=v.isNativeError,s=v.isBoxedPrimitive,r=v.isNumberObject,g=v.isStringObject,e=v.isBooleanObject,h=v.isBigIntObject,_=v.isSymbolObject,w=v.isFloat32Array,S=v.isFloat64Array;function O(U){if(U.length===0||U.length>10)return!0;for(var Z=0;Z<U.length;Z++){var q=U.charCodeAt(Z);if(q<48||q>57)return!0}return U.length===10&&U>=Math.pow(2,32)}function A(U){return Object.keys(U).filter(O).concat(a(U).filter(Object.prototype.propertyIsEnumerable.bind(U)))}function I(U,Z){if(U===Z)return 0;for(var q=U.length,Q=Z.length,ne=0,ie=Math.min(q,Q);ne<ie;++ne)if(U[ne]!==Z[ne]){q=U[ne],Q=Z[ne];break}return q<Q?-1:Q<q?1:0}var B=0,C=1,z=2,P=3;function R(U,Z,q,Q){if(U===Z)return U!==0||!q||b(U,Z);if(q){if(E(U)!=="object")return typeof U=="number"&&t(U)&&t(Z);if(E(Z)!=="object"||U===null||Z===null||Object.getPrototypeOf(U)!==Object.getPrototypeOf(Z))return!1}else{if(U===null||E(U)!=="object")return(Z===null||E(Z)!=="object")&&U==Z;if(Z===null||E(Z)!=="object")return!1}var ne,ie,le,fe,pe=d(U);if(pe!==d(Z))return!1;if(Array.isArray(U)){if(U.length!==Z.length)return!1;var me=A(U),ke=A(Z);return me.length===ke.length&&j(U,Z,q,Q,C,me)}if(pe==="[object Object]"&&(!x(U)&&x(Z)||!n(U)&&n(Z)))return!1;if(c(U)){if(!c(Z)||Date.prototype.getTime.call(U)!==Date.prototype.getTime.call(Z))return!1}else if(f(U)){if(!f(Z)||(le=U,fe=Z,!(T?le.source===fe.source&&le.flags===fe.flags:RegExp.prototype.toString.call(le)===RegExp.prototype.toString.call(fe))))return!1}else if(o(U)||U instanceof Error){if(U.message!==Z.message||U.name!==Z.name)return!1}else{if(p(U)){if(q||!w(U)&&!S(U)){if(!function(de,X){return de.byteLength===X.byteLength&&I(new Uint8Array(de.buffer,de.byteOffset,de.byteLength),new Uint8Array(X.buffer,X.byteOffset,X.byteLength))===0}(U,Z))return!1}else if(!function(de,X){if(de.byteLength!==X.byteLength)return!1;for(var ae=0;ae<de.byteLength;ae++)if(de[ae]!==X[ae])return!1;return!0}(U,Z))return!1;var ve=A(U),he=A(Z);return ve.length===he.length&&j(U,Z,q,Q,B,ve)}if(n(U))return!(!n(Z)||U.size!==Z.size)&&j(U,Z,q,Q,z);if(x(U))return!(!x(Z)||U.size!==Z.size)&&j(U,Z,q,Q,P);if(y(U)){if(ie=Z,(ne=U).byteLength!==ie.byteLength||I(new Uint8Array(ne),new Uint8Array(ie))!==0)return!1}else if(s(U)&&!function(de,X){return r(de)?r(X)&&b(Number.prototype.valueOf.call(de),Number.prototype.valueOf.call(X)):g(de)?g(X)&&String.prototype.valueOf.call(de)===String.prototype.valueOf.call(X):e(de)?e(X)&&Boolean.prototype.valueOf.call(de)===Boolean.prototype.valueOf.call(X):h(de)?h(X)&&BigInt.prototype.valueOf.call(de)===BigInt.prototype.valueOf.call(X):_(X)&&Symbol.prototype.valueOf.call(de)===Symbol.prototype.valueOf.call(X)}(U,Z))return!1}return j(U,Z,q,Q,B)}function N(U,Z){return Z.filter(function(q){return l(U,q)})}function j(U,Z,q,Q,ne,ie){if(arguments.length===5){ie=Object.keys(U);var le=Object.keys(Z);if(ie.length!==le.length)return!1}for(var fe=0;fe<ie.length;fe++)if(!i(Z,ie[fe]))return!1;if(q&&arguments.length===5){var pe=a(U);if(pe.length!==0){var me=0;for(fe=0;fe<pe.length;fe++){var ke=pe[fe];if(l(U,ke)){if(!l(Z,ke))return!1;ie.push(ke),me++}else if(l(Z,ke))return!1}var ve=a(Z);if(pe.length!==ve.length&&N(Z,ve).length!==me)return!1}else{var he=a(Z);if(he.length!==0&&N(Z,he).length!==0)return!1}}if(ie.length===0&&(ne===B||ne===C&&U.length===0||U.size===0))return!0;if(Q===void 0)Q={val1:new Map,val2:new Map,position:0};else{var de=Q.val1.get(U);if(de!==void 0){var X=Q.val2.get(Z);if(X!==void 0)return de===X}Q.position++}Q.val1.set(U,Q.position),Q.val2.set(Z,Q.position);var ae=function(K,ge,re,ue,we,Te){var ee=0;if(Te===z){if(!function(Ee,Se,De,Ge){for(var Xe=null,Ke=k(Ee),ut=0;ut<Ke.length;ut++){var Tt=Ke[ut];if(E(Tt)==="object"&&Tt!==null)Xe===null&&(Xe=new Set),Xe.add(Tt);else if(!Se.has(Tt)){if(De||!J(Ee,Se,Tt))return!1;Xe===null&&(Xe=new Set),Xe.add(Tt)}}if(Xe!==null){for(var je=k(Se),Le=0;Le<je.length;Le++){var $e=je[Le];if(E($e)==="object"&&$e!==null){if(!W(Xe,$e,De,Ge))return!1}else if(!De&&!Ee.has($e)&&!W(Xe,$e,De,Ge))return!1}return Xe.size===0}return!0}(K,ge,re,we))return!1}else if(Te===P){if(!function(Ee,Se,De,Ge){for(var Xe=null,Ke=M(Ee),ut=0;ut<Ke.length;ut++){var Tt=L(Ke[ut],2),je=Tt[0],Le=Tt[1];if(E(je)==="object"&&je!==null)Xe===null&&(Xe=new Set),Xe.add(je);else{var $e=Se.get(je);if($e===void 0&&!Se.has(je)||!R(Le,$e,De,Ge)){if(De||!G(Ee,Se,je,Le,Ge))return!1;Xe===null&&(Xe=new Set),Xe.add(je)}}}if(Xe!==null){for(var st=M(Se),Ot=0;Ot<st.length;Ot++){var Je=L(st[Ot],2),at=Je[0],gt=Je[1];if(E(at)==="object"&&at!==null){if(!H(Xe,Ee,at,gt,De,Ge))return!1}else if(!(De||Ee.has(at)&&R(Ee.get(at),gt,!1,Ge)||H(Xe,Ee,at,gt,!1,Ge)))return!1}return Xe.size===0}return!0}(K,ge,re,we))return!1}else if(Te===C)for(;ee<K.length;ee++){if(!i(K,ee)){if(i(ge,ee))return!1;for(var se=Object.keys(K);ee<se.length;ee++){var ce=se[ee];if(!i(ge,ce)||!R(K[ce],ge[ce],re,we))return!1}return se.length===Object.keys(ge).length}if(!i(ge,ee)||!R(K[ee],ge[ee],re,we))return!1}for(ee=0;ee<ue.length;ee++){var be=ue[ee];if(!R(K[be],ge[be],re,we))return!1}return!0}(U,Z,q,ie,Q,ne);return Q.val1.delete(U),Q.val2.delete(Z),ae}function W(U,Z,q,Q){for(var ne=k(U),ie=0;ie<ne.length;ie++){var le=ne[ie];if(R(Z,le,q,Q))return U.delete(le),!0}return!1}function Y(U){switch(E(U)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":U=+U;case"number":if(t(U))return!1}return!0}function J(U,Z,q){var Q=Y(q);return Q??(Z.has(Q)&&!U.has(Q))}function G(U,Z,q,Q,ne){var ie=Y(q);if(ie!=null)return ie;var le=Z.get(ie);return!(le===void 0&&!Z.has(ie)||!R(Q,le,!1,ne))&&!U.has(ie)&&R(Q,le,!1,ne)}function H(U,Z,q,Q,ne,ie){for(var le=k(U),fe=0;fe<le.length;fe++){var pe=le[fe];if(R(q,pe,ne,ie)&&R(Q,Z.get(pe),ne,ie))return U.delete(pe),!0}return!1}$.exports={isDeepEqual:function(U,Z){return R(U,Z,!1)},isDeepStrictEqual:function(U,Z){return R(U,Z,!0)}}},93229:function($,F,m){m.r(F),m.d(F,{decode:function(){return k},encode:function(){return T}});for(var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=typeof Uint8Array>"u"?[]:new Uint8Array(256),E=0;E<64;E++)D[L.charCodeAt(E)]=E;var T=function(M){var b,a=new Uint8Array(M),t=a.length,u="";for(b=0;b<t;b+=3)u+=L[a[b]>>2],u+=L[(3&a[b])<<4|a[b+1]>>4],u+=L[(15&a[b+1])<<2|a[b+2]>>6],u+=L[63&a[b+2]];return t%3==2?u=u.substring(0,u.length-1)+"=":t%3==1&&(u=u.substring(0,u.length-2)+"=="),u},k=function(M){var b,a,t,u,i,l=.75*M.length,d=M.length,v=0;M[M.length-1]==="="&&(l--,M[M.length-2]==="="&&l--);var y=new ArrayBuffer(l),p=new Uint8Array(y);for(b=0;b<d;b+=4)a=D[M.charCodeAt(b)],t=D[M.charCodeAt(b+1)],u=D[M.charCodeAt(b+2)],i=D[M.charCodeAt(b+3)],p[v++]=a<<2|t>>4,p[v++]=(15&t)<<4|u>>2,p[v++]=(3&u)<<6|63&i;return y}},76226:function($,F){F.byteLength=function(b){var a=k(b),t=a[0],u=a[1];return 3*(t+u)/4-u},F.toByteArray=function(b){var a,t,u=k(b),i=u[0],l=u[1],d=new D(function(p,c,x){return 3*(c+x)/4-x}(0,i,l)),v=0,y=l>0?i-4:i;for(t=0;t<y;t+=4)a=L[b.charCodeAt(t)]<<18|L[b.charCodeAt(t+1)]<<12|L[b.charCodeAt(t+2)]<<6|L[b.charCodeAt(t+3)],d[v++]=a>>16&255,d[v++]=a>>8&255,d[v++]=255&a;return l===2&&(a=L[b.charCodeAt(t)]<<2|L[b.charCodeAt(t+1)]>>4,d[v++]=255&a),l===1&&(a=L[b.charCodeAt(t)]<<10|L[b.charCodeAt(t+1)]<<4|L[b.charCodeAt(t+2)]>>2,d[v++]=a>>8&255,d[v++]=255&a),d},F.fromByteArray=function(b){for(var a,t=b.length,u=t%3,i=[],l=16383,d=0,v=t-u;d<v;d+=l)i.push(M(b,d,d+l>v?v:d+l));return u===1?(a=b[t-1],i.push(m[a>>2]+m[a<<4&63]+"==")):u===2&&(a=(b[t-2]<<8)+b[t-1],i.push(m[a>>10]+m[a>>4&63]+m[a<<2&63]+"=")),i.join("")};for(var m=[],L=[],D=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0;T<64;++T)m[T]=E[T],L[E.charCodeAt(T)]=T;function k(b){var a=b.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=b.indexOf("=");return t===-1&&(t=a),[t,t===a?0:4-t%4]}function M(b,a,t){for(var u,i,l=[],d=a;d<t;d+=3)u=(b[d]<<16&16711680)+(b[d+1]<<8&65280)+(255&b[d+2]),l.push(m[(i=u)>>18&63]+m[i>>12&63]+m[i>>6&63]+m[63&i]);return l.join("")}L[45]=62,L[95]=63},31625:function($){function F(k,M,b,a,t){for(var u=t+1;a<=t;){var i=a+t>>>1,l=k[i];(b!==void 0?b(l,M):l-M)>=0?(u=i,t=i-1):a=i+1}return u}function m(k,M,b,a,t){for(var u=t+1;a<=t;){var i=a+t>>>1,l=k[i];(b!==void 0?b(l,M):l-M)>0?(u=i,t=i-1):a=i+1}return u}function L(k,M,b,a,t){for(var u=a-1;a<=t;){var i=a+t>>>1,l=k[i];(b!==void 0?b(l,M):l-M)<0?(u=i,a=i+1):t=i-1}return u}function D(k,M,b,a,t){for(var u=a-1;a<=t;){var i=a+t>>>1,l=k[i];(b!==void 0?b(l,M):l-M)<=0?(u=i,a=i+1):t=i-1}return u}function E(k,M,b,a,t){for(;a<=t;){var u=a+t>>>1,i=k[u],l=b!==void 0?b(i,M):i-M;if(l===0)return u;l<=0?a=u+1:t=u-1}return-1}function T(k,M,b,a,t,u){return typeof b=="function"?u(k,M,b,a===void 0?0:0|a,t===void 0?k.length-1:0|t):u(k,M,void 0,b===void 0?0:0|b,a===void 0?k.length-1:0|a)}$.exports={ge:function(k,M,b,a,t){return T(k,M,b,a,t,F)},gt:function(k,M,b,a,t){return T(k,M,b,a,t,m)},lt:function(k,M,b,a,t){return T(k,M,b,a,t,L)},le:function(k,M,b,a,t){return T(k,M,b,a,t,D)},eq:function(k,M,b,a,t){return T(k,M,b,a,t,E)}}},54689:function($,F){function m(D){var E=32;return(D&=-D)&&E--,65535&D&&(E-=16),16711935&D&&(E-=8),252645135&D&&(E-=4),858993459&D&&(E-=2),1431655765&D&&(E-=1),E}F.INT_BITS=32,F.INT_MAX=2147483647,F.INT_MIN=-2147483648,F.sign=function(D){return(D>0)-(D<0)},F.abs=function(D){var E=D>>31;return(D^E)-E},F.min=function(D,E){return E^(D^E)&-(D<E)},F.max=function(D,E){return D^(D^E)&-(D<E)},F.isPow2=function(D){return!(D&D-1||!D)},F.log2=function(D){var E,T;return E=(D>65535)<<4,E|=T=((D>>>=E)>255)<<3,E|=T=((D>>>=T)>15)<<2,(E|=T=((D>>>=T)>3)<<1)|(D>>>=T)>>1},F.log10=function(D){return D>=1e9?9:D>=1e8?8:D>=1e7?7:D>=1e6?6:D>=1e5?5:D>=1e4?4:D>=1e3?3:D>=100?2:D>=10?1:0},F.popCount=function(D){return 16843009*((D=(858993459&(D-=D>>>1&1431655765))+(D>>>2&858993459))+(D>>>4)&252645135)>>>24},F.countTrailingZeros=m,F.nextPow2=function(D){return D+=D===0,--D,D|=D>>>1,D|=D>>>2,D|=D>>>4,D|=D>>>8,1+(D|=D>>>16)},F.prevPow2=function(D){return D|=D>>>1,D|=D>>>2,D|=D>>>4,D|=D>>>8,(D|=D>>>16)-(D>>>1)},F.parity=function(D){return D^=D>>>16,D^=D>>>8,D^=D>>>4,27030>>>(D&=15)&1};var L=new Array(256);(function(D){for(var E=0;E<256;++E){var T=E,k=E,M=7;for(T>>>=1;T;T>>>=1)k<<=1,k|=1&T,--M;D[E]=k<<M&255}})(L),F.reverse=function(D){return L[255&D]<<24|L[D>>>8&255]<<16|L[D>>>16&255]<<8|L[D>>>24&255]},F.interleave2=function(D,E){return(D=1431655765&((D=858993459&((D=252645135&((D=16711935&((D&=65535)|D<<8))|D<<4))|D<<2))|D<<1))|(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E&=65535)|E<<8))|E<<4))|E<<2))|E<<1))<<1},F.deinterleave2=function(D,E){return(D=65535&((D=16711935&((D=252645135&((D=858993459&((D=D>>>E&1431655765)|D>>>1))|D>>>2))|D>>>4))|D>>>16))<<16>>16},F.interleave3=function(D,E,T){return D=1227133513&((D=3272356035&((D=251719695&((D=4278190335&((D&=1023)|D<<16))|D<<8))|D<<4))|D<<2),(D|=(E=1227133513&((E=3272356035&((E=251719695&((E=4278190335&((E&=1023)|E<<16))|E<<8))|E<<4))|E<<2))<<1)|(T=1227133513&((T=3272356035&((T=251719695&((T=4278190335&((T&=1023)|T<<16))|T<<8))|T<<4))|T<<2))<<2},F.deinterleave3=function(D,E){return(D=1023&((D=4278190335&((D=251719695&((D=3272356035&((D=D>>>E&1227133513)|D>>>2))|D>>>4))|D>>>8))|D>>>16))<<22>>22},F.nextCombination=function(D){var E=D|D-1;return E+1|(~E&-~E)-1>>>m(D)+1}},88772:function($,F,m){var L=m(75144);$.exports=function(k,M){M||(M={});var b,a,t,u,i,l,d,v,y,p,c,x=M.cutoff==null?.25:M.cutoff,f=M.radius==null?8:M.radius,n=M.channel||0;if(ArrayBuffer.isView(k)||Array.isArray(k)){if(!M.width||!M.height)throw Error("For raw data width and height should be provided by options");b=M.width,a=M.height,u=k,l=M.stride?M.stride:Math.floor(k.length/b/a)}else window.HTMLCanvasElement&&k instanceof window.HTMLCanvasElement?(d=(v=k).getContext("2d"),b=v.width,a=v.height,u=(y=d.getImageData(0,0,b,a)).data,l=4):window.CanvasRenderingContext2D&&k instanceof window.CanvasRenderingContext2D?(d=k,b=(v=k.canvas).width,a=v.height,u=(y=d.getImageData(0,0,b,a)).data,l=4):window.ImageData&&k instanceof window.ImageData&&(y=k,b=k.width,a=k.height,u=y.data,l=4);if(t=Math.max(b,a),window.Uint8ClampedArray&&u instanceof window.Uint8ClampedArray||window.Uint8Array&&u instanceof window.Uint8Array)for(i=u,u=Array(b*a),p=0,c=i.length;p<c;p++)u[p]=i[p*l+n]/255;else if(l!==1)throw Error("Raw data can have only 1 value per pixel");var o=Array(b*a),s=Array(b*a),r=Array(t),g=Array(t),e=Array(t+1),h=Array(t);for(p=0,c=b*a;p<c;p++){var _=u[p];o[p]=_===1?0:_===0?D:Math.pow(Math.max(0,.5-_),2),s[p]=_===1?D:_===0?0:Math.pow(Math.max(0,_-.5),2)}E(o,b,a,r,g,h,e),E(s,b,a,r,g,h,e);var w=window.Float32Array?new Float32Array(b*a):new Array(b*a);for(p=0,c=b*a;p<c;p++)w[p]=L(1-((o[p]-s[p])/f+x),0,1);return w};var D=1e20;function E(k,M,b,a,t,u,i){for(var l=0;l<M;l++){for(var d=0;d<b;d++)a[d]=k[d*M+l];for(T(a,t,u,i,b),d=0;d<b;d++)k[d*M+l]=t[d]}for(d=0;d<b;d++){for(l=0;l<M;l++)a[l]=k[d*M+l];for(T(a,t,u,i,M),l=0;l<M;l++)k[d*M+l]=Math.sqrt(t[l])}}function T(k,M,b,a,t){b[0]=0,a[0]=-D,a[1]=+D;for(var u=1,i=0;u<t;u++){for(var l=(k[u]+u*u-(k[b[i]]+b[i]*b[i]))/(2*u-2*b[i]);l<=a[i];)i--,l=(k[u]+u*u-(k[b[i]]+b[i]*b[i]))/(2*u-2*b[i]);b[++i]=u,a[i]=l,a[i+1]=+D}for(u=0,i=0;u<t;u++){for(;a[i+1]<u;)i++;M[u]=(u-b[i])*(u-b[i])+k[b[i]]}}},63063:function($,F,m){var L=m(71129),D=m(87227),E=D(L("String.prototype.indexOf"));$.exports=function(T,k){var M=L(T,!!k);return typeof M=="function"&&E(T,".prototype.")>-1?D(M):M}},87227:function($,F,m){var L=m(87547),D=m(71129),E=m(73285),T=m(48631),k=D("%Function.prototype.apply%"),M=D("%Function.prototype.call%"),b=D("%Reflect.apply%",!0)||L.call(M,k),a=m(40891),t=D("%Math.max%");$.exports=function(i){if(typeof i!="function")throw new T("a function is required");var l=b(L,M,arguments);return E(l,1+t(0,i.length-(arguments.length-1)),!0)};var u=function(){return b(L,k,arguments)};a?a($.exports,"apply",{value:u}):$.exports.apply=u},75144:function($){$.exports=function(F,m,L){return m<L?F<m?m:F>L?L:F:F<L?L:F>m?m:F}},46762:function($,F,m){var L=m(75144);function D(E,T){T==null&&(T=!0);var k=E[0],M=E[1],b=E[2],a=E[3];return a==null&&(a=T?1:255),T&&(k*=255,M*=255,b*=255,a*=255),16777216*(k=255&L(k,0,255))+((M=255&L(M,0,255))<<16)+((b=255&L(b,0,255))<<8)+(255&L(a,0,255))}$.exports=D,$.exports.to=D,$.exports.from=function(E,T){var k=(E=+E)>>>24,M=(16711680&E)>>>16,b=(65280&E)>>>8,a=255&E;return T===!1?[k,M,b,a]:[k/255,M/255,b/255,a/255]}},86040:function($){$.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},162:function($,F,m){var L=m(16401),D=m(75144),E=m(10275);$.exports=function(T,k){k!=="float"&&k||(k="array"),k==="uint"&&(k="uint8"),k==="uint_clamped"&&(k="uint8_clamped");var M=new(E(k))(4),b=k!=="uint8"&&k!=="uint8_clamped";return T.length&&typeof T!="string"||((T=L(T))[0]/=255,T[1]/=255,T[2]/=255),function(a){return a instanceof Uint8Array||a instanceof Uint8ClampedArray||!!(Array.isArray(a)&&(a[0]>1||a[0]===0)&&(a[1]>1||a[1]===0)&&(a[2]>1||a[2]===0)&&(!a[3]||a[3]>1))}(T)?(M[0]=T[0],M[1]=T[1],M[2]=T[2],M[3]=T[3]!=null?T[3]:255,b&&(M[0]/=255,M[1]/=255,M[2]/=255,M[3]/=255),M):(b?(M[0]=T[0],M[1]=T[1],M[2]=T[2],M[3]=T[3]!=null?T[3]:1):(M[0]=D(Math.floor(255*T[0]),0,255),M[1]=D(Math.floor(255*T[1]),0,255),M[2]=D(Math.floor(255*T[2]),0,255),M[3]=T[3]==null?255:D(Math.floor(255*T[3]),0,255)),M)}},16401:function($,F,m){var L=m(10826),D=m(52132),E=m(75144);$.exports=function(T){var k,M=L(T);return M.space?((k=Array(3))[0]=E(M.values[0],0,255),k[1]=E(M.values[1],0,255),k[2]=E(M.values[2],0,255),M.space[0]==="h"&&(k=D.rgb(k)),k.push(E(M.alpha,0,1)),k):[]}},10826:function($,F,m){var L=m(86040);$.exports=function(E){var T,k,M=[],b=1;if(typeof E=="string")if(E=E.toLowerCase(),L[E])M=L[E].slice(),k="rgb";else if(E==="transparent")b=0,k="rgb",M=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(E)){var a=E.slice(1);b=1,(i=a.length)<=4?(M=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],i===4&&(b=parseInt(a[3]+a[3],16)/255)):(M=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],i===8&&(b=parseInt(a[6]+a[7],16)/255)),M[0]||(M[0]=0),M[1]||(M[1]=0),M[2]||(M[2]=0),k="rgb"}else if(T=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(E)){var t=T[1],u=t==="rgb";k=a=t.replace(/a$/,"");var i=a==="cmyk"?4:a==="gray"?1:3;M=T[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(l,d){if(/%$/.test(l))return d===i?parseFloat(l)/100:a==="rgb"?255*parseFloat(l)/100:parseFloat(l);if(a[d]==="h"){if(/deg$/.test(l))return parseFloat(l);if(D[l]!==void 0)return D[l]}return parseFloat(l)}),t===a&&M.push(1),b=u||M[i]===void 0?1:M[i],M=M.slice(0,i)}else E.length>10&&/[0-9](?:\s|\/)/.test(E)&&(M=E.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),k=E.match(/([a-z])/gi).join("").toLowerCase());else isNaN(E)?Array.isArray(E)||E.length?(M=[E[0],E[1],E[2]],k="rgb",b=E.length===4?E[3]:1):E instanceof Object&&(E.r!=null||E.red!=null||E.R!=null?(k="rgb",M=[E.r||E.red||E.R||0,E.g||E.green||E.G||0,E.b||E.blue||E.B||0]):(k="hsl",M=[E.h||E.hue||E.H||0,E.s||E.saturation||E.S||0,E.l||E.lightness||E.L||E.b||E.brightness]),b=E.a||E.alpha||E.opacity||1,E.opacity!=null&&(b/=100)):(k="rgb",M=[E>>>16,(65280&E)>>>8,255&E]);return{space:k,values:M,alpha:b}};var D={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},52132:function($,F,m){var L=m(10520);$.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(D){var E,T,k,M,b,a=D[0]/360,t=D[1]/100,u=D[2]/100;if(t===0)return[b=255*u,b,b];E=2*u-(T=u<.5?u*(1+t):u+t-u*t),M=[0,0,0];for(var i=0;i<3;i++)(k=a+.3333333333333333*-(i-1))<0?k++:k>1&&k--,b=6*k<1?E+6*(T-E)*k:2*k<1?T:3*k<2?E+(T-E)*(.6666666666666666-k)*6:E,M[i]=255*b;return M}},L.hsl=function(D){var E,T,k=D[0]/255,M=D[1]/255,b=D[2]/255,a=Math.min(k,M,b),t=Math.max(k,M,b),u=t-a;return t===a?E=0:k===t?E=(M-b)/u:M===t?E=2+(b-k)/u:b===t&&(E=4+(k-M)/u),(E=Math.min(60*E,360))<0&&(E+=360),T=(a+t)/2,[E,100*(t===a?0:T<=.5?u/(t+a):u/(2-t-a)),100*T]}},10520:function($){$.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},59518:function($,F,m){$.exports={parse:m(86029),stringify:m(38211)}},87724:function($,F,m){var L=m(23648);$.exports={isSize:function(D){return/^[\d\.]/.test(D)||D.indexOf("/")!==-1||L.indexOf(D)!==-1}}},86029:function($,F,m){var L=m(80886),D=m(54324),E=m(94316),T=m(99803),k=m(87486),M=m(2362),b=m(28089),a=m(87724).isSize;$.exports=u;var t=u.cache={};function u(l){if(typeof l!="string")throw new Error("Font argument must be a string.");if(t[l])return t[l];if(l==="")throw new Error("Cannot parse an empty string.");if(E.indexOf(l)!==-1)return t[l]={system:l};for(var d,v={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},y=b(l,/\s+/);d=y.shift();){if(D.indexOf(d)!==-1)return["style","variant","weight","stretch"].forEach(function(c){v[c]=d}),t[l]=v;if(k.indexOf(d)===-1)if(d!=="normal"&&d!=="small-caps")if(M.indexOf(d)===-1){if(T.indexOf(d)===-1){if(a(d)){var p=b(d,"/");if(v.size=p[0],p[1]!=null?v.lineHeight=i(p[1]):y[0]==="/"&&(y.shift(),v.lineHeight=i(y.shift())),!y.length)throw new Error("Missing required font-family.");return v.family=b(y.join(" "),/\s*,\s*/).map(L),t[l]=v}throw new Error("Unknown or unsupported font token: "+d)}v.weight=d}else v.stretch=d;else v.variant=d;else v.style=d}throw new Error("Missing required font-size.")}function i(l){var d=parseFloat(l);return d.toString()===l?d:l}},38211:function($,F,m){var L=m(6807),D=m(87724).isSize,E=l(m(54324)),T=l(m(94316)),k=l(m(99803)),M=l(m(87486)),b=l(m(2362)),a={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},u="serif";function i(d,v){if(d&&!v[d]&&!E[d])throw Error("Unknown keyword `"+d+"`");return d}function l(d){for(var v={},y=0;y<d.length;y++)v[d[y]]=1;return v}$.exports=function(d){if((d=L(d,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return d.system&&i(d.system,T),d.system;if(i(d.style,M),i(d.variant,a),i(d.weight,k),i(d.stretch,b),d.size==null&&(d.size="1rem"),typeof d.size=="number"&&(d.size+="px"),!D)throw Error("Bad size value `"+d.size+"`");d.family||(d.family=u),Array.isArray(d.family)&&(d.family.length||(d.family=[u]),d.family=d.family.map(function(y){return t[y]?y:'"'+y+'"'}).join(", "));var v=[];return v.push(d.style),d.variant!==d.style&&v.push(d.variant),d.weight!==d.variant&&d.weight!==d.style&&v.push(d.weight),d.stretch!==d.weight&&d.stretch!==d.variant&&d.stretch!==d.style&&v.push(d.stretch),v.push(d.size+(d.lineHeight==null||d.lineHeight==="normal"||d.lineHeight+""=="1"?"":"/"+d.lineHeight)),v.push(d.family),v.filter(Boolean).join(" ")}},51070:function($){$.exports=function(F){var m=[];return m.toString=function(){return this.map(function(L){var D="",E=L[5]!==void 0;return L[4]&&(D+="@supports (".concat(L[4],") {")),L[2]&&(D+="@media ".concat(L[2]," {")),E&&(D+="@layer".concat(L[5].length>0?" ".concat(L[5]):""," {")),D+=F(L),E&&(D+="}"),L[2]&&(D+="}"),L[4]&&(D+="}"),D}).join("")},m.i=function(L,D,E,T,k){typeof L=="string"&&(L=[[null,L,void 0]]);var M={};if(E)for(var b=0;b<this.length;b++){var a=this[b][0];a!=null&&(M[a]=!0)}for(var t=0;t<L.length;t++){var u=[].concat(L[t]);E&&M[u[0]]||(k!==void 0&&(u[5]===void 0||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=k),D&&(u[2]&&(u[1]="@media ".concat(u[2]," {").concat(u[1],"}")),u[2]=D),T&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=T):u[4]="".concat(T)),m.push(u))}},m}},62133:function($){$.exports=function(F,m){return m||(m={}),F&&(F=String(F.__esModule?F.default:F),/^['"].*['"]$/.test(F)&&(F=F.slice(1,-1)),m.hash&&(F+=m.hash),/["'() \t\n]|(%20)/.test(F)||m.needQuotes?'"'.concat(F.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):F)}},22413:function($){$.exports=function(F){return F[1]}},84510:function($,F,m){var L,D=m(80299),E=m(9557),T=m(6887),k=m(86591),M=m(76504),b=m(29854),a=Function.prototype.bind,t=Object.defineProperty,u=Object.prototype.hasOwnProperty;L=function(i,l,d){var v,y=E(l)&&T(l.value);return delete(v=k(l)).writable,delete v.value,v.get=function(){return!d.overwriteDefinition&&u.call(this,i)?y:(l.value=a.call(y,d.resolveContext?d.resolveContext(this):this),t(this,i,l),this[i])},v},$.exports=function(i){var l=M(arguments[1]);return D(l.resolveContext)&&T(l.resolveContext),b(i,function(d,v){return L(v,d,l)})}},91819:function($,F,m){var L=m(80299),D=m(63461),E=m(1920),T=m(76504),k=m(2338),M=$.exports=function(b,a){var t,u,i,l,d;return arguments.length<2||typeof b!="string"?(l=a,a=b,b=null):l=arguments[2],L(b)?(t=k.call(b,"c"),u=k.call(b,"e"),i=k.call(b,"w")):(t=i=!0,u=!1),d={value:a,configurable:t,enumerable:u,writable:i},l?E(T(l),d):d};M.gs=function(b,a,t){var u,i,l,d;return typeof b!="string"?(l=t,t=a,a=b,b=null):l=arguments[3],L(a)?D(a)?L(t)?D(t)||(l=t,t=void 0):t=void 0:(l=a,a=t=void 0):a=void 0,L(b)?(u=k.call(b,"c"),i=k.call(b,"e")):(u=!0,i=!1),d={get:a,set:t,configurable:u,enumerable:i},l?E(T(l),d):d}},36464:function($,F,m){function L(v,y){if((p=(v=y?v.toExponential(y-1):v.toExponential()).indexOf("e"))<0)return null;var p,c=v.slice(0,p);return[c.length>1?c[0]+c.slice(2):c,+v.slice(p+1)]}m.d(F,{GP:function(){return u},OE:function(){return d}});var D,E=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function T(v){if(!(y=E.exec(v)))throw new Error("invalid format: "+v);var y;return new k({fill:y[1],align:y[2],sign:y[3],symbol:y[4],zero:y[5],width:y[6],comma:y[7],precision:y[8]&&y[8].slice(1),trim:y[9],type:y[10]})}function k(v){this.fill=v.fill===void 0?" ":v.fill+"",this.align=v.align===void 0?">":v.align+"",this.sign=v.sign===void 0?"-":v.sign+"",this.symbol=v.symbol===void 0?"":v.symbol+"",this.zero=!!v.zero,this.width=v.width===void 0?void 0:+v.width,this.comma=!!v.comma,this.precision=v.precision===void 0?void 0:+v.precision,this.trim=!!v.trim,this.type=v.type===void 0?"":v.type+""}function M(v,y){var p=L(v,y);if(!p)return v+"";var c=p[0],x=p[1];return x<0?"0."+new Array(-x).join("0")+c:c.length>x+1?c.slice(0,x+1)+"."+c.slice(x+1):c+new Array(x-c.length+2).join("0")}T.prototype=k.prototype,k.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var b={"%":function(v,y){return(100*v).toFixed(y)},b:function(v){return Math.round(v).toString(2)},c:function(v){return v+""},d:function(v){return Math.abs(v=Math.round(v))>=1e21?v.toLocaleString("en").replace(/,/g,""):v.toString(10)},e:function(v,y){return v.toExponential(y)},f:function(v,y){return v.toFixed(y)},g:function(v,y){return v.toPrecision(y)},o:function(v){return Math.round(v).toString(8)},p:function(v,y){return M(100*v,y)},r:M,s:function(v,y){var p=L(v,y);if(!p)return v+"";var c=p[0],x=p[1],f=x-(D=3*Math.max(-8,Math.min(8,Math.floor(x/3))))+1,n=c.length;return f===n?c:f>n?c+new Array(f-n+1).join("0"):f>0?c.slice(0,f)+"."+c.slice(f):"0."+new Array(1-f).join("0")+L(v,Math.max(0,y+f-1))[0]},X:function(v){return Math.round(v).toString(16).toUpperCase()},x:function(v){return Math.round(v).toString(16)}};function a(v){return v}var t,u,i=Array.prototype.map,l=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function d(v){var y,p,c=v.grouping===void 0||v.thousands===void 0?a:(y=i.call(v.grouping,Number),p=v.thousands+"",function(h,_){for(var w=h.length,S=[],O=0,A=y[0],I=0;w>0&&A>0&&(I+A+1>_&&(A=Math.max(1,_-I)),S.push(h.substring(w-=A,w+A)),!((I+=A+1)>_));)A=y[O=(O+1)%y.length];return S.reverse().join(p)}),x=v.currency===void 0?"":v.currency[0]+"",f=v.currency===void 0?"":v.currency[1]+"",n=v.decimal===void 0?".":v.decimal+"",o=v.numerals===void 0?a:function(h){return function(_){return _.replace(/[0-9]/g,function(w){return h[+w]})}}(i.call(v.numerals,String)),s=v.percent===void 0?"%":v.percent+"",r=v.minus===void 0?"-":v.minus+"",g=v.nan===void 0?"NaN":v.nan+"";function e(h){var _=(h=T(h)).fill,w=h.align,S=h.sign,O=h.symbol,A=h.zero,I=h.width,B=h.comma,C=h.precision,z=h.trim,P=h.type;P==="n"?(B=!0,P="g"):b[P]||(C===void 0&&(C=12),z=!0,P="g"),(A||_==="0"&&w==="=")&&(A=!0,_="0",w="=");var R=O==="$"?x:O==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",N=O==="$"?f:/[%p]/.test(P)?s:"",j=b[P],W=/[defgprs%]/.test(P);function Y(J){var G,H,U,Z=R,q=N;if(P==="c")q=j(J)+q,J="";else{var Q=(J=+J)<0||1/J<0;if(J=isNaN(J)?g:j(Math.abs(J),C),z&&(J=function(le){e:for(var fe,pe=le.length,me=1,ke=-1;me<pe;++me)switch(le[me]){case".":ke=fe=me;break;case"0":ke===0&&(ke=me),fe=me;break;default:if(!+le[me])break e;ke>0&&(ke=0)}return ke>0?le.slice(0,ke)+le.slice(fe+1):le}(J)),Q&&+J==0&&S!=="+"&&(Q=!1),Z=(Q?S==="("?S:r:S==="-"||S==="("?"":S)+Z,q=(P==="s"?l[8+D/3]:"")+q+(Q&&S==="("?")":""),W){for(G=-1,H=J.length;++G<H;)if(48>(U=J.charCodeAt(G))||U>57){q=(U===46?n+J.slice(G+1):J.slice(G))+q,J=J.slice(0,G);break}}}B&&!A&&(J=c(J,1/0));var ne=Z.length+J.length+q.length,ie=ne<I?new Array(I-ne+1).join(_):"";switch(B&&A&&(J=c(ie+J,ie.length?I-q.length:1/0),ie=""),w){case"<":J=Z+J+q+ie;break;case"=":J=Z+ie+J+q;break;case"^":J=ie.slice(0,ne=ie.length>>1)+Z+J+q+ie.slice(ne);break;default:J=ie+Z+J+q}return o(J)}return C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C)),Y.toString=function(){return h+""},Y}return{format:e,formatPrefix:function(h,_){var w,S=e(((h=T(h)).type="f",h)),O=3*Math.max(-8,Math.min(8,Math.floor((w=_,((w=L(Math.abs(w)))?w[1]:NaN)/3)))),A=Math.pow(10,-O),I=l[8+O/3];return function(B){return S(A*B)+I}}}}t=d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),u=t.format,t.formatPrefix},42696:function($,F,m){m.d(F,{DC:function(){return l},de:function(){return u},aL:function(){return d}});var L=m(1681),D=m(72543),E=m(55735),T=m(47265),k=m(9830),M=m(59764);function b(je){if(0<=je.y&&je.y<100){var Le=new Date(-1,je.m,je.d,je.H,je.M,je.S,je.L);return Le.setFullYear(je.y),Le}return new Date(je.y,je.m,je.d,je.H,je.M,je.S,je.L)}function a(je){if(0<=je.y&&je.y<100){var Le=new Date(Date.UTC(-1,je.m,je.d,je.H,je.M,je.S,je.L));return Le.setUTCFullYear(je.y),Le}return new Date(Date.UTC(je.y,je.m,je.d,je.H,je.M,je.S,je.L))}function t(je,Le,$e){return{y:je,m:Le,d:$e,H:0,M:0,S:0,L:0}}function u(je){var Le=je.dateTime,$e=je.date,st=je.time,Ot=je.periods,Je=je.days,at=je.shortDays,gt=je.months,Oe=je.shortMonths,Be=n(Ot),it=o(Ot),tt=n(Je),ft=o(Je),pt=n(at),_e=o(at),Ae=n(gt),Ve=o(gt),He=n(Oe),We=o(Oe),Pe={a:function(rt){return at[rt.getDay()]},A:function(rt){return Je[rt.getDay()]},b:function(rt){return Oe[rt.getMonth()]},B:function(rt){return gt[rt.getMonth()]},c:null,d:J,e:J,f:q,H:G,I:H,j:U,L:Z,m:Q,M:ne,p:function(rt){return Ot[+(rt.getHours()>=12)]},q:function(rt){return 1+~~(rt.getMonth()/3)},Q:ut,s:Tt,S:ie,u:le,U:fe,V:pe,w:me,W:ke,x:null,X:null,y:ve,Y:he,Z:de,"%":Ke},Ue={a:function(rt){return at[rt.getUTCDay()]},A:function(rt){return Je[rt.getUTCDay()]},b:function(rt){return Oe[rt.getUTCMonth()]},B:function(rt){return gt[rt.getUTCMonth()]},c:null,d:X,e:X,f:ue,H:ae,I:K,j:ge,L:re,m:we,M:Te,p:function(rt){return Ot[+(rt.getUTCHours()>=12)]},q:function(rt){return 1+~~(rt.getUTCMonth()/3)},Q:ut,s:Tt,S:ee,u:se,U:ce,V:be,w:Ee,W:Se,x:null,X:null,y:De,Y:Ge,Z:Xe,"%":Ke},Ne={a:function(rt,vt,Lt){var St=pt.exec(vt.slice(Lt));return St?(rt.w=_e[St[0].toLowerCase()],Lt+St[0].length):-1},A:function(rt,vt,Lt){var St=tt.exec(vt.slice(Lt));return St?(rt.w=ft[St[0].toLowerCase()],Lt+St[0].length):-1},b:function(rt,vt,Lt){var St=He.exec(vt.slice(Lt));return St?(rt.m=We[St[0].toLowerCase()],Lt+St[0].length):-1},B:function(rt,vt,Lt){var St=Ae.exec(vt.slice(Lt));return St?(rt.m=Ve[St[0].toLowerCase()],Lt+St[0].length):-1},c:function(rt,vt,Lt){return Ze(rt,Le,vt,Lt)},d:I,e:I,f:N,H:C,I:C,j:B,L:R,m:A,M:z,p:function(rt,vt,Lt){var St=Be.exec(vt.slice(Lt));return St?(rt.p=it[St[0].toLowerCase()],Lt+St[0].length):-1},q:O,Q:W,s:Y,S:P,u:r,U:g,V:e,w:s,W:h,x:function(rt,vt,Lt){return Ze(rt,$e,vt,Lt)},X:function(rt,vt,Lt){return Ze(rt,st,vt,Lt)},y:w,Y:_,Z:S,"%":j};function Ye(rt,vt){return function(Lt){var St,It,ot,xt=[],Ut=-1,Et=0,mt=rt.length;for(Lt instanceof Date||(Lt=new Date(+Lt));++Ut<mt;)rt.charCodeAt(Ut)===37&&(xt.push(rt.slice(Et,Ut)),(It=v[St=rt.charAt(++Ut)])!=null?St=rt.charAt(++Ut):It=St==="e"?" ":"0",(ot=vt[St])&&(St=ot(Lt,It)),xt.push(St),Et=Ut+1);return xt.push(rt.slice(Et,Ut)),xt.join("")}}function Fe(rt,vt){return function(Lt){var St,It,ot=t(1900,void 0,1);if(Ze(ot,rt,Lt+="",0)!=Lt.length)return null;if("Q"in ot)return new Date(ot.Q);if("s"in ot)return new Date(1e3*ot.s+("L"in ot?ot.L:0));if(vt&&!("Z"in ot)&&(ot.Z=0),"p"in ot&&(ot.H=ot.H%12+12*ot.p),ot.m===void 0&&(ot.m="q"in ot?ot.q:0),"V"in ot){if(ot.V<1||ot.V>53)return null;"w"in ot||(ot.w=1),"Z"in ot?(It=(St=a(t(ot.y,0,1))).getUTCDay(),St=It>4||It===0?L.rt.ceil(St):(0,L.rt)(St),St=D.A.offset(St,7*(ot.V-1)),ot.y=St.getUTCFullYear(),ot.m=St.getUTCMonth(),ot.d=St.getUTCDate()+(ot.w+6)%7):(It=(St=b(t(ot.y,0,1))).getDay(),St=It>4||It===0?E.By.ceil(St):(0,E.By)(St),St=T.A.offset(St,7*(ot.V-1)),ot.y=St.getFullYear(),ot.m=St.getMonth(),ot.d=St.getDate()+(ot.w+6)%7)}else("W"in ot||"U"in ot)&&("w"in ot||(ot.w="u"in ot?ot.u%7:"W"in ot?1:0),It="Z"in ot?a(t(ot.y,0,1)).getUTCDay():b(t(ot.y,0,1)).getDay(),ot.m=0,ot.d="W"in ot?(ot.w+6)%7+7*ot.W-(It+5)%7:ot.w+7*ot.U-(It+6)%7);return"Z"in ot?(ot.H+=ot.Z/100|0,ot.M+=ot.Z%100,a(ot)):b(ot)}}function Ze(rt,vt,Lt,St){for(var It,ot,xt=0,Ut=vt.length,Et=Lt.length;xt<Ut;){if(St>=Et)return-1;if((It=vt.charCodeAt(xt++))===37){if(It=vt.charAt(xt++),!(ot=Ne[It in v?vt.charAt(xt++):It])||(St=ot(rt,Lt,St))<0)return-1}else if(It!=Lt.charCodeAt(St++))return-1}return St}return Pe.x=Ye($e,Pe),Pe.X=Ye(st,Pe),Pe.c=Ye(Le,Pe),Ue.x=Ye($e,Ue),Ue.X=Ye(st,Ue),Ue.c=Ye(Le,Ue),{format:function(rt){var vt=Ye(rt+="",Pe);return vt.toString=function(){return rt},vt},parse:function(rt){var vt=Fe(rt+="",!1);return vt.toString=function(){return rt},vt},utcFormat:function(rt){var vt=Ye(rt+="",Ue);return vt.toString=function(){return rt},vt},utcParse:function(rt){var vt=Fe(rt+="",!0);return vt.toString=function(){return rt},vt}}}var i,l,d,v={"-":"",_:" ",0:"0"},y=/^\s*\d+/,p=/^%/,c=/[\\^$*+?|[\]().{}]/g;function x(je,Le,$e){var st=je<0?"-":"",Ot=(st?-je:je)+"",Je=Ot.length;return st+(Je<$e?new Array($e-Je+1).join(Le)+Ot:Ot)}function f(je){return je.replace(c,"\\$&")}function n(je){return new RegExp("^(?:"+je.map(f).join("|")+")","i")}function o(je){for(var Le={},$e=-1,st=je.length;++$e<st;)Le[je[$e].toLowerCase()]=$e;return Le}function s(je,Le,$e){var st=y.exec(Le.slice($e,$e+1));return st?(je.w=+st[0],$e+st[0].length):-1}function r(je,Le,$e){var st=y.exec(Le.slice($e,$e+1));return st?(je.u=+st[0],$e+st[0].length):-1}function g(je,Le,$e){var st=y.exec(Le.slice($e,$e+2));return st?(je.U=+st[0],$e+st[0].length):-1}function e(je,Le,$e){var st=y.exec(Le.slice($e,$e+2));return st?(je.V=+st[0],$e+st[0].length):-1}function h(je,Le,$e){var st=y.exec(Le.slice($e,$e+2));return st?(je.W=+st[0],$e+st[0].length):-1}function _(je,Le,$e){var st=y.exec(Le.slice($e,$e+4));return st?(je.y=+st[0],$e+st[0].length):-1}function w(je,Le,$e){var st=y.exec(Le.slice($e,$e+2));return st?(je.y=+st[0]+(+st[0]>68?1900:2e3),$e+st[0].length):-1}function S(je,Le,$e){var st=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Le.slice($e,$e+6));return st?(je.Z=st[1]?0:-(st[2]+(st[3]||"00")),$e+st[0].length):-1}function O(je,Le,$e){var st=y.exec(Le.slice($e,$e+1));return st?(je.q=3*st[0]-3,$e+st[0].length):-1}function A(je,Le,$e){var st=y.exec(Le.slice($e,$e+2));return st?(je.m=st[0]-1,$e+st[0].length):-1}function I(je,Le,$e){var st=y.exec(Le.slice($e,$e+2));return st?(je.d=+st[0],$e+st[0].length):-1}function B(je,Le,$e){var st=y.exec(Le.slice($e,$e+3));return st?(je.m=0,je.d=+st[0],$e+st[0].length):-1}function C(je,Le,$e){var st=y.exec(Le.slice($e,$e+2));return st?(je.H=+st[0],$e+st[0].length):-1}function z(je,Le,$e){var st=y.exec(Le.slice($e,$e+2));return st?(je.M=+st[0],$e+st[0].length):-1}function P(je,Le,$e){var st=y.exec(Le.slice($e,$e+2));return st?(je.S=+st[0],$e+st[0].length):-1}function R(je,Le,$e){var st=y.exec(Le.slice($e,$e+3));return st?(je.L=+st[0],$e+st[0].length):-1}function N(je,Le,$e){var st=y.exec(Le.slice($e,$e+6));return st?(je.L=Math.floor(st[0]/1e3),$e+st[0].length):-1}function j(je,Le,$e){var st=p.exec(Le.slice($e,$e+1));return st?$e+st[0].length:-1}function W(je,Le,$e){var st=y.exec(Le.slice($e));return st?(je.Q=+st[0],$e+st[0].length):-1}function Y(je,Le,$e){var st=y.exec(Le.slice($e));return st?(je.s=+st[0],$e+st[0].length):-1}function J(je,Le){return x(je.getDate(),Le,2)}function G(je,Le){return x(je.getHours(),Le,2)}function H(je,Le){return x(je.getHours()%12||12,Le,2)}function U(je,Le){return x(1+T.A.count((0,k.A)(je),je),Le,3)}function Z(je,Le){return x(je.getMilliseconds(),Le,3)}function q(je,Le){return Z(je,Le)+"000"}function Q(je,Le){return x(je.getMonth()+1,Le,2)}function ne(je,Le){return x(je.getMinutes(),Le,2)}function ie(je,Le){return x(je.getSeconds(),Le,2)}function le(je){var Le=je.getDay();return Le===0?7:Le}function fe(je,Le){return x(E.fz.count((0,k.A)(je)-1,je),Le,2)}function pe(je,Le){var $e=je.getDay();return je=$e>=4||$e===0?(0,E.dt)(je):E.dt.ceil(je),x(E.dt.count((0,k.A)(je),je)+((0,k.A)(je).getDay()===4),Le,2)}function me(je){return je.getDay()}function ke(je,Le){return x(E.By.count((0,k.A)(je)-1,je),Le,2)}function ve(je,Le){return x(je.getFullYear()%100,Le,2)}function he(je,Le){return x(je.getFullYear()%1e4,Le,4)}function de(je){var Le=je.getTimezoneOffset();return(Le>0?"-":(Le*=-1,"+"))+x(Le/60|0,"0",2)+x(Le%60,"0",2)}function X(je,Le){return x(je.getUTCDate(),Le,2)}function ae(je,Le){return x(je.getUTCHours(),Le,2)}function K(je,Le){return x(je.getUTCHours()%12||12,Le,2)}function ge(je,Le){return x(1+D.A.count((0,M.A)(je),je),Le,3)}function re(je,Le){return x(je.getUTCMilliseconds(),Le,3)}function ue(je,Le){return re(je,Le)+"000"}function we(je,Le){return x(je.getUTCMonth()+1,Le,2)}function Te(je,Le){return x(je.getUTCMinutes(),Le,2)}function ee(je,Le){return x(je.getUTCSeconds(),Le,2)}function se(je){var Le=je.getUTCDay();return Le===0?7:Le}function ce(je,Le){return x(L.Hl.count((0,M.A)(je)-1,je),Le,2)}function be(je,Le){var $e=je.getUTCDay();return je=$e>=4||$e===0?(0,L.pT)(je):L.pT.ceil(je),x(L.pT.count((0,M.A)(je),je)+((0,M.A)(je).getUTCDay()===4),Le,2)}function Ee(je){return je.getUTCDay()}function Se(je,Le){return x(L.rt.count((0,M.A)(je)-1,je),Le,2)}function De(je,Le){return x(je.getUTCFullYear()%100,Le,2)}function Ge(je,Le){return x(je.getUTCFullYear()%1e4,Le,4)}function Xe(){return"+0000"}function Ke(){return"%"}function ut(je){return+je}function Tt(je){return Math.floor(+je/1e3)}i=u({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l=i.format,i.parse,d=i.utcFormat,i.utcParse},47265:function($,F,m){m.d(F,{_:function(){return T}});var L=m(53398),D=m(66291),E=(0,L.A)(function(k){k.setHours(0,0,0,0)},function(k,M){k.setDate(k.getDate()+M)},function(k,M){return(M-k-(M.getTimezoneOffset()-k.getTimezoneOffset())*D.rR)/D.Nm},function(k){return k.getDate()-1});F.A=E;var T=E.range},66291:function($,F,m){m.d(F,{Fq:function(){return k},JJ:function(){return E},Nm:function(){return T},Tt:function(){return L},rR:function(){return D}});var L=1e3,D=6e4,E=36e5,T=864e5,k=6048e5},50936:function($,F,m){m.r(F),m.d(F,{timeDay:function(){return y.A},timeDays:function(){return y._},timeFriday:function(){return p.Sh},timeFridays:function(){return p.tz},timeHour:function(){return d},timeHours:function(){return v},timeInterval:function(){return L.A},timeMillisecond:function(){return E},timeMilliseconds:function(){return T},timeMinute:function(){return u},timeMinutes:function(){return i},timeMonday:function(){return p.By},timeMondays:function(){return p.KP},timeMonth:function(){return x},timeMonths:function(){return f},timeSaturday:function(){return p.kS},timeSaturdays:function(){return p.t$},timeSecond:function(){return b},timeSeconds:function(){return a},timeSunday:function(){return p.fz},timeSundays:function(){return p.se},timeThursday:function(){return p.dt},timeThursdays:function(){return p.Q$},timeTuesday:function(){return p.eQ},timeTuesdays:function(){return p.yW},timeWednesday:function(){return p.l3},timeWednesdays:function(){return p.gf},timeWeek:function(){return p.fz},timeWeeks:function(){return p.se},timeYear:function(){return n.A},timeYears:function(){return n.V},utcDay:function(){return _.A},utcDays:function(){return _.o},utcFriday:function(){return w.a1},utcFridays:function(){return w.Zn},utcHour:function(){return e},utcHours:function(){return h},utcMillisecond:function(){return E},utcMilliseconds:function(){return T},utcMinute:function(){return s},utcMinutes:function(){return r},utcMonday:function(){return w.rt},utcMondays:function(){return w.ON},utcMonth:function(){return O},utcMonths:function(){return A},utcSaturday:function(){return w.c8},utcSaturdays:function(){return w.Xo},utcSecond:function(){return b},utcSeconds:function(){return a},utcSunday:function(){return w.Hl},utcSundays:function(){return w.aZ},utcThursday:function(){return w.pT},utcThursdays:function(){return w.wr},utcTuesday:function(){return w.sr},utcTuesdays:function(){return w.jN},utcWednesday:function(){return w.z2},utcWednesdays:function(){return w.G6},utcWeek:function(){return w.Hl},utcWeeks:function(){return w.aZ},utcYear:function(){return I.A},utcYears:function(){return I.j}});var L=m(53398),D=(0,L.A)(function(){},function(B,C){B.setTime(+B+C)},function(B,C){return C-B});D.every=function(B){return B=Math.floor(B),isFinite(B)&&B>0?B>1?(0,L.A)(function(C){C.setTime(Math.floor(C/B)*B)},function(C,z){C.setTime(+C+z*B)},function(C,z){return(z-C)/B}):D:null};var E=D,T=D.range,k=m(66291),M=(0,L.A)(function(B){B.setTime(B-B.getMilliseconds())},function(B,C){B.setTime(+B+C*k.Tt)},function(B,C){return(C-B)/k.Tt},function(B){return B.getUTCSeconds()}),b=M,a=M.range,t=(0,L.A)(function(B){B.setTime(B-B.getMilliseconds()-B.getSeconds()*k.Tt)},function(B,C){B.setTime(+B+C*k.rR)},function(B,C){return(C-B)/k.rR},function(B){return B.getMinutes()}),u=t,i=t.range,l=(0,L.A)(function(B){B.setTime(B-B.getMilliseconds()-B.getSeconds()*k.Tt-B.getMinutes()*k.rR)},function(B,C){B.setTime(+B+C*k.JJ)},function(B,C){return(C-B)/k.JJ},function(B){return B.getHours()}),d=l,v=l.range,y=m(47265),p=m(55735),c=(0,L.A)(function(B){B.setDate(1),B.setHours(0,0,0,0)},function(B,C){B.setMonth(B.getMonth()+C)},function(B,C){return C.getMonth()-B.getMonth()+12*(C.getFullYear()-B.getFullYear())},function(B){return B.getMonth()}),x=c,f=c.range,n=m(9830),o=(0,L.A)(function(B){B.setUTCSeconds(0,0)},function(B,C){B.setTime(+B+C*k.rR)},function(B,C){return(C-B)/k.rR},function(B){return B.getUTCMinutes()}),s=o,r=o.range,g=(0,L.A)(function(B){B.setUTCMinutes(0,0,0)},function(B,C){B.setTime(+B+C*k.JJ)},function(B,C){return(C-B)/k.JJ},function(B){return B.getUTCHours()}),e=g,h=g.range,_=m(72543),w=m(1681),S=(0,L.A)(function(B){B.setUTCDate(1),B.setUTCHours(0,0,0,0)},function(B,C){B.setUTCMonth(B.getUTCMonth()+C)},function(B,C){return C.getUTCMonth()-B.getUTCMonth()+12*(C.getUTCFullYear()-B.getUTCFullYear())},function(B){return B.getUTCMonth()}),O=S,A=S.range,I=m(59764)},53398:function($,F,m){m.d(F,{A:function(){return E}});var L=new Date,D=new Date;function E(T,k,M,b){function a(t){return T(t=arguments.length===0?new Date:new Date(+t)),t}return a.floor=function(t){return T(t=new Date(+t)),t},a.ceil=function(t){return T(t=new Date(t-1)),k(t,1),T(t),t},a.round=function(t){var u=a(t),i=a.ceil(t);return t-u<i-t?u:i},a.offset=function(t,u){return k(t=new Date(+t),u==null?1:Math.floor(u)),t},a.range=function(t,u,i){var l,d=[];if(t=a.ceil(t),i=i==null?1:Math.floor(i),!(t<u&&i>0))return d;do d.push(l=new Date(+t)),k(t,i),T(t);while(l<t&&t<u);return d},a.filter=function(t){return E(function(u){if(u>=u)for(;T(u),!t(u);)u.setTime(u-1)},function(u,i){if(u>=u)if(i<0)for(;++i<=0;)for(;k(u,-1),!t(u););else for(;--i>=0;)for(;k(u,1),!t(u););})},M&&(a.count=function(t,u){return L.setTime(+t),D.setTime(+u),T(L),T(D),Math.floor(M(L,D))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(b?function(u){return b(u)%t==0}:function(u){return a.count(0,u)%t==0}):a:null}),a}},72543:function($,F,m){m.d(F,{o:function(){return T}});var L=m(53398),D=m(66291),E=(0,L.A)(function(k){k.setUTCHours(0,0,0,0)},function(k,M){k.setUTCDate(k.getUTCDate()+M)},function(k,M){return(M-k)/D.Nm},function(k){return k.getUTCDate()-1});F.A=E;var T=E.range},1681:function($,F,m){m.d(F,{G6:function(){return v},Hl:function(){return T},ON:function(){return l},Xo:function(){return c},Zn:function(){return p},a1:function(){return t},aZ:function(){return i},c8:function(){return u},jN:function(){return d},pT:function(){return a},rt:function(){return k},sr:function(){return M},wr:function(){return y},z2:function(){return b}});var L=m(53398),D=m(66291);function E(x){return(0,L.A)(function(f){f.setUTCDate(f.getUTCDate()-(f.getUTCDay()+7-x)%7),f.setUTCHours(0,0,0,0)},function(f,n){f.setUTCDate(f.getUTCDate()+7*n)},function(f,n){return(n-f)/D.Fq})}var T=E(0),k=E(1),M=E(2),b=E(3),a=E(4),t=E(5),u=E(6),i=T.range,l=k.range,d=M.range,v=b.range,y=a.range,p=t.range,c=u.range},59764:function($,F,m){m.d(F,{j:function(){return E}});var L=m(53398),D=(0,L.A)(function(T){T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,k){T.setUTCFullYear(T.getUTCFullYear()+k)},function(T,k){return k.getUTCFullYear()-T.getUTCFullYear()},function(T){return T.getUTCFullYear()});D.every=function(T){return isFinite(T=Math.floor(T))&&T>0?(0,L.A)(function(k){k.setUTCFullYear(Math.floor(k.getUTCFullYear()/T)*T),k.setUTCMonth(0,1),k.setUTCHours(0,0,0,0)},function(k,M){k.setUTCFullYear(k.getUTCFullYear()+M*T)}):null},F.A=D;var E=D.range},55735:function($,F,m){m.d(F,{By:function(){return k},KP:function(){return l},Q$:function(){return y},Sh:function(){return t},dt:function(){return a},eQ:function(){return M},fz:function(){return T},gf:function(){return v},kS:function(){return u},l3:function(){return b},se:function(){return i},t$:function(){return c},tz:function(){return p},yW:function(){return d}});var L=m(53398),D=m(66291);function E(x){return(0,L.A)(function(f){f.setDate(f.getDate()-(f.getDay()+7-x)%7),f.setHours(0,0,0,0)},function(f,n){f.setDate(f.getDate()+7*n)},function(f,n){return(n-f-(n.getTimezoneOffset()-f.getTimezoneOffset())*D.rR)/D.Fq})}var T=E(0),k=E(1),M=E(2),b=E(3),a=E(4),t=E(5),u=E(6),i=T.range,l=k.range,d=M.range,v=b.range,y=a.range,p=t.range,c=u.range},9830:function($,F,m){m.d(F,{V:function(){return E}});var L=m(53398),D=(0,L.A)(function(T){T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,k){T.setFullYear(T.getFullYear()+k)},function(T,k){return k.getFullYear()-T.getFullYear()},function(T){return T.getFullYear()});D.every=function(T){return isFinite(T=Math.floor(T))&&T>0?(0,L.A)(function(k){k.setFullYear(Math.floor(k.getFullYear()/T)*T),k.setMonth(0,1),k.setHours(0,0,0,0)},function(k,M){k.setFullYear(k.getFullYear()+M*T)}):null},F.A=D;var E=D.range},70973:function($,F,m){var L=m(40891),D=m(98800),E=m(48631),T=m(52991);$.exports=function(k,M,b){if(!k||typeof k!="object"&&typeof k!="function")throw new E("`obj` must be an object or a function`");if(typeof M!="string"&&typeof M!="symbol")throw new E("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new E("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new E("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new E("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new E("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,t=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,i=arguments.length>6&&arguments[6],l=!!T&&T(k,M);if(L)L(k,M,{configurable:u===null&&l?l.configurable:!u,enumerable:a===null&&l?l.enumerable:!a,value:b,writable:t===null&&l?l.writable:!t});else{if(!i&&(a||t||u))throw new D("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");k[M]=b}}},97936:function($,F,m){var L=m(99433),D=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",E=Object.prototype.toString,T=Array.prototype.concat,k=Object.defineProperty,M=m(74268)(),b=k&&M,a=function(u,i,l,d){if(i in u){if(d===!0){if(u[i]===l)return}else if(typeof(v=d)!="function"||E.call(v)!=="[object Function]"||!d())return}var v;b?k(u,i,{configurable:!0,enumerable:!1,value:l,writable:!0}):u[i]=l},t=function(u,i){var l=arguments.length>2?arguments[2]:{},d=L(i);D&&(d=T.call(d,Object.getOwnPropertySymbols(i)));for(var v=0;v<d.length;v+=1)a(u,d[v],i[d[v]],l[d[v]])};t.supportsDescriptors=!!b,$.exports=t},68650:function($){$.exports=function(){for(var F=0;F<arguments.length;F++)if(arguments[F]!==void 0)return arguments[F]}},44431:function($){$.exports=L;var F=(L.canvas=document.createElement("canvas")).getContext("2d"),m=D([32,126]);function L(E,T){Array.isArray(E)&&(E=E.join(", "));var k,M={},b=16,a=.05;T&&(T.length===2&&typeof T[0]=="number"?k=D(T):Array.isArray(T)?k=T:(T.o?k=D(T.o):T.pairs&&(k=T.pairs),T.fontSize&&(b=T.fontSize),T.threshold!=null&&(a=T.threshold))),k||(k=m),F.font=b+"px "+E;for(var t=0;t<k.length;t++){var u=k[t],i=F.measureText(u[0]).width+F.measureText(u[1]).width,l=F.measureText(u).width;if(Math.abs(i-l)>b*a){var d=(l-i)/b;M[u]=1e3*d}}return M}function D(E){for(var T=[],k=E[0];k<=E[1];k++)for(var M=String.fromCharCode(k),b=E[0];b<E[1];b++){var a=M+String.fromCharCode(b);T.push(a)}return T}L.createPairs=D,L.ascii=m},95620:function($,F,m){var L=m(16844),D=m(60265),E={M:"moveTo",C:"bezierCurveTo"};$.exports=function(T,k){T.beginPath(),D(L(k)).forEach(function(M){var b=M[0],a=M.slice(1);T[E[b]].apply(T,a)}),T.closePath()}},10275:function($){$.exports=function(F){switch(F){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},49523:function($){function F(m,L,D){var E=0|m[D];if(E<=0)return[];var T,k=new Array(E);if(D===m.length-1)for(T=0;T<E;++T)k[T]=L;else for(T=0;T<E;++T)k[T]=F(m,L,D+1);return k}$.exports=function(m,L){switch(L===void 0&&(L=0),typeof m){case"number":if(m>0)return function(D,E){var T,k;for(T=new Array(D),k=0;k<D;++k)T[k]=E;return T}(0|m,L);break;case"object":if(typeof m.length=="number")return F(m,L,0)}return[]}},25782:function($){function F(e,h,_){_=_||2;var w,S,O,A,I,B,C,z=h&&h.length,P=z?h[0]*_:e.length,R=m(e,0,P,_,!0),N=[];if(!R||R.next===R.prev)return N;if(z&&(R=function(W,Y,J,G){var H,U,Z,q=[];for(H=0,U=Y.length;H<U;H++)(Z=m(W,Y[H]*G,H<U-1?Y[H+1]*G:W.length,G,!1))===Z.next&&(Z.steiner=!0),q.push(i(Z));for(q.sort(b),H=0;H<q.length;H++)J=a(q[H],J);return J}(e,h,R,_)),e.length>80*_){w=O=e[0],S=A=e[1];for(var j=_;j<P;j+=_)(I=e[j])<w&&(w=I),(B=e[j+1])<S&&(S=B),I>O&&(O=I),B>A&&(A=B);C=(C=Math.max(O-w,A-S))!==0?32767/C:0}return D(R,N,_,w,S,C,0),N}function m(e,h,_,w,S){var O,A;if(S===g(e,h,_,w)>0)for(O=h;O<_;O+=w)A=o(O,e[O],e[O+1],A);else for(O=_-w;O>=h;O-=w)A=o(O,e[O],e[O+1],A);return A&&y(A,A.next)&&(s(A),A=A.next),A}function L(e,h){if(!e)return e;h||(h=e);var _,w=e;do if(_=!1,w.steiner||!y(w,w.next)&&v(w.prev,w,w.next)!==0)w=w.next;else{if(s(w),(w=h=w.prev)===w.next)break;_=!0}while(_||w!==h);return h}function D(e,h,_,w,S,O,A){if(e){!A&&O&&function(z,P,R,N){var j=z;do j.z===0&&(j.z=u(j.x,j.y,P,R,N)),j.prevZ=j.prev,j.nextZ=j.next,j=j.next;while(j!==z);j.prevZ.nextZ=null,j.prevZ=null,function(W){var Y,J,G,H,U,Z,q,Q,ne=1;do{for(J=W,W=null,U=null,Z=0;J;){for(Z++,G=J,q=0,Y=0;Y<ne&&(q++,G=G.nextZ);Y++);for(Q=ne;q>0||Q>0&&G;)q!==0&&(Q===0||!G||J.z<=G.z)?(H=J,J=J.nextZ,q--):(H=G,G=G.nextZ,Q--),U?U.nextZ=H:W=H,H.prevZ=U,U=H;J=G}U.nextZ=null,ne*=2}while(Z>1)}(j)}(e,w,S,O);for(var I,B,C=e;e.prev!==e.next;)if(I=e.prev,B=e.next,O?T(e,w,S,O):E(e))h.push(I.i/_|0),h.push(e.i/_|0),h.push(B.i/_|0),s(e),e=B.next,C=B.next;else if((e=B)===C){A?A===1?D(e=k(L(e),h,_),h,_,w,S,O,2):A===2&&M(e,h,_,w,S,O):D(L(e),h,_,w,S,O,1);break}}}function E(e){var h=e.prev,_=e,w=e.next;if(v(h,_,w)>=0)return!1;for(var S=h.x,O=_.x,A=w.x,I=h.y,B=_.y,C=w.y,z=S<O?S<A?S:A:O<A?O:A,P=I<B?I<C?I:C:B<C?B:C,R=S>O?S>A?S:A:O>A?O:A,N=I>B?I>C?I:C:B>C?B:C,j=w.next;j!==h;){if(j.x>=z&&j.x<=R&&j.y>=P&&j.y<=N&&l(S,I,O,B,A,C,j.x,j.y)&&v(j.prev,j,j.next)>=0)return!1;j=j.next}return!0}function T(e,h,_,w){var S=e.prev,O=e,A=e.next;if(v(S,O,A)>=0)return!1;for(var I=S.x,B=O.x,C=A.x,z=S.y,P=O.y,R=A.y,N=I<B?I<C?I:C:B<C?B:C,j=z<P?z<R?z:R:P<R?P:R,W=I>B?I>C?I:C:B>C?B:C,Y=z>P?z>R?z:R:P>R?P:R,J=u(N,j,h,_,w),G=u(W,Y,h,_,w),H=e.prevZ,U=e.nextZ;H&&H.z>=J&&U&&U.z<=G;){if(H.x>=N&&H.x<=W&&H.y>=j&&H.y<=Y&&H!==S&&H!==A&&l(I,z,B,P,C,R,H.x,H.y)&&v(H.prev,H,H.next)>=0||(H=H.prevZ,U.x>=N&&U.x<=W&&U.y>=j&&U.y<=Y&&U!==S&&U!==A&&l(I,z,B,P,C,R,U.x,U.y)&&v(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;H&&H.z>=J;){if(H.x>=N&&H.x<=W&&H.y>=j&&H.y<=Y&&H!==S&&H!==A&&l(I,z,B,P,C,R,H.x,H.y)&&v(H.prev,H,H.next)>=0)return!1;H=H.prevZ}for(;U&&U.z<=G;){if(U.x>=N&&U.x<=W&&U.y>=j&&U.y<=Y&&U!==S&&U!==A&&l(I,z,B,P,C,R,U.x,U.y)&&v(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function k(e,h,_){var w=e;do{var S=w.prev,O=w.next.next;!y(S,O)&&p(S,w,w.next,O)&&f(S,O)&&f(O,S)&&(h.push(S.i/_|0),h.push(w.i/_|0),h.push(O.i/_|0),s(w),s(w.next),w=e=O),w=w.next}while(w!==e);return L(w)}function M(e,h,_,w,S,O){var A=e;do{for(var I=A.next.next;I!==A.prev;){if(A.i!==I.i&&d(A,I)){var B=n(A,I);return A=L(A,A.next),B=L(B,B.next),D(A,h,_,w,S,O,0),void D(B,h,_,w,S,O,0)}I=I.next}A=A.next}while(A!==e)}function b(e,h){return e.x-h.x}function a(e,h){var _=function(S,O){var A,I=O,B=S.x,C=S.y,z=-1/0;do{if(C<=I.y&&C>=I.next.y&&I.next.y!==I.y){var P=I.x+(C-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(P<=B&&P>z&&(z=P,A=I.x<I.next.x?I:I.next,P===B))return A}I=I.next}while(I!==O);if(!A)return null;var R,N=A,j=A.x,W=A.y,Y=1/0;I=A;do B>=I.x&&I.x>=j&&B!==I.x&&l(C<W?B:z,C,j,W,C<W?z:B,C,I.x,I.y)&&(R=Math.abs(C-I.y)/(B-I.x),f(I,S)&&(R<Y||R===Y&&(I.x>A.x||I.x===A.x&&t(A,I)))&&(A=I,Y=R)),I=I.next;while(I!==N);return A}(e,h);if(!_)return h;var w=n(_,e);return L(w,w.next),L(_,_.next)}function t(e,h){return v(e.prev,e,h.prev)<0&&v(h.next,e,e.next)<0}function u(e,h,_,w,S){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-_)*S|0)|e<<8))|e<<4))|e<<2))|e<<1))|(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h=(h-w)*S|0)|h<<8))|h<<4))|h<<2))|h<<1))<<1}function i(e){var h=e,_=e;do(h.x<_.x||h.x===_.x&&h.y<_.y)&&(_=h),h=h.next;while(h!==e);return _}function l(e,h,_,w,S,O,A,I){return(S-A)*(h-I)>=(e-A)*(O-I)&&(e-A)*(w-I)>=(_-A)*(h-I)&&(_-A)*(O-I)>=(S-A)*(w-I)}function d(e,h){return e.next.i!==h.i&&e.prev.i!==h.i&&!function(_,w){var S=_;do{if(S.i!==_.i&&S.next.i!==_.i&&S.i!==w.i&&S.next.i!==w.i&&p(S,S.next,_,w))return!0;S=S.next}while(S!==_);return!1}(e,h)&&(f(e,h)&&f(h,e)&&function(_,w){var S=_,O=!1,A=(_.x+w.x)/2,I=(_.y+w.y)/2;do S.y>I!=S.next.y>I&&S.next.y!==S.y&&A<(S.next.x-S.x)*(I-S.y)/(S.next.y-S.y)+S.x&&(O=!O),S=S.next;while(S!==_);return O}(e,h)&&(v(e.prev,e,h.prev)||v(e,h.prev,h))||y(e,h)&&v(e.prev,e,e.next)>0&&v(h.prev,h,h.next)>0)}function v(e,h,_){return(h.y-e.y)*(_.x-h.x)-(h.x-e.x)*(_.y-h.y)}function y(e,h){return e.x===h.x&&e.y===h.y}function p(e,h,_,w){var S=x(v(e,h,_)),O=x(v(e,h,w)),A=x(v(_,w,e)),I=x(v(_,w,h));return S!==O&&A!==I||!(S!==0||!c(e,_,h))||!(O!==0||!c(e,w,h))||!(A!==0||!c(_,e,w))||!(I!==0||!c(_,h,w))}function c(e,h,_){return h.x<=Math.max(e.x,_.x)&&h.x>=Math.min(e.x,_.x)&&h.y<=Math.max(e.y,_.y)&&h.y>=Math.min(e.y,_.y)}function x(e){return e>0?1:e<0?-1:0}function f(e,h){return v(e.prev,e,e.next)<0?v(e,h,e.next)>=0&&v(e,e.prev,h)>=0:v(e,h,e.prev)<0||v(e,e.next,h)<0}function n(e,h){var _=new r(e.i,e.x,e.y),w=new r(h.i,h.x,h.y),S=e.next,O=h.prev;return e.next=h,h.prev=e,_.next=S,S.prev=_,w.next=_,_.prev=w,O.next=w,w.prev=O,w}function o(e,h,_,w){var S=new r(e,h,_);return w?(S.next=w.next,S.prev=w,w.next.prev=S,w.next=S):(S.prev=S,S.next=S),S}function s(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function r(e,h,_){this.i=e,this.x=h,this.y=_,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function g(e,h,_,w){for(var S=0,O=h,A=_-w;O<_;O+=w)S+=(e[A]-e[O])*(e[O+1]+e[A+1]),A=O;return S}$.exports=F,$.exports.default=F,F.deviation=function(e,h,_,w){var S=h&&h.length,O=S?h[0]*_:e.length,A=Math.abs(g(e,0,O,_));if(S)for(var I=0,B=h.length;I<B;I++){var C=h[I]*_,z=I<B-1?h[I+1]*_:e.length;A-=Math.abs(g(e,C,z,_))}var P=0;for(I=0;I<w.length;I+=3){var R=w[I]*_,N=w[I+1]*_,j=w[I+2]*_;P+=Math.abs((e[R]-e[j])*(e[N+1]-e[R+1])-(e[R]-e[N])*(e[j+1]-e[R+1]))}return A===0&&P===0?0:Math.abs((P-A)/A)},F.flatten=function(e){for(var h=e[0][0].length,_={vertices:[],holes:[],dimensions:h},w=0,S=0;S<e.length;S++){for(var O=0;O<e[S].length;O++)for(var A=0;A<h;A++)_.vertices.push(e[S][O][A]);S>0&&(w+=e[S-1].length,_.holes.push(w))}return _}},40891:function($,F,m){var L=m(71129)("%Object.defineProperty%",!0)||!1;if(L)try{L({},"a",{value:1})}catch{L=!1}$.exports=L},35465:function($){$.exports=EvalError},77731:function($){$.exports=Error},30582:function($){$.exports=RangeError},50294:function($){$.exports=ReferenceError},98800:function($){$.exports=SyntaxError},48631:function($){$.exports=TypeError},33149:function($){$.exports=URIError},91445:function($,F,m){var L=m(69746);$.exports=function(){return L(this).length=0,this}},82377:function($,F,m){$.exports=m(57712)()?Array.from:m(33468)},57712:function($){$.exports=function(){var F,m,L=Array.from;return typeof L=="function"&&(m=L(F=["raz","dwa"]),!!(m&&m!==F&&m[1]==="dwa"))}},33468:function($,F,m){var L=m(63008).iterator,D=m(82262),E=m(59356),T=m(54653),k=m(52359),M=m(69746),b=m(1974),a=m(48488),t=Array.isArray,u=Function.prototype.call,i={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;$.exports=function(d){var v,y,p,c,x,f,n,o,s,r,g=arguments[1],e=arguments[2];if(d=Object(M(d)),b(g)&&k(g),this&&this!==Array&&E(this))v=this;else{if(!g){if(D(d))return(x=d.length)!==1?Array.apply(null,d):((c=new Array(1))[0]=d[0],c);if(t(d)){for(c=new Array(x=d.length),y=0;y<x;++y)c[y]=d[y];return c}}c=[]}if(!t(d)){if((s=d[L])!==void 0){for(n=k(s).call(d),v&&(c=new v),o=n.next(),y=0;!o.done;)r=g?u.call(g,e,o.value,y):o.value,v?(i.value=r,l(c,y,i)):c[y]=r,o=n.next(),++y;x=y}else if(a(d)){for(x=d.length,v&&(c=new v),y=0,p=0;y<x;++y)r=d[y],y+1<x&&(f=r.charCodeAt(0))>=55296&&f<=56319&&(r+=d[++y]),r=g?u.call(g,e,r,p):r,v?(i.value=r,l(c,p,i)):c[p]=r,++p;x=p}}if(x===void 0)for(x=T(d.length),v&&(c=new v(x)),y=0;y<x;++y)r=g?u.call(g,e,d[y],y):d[y],v?(i.value=r,l(c,y,i)):c[y]=r;return v&&(i.value=null,c.length=x),c}},82262:function($){var F=Object.prototype.toString,m=F.call(function(){return arguments}());$.exports=function(L){return F.call(L)===m}},59356:function($){var F=Object.prototype.toString,m=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);$.exports=function(L){return typeof L=="function"&&m(F.call(L))}},62039:function($){$.exports=function(){}},53579:function($,F,m){$.exports=m(67394)()?Math.sign:m(37122)},67394:function($){$.exports=function(){var F=Math.sign;return typeof F=="function"&&F(10)===1&&F(-20)===-1}},37122:function($){$.exports=function(F){return F=Number(F),isNaN(F)||F===0?F:F>0?1:-1}},10226:function($,F,m){var L=m(53579),D=Math.abs,E=Math.floor;$.exports=function(T){return isNaN(T)?0:(T=Number(T))!==0&&isFinite(T)?L(T)*E(D(T)):T}},54653:function($,F,m){var L=m(10226),D=Math.max;$.exports=function(E){return D(0,L(E))}},39395:function($,F,m){var L=m(52359),D=m(69746),E=Function.prototype.bind,T=Function.prototype.call,k=Object.keys,M=Object.prototype.propertyIsEnumerable;$.exports=function(b,a){return function(t,u){var i,l=arguments[2],d=arguments[3];return t=Object(D(t)),L(u),i=k(t),d&&i.sort(typeof d=="function"?E.call(d,t):void 0),typeof b!="function"&&(b=i[b]),T.call(b,i,function(v,y){return M.call(t,v)?T.call(u,l,t[v],v,t,y):a})}}},1920:function($,F,m){$.exports=m(41271)()?Object.assign:m(26399)},41271:function($){$.exports=function(){var F,m=Object.assign;return typeof m=="function"&&(m(F={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),F.foo+F.bar+F.trzy==="razdwatrzy")}},26399:function($,F,m){var L=m(36353),D=m(69746),E=Math.max;$.exports=function(T,k){var M,b,a,t=E(arguments.length,2);for(T=Object(D(T)),a=function(u){try{T[u]=k[u]}catch(i){M||(M=i)}},b=1;b<t;++b)L(k=arguments[b]).forEach(a);if(M!==void 0)throw M;return T}},86591:function($,F,m){var L=m(82377),D=m(1920),E=m(69746);$.exports=function(T){var k=Object(E(T)),M=arguments[1],b=Object(arguments[2]);if(k!==T&&!M)return k;var a={};return M?L(M,function(t){(b.ensure||t in T)&&(a[t]=T[t])}):D(a,T),a}},57842:function($,F,m){var L,D,E,T,k=Object.create;m(90361)()||(L=m(45765)),$.exports=L?L.level!==1?k:(D={},E={},T={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(M){E[M]=M!=="__proto__"?T:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(D,E),Object.defineProperty(L,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:D}),function(M,b){return k(M===null?D:M,b)}):k},82813:function($,F,m){$.exports=m(39395)("forEach")},76064:function($,F,m){var L=m(1974),D={function:!0,object:!0};$.exports=function(E){return L(E)&&D[typeof E]||!1}},1974:function($,F,m){var L=m(62039)();$.exports=function(D){return D!==L&&D!==null}},36353:function($,F,m){$.exports=m(83800)()?Object.keys:m(67044)},83800:function($){$.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},67044:function($,F,m){var L=m(1974),D=Object.keys;$.exports=function(E){return D(L(E)?Object(E):E)}},29854:function($,F,m){var L=m(52359),D=m(82813),E=Function.prototype.call;$.exports=function(T,k){var M={},b=arguments[2];return L(k),D(T,function(a,t,u,i){M[t]=E.call(k,b,a,t,u,i)}),M}},76504:function($,F,m){var L=m(1974),D=Array.prototype.forEach,E=Object.create;$.exports=function(T){var k=E(null);return D.call(arguments,function(M){L(M)&&function(b,a){var t;for(t in b)a[t]=b[t]}(Object(M),k)}),k}},22834:function($,F,m){$.exports=m(90361)()?Object.setPrototypeOf:m(45765)},90361:function($){var F=Object.create,m=Object.getPrototypeOf,L={};$.exports=function(){var D=Object.setPrototypeOf;return typeof D=="function"&&m(D((arguments[0]||F)(null),L))===L}},45765:function($,F,m){var L,D,E,T,k=m(76064),M=m(69746),b=Object.prototype.isPrototypeOf,a=Object.defineProperty,t={configurable:!0,enumerable:!1,writable:!0,value:void 0};L=function(u,i){if(M(u),i===null||k(i))return u;throw new TypeError("Prototype must be null or an object")},$.exports=(D=function(){var u,i=Object.create(null),l={},d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(d){try{(u=d.set).call(i,l)}catch{}if(Object.getPrototypeOf(i)===l)return{set:u,level:2}}return i.__proto__=l,Object.getPrototypeOf(i)===l?{level:2}:((i={}).__proto__=l,Object.getPrototypeOf(i)===l&&{level:1})}(),D?(D.level===2?D.set?(T=D.set,E=function(u,i){return T.call(L(u,i),i),u}):E=function(u,i){return L(u,i).__proto__=i,u}:E=function u(i,l){var d;return L(i,l),(d=b.call(u.nullPolyfill,i))&&delete u.nullPolyfill.__proto__,l===null&&(l=u.nullPolyfill),i.__proto__=l,d&&a(u.nullPolyfill,"__proto__",t),i},Object.defineProperty(E,"level",{configurable:!1,enumerable:!1,writable:!1,value:D.level})):null),m(57842)},52359:function($){$.exports=function(F){if(typeof F!="function")throw new TypeError(F+" is not a function");return F}},11004:function($,F,m){var L=m(76064);$.exports=function(D){if(!L(D))throw new TypeError(D+" is not an Object");return D}},69746:function($,F,m){var L=m(1974);$.exports=function(D){if(!L(D))throw new TypeError("Cannot use null or undefined");return D}},2338:function($,F,m){$.exports=m(65961)()?String.prototype.contains:m(9461)},65961:function($){var F="razdwatrzy";$.exports=function(){return typeof F.contains=="function"&&F.contains("dwa")===!0&&F.contains("foo")===!1}},9461:function($){var F=String.prototype.indexOf;$.exports=function(m){return F.call(this,m,arguments[1])>-1}},48488:function($){var F=Object.prototype.toString,m=F.call("");$.exports=function(L){return typeof L=="string"||L&&typeof L=="object"&&(L instanceof String||F.call(L)===m)||!1}},43497:function($){var F=Object.create(null),m=Math.random;$.exports=function(){var L;do L=m().toString(36).slice(2);while(F[L]);return L}},71343:function($,F,m){var L,D=m(22834),E=m(2338),T=m(91819),k=m(63008),M=m(85490),b=Object.defineProperty;L=$.exports=function(a,t){if(!(this instanceof L))throw new TypeError("Constructor requires 'new'");M.call(this,a),t=t?E.call(t,"key+value")?"key+value":E.call(t,"key")?"key":"value":"value",b(this,"__kind__",T("",t))},D&&D(L,M),delete L.prototype.constructor,L.prototype=Object.create(M.prototype,{_resolve:T(function(a){return this.__kind__==="value"?this.__list__[a]:this.__kind__==="key+value"?[a,this.__list__[a]]:a})}),b(L.prototype,k.toStringTag,T("c","Array Iterator"))},58755:function($,F,m){var L=m(82262),D=m(52359),E=m(48488),T=m(34494),k=Array.isArray,M=Function.prototype.call,b=Array.prototype.some;$.exports=function(a,t){var u,i,l,d,v,y,p,c,x=arguments[2];if(k(a)||L(a)?u="array":E(a)?u="string":a=T(a),D(t),l=function(){d=!0},u!=="array")if(u!=="string")for(i=a.next();!i.done;){if(M.call(t,x,i.value,l),d)return;i=a.next()}else for(y=a.length,v=0;v<y&&(p=a[v],v+1<y&&(c=p.charCodeAt(0))>=55296&&c<=56319&&(p+=a[++v]),M.call(t,x,p,l),!d);++v);else b.call(a,function(f){return M.call(t,x,f,l),d})}},34494:function($,F,m){var L=m(82262),D=m(48488),E=m(71343),T=m(23417),k=m(82831),M=m(63008).iterator;$.exports=function(b){return typeof k(b)[M]=="function"?b[M]():L(b)?new E(b):D(b)?new T(b):new E(b)}},85490:function($,F,m){var L,D=m(91445),E=m(1920),T=m(52359),k=m(69746),M=m(91819),b=m(84510),a=m(63008),t=Object.defineProperty,u=Object.defineProperties;$.exports=L=function(i,l){if(!(this instanceof L))throw new TypeError("Constructor requires 'new'");u(this,{__list__:M("w",k(i)),__context__:M("w",l),__nextIndex__:M("w",0)}),l&&(T(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete L.prototype.constructor,u(L.prototype,E({_next:M(function(){var i;if(this.__list__)return this.__redo__&&(i=this.__redo__.shift())!==void 0?i:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:M(function(){return this._createResult(this._next())}),_createResult:M(function(i){return i===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(i)}}),_resolve:M(function(i){return this.__list__[i]}),_unBind:M(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:M(function(){return"[object "+(this[a.toStringTag]||"Object")+"]"})},b({_onAdd:M(function(i){i>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(l,d){l>=i&&(this.__redo__[d]=++l)},this),this.__redo__.push(i)):t(this,"__redo__",M("c",[i])))}),_onDelete:M(function(i){var l;i>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((l=this.__redo__.indexOf(i))!==-1&&this.__redo__.splice(l,1),this.__redo__.forEach(function(d,v){d>i&&(this.__redo__[v]=--d)},this)))}),_onClear:M(function(){this.__redo__&&D.call(this.__redo__),this.__nextIndex__=0})}))),t(L.prototype,a.iterator,M(function(){return this}))},50567:function($,F,m){var L=m(82262),D=m(1974),E=m(48488),T=m(63008).iterator,k=Array.isArray;$.exports=function(M){return!(!D(M)||!k(M)&&!E(M)&&!L(M)&&typeof M[T]!="function")}},23417:function($,F,m){var L,D=m(22834),E=m(91819),T=m(63008),k=m(85490),M=Object.defineProperty;L=$.exports=function(b){if(!(this instanceof L))throw new TypeError("Constructor requires 'new'");b=String(b),k.call(this,b),M(this,"__length__",E("",b.length))},D&&D(L,k),delete L.prototype.constructor,L.prototype=Object.create(k.prototype,{_next:E(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:E(function(b){var a,t=this.__list__[b];return this.__nextIndex__===this.__length__?t:(a=t.charCodeAt(0))>=55296&&a<=56319?t+this.__list__[this.__nextIndex__++]:t})}),M(L.prototype,T.toStringTag,E("c","String Iterator"))},82831:function($,F,m){var L=m(50567);$.exports=function(D){if(!L(D))throw new TypeError(D+" is not iterable");return D}},63008:function($,F,m){$.exports=m(25143)()?m(64725).Symbol:m(81905)},25143:function($,F,m){var L=m(64725),D={object:!0,symbol:!0};$.exports=function(){var E,T=L.Symbol;if(typeof T!="function")return!1;E=T("test symbol");try{String(E)}catch{return!1}return!!D[typeof T.iterator]&&!!D[typeof T.toPrimitive]&&!!D[typeof T.toStringTag]}},41707:function($){$.exports=function(F){return!!F&&(typeof F=="symbol"||!!F.constructor&&F.constructor.name==="Symbol"&&F[F.constructor.toStringTag]==="Symbol")}},74009:function($,F,m){var L=m(91819),D=Object.create,E=Object.defineProperty,T=Object.prototype,k=D(null);$.exports=function(M){for(var b,a,t=0;k[M+(t||"")];)++t;return k[M+=t||""]=!0,E(T,b="@@"+M,L.gs(null,function(u){a||(a=!0,E(this,b,L(u)),a=!1)})),b}},40313:function($,F,m){var L=m(91819),D=m(64725).Symbol;$.exports=function(E){return Object.defineProperties(E,{hasInstance:L("",D&&D.hasInstance||E("hasInstance")),isConcatSpreadable:L("",D&&D.isConcatSpreadable||E("isConcatSpreadable")),iterator:L("",D&&D.iterator||E("iterator")),match:L("",D&&D.match||E("match")),replace:L("",D&&D.replace||E("replace")),search:L("",D&&D.search||E("search")),species:L("",D&&D.species||E("species")),split:L("",D&&D.split||E("split")),toPrimitive:L("",D&&D.toPrimitive||E("toPrimitive")),toStringTag:L("",D&&D.toStringTag||E("toStringTag")),unscopables:L("",D&&D.unscopables||E("unscopables"))})}},21290:function($,F,m){var L=m(91819),D=m(91765),E=Object.create(null);$.exports=function(T){return Object.defineProperties(T,{for:L(function(k){return E[k]?E[k]:E[k]=T(String(k))}),keyFor:L(function(k){var M;for(M in D(k),E)if(E[M]===k)return M})})}},81905:function($,F,m){var L,D,E,T=m(91819),k=m(91765),M=m(64725).Symbol,b=m(74009),a=m(40313),t=m(21290),u=Object.create,i=Object.defineProperties,l=Object.defineProperty;if(typeof M=="function")try{String(M()),E=!0}catch{}else M=null;D=function(d){if(this instanceof D)throw new TypeError("Symbol is not a constructor");return L(d)},$.exports=L=function d(v){var y;if(this instanceof d)throw new TypeError("Symbol is not a constructor");return E?M(v):(y=u(D.prototype),v=v===void 0?"":String(v),i(y,{__description__:T("",v),__name__:T("",b(v))}))},a(L),t(L),i(D.prototype,{constructor:T(L),toString:T("",function(){return this.__name__})}),i(L.prototype,{toString:T(function(){return"Symbol ("+k(this).__description__+")"}),valueOf:T(function(){return k(this)})}),l(L.prototype,L.toPrimitive,T("",function(){var d=k(this);return typeof d=="symbol"?d:d.toString()})),l(L.prototype,L.toStringTag,T("c","Symbol")),l(D.prototype,L.toStringTag,T("c",L.prototype[L.toStringTag])),l(D.prototype,L.toPrimitive,T("c",L.prototype[L.toPrimitive]))},91765:function($,F,m){var L=m(41707);$.exports=function(D){if(!L(D))throw new TypeError(D+" is not a symbol");return D}},93103:function($,F,m){$.exports=m(22742)()?WeakMap:m(21780)},22742:function($){$.exports=function(){var F,m;if(typeof WeakMap!="function")return!1;try{F=new WeakMap([[m={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(F)==="[object WeakMap]"&&typeof F.set=="function"&&F.set({},1)===F&&typeof F.delete=="function"&&typeof F.has=="function"&&F.get(m)==="one"}},81810:function($){$.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},21780:function($,F,m){var L,D=m(1974),E=m(22834),T=m(11004),k=m(69746),M=m(43497),b=m(91819),a=m(34494),t=m(58755),u=m(63008).toStringTag,i=m(81810),l=Array.isArray,d=Object.defineProperty,v=Object.prototype.hasOwnProperty,y=Object.getPrototypeOf;$.exports=L=function(){var p,c=arguments[0];if(!(this instanceof L))throw new TypeError("Constructor requires 'new'");return p=i&&E&&WeakMap!==L?E(new WeakMap,y(this)):this,D(c)&&(l(c)||(c=a(c))),d(p,"__weakMapData__",b("c","$weakMap$"+M())),c&&t(c,function(x){k(x),p.set(x[0],x[1])}),p},i&&(E&&E(L,WeakMap),L.prototype=Object.create(WeakMap.prototype,{constructor:b(L)})),Object.defineProperties(L.prototype,{delete:b(function(p){return!!v.call(T(p),this.__weakMapData__)&&(delete p[this.__weakMapData__],!0)}),get:b(function(p){if(v.call(T(p),this.__weakMapData__))return p[this.__weakMapData__]}),has:b(function(p){return v.call(T(p),this.__weakMapData__)}),set:b(function(p,c){return d(T(p),this.__weakMapData__,b("c",c)),this}),toString:b(function(){return"[object WeakMap]"})}),d(L.prototype,u,b("c","WeakMap"))},7683:function($){var F,m=typeof Reflect=="object"?Reflect:null,L=m&&typeof m.apply=="function"?m.apply:function(v,y,p){return Function.prototype.apply.call(v,y,p)};F=m&&typeof m.ownKeys=="function"?m.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:function(v){return Object.getOwnPropertyNames(v)};var D=Number.isNaN||function(v){return v!=v};function E(){E.init.call(this)}$.exports=E,$.exports.once=function(v,y){return new Promise(function(p,c){function x(n){v.removeListener(y,f),c(n)}function f(){typeof v.removeListener=="function"&&v.removeListener("error",x),p([].slice.call(arguments))}d(v,y,f,{once:!0}),y!=="error"&&function(n,o,s){typeof n.on=="function"&&d(n,"error",o,{once:!0})}(v,x)})},E.EventEmitter=E,E.prototype._events=void 0,E.prototype._eventsCount=0,E.prototype._maxListeners=void 0;var T=10;function k(v){if(typeof v!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof v)}function M(v){return v._maxListeners===void 0?E.defaultMaxListeners:v._maxListeners}function b(v,y,p,c){var x,f,n,o;if(k(p),(f=v._events)===void 0?(f=v._events=Object.create(null),v._eventsCount=0):(f.newListener!==void 0&&(v.emit("newListener",y,p.listener?p.listener:p),f=v._events),n=f[y]),n===void 0)n=f[y]=p,++v._eventsCount;else if(typeof n=="function"?n=f[y]=c?[p,n]:[n,p]:c?n.unshift(p):n.push(p),(x=M(v))>0&&n.length>x&&!n.warned){n.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=v,s.type=y,s.count=n.length,o=s,console&&console.warn&&console.warn(o)}return v}function a(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function t(v,y,p){var c={fired:!1,wrapFn:void 0,target:v,type:y,listener:p},x=a.bind(c);return x.listener=p,c.wrapFn=x,x}function u(v,y,p){var c=v._events;if(c===void 0)return[];var x=c[y];return x===void 0?[]:typeof x=="function"?p?[x.listener||x]:[x]:p?function(f){for(var n=new Array(f.length),o=0;o<n.length;++o)n[o]=f[o].listener||f[o];return n}(x):l(x,x.length)}function i(v){var y=this._events;if(y!==void 0){var p=y[v];if(typeof p=="function")return 1;if(p!==void 0)return p.length}return 0}function l(v,y){for(var p=new Array(y),c=0;c<y;++c)p[c]=v[c];return p}function d(v,y,p,c){if(typeof v.on=="function")c.once?v.once(y,p):v.on(y,p);else{if(typeof v.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof v);v.addEventListener(y,function x(f){c.once&&v.removeEventListener(y,x),p(f)})}}Object.defineProperty(E,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(v){if(typeof v!="number"||v<0||D(v))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+v+".");T=v}}),E.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},E.prototype.setMaxListeners=function(v){if(typeof v!="number"||v<0||D(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this},E.prototype.getMaxListeners=function(){return M(this)},E.prototype.emit=function(v){for(var y=[],p=1;p<arguments.length;p++)y.push(arguments[p]);var c=v==="error",x=this._events;if(x!==void 0)c=c&&x.error===void 0;else if(!c)return!1;if(c){var f;if(y.length>0&&(f=y[0]),f instanceof Error)throw f;var n=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw n.context=f,n}var o=x[v];if(o===void 0)return!1;if(typeof o=="function")L(o,this,y);else{var s=o.length,r=l(o,s);for(p=0;p<s;++p)L(r[p],this,y)}return!0},E.prototype.addListener=function(v,y){return b(this,v,y,!1)},E.prototype.on=E.prototype.addListener,E.prototype.prependListener=function(v,y){return b(this,v,y,!0)},E.prototype.once=function(v,y){return k(y),this.on(v,t(this,v,y)),this},E.prototype.prependOnceListener=function(v,y){return k(y),this.prependListener(v,t(this,v,y)),this},E.prototype.removeListener=function(v,y){var p,c,x,f,n;if(k(y),(c=this._events)===void 0)return this;if((p=c[v])===void 0)return this;if(p===y||p.listener===y)--this._eventsCount==0?this._events=Object.create(null):(delete c[v],c.removeListener&&this.emit("removeListener",v,p.listener||y));else if(typeof p!="function"){for(x=-1,f=p.length-1;f>=0;f--)if(p[f]===y||p[f].listener===y){n=p[f].listener,x=f;break}if(x<0)return this;x===0?p.shift():function(o,s){for(;s+1<o.length;s++)o[s]=o[s+1];o.pop()}(p,x),p.length===1&&(c[v]=p[0]),c.removeListener!==void 0&&this.emit("removeListener",v,n||y)}return this},E.prototype.off=E.prototype.removeListener,E.prototype.removeAllListeners=function(v){var y,p,c;if((p=this._events)===void 0)return this;if(p.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):p[v]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete p[v]),this;if(arguments.length===0){var x,f=Object.keys(p);for(c=0;c<f.length;++c)(x=f[c])!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(y=p[v])=="function")this.removeListener(v,y);else if(y!==void 0)for(c=y.length-1;c>=0;c--)this.removeListener(v,y[c]);return this},E.prototype.listeners=function(v){return u(this,v,!0)},E.prototype.rawListeners=function(v){return u(this,v,!1)},E.listenerCount=function(v,y){return typeof v.listenerCount=="function"?v.listenerCount(y):i.call(v,y)},E.prototype.listenerCount=i,E.prototype.eventNames=function(){return this._eventsCount>0?F(this._events):[]}},77083:function($){var F=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};$.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return F()}try{return __global__||F()}finally{delete Object.prototype.__global__}}()},64725:function($,F,m){$.exports=m(17804)()?globalThis:m(77083)},17804:function($){$.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},10721:function($,F,m){var L=m(9914);$.exports=function(D){var E=typeof D;if(E==="string"){var T=D;if((D=+D)==0&&L(T))return!1}else if(E!=="number")return!1;return D-D<1}},83473:function($,F,m){var L=m(10275);$.exports=function(D,E,T){if(!D)throw new TypeError("must specify data as first parameter");if(T=0|+(T||0),Array.isArray(D)&&D[0]&&typeof D[0][0]=="number"){var k,M,b,a,t=D[0].length,u=D.length*t;E&&typeof E!="string"||(E=new(L(E||"float32"))(u+T));var i=E.length-T;if(u!==i)throw new Error("source length "+u+" ("+t+"x"+D.length+") does not match destination length "+i);for(k=0,b=T;k<D.length;k++)for(M=0;M<t;M++)E[b++]=D[k][M]===null?NaN:D[k][M]}else if(E&&typeof E!="string")E.set(D,T);else{var l=L(E||"float32");if(Array.isArray(D)||E==="array")for(k=0,b=T,a=(E=new l(D.length+T)).length;b<a;b++,k++)E[b]=D[k]===null?NaN:D[k];else T===0?E=new l(D):(E=new l(D.length+T)).set(D,T)}return E}},68950:function($,F,m){var L=m(38211),D=[32,126];$.exports=function(E){var T=(E=E||{}).shape?E.shape:E.canvas?[E.canvas.width,E.canvas.height]:[512,512],k=E.canvas||document.createElement("canvas"),M=E.font,b=typeof E.step=="number"?[E.step,E.step]:E.step||[32,32],a=E.chars||D;if(M&&typeof M!="string"&&(M=L(M)),Array.isArray(a)){if(a.length===2&&typeof a[0]=="number"&&typeof a[1]=="number"){for(var t=[],u=a[0],i=0;u<=a[1];u++)t[i++]=String.fromCharCode(u);a=t}}else a=String(a).split("");T=T.slice(),k.width=T[0],k.height=T[1];var l=k.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,k.width,k.height),l.font=M,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";var d=b[0]/2,v=b[1]/2;for(u=0;u<a.length;u++)l.fillText(a[u],d,v),(d+=b[0])>T[0]-b[0]/2&&(d=b[0]/2,v+=b[1]);return k}},12673:function($){function F(E,T){T||(T={}),(typeof E=="string"||Array.isArray(E))&&(T.family=E);var k=Array.isArray(T.family)?T.family.join(", "):T.family;if(!k)throw Error("`family` must be defined");var M=T.size||T.fontSize||T.em||48,b=T.weight||T.fontWeight||"",a=(E=[T.style||T.fontStyle||"",b,M].join(" ")+"px "+k,T.origin||"top");if(F.cache[k]&&M<=F.cache[k].em)return m(F.cache[k],a);var t=T.canvas||F.canvas,u=t.getContext("2d"),i={upper:T.upper!==void 0?T.upper:"H",lower:T.lower!==void 0?T.lower:"x",descent:T.descent!==void 0?T.descent:"p",ascent:T.ascent!==void 0?T.ascent:"h",tittle:T.tittle!==void 0?T.tittle:"i",overshoot:T.overshoot!==void 0?T.overshoot:"O"},l=Math.ceil(1.5*M);t.height=l,t.width=.5*l,u.font=E;var d="H",v={top:0};u.clearRect(0,0,l,l),u.textBaseline="top",u.fillStyle="black",u.fillText(d,0,0);var y=L(u.getImageData(0,0,l,l));u.clearRect(0,0,l,l),u.textBaseline="bottom",u.fillText(d,0,l);var p=L(u.getImageData(0,0,l,l));v.lineHeight=v.bottom=l-p+y,u.clearRect(0,0,l,l),u.textBaseline="alphabetic",u.fillText(d,0,l);var c=l-L(u.getImageData(0,0,l,l))-1+y;v.baseline=v.alphabetic=c,u.clearRect(0,0,l,l),u.textBaseline="middle",u.fillText(d,0,.5*l);var x=L(u.getImageData(0,0,l,l));v.median=v.middle=l-x-1+y-.5*l,u.clearRect(0,0,l,l),u.textBaseline="hanging",u.fillText(d,0,.5*l);var f=L(u.getImageData(0,0,l,l));v.hanging=l-f-1+y-.5*l,u.clearRect(0,0,l,l),u.textBaseline="ideographic",u.fillText(d,0,l);var n=L(u.getImageData(0,0,l,l));if(v.ideographic=l-n-1+y,i.upper&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(i.upper,0,0),v.upper=L(u.getImageData(0,0,l,l)),v.capHeight=v.baseline-v.upper),i.lower&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(i.lower,0,0),v.lower=L(u.getImageData(0,0,l,l)),v.xHeight=v.baseline-v.lower),i.tittle&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(i.tittle,0,0),v.tittle=L(u.getImageData(0,0,l,l))),i.ascent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(i.ascent,0,0),v.ascent=L(u.getImageData(0,0,l,l))),i.descent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(i.descent,0,0),v.descent=D(u.getImageData(0,0,l,l))),i.overshoot){u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(i.overshoot,0,0);var o=D(u.getImageData(0,0,l,l));v.overshoot=o-c}for(var s in v)v[s]/=M;return v.em=M,F.cache[k]=v,m(v,a)}function m(E,T){var k={};for(var M in typeof T=="string"&&(T=E[T]),E)M!=="em"&&(k[M]=E[M]-T);return k}function L(E){for(var T=E.height,k=E.data,M=3;M<k.length;M+=4)if(k[M]!==0)return Math.floor(.25*(M-3)/T)}function D(E){for(var T=E.height,k=E.data,M=k.length-1;M>0;M-=4)if(k[M]!==0)return Math.floor(.25*(M-3)/T)}$.exports=F,F.canvas=document.createElement("canvas"),F.cache={}},61262:function($,F,m){var L=m(82756),D=Object.prototype.toString,E=Object.prototype.hasOwnProperty;$.exports=function(T,k,M){if(!L(k))throw new TypeError("iterator must be a function");var b;arguments.length>=3&&(b=M),D.call(T)==="[object Array]"?function(a,t,u){for(var i=0,l=a.length;i<l;i++)E.call(a,i)&&(u==null?t(a[i],i,a):t.call(u,a[i],i,a))}(T,k,b):typeof T=="string"?function(a,t,u){for(var i=0,l=a.length;i<l;i++)u==null?t(a.charAt(i),i,a):t.call(u,a.charAt(i),i,a)}(T,k,b):function(a,t,u){for(var i in a)E.call(a,i)&&(u==null?t(a[i],i,a):t.call(u,a[i],i,a))}(T,k,b)}},31917:function($){var F=Object.prototype.toString,m=Math.max,L=function(D,E){for(var T=[],k=0;k<D.length;k+=1)T[k]=D[k];for(var M=0;M<E.length;M+=1)T[M+D.length]=E[M];return T};$.exports=function(D){var E=this;if(typeof E!="function"||F.apply(E)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+E);for(var T,k=function(u,i){for(var l=[],d=1,v=0;d<u.length;d+=1,v+=1)l[v]=u[d];return l}(arguments),M=m(0,E.length-k.length),b=[],a=0;a<M;a++)b[a]="$"+a;if(T=Function("binder","return function ("+function(u,i){for(var l="",d=0;d<u.length;d+=1)l+=u[d],d+1<u.length&&(l+=",");return l}(b)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof T){var u=E.apply(this,L(k,arguments));return Object(u)===u?u:this}return E.apply(D,L(k,arguments))}),E.prototype){var t=function(){};t.prototype=E.prototype,T.prototype=new t,t.prototype=null}return T}},87547:function($,F,m){var L=m(31917);$.exports=Function.prototype.bind||L},72880:function($){$.exports=function(F,m){if(typeof F!="string")throw new TypeError("must specify type string");if(m=m||{},typeof document>"u"&&!m.canvas)return null;var L=m.canvas||document.createElement("canvas");typeof m.width=="number"&&(L.width=m.width),typeof m.height=="number"&&(L.height=m.height);var D,E=m;try{var T=[F];F.indexOf("webgl")===0&&T.push("experimental-"+F);for(var k=0;k<T.length;k++)if(D=L.getContext(T[k],E))return D}catch{D=null}return D||null}},71129:function($,F,m){var L,D=m(77731),E=m(35465),T=m(30582),k=m(50294),M=m(98800),b=m(48631),a=m(33149),t=Function,u=function(B){try{return t('"use strict"; return ('+B+").constructor;")()}catch{}},i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch{i=null}var l=function(){throw new b},d=i?function(){try{return l}catch{try{return i(arguments,"callee").get}catch{return l}}}():l,v=m(8771)(),y=m(58436)(),p=Object.getPrototypeOf||(y?function(B){return B.__proto__}:null),c={},x=typeof Uint8Array<"u"&&p?p(Uint8Array):L,f={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?L:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?L:ArrayBuffer,"%ArrayIteratorPrototype%":v&&p?p([][Symbol.iterator]()):L,"%AsyncFromSyncIteratorPrototype%":L,"%AsyncFunction%":c,"%AsyncGenerator%":c,"%AsyncGeneratorFunction%":c,"%AsyncIteratorPrototype%":c,"%Atomics%":typeof Atomics>"u"?L:Atomics,"%BigInt%":typeof BigInt>"u"?L:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?L:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?L:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?L:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":D,"%eval%":eval,"%EvalError%":E,"%Float32Array%":typeof Float32Array>"u"?L:Float32Array,"%Float64Array%":typeof Float64Array>"u"?L:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?L:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":c,"%Int8Array%":typeof Int8Array>"u"?L:Int8Array,"%Int16Array%":typeof Int16Array>"u"?L:Int16Array,"%Int32Array%":typeof Int32Array>"u"?L:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":v&&p?p(p([][Symbol.iterator]())):L,"%JSON%":typeof JSON=="object"?JSON:L,"%Map%":typeof Map>"u"?L:Map,"%MapIteratorPrototype%":typeof Map<"u"&&v&&p?p(new Map()[Symbol.iterator]()):L,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?L:Promise,"%Proxy%":typeof Proxy>"u"?L:Proxy,"%RangeError%":T,"%ReferenceError%":k,"%Reflect%":typeof Reflect>"u"?L:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?L:Set,"%SetIteratorPrototype%":typeof Set<"u"&&v&&p?p(new Set()[Symbol.iterator]()):L,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?L:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":v&&p?p(""[Symbol.iterator]()):L,"%Symbol%":v?Symbol:L,"%SyntaxError%":M,"%ThrowTypeError%":d,"%TypedArray%":x,"%TypeError%":b,"%Uint8Array%":typeof Uint8Array>"u"?L:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?L:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?L:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?L:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?L:WeakMap,"%WeakRef%":typeof WeakRef>"u"?L:WeakRef,"%WeakSet%":typeof WeakSet>"u"?L:WeakSet};if(p)try{null.error}catch(B){var n=p(p(B));f["%Error.prototype%"]=n}var o=function B(C){var z;if(C==="%AsyncFunction%")z=u("async function () {}");else if(C==="%GeneratorFunction%")z=u("function* () {}");else if(C==="%AsyncGeneratorFunction%")z=u("async function* () {}");else if(C==="%AsyncGenerator%"){var P=B("%AsyncGeneratorFunction%");P&&(z=P.prototype)}else if(C==="%AsyncIteratorPrototype%"){var R=B("%AsyncGenerator%");R&&p&&(z=p(R.prototype))}return f[C]=z,z},s={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},r=m(87547),g=m(80753),e=r.call(Function.call,Array.prototype.concat),h=r.call(Function.apply,Array.prototype.splice),_=r.call(Function.call,String.prototype.replace),w=r.call(Function.call,String.prototype.slice),S=r.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,I=function(B,C){var z,P=B;if(g(s,P)&&(P="%"+(z=s[P])[0]+"%"),g(f,P)){var R=f[P];if(R===c&&(R=o(P)),R===void 0&&!C)throw new b("intrinsic "+B+" exists, but is not available. Please file an issue!");return{alias:z,name:P,value:R}}throw new M("intrinsic "+B+" does not exist!")};$.exports=function(B,C){if(typeof B!="string"||B.length===0)throw new b("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof C!="boolean")throw new b('"allowMissing" argument must be a boolean');if(S(/^%?[^%]*%?$/,B)===null)throw new M("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var z=function(Q){var ne=w(Q,0,1),ie=w(Q,-1);if(ne==="%"&&ie!=="%")throw new M("invalid intrinsic syntax, expected closing `%`");if(ie==="%"&&ne!=="%")throw new M("invalid intrinsic syntax, expected opening `%`");var le=[];return _(Q,O,function(fe,pe,me,ke){le[le.length]=me?_(ke,A,"$1"):pe||fe}),le}(B),P=z.length>0?z[0]:"",R=I("%"+P+"%",C),N=R.name,j=R.value,W=!1,Y=R.alias;Y&&(P=Y[0],h(z,e([0,1],Y)));for(var J=1,G=!0;J<z.length;J+=1){var H=z[J],U=w(H,0,1),Z=w(H,-1);if((U==='"'||U==="'"||U==="`"||Z==='"'||Z==="'"||Z==="`")&&U!==Z)throw new M("property names with quotes must have matching quotes");if(H!=="constructor"&&G||(W=!0),g(f,N="%"+(P+="."+H)+"%"))j=f[N];else if(j!=null){if(!(H in j)){if(!C)throw new b("base intrinsic for "+B+" exists, but the property is not available.");return}if(i&&J+1>=z.length){var q=i(j,H);j=(G=!!q)&&"get"in q&&!("originalValue"in q.get)?q.get:j[H]}else G=g(j,H),j=j[H];G&&!W&&(f[N]=j)}}return j}},84840:function($){$.exports=function(F,m){var L=m[0],D=m[1],E=m[2],T=m[3],k=m[4],M=m[5],b=m[6],a=m[7],t=m[8],u=m[9],i=m[10],l=m[11],d=m[12],v=m[13],y=m[14],p=m[15];return F[0]=M*(i*p-l*y)-u*(b*p-a*y)+v*(b*l-a*i),F[1]=-(D*(i*p-l*y)-u*(E*p-T*y)+v*(E*l-T*i)),F[2]=D*(b*p-a*y)-M*(E*p-T*y)+v*(E*a-T*b),F[3]=-(D*(b*l-a*i)-M*(E*l-T*i)+u*(E*a-T*b)),F[4]=-(k*(i*p-l*y)-t*(b*p-a*y)+d*(b*l-a*i)),F[5]=L*(i*p-l*y)-t*(E*p-T*y)+d*(E*l-T*i),F[6]=-(L*(b*p-a*y)-k*(E*p-T*y)+d*(E*a-T*b)),F[7]=L*(b*l-a*i)-k*(E*l-T*i)+t*(E*a-T*b),F[8]=k*(u*p-l*v)-t*(M*p-a*v)+d*(M*l-a*u),F[9]=-(L*(u*p-l*v)-t*(D*p-T*v)+d*(D*l-T*u)),F[10]=L*(M*p-a*v)-k*(D*p-T*v)+d*(D*a-T*M),F[11]=-(L*(M*l-a*u)-k*(D*l-T*u)+t*(D*a-T*M)),F[12]=-(k*(u*y-i*v)-t*(M*y-b*v)+d*(M*i-b*u)),F[13]=L*(u*y-i*v)-t*(D*y-E*v)+d*(D*i-E*u),F[14]=-(L*(M*y-b*v)-k*(D*y-E*v)+d*(D*b-E*M)),F[15]=L*(M*i-b*u)-k*(D*i-E*u)+t*(D*b-E*M),F}},99698:function($){$.exports=function(F){var m=new Float32Array(16);return m[0]=F[0],m[1]=F[1],m[2]=F[2],m[3]=F[3],m[4]=F[4],m[5]=F[5],m[6]=F[6],m[7]=F[7],m[8]=F[8],m[9]=F[9],m[10]=F[10],m[11]=F[11],m[12]=F[12],m[13]=F[13],m[14]=F[14],m[15]=F[15],m}},57938:function($){$.exports=function(F,m){return F[0]=m[0],F[1]=m[1],F[2]=m[2],F[3]=m[3],F[4]=m[4],F[5]=m[5],F[6]=m[6],F[7]=m[7],F[8]=m[8],F[9]=m[9],F[10]=m[10],F[11]=m[11],F[12]=m[12],F[13]=m[13],F[14]=m[14],F[15]=m[15],F}},87519:function($){$.exports=function(){var F=new Float32Array(16);return F[0]=1,F[1]=0,F[2]=0,F[3]=0,F[4]=0,F[5]=1,F[6]=0,F[7]=0,F[8]=0,F[9]=0,F[10]=1,F[11]=0,F[12]=0,F[13]=0,F[14]=0,F[15]=1,F}},6900:function($){$.exports=function(F){var m=F[0],L=F[1],D=F[2],E=F[3],T=F[4],k=F[5],M=F[6],b=F[7],a=F[8],t=F[9],u=F[10],i=F[11],l=F[12],d=F[13],v=F[14],y=F[15];return(m*k-L*T)*(u*y-i*v)-(m*M-D*T)*(t*y-i*d)+(m*b-E*T)*(t*v-u*d)+(L*M-D*k)*(a*y-i*l)-(L*b-E*k)*(a*v-u*l)+(D*b-E*M)*(a*d-t*l)}},36472:function($){$.exports=function(F,m){var L=m[0],D=m[1],E=m[2],T=m[3],k=L+L,M=D+D,b=E+E,a=L*k,t=D*k,u=D*M,i=E*k,l=E*M,d=E*b,v=T*k,y=T*M,p=T*b;return F[0]=1-u-d,F[1]=t+p,F[2]=i-y,F[3]=0,F[4]=t-p,F[5]=1-a-d,F[6]=l+v,F[7]=0,F[8]=i+y,F[9]=l-v,F[10]=1-a-u,F[11]=0,F[12]=0,F[13]=0,F[14]=0,F[15]=1,F}},43061:function($){$.exports=function(F,m,L){var D,E,T,k=L[0],M=L[1],b=L[2],a=Math.sqrt(k*k+M*M+b*b);return Math.abs(a)<1e-6?null:(k*=a=1/a,M*=a,b*=a,D=Math.sin(m),T=1-(E=Math.cos(m)),F[0]=k*k*T+E,F[1]=M*k*T+b*D,F[2]=b*k*T-M*D,F[3]=0,F[4]=k*M*T-b*D,F[5]=M*M*T+E,F[6]=b*M*T+k*D,F[7]=0,F[8]=k*b*T+M*D,F[9]=M*b*T-k*D,F[10]=b*b*T+E,F[11]=0,F[12]=0,F[13]=0,F[14]=0,F[15]=1,F)}},33606:function($){$.exports=function(F,m,L){var D=m[0],E=m[1],T=m[2],k=m[3],M=D+D,b=E+E,a=T+T,t=D*M,u=D*b,i=D*a,l=E*b,d=E*a,v=T*a,y=k*M,p=k*b,c=k*a;return F[0]=1-(l+v),F[1]=u+c,F[2]=i-p,F[3]=0,F[4]=u-c,F[5]=1-(t+v),F[6]=d+y,F[7]=0,F[8]=i+p,F[9]=d-y,F[10]=1-(t+l),F[11]=0,F[12]=L[0],F[13]=L[1],F[14]=L[2],F[15]=1,F}},98698:function($){$.exports=function(F,m){return F[0]=m[0],F[1]=0,F[2]=0,F[3]=0,F[4]=0,F[5]=m[1],F[6]=0,F[7]=0,F[8]=0,F[9]=0,F[10]=m[2],F[11]=0,F[12]=0,F[13]=0,F[14]=0,F[15]=1,F}},6924:function($){$.exports=function(F,m){return F[0]=1,F[1]=0,F[2]=0,F[3]=0,F[4]=0,F[5]=1,F[6]=0,F[7]=0,F[8]=0,F[9]=0,F[10]=1,F[11]=0,F[12]=m[0],F[13]=m[1],F[14]=m[2],F[15]=1,F}},81181:function($){$.exports=function(F,m){var L=Math.sin(m),D=Math.cos(m);return F[0]=1,F[1]=0,F[2]=0,F[3]=0,F[4]=0,F[5]=D,F[6]=L,F[7]=0,F[8]=0,F[9]=-L,F[10]=D,F[11]=0,F[12]=0,F[13]=0,F[14]=0,F[15]=1,F}},95258:function($){$.exports=function(F,m){var L=Math.sin(m),D=Math.cos(m);return F[0]=D,F[1]=0,F[2]=-L,F[3]=0,F[4]=0,F[5]=1,F[6]=0,F[7]=0,F[8]=L,F[9]=0,F[10]=D,F[11]=0,F[12]=0,F[13]=0,F[14]=0,F[15]=1,F}},94815:function($){$.exports=function(F,m){var L=Math.sin(m),D=Math.cos(m);return F[0]=D,F[1]=L,F[2]=0,F[3]=0,F[4]=-L,F[5]=D,F[6]=0,F[7]=0,F[8]=0,F[9]=0,F[10]=1,F[11]=0,F[12]=0,F[13]=0,F[14]=0,F[15]=1,F}},87301:function($){$.exports=function(F,m,L,D,E,T,k){var M=1/(L-m),b=1/(E-D),a=1/(T-k);return F[0]=2*T*M,F[1]=0,F[2]=0,F[3]=0,F[4]=0,F[5]=2*T*b,F[6]=0,F[7]=0,F[8]=(L+m)*M,F[9]=(E+D)*b,F[10]=(k+T)*a,F[11]=-1,F[12]=0,F[13]=0,F[14]=k*T*2*a,F[15]=0,F}},87193:function($){$.exports=function(F){return F[0]=1,F[1]=0,F[2]=0,F[3]=0,F[4]=0,F[5]=1,F[6]=0,F[7]=0,F[8]=0,F[9]=0,F[10]=1,F[11]=0,F[12]=0,F[13]=0,F[14]=0,F[15]=1,F}},11191:function($,F,m){$.exports={create:m(87519),clone:m(99698),copy:m(57938),identity:m(87193),transpose:m(10256),invert:m(96559),adjoint:m(84840),determinant:m(6900),multiply:m(14787),translate:m(4165),scale:m(8697),rotate:m(32416),rotateX:m(81066),rotateY:m(54201),rotateZ:m(33920),fromRotation:m(43061),fromRotationTranslation:m(33606),fromScaling:m(98698),fromTranslation:m(6924),fromXRotation:m(81181),fromYRotation:m(95258),fromZRotation:m(94815),fromQuat:m(36472),frustum:m(87301),perspective:m(5313),perspectiveFromFieldOfView:m(22253),ortho:m(4633),lookAt:m(26645),str:m(66992)}},96559:function($){$.exports=function(F,m){var L=m[0],D=m[1],E=m[2],T=m[3],k=m[4],M=m[5],b=m[6],a=m[7],t=m[8],u=m[9],i=m[10],l=m[11],d=m[12],v=m[13],y=m[14],p=m[15],c=L*M-D*k,x=L*b-E*k,f=L*a-T*k,n=D*b-E*M,o=D*a-T*M,s=E*a-T*b,r=t*v-u*d,g=t*y-i*d,e=t*p-l*d,h=u*y-i*v,_=u*p-l*v,w=i*p-l*y,S=c*w-x*_+f*h+n*e-o*g+s*r;return S?(S=1/S,F[0]=(M*w-b*_+a*h)*S,F[1]=(E*_-D*w-T*h)*S,F[2]=(v*s-y*o+p*n)*S,F[3]=(i*o-u*s-l*n)*S,F[4]=(b*e-k*w-a*g)*S,F[5]=(L*w-E*e+T*g)*S,F[6]=(y*f-d*s-p*x)*S,F[7]=(t*s-i*f+l*x)*S,F[8]=(k*_-M*e+a*r)*S,F[9]=(D*e-L*_-T*r)*S,F[10]=(d*o-v*f+p*c)*S,F[11]=(u*f-t*o-l*c)*S,F[12]=(M*g-k*h-b*r)*S,F[13]=(L*h-D*g+E*r)*S,F[14]=(v*x-d*n-y*c)*S,F[15]=(t*n-u*x+i*c)*S,F):null}},26645:function($,F,m){var L=m(87193);$.exports=function(D,E,T,k){var M,b,a,t,u,i,l,d,v,y,p=E[0],c=E[1],x=E[2],f=k[0],n=k[1],o=k[2],s=T[0],r=T[1],g=T[2];return Math.abs(p-s)<1e-6&&Math.abs(c-r)<1e-6&&Math.abs(x-g)<1e-6?L(D):(l=p-s,d=c-r,v=x-g,M=n*(v*=y=1/Math.sqrt(l*l+d*d+v*v))-o*(d*=y),b=o*(l*=y)-f*v,a=f*d-n*l,(y=Math.sqrt(M*M+b*b+a*a))?(M*=y=1/y,b*=y,a*=y):(M=0,b=0,a=0),t=d*a-v*b,u=v*M-l*a,i=l*b-d*M,(y=Math.sqrt(t*t+u*u+i*i))?(t*=y=1/y,u*=y,i*=y):(t=0,u=0,i=0),D[0]=M,D[1]=t,D[2]=l,D[3]=0,D[4]=b,D[5]=u,D[6]=d,D[7]=0,D[8]=a,D[9]=i,D[10]=v,D[11]=0,D[12]=-(M*p+b*c+a*x),D[13]=-(t*p+u*c+i*x),D[14]=-(l*p+d*c+v*x),D[15]=1,D)}},14787:function($){$.exports=function(F,m,L){var D=m[0],E=m[1],T=m[2],k=m[3],M=m[4],b=m[5],a=m[6],t=m[7],u=m[8],i=m[9],l=m[10],d=m[11],v=m[12],y=m[13],p=m[14],c=m[15],x=L[0],f=L[1],n=L[2],o=L[3];return F[0]=x*D+f*M+n*u+o*v,F[1]=x*E+f*b+n*i+o*y,F[2]=x*T+f*a+n*l+o*p,F[3]=x*k+f*t+n*d+o*c,x=L[4],f=L[5],n=L[6],o=L[7],F[4]=x*D+f*M+n*u+o*v,F[5]=x*E+f*b+n*i+o*y,F[6]=x*T+f*a+n*l+o*p,F[7]=x*k+f*t+n*d+o*c,x=L[8],f=L[9],n=L[10],o=L[11],F[8]=x*D+f*M+n*u+o*v,F[9]=x*E+f*b+n*i+o*y,F[10]=x*T+f*a+n*l+o*p,F[11]=x*k+f*t+n*d+o*c,x=L[12],f=L[13],n=L[14],o=L[15],F[12]=x*D+f*M+n*u+o*v,F[13]=x*E+f*b+n*i+o*y,F[14]=x*T+f*a+n*l+o*p,F[15]=x*k+f*t+n*d+o*c,F}},4633:function($){$.exports=function(F,m,L,D,E,T,k){var M=1/(m-L),b=1/(D-E),a=1/(T-k);return F[0]=-2*M,F[1]=0,F[2]=0,F[3]=0,F[4]=0,F[5]=-2*b,F[6]=0,F[7]=0,F[8]=0,F[9]=0,F[10]=2*a,F[11]=0,F[12]=(m+L)*M,F[13]=(E+D)*b,F[14]=(k+T)*a,F[15]=1,F}},5313:function($){$.exports=function(F,m,L,D,E){var T=1/Math.tan(m/2),k=1/(D-E);return F[0]=T/L,F[1]=0,F[2]=0,F[3]=0,F[4]=0,F[5]=T,F[6]=0,F[7]=0,F[8]=0,F[9]=0,F[10]=(E+D)*k,F[11]=-1,F[12]=0,F[13]=0,F[14]=2*E*D*k,F[15]=0,F}},22253:function($){$.exports=function(F,m,L,D){var E=Math.tan(m.upDegrees*Math.PI/180),T=Math.tan(m.downDegrees*Math.PI/180),k=Math.tan(m.leftDegrees*Math.PI/180),M=Math.tan(m.rightDegrees*Math.PI/180),b=2/(k+M),a=2/(E+T);return F[0]=b,F[1]=0,F[2]=0,F[3]=0,F[4]=0,F[5]=a,F[6]=0,F[7]=0,F[8]=-(k-M)*b*.5,F[9]=(E-T)*a*.5,F[10]=D/(L-D),F[11]=-1,F[12]=0,F[13]=0,F[14]=D*L/(L-D),F[15]=0,F}},32416:function($){$.exports=function(F,m,L,D){var E,T,k,M,b,a,t,u,i,l,d,v,y,p,c,x,f,n,o,s,r,g,e,h,_=D[0],w=D[1],S=D[2],O=Math.sqrt(_*_+w*w+S*S);return Math.abs(O)<1e-6?null:(_*=O=1/O,w*=O,S*=O,E=Math.sin(L),k=1-(T=Math.cos(L)),M=m[0],b=m[1],a=m[2],t=m[3],u=m[4],i=m[5],l=m[6],d=m[7],v=m[8],y=m[9],p=m[10],c=m[11],x=_*_*k+T,f=w*_*k+S*E,n=S*_*k-w*E,o=_*w*k-S*E,s=w*w*k+T,r=S*w*k+_*E,g=_*S*k+w*E,e=w*S*k-_*E,h=S*S*k+T,F[0]=M*x+u*f+v*n,F[1]=b*x+i*f+y*n,F[2]=a*x+l*f+p*n,F[3]=t*x+d*f+c*n,F[4]=M*o+u*s+v*r,F[5]=b*o+i*s+y*r,F[6]=a*o+l*s+p*r,F[7]=t*o+d*s+c*r,F[8]=M*g+u*e+v*h,F[9]=b*g+i*e+y*h,F[10]=a*g+l*e+p*h,F[11]=t*g+d*e+c*h,m!==F&&(F[12]=m[12],F[13]=m[13],F[14]=m[14],F[15]=m[15]),F)}},81066:function($){$.exports=function(F,m,L){var D=Math.sin(L),E=Math.cos(L),T=m[4],k=m[5],M=m[6],b=m[7],a=m[8],t=m[9],u=m[10],i=m[11];return m!==F&&(F[0]=m[0],F[1]=m[1],F[2]=m[2],F[3]=m[3],F[12]=m[12],F[13]=m[13],F[14]=m[14],F[15]=m[15]),F[4]=T*E+a*D,F[5]=k*E+t*D,F[6]=M*E+u*D,F[7]=b*E+i*D,F[8]=a*E-T*D,F[9]=t*E-k*D,F[10]=u*E-M*D,F[11]=i*E-b*D,F}},54201:function($){$.exports=function(F,m,L){var D=Math.sin(L),E=Math.cos(L),T=m[0],k=m[1],M=m[2],b=m[3],a=m[8],t=m[9],u=m[10],i=m[11];return m!==F&&(F[4]=m[4],F[5]=m[5],F[6]=m[6],F[7]=m[7],F[12]=m[12],F[13]=m[13],F[14]=m[14],F[15]=m[15]),F[0]=T*E-a*D,F[1]=k*E-t*D,F[2]=M*E-u*D,F[3]=b*E-i*D,F[8]=T*D+a*E,F[9]=k*D+t*E,F[10]=M*D+u*E,F[11]=b*D+i*E,F}},33920:function($){$.exports=function(F,m,L){var D=Math.sin(L),E=Math.cos(L),T=m[0],k=m[1],M=m[2],b=m[3],a=m[4],t=m[5],u=m[6],i=m[7];return m!==F&&(F[8]=m[8],F[9]=m[9],F[10]=m[10],F[11]=m[11],F[12]=m[12],F[13]=m[13],F[14]=m[14],F[15]=m[15]),F[0]=T*E+a*D,F[1]=k*E+t*D,F[2]=M*E+u*D,F[3]=b*E+i*D,F[4]=a*E-T*D,F[5]=t*E-k*D,F[6]=u*E-M*D,F[7]=i*E-b*D,F}},8697:function($){$.exports=function(F,m,L){var D=L[0],E=L[1],T=L[2];return F[0]=m[0]*D,F[1]=m[1]*D,F[2]=m[2]*D,F[3]=m[3]*D,F[4]=m[4]*E,F[5]=m[5]*E,F[6]=m[6]*E,F[7]=m[7]*E,F[8]=m[8]*T,F[9]=m[9]*T,F[10]=m[10]*T,F[11]=m[11]*T,F[12]=m[12],F[13]=m[13],F[14]=m[14],F[15]=m[15],F}},66992:function($){$.exports=function(F){return"mat4("+F[0]+", "+F[1]+", "+F[2]+", "+F[3]+", "+F[4]+", "+F[5]+", "+F[6]+", "+F[7]+", "+F[8]+", "+F[9]+", "+F[10]+", "+F[11]+", "+F[12]+", "+F[13]+", "+F[14]+", "+F[15]+")"}},4165:function($){$.exports=function(F,m,L){var D,E,T,k,M,b,a,t,u,i,l,d,v=L[0],y=L[1],p=L[2];return m===F?(F[12]=m[0]*v+m[4]*y+m[8]*p+m[12],F[13]=m[1]*v+m[5]*y+m[9]*p+m[13],F[14]=m[2]*v+m[6]*y+m[10]*p+m[14],F[15]=m[3]*v+m[7]*y+m[11]*p+m[15]):(D=m[0],E=m[1],T=m[2],k=m[3],M=m[4],b=m[5],a=m[6],t=m[7],u=m[8],i=m[9],l=m[10],d=m[11],F[0]=D,F[1]=E,F[2]=T,F[3]=k,F[4]=M,F[5]=b,F[6]=a,F[7]=t,F[8]=u,F[9]=i,F[10]=l,F[11]=d,F[12]=D*v+M*y+u*p+m[12],F[13]=E*v+b*y+i*p+m[13],F[14]=T*v+a*y+l*p+m[14],F[15]=k*v+t*y+d*p+m[15]),F}},10256:function($){$.exports=function(F,m){if(F===m){var L=m[1],D=m[2],E=m[3],T=m[6],k=m[7],M=m[11];F[1]=m[4],F[2]=m[8],F[3]=m[12],F[4]=L,F[6]=m[9],F[7]=m[13],F[8]=D,F[9]=T,F[11]=m[14],F[12]=E,F[13]=k,F[14]=M}else F[0]=m[0],F[1]=m[4],F[2]=m[8],F[3]=m[12],F[4]=m[1],F[5]=m[5],F[6]=m[9],F[7]=m[13],F[8]=m[2],F[9]=m[6],F[10]=m[10],F[11]=m[14],F[12]=m[3],F[13]=m[7],F[14]=m[11],F[15]=m[15];return F}},74024:function($,F,m){var L=m(59518),D=m(6807),E=m(81330),T=m(38862),k=m(93103),M=m(162),b=m(68950),a=m(66127),t=m(5137),u=m(29388),i=m(4957),l=m(44626),d=m(44431),v=m(27976),y=m(12673),p=m(83473),c=m(54689).nextPow2,x=new k,f=!1;if(document.body){var n=document.body.appendChild(document.createElement("div"));n.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(n).fontStretch&&(f=!0),document.body.removeChild(n)}var o=function(s){(function(r){return typeof r=="function"&&r._gl&&r.prop&&r.texture&&r.buffer})(s)?(s={regl:s},this.gl=s.regl._gl):this.gl=T(s),this.shader=x.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=s.regl||E({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),x.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(u(s)?s:{})};o.prototype.createShader=function(){var s=this.regl,r=s({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:s.prop("count"),offset:s.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:s.this("sizeBuffer")},width:{offset:0,stride:8,buffer:s.this("sizeBuffer")},char:s.this("charBuffer"),position:s.this("position")},uniforms:{atlasSize:function(g,e){return[e.atlas.width,e.atlas.height]},atlasDim:function(g,e){return[e.atlas.cols,e.atlas.rows]},atlas:function(g,e){return e.atlas.texture},charStep:function(g,e){return e.atlas.step},em:function(g,e){return e.atlas.em},color:s.prop("color"),opacity:s.prop("opacity"),viewport:s.this("viewportArray"),scale:s.this("scale"),align:s.prop("align"),baseline:s.prop("baseline"),translate:s.this("translate"),positionOffset:s.prop("positionOffset")},primitive:"points",viewport:s.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:s,draw:r,atlas:{}}},o.prototype.update=function(s){var r=this;if(typeof s=="string")s={text:s};else if(!s)return;(s=D(s,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(s.opacity)?this.opacity=s.opacity.map(function(X){return parseFloat(X)}):this.opacity=parseFloat(s.opacity)),s.viewport!=null&&(this.viewport=t(s.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),s.kerning!=null&&(this.kerning=s.kerning),s.offset!=null&&(typeof s.offset=="number"&&(s.offset=[s.offset,0]),this.positionOffset=p(s.offset)),s.direction&&(this.direction=s.direction),s.range&&(this.range=s.range,this.scale=[1/(s.range[2]-s.range[0]),1/(s.range[3]-s.range[1])],this.translate=[-s.range[0],-s.range[1]]),s.scale&&(this.scale=s.scale),s.translate&&(this.translate=s.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||s.font||(s.font=o.baseFontSize+"px sans-serif");var g,e=!1,h=!1;if(s.font&&(Array.isArray(s.font)?s.font:[s.font]).forEach(function(X,ae){if(typeof X=="string")try{X=L.parse(X)}catch{X=L.parse(o.baseFontSize+"px "+X)}else{var K=X.style,ge=X.weight,re=X.stretch,ue=X.variant;X=L.parse(L.stringify(X)),K&&(X.style=K),ge&&(X.weight=ge),re&&(X.stretch=re),ue&&(X.variant=ue)}var we=L.stringify({size:o.baseFontSize,family:X.family,stretch:f?X.stretch:void 0,variant:X.variant,weight:X.weight,style:X.style}),Te=i(X.size),ee=Math.round(Te[0]*l(Te[1]));if(ee!==r.fontSize[ae]&&(h=!0,r.fontSize[ae]=ee),!(r.font[ae]&&we==r.font[ae].baseString||(e=!0,r.font[ae]=o.fonts[we],r.font[ae]))){var se=X.family.join(", "),ce=[X.style];X.style!=X.variant&&ce.push(X.variant),X.variant!=X.weight&&ce.push(X.weight),f&&X.weight!=X.stretch&&ce.push(X.stretch),r.font[ae]={baseString:we,family:se,weight:X.weight,stretch:X.stretch,style:X.style,variant:X.variant,width:{},kerning:{},metrics:y(se,{origin:"top",fontSize:o.baseFontSize,fontStyle:ce.join(" ")})},o.fonts[we]=r.font[ae]}}),(e||h)&&this.font.forEach(function(X,ae){var K=L.stringify({size:r.fontSize[ae],family:X.family,stretch:f?X.stretch:void 0,variant:X.variant,weight:X.weight,style:X.style});if(r.fontAtlas[ae]=r.shader.atlas[K],!r.fontAtlas[ae]){var ge=X.metrics;r.shader.atlas[K]=r.fontAtlas[ae]={fontString:K,step:2*Math.ceil(r.fontSize[ae]*ge.bottom*.5),em:r.fontSize[ae],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:r.regl.texture()}}s.text==null&&(s.text=r.text)}),typeof s.text=="string"&&s.position&&s.position.length>2){for(var _=Array(.5*s.position.length),w=0;w<_.length;w++)_[w]=s.text;s.text=_}if(s.text!=null||e){if(this.textOffsets=[0],Array.isArray(s.text)){this.count=s.text[0].length,this.counts=[this.count];for(var S=1;S<s.text.length;S++)this.textOffsets[S]=this.textOffsets[S-1]+s.text[S-1].length,this.count+=s.text[S].length,this.counts.push(s.text[S].length);this.text=s.text.join("")}else this.text=s.text,this.count=this.text.length,this.counts=[this.count];g=[],this.font.forEach(function(X,ae){o.atlasContext.font=X.baseString;for(var K=r.fontAtlas[ae],ge=0;ge<r.text.length;ge++){var re=r.text.charAt(ge);if(K.ids[re]==null&&(K.ids[re]=K.chars.length,K.chars.push(re),g.push(re)),X.width[re]==null&&(X.width[re]=o.atlasContext.measureText(re).width/o.baseFontSize,r.kerning)){var ue=[];for(var we in X.width)ue.push(we+re,re+we);v(X.kerning,d(X.family,{pairs:ue}))}}})}if(s.position)if(s.position.length>2){for(var O=!s.position[0].length,A=a.mallocFloat(2*this.count),I=0,B=0;I<this.counts.length;I++){var C=this.counts[I];if(O)for(var z=0;z<C;z++)A[B++]=s.position[2*I],A[B++]=s.position[2*I+1];else for(var P=0;P<C;P++)A[B++]=s.position[I][0],A[B++]=s.position[I][1]}this.position.call?this.position({type:"float",data:A}):this.position=this.regl.buffer({type:"float",data:A}),a.freeFloat(A)}else this.position.destroy&&this.position.destroy(),this.position={constant:s.position};if(s.text||e){var R=a.mallocUint8(this.count),N=a.mallocFloat(2*this.count);this.textWidth=[];for(var j=0,W=0;j<this.counts.length;j++){for(var Y=this.counts[j],J=this.font[j]||this.font[0],G=this.fontAtlas[j]||this.fontAtlas[0],H=0;H<Y;H++){var U=this.text.charAt(W),Z=this.text.charAt(W-1);if(R[W]=G.ids[U],N[2*W]=J.width[U],H){var q=N[2*W-2],Q=N[2*W],ne=N[2*W-1]+.5*q+.5*Q;if(this.kerning){var ie=J.kerning[Z+U];ie&&(ne+=.001*ie)}N[2*W+1]=ne}else N[2*W+1]=.5*N[2*W];W++}this.textWidth.push(N.length?.5*N[2*W-2]+N[2*W-1]:0)}s.align||(s.align=this.align),this.charBuffer({data:R,type:"uint8",usage:"stream"}),this.sizeBuffer({data:N,type:"float",usage:"stream"}),a.freeUint8(R),a.freeFloat(N),g.length&&this.font.forEach(function(X,ae){var K=r.fontAtlas[ae],ge=K.step,re=Math.floor(o.maxAtlasSize/ge),ue=Math.min(re,K.chars.length),we=Math.ceil(K.chars.length/ue),Te=c(ue*ge),ee=c(we*ge);K.width=Te,K.height=ee,K.rows=we,K.cols=ue,K.em&&K.texture({data:b({canvas:o.atlasCanvas,font:K.fontString,chars:K.chars,shape:[Te,ee],step:[ge,ge]})})})}if(s.align&&(this.align=s.align,this.alignOffset=this.textWidth.map(function(X,ae){var K=Array.isArray(r.align)?r.align.length>1?r.align[ae]:r.align[0]:r.align;if(typeof K=="number")return K;switch(K){case"right":case"end":return-X;case"center":case"centre":case"middle":return .5*-X}return 0})),this.baseline==null&&s.baseline==null&&(s.baseline=0),s.baseline!=null&&(this.baseline=s.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(X,ae){var K=(r.font[ae]||r.font[0]).metrics,ge=0;return ge+=.5*K.bottom,-1*(ge+=typeof X=="number"?X-K.baseline:-K[X])})),s.color!=null)if(s.color||(s.color="transparent"),typeof s.color!="string"&&isNaN(s.color)){var le;if(typeof s.color[0]=="number"&&s.color.length>this.counts.length){var fe=s.color.length;le=a.mallocUint8(fe);for(var pe=(s.color.subarray||s.color.slice).bind(s.color),me=0;me<fe;me+=4)le.set(M(pe(me,me+4),"uint8"),me)}else{var ke=s.color.length;le=a.mallocUint8(4*ke);for(var ve=0;ve<ke;ve++)le.set(M(s.color[ve]||0,"uint8"),4*ve)}this.color=le}else this.color=M(s.color,"uint8");if(s.position||s.text||s.color||s.baseline||s.align||s.font||s.offset||s.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var he=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(he);for(var de=0;de<this.batch.length;de++)this.batch[de]={count:this.counts.length>1?this.counts[de]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[de]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*de,4*de+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[de]:this.opacity,baseline:this.baselineOffset[de]!=null?this.baselineOffset[de]:this.baselineOffset[0],align:this.align?this.alignOffset[de]!=null?this.alignOffset[de]:this.alignOffset[0]:0,atlas:this.fontAtlas[de]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*de,2*de+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},o.prototype.destroy=function(){},o.prototype.kerning=!0,o.prototype.position={constant:new Float32Array(2)},o.prototype.translate=null,o.prototype.scale=null,o.prototype.font=null,o.prototype.text="",o.prototype.positionOffset=[0,0],o.prototype.opacity=1,o.prototype.color=new Uint8Array([0,0,0,255]),o.prototype.alignOffset=[0,0],o.maxAtlasSize=1024,o.atlasCanvas=document.createElement("canvas"),o.atlasContext=o.atlasCanvas.getContext("2d",{alpha:!1}),o.baseFontSize=64,o.fonts={},$.exports=o},38862:function($,F,m){var L=m(6807);function D(k){if(k.container)if(k.container==document.body)document.body.style.width||(k.canvas.width=k.width||k.pixelRatio*m.g.innerWidth),document.body.style.height||(k.canvas.height=k.height||k.pixelRatio*m.g.innerHeight);else{var M=k.container.getBoundingClientRect();k.canvas.width=k.width||M.right-M.left,k.canvas.height=k.height||M.bottom-M.top}}function E(k){return typeof k.getContext=="function"&&"width"in k&&"height"in k}function T(){var k=document.createElement("canvas");return k.style.position="absolute",k.style.top=0,k.style.left=0,k}$.exports=function(k){var M;if(k?typeof k=="string"&&(k={container:k}):k={},(k=E(k)||typeof(M=k).nodeName=="string"&&typeof M.appendChild=="function"&&typeof M.getBoundingClientRect=="function"?{container:k}:function(a){return typeof a.drawArrays=="function"||typeof a.drawElements=="function"}(k)?{gl:k}:L(k,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(k.pixelRatio=m.g.pixelRatio||1),k.gl)return k.gl;if(k.canvas&&(k.container=k.canvas.parentNode),k.container){if(typeof k.container=="string"){var b=document.querySelector(k.container);if(!b)throw Error("Element "+k.container+" is not found");k.container=b}E(k.container)?(k.canvas=k.container,k.container=k.canvas.parentNode):k.canvas||(k.canvas=T(),k.container.appendChild(k.canvas),D(k))}else if(!k.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");k.container=document.body||document.documentElement,k.canvas=T(),k.container.appendChild(k.canvas),D(k)}return k.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(a){try{k.gl=k.canvas.getContext(a,k.attrs)}catch{}return k.gl}),k.gl}},76765:function($){$.exports=function(F){typeof F=="string"&&(F=[F]);for(var m=[].slice.call(arguments,1),L=[],D=0;D<F.length-1;D++)L.push(F[D],m[D]||"");return L.push(F[D]),L.join("")}},52991:function($,F,m){var L=m(71129)("%Object.getOwnPropertyDescriptor%",!0);if(L)try{L([],"length")}catch{L=null}$.exports=L},39784:function($,F,m){var L,D=m(78253);L=typeof m.g.matchMedia=="function"?!m.g.matchMedia("(hover: none)").matches:D,$.exports=L},74043:function($,F,m){var L=m(78253);$.exports=L&&function(){var D=!1;try{var E=Object.defineProperty({},"passive",{get:function(){D=!0}});window.addEventListener("test",null,E),window.removeEventListener("test",null,E)}catch{D=!1}return D}()},74268:function($,F,m){var L=m(40891),D=function(){return!!L};D.hasArrayLengthDefineBug=function(){if(!L)return null;try{return L([],"length",{value:1}).length!==1}catch{return!0}},$.exports=D},58436:function($){var F={foo:{}},m=Object;$.exports=function(){return{__proto__:F}.foo===F.foo&&!({__proto__:null}instanceof m)}},8771:function($,F,m){var L=typeof Symbol<"u"&&Symbol,D=m(59457);$.exports=function(){return typeof L=="function"&&typeof Symbol=="function"&&typeof L("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&D()}},59457:function($){$.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var F={},m=Symbol("test"),L=Object(m);if(typeof m=="string"||Object.prototype.toString.call(m)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;for(m in F[m]=42,F)return!1;if(typeof Object.keys=="function"&&Object.keys(F).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(F).length!==0)return!1;var D=Object.getOwnPropertySymbols(F);if(D.length!==1||D[0]!==m||!Object.prototype.propertyIsEnumerable.call(F,m))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var E=Object.getOwnPropertyDescriptor(F,m);if(E.value!==42||E.enumerable!==!0)return!1}return!0}},36912:function($,F,m){var L=m(59457);$.exports=function(){return L()&&!!Symbol.toStringTag}},80753:function($,F,m){var L=Function.prototype.call,D=Object.prototype.hasOwnProperty,E=m(87547);$.exports=E.call(L,D)},27415:function($,F){F.read=function(m,L,D,E,T){var k,M,b=8*T-E-1,a=(1<<b)-1,t=a>>1,u=-7,i=D?T-1:0,l=D?-1:1,d=m[L+i];for(i+=l,k=d&(1<<-u)-1,d>>=-u,u+=b;u>0;k=256*k+m[L+i],i+=l,u-=8);for(M=k&(1<<-u)-1,k>>=-u,u+=E;u>0;M=256*M+m[L+i],i+=l,u-=8);if(k===0)k=1-t;else{if(k===a)return M?NaN:1/0*(d?-1:1);M+=Math.pow(2,E),k-=t}return(d?-1:1)*M*Math.pow(2,k-E)},F.write=function(m,L,D,E,T,k){var M,b,a,t=8*k-T-1,u=(1<<t)-1,i=u>>1,l=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=E?0:k-1,v=E?1:-1,y=L<0||L===0&&1/L<0?1:0;for(L=Math.abs(L),isNaN(L)||L===1/0?(b=isNaN(L)?1:0,M=u):(M=Math.floor(Math.log(L)/Math.LN2),L*(a=Math.pow(2,-M))<1&&(M--,a*=2),(L+=M+i>=1?l/a:l*Math.pow(2,1-i))*a>=2&&(M++,a/=2),M+i>=u?(b=0,M=u):M+i>=1?(b=(L*a-1)*Math.pow(2,T),M+=i):(b=L*Math.pow(2,i-1)*Math.pow(2,T),M=0));T>=8;m[D+d]=255&b,d+=v,b/=256,T-=8);for(M=M<<T|b,t+=T;t>0;m[D+d]=255&M,d+=v,M/=256,t-=8);m[D+d-v]|=128*y}},28062:function($){typeof Object.create=="function"?$.exports=function(F,m){m&&(F.super_=m,F.prototype=Object.create(m.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}))}:$.exports=function(F,m){if(m){F.super_=m;var L=function(){};L.prototype=m.prototype,F.prototype=new L,F.prototype.constructor=F}}},40280:function($,F,m){var L=m(36912)(),D=m(63063)("Object.prototype.toString"),E=function(M){return!(L&&M&&typeof M=="object"&&Symbol.toStringTag in M)&&D(M)==="[object Arguments]"},T=function(M){return!!E(M)||M!==null&&typeof M=="object"&&typeof M.length=="number"&&M.length>=0&&D(M)!=="[object Array]"&&D(M.callee)==="[object Function]"},k=function(){return E(arguments)}();E.isLegacyArguments=T,$.exports=k?E:T},78253:function($){$.exports=!0},82756:function($){var F,m,L=Function.prototype.toString,D=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof D=="function"&&typeof Object.defineProperty=="function")try{F=Object.defineProperty({},"length",{get:function(){throw m}}),m={},D(function(){throw 42},null,F)}catch(i){i!==m&&(D=null)}else D=null;var E=/^\s*class\b/,T=function(i){try{var l=L.call(i);return E.test(l)}catch{return!1}},k=function(i){try{return!T(i)&&(L.call(i),!0)}catch{return!1}},M=Object.prototype.toString,b=typeof Symbol=="function"&&!!Symbol.toStringTag,a=!(0 in[,]),t=function(){return!1};if(typeof document=="object"){var u=document.all;M.call(u)===M.call(document.all)&&(t=function(i){if((a||!i)&&(i===void 0||typeof i=="object"))try{var l=M.call(i);return(l==="[object HTMLAllCollection]"||l==="[object HTML document.all class]"||l==="[object HTMLCollection]"||l==="[object Object]")&&i("")==null}catch{}return!1})}$.exports=D?function(i){if(t(i))return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;try{D(i,null,F)}catch(l){if(l!==m)return!1}return!T(i)&&k(i)}:function(i){if(t(i))return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;if(b)return k(i);if(T(i))return!1;var l=M.call(i);return!(l!=="[object Function]"&&l!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(l))&&k(i)}},80340:function($,F,m){var L,D=Object.prototype.toString,E=Function.prototype.toString,T=/^\s*(?:function)?\*/,k=m(36912)(),M=Object.getPrototypeOf;$.exports=function(b){if(typeof b!="function")return!1;if(T.test(E.call(b)))return!0;if(!k)return D.call(b)==="[object GeneratorFunction]";if(!M)return!1;if(L===void 0){var a=function(){if(!k)return!1;try{return Function("return function*() {}")()}catch{}}();L=!!a&&M(a)}return M(b)===L}},39488:function($){$.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},73287:function($){$.exports=function(F){return F!=F}},63057:function($,F,m){var L=m(87227),D=m(97936),E=m(73287),T=m(60758),k=m(85684),M=L(T(),Number);D(M,{getPolyfill:T,implementation:E,shim:k}),$.exports=M},60758:function($,F,m){var L=m(73287);$.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:L}},85684:function($,F,m){var L=m(97936),D=m(60758);$.exports=function(){var E=D();return L(Number,{isNaN:E},{isNaN:function(){return Number.isNaN!==E}}),E}},60201:function($){$.exports=function(F){var m=typeof F;return F!==null&&(m==="object"||m==="function")}},29388:function($){var F=Object.prototype.toString;$.exports=function(m){var L;return F.call(m)==="[object Object]"&&((L=Object.getPrototypeOf(m))===null||L===Object.getPrototypeOf({}))}},9914:function($){$.exports=function(F){for(var m,L=F.length,D=0;D<L;D++)if(((m=F.charCodeAt(D))<9||m>13)&&m!==32&&m!==133&&m!==160&&m!==5760&&m!==6158&&(m<8192||m>8205)&&m!==8232&&m!==8233&&m!==8239&&m!==8287&&m!==8288&&m!==12288&&m!==65279)return!1;return!0}},13986:function($){$.exports=function(F){return typeof F=="string"&&(F=F.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(F)&&/[\dz]$/i.test(F)&&F.length>4))}},15628:function($,F,m){var L=m(61262),D=m(70085),E=m(63063),T=E("Object.prototype.toString"),k=m(36912)(),M=m(52991),b=typeof globalThis>"u"?m.g:globalThis,a=D(),t=E("Array.prototype.indexOf",!0)||function(d,v){for(var y=0;y<d.length;y+=1)if(d[y]===v)return y;return-1},u=E("String.prototype.slice"),i={},l=Object.getPrototypeOf;k&&M&&l&&L(a,function(d){var v=new b[d];if(Symbol.toStringTag in v){var y=l(v),p=M(y,Symbol.toStringTag);if(!p){var c=l(y);p=M(c,Symbol.toStringTag)}i[d]=p.get}}),$.exports=function(d){if(!d||typeof d!="object")return!1;if(!k||!(Symbol.toStringTag in d)){var v=u(T(d),8,-1);return t(a,v)>-1}return!!M&&function(y){var p=!1;return L(i,function(c,x){if(!p)try{p=c.call(y)===x}catch{}}),p}(d)}},62914:function($){$.exports=Math.log2||function(F){return Math.log(F)*Math.LOG2E}},99978:function($,F,m){$.exports=function(D,E){E||(E=D,D=window);var T=0,k=0,M=0,b={shift:!1,alt:!1,control:!1,meta:!1},a=!1;function t(f){var n=!1;return"altKey"in f&&(n=n||f.altKey!==b.alt,b.alt=!!f.altKey),"shiftKey"in f&&(n=n||f.shiftKey!==b.shift,b.shift=!!f.shiftKey),"ctrlKey"in f&&(n=n||f.ctrlKey!==b.control,b.control=!!f.ctrlKey),"metaKey"in f&&(n=n||f.metaKey!==b.meta,b.meta=!!f.metaKey),n}function u(f,n){var o=L.x(n),s=L.y(n);"buttons"in n&&(f=0|n.buttons),(f!==T||o!==k||s!==M||t(n))&&(T=0|f,k=o||0,M=s||0,E&&E(T,k,M,b))}function i(f){u(0,f)}function l(){(T||k||M||b.shift||b.alt||b.meta||b.control)&&(k=M=0,T=0,b.shift=b.alt=b.control=b.meta=!1,E&&E(0,0,0,b))}function d(f){t(f)&&E&&E(T,k,M,b)}function v(f){L.buttons(f)===0?u(0,f):u(T,f)}function y(f){u(T|L.buttons(f),f)}function p(f){u(T&~L.buttons(f),f)}function c(){a||(a=!0,D.addEventListener("mousemove",v),D.addEventListener("mousedown",y),D.addEventListener("mouseup",p),D.addEventListener("mouseleave",i),D.addEventListener("mouseenter",i),D.addEventListener("mouseout",i),D.addEventListener("mouseover",i),D.addEventListener("blur",l),D.addEventListener("keyup",d),D.addEventListener("keydown",d),D.addEventListener("keypress",d),D!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",d),window.addEventListener("keydown",d),window.addEventListener("keypress",d)))}c();var x={element:D};return Object.defineProperties(x,{enabled:{get:function(){return a},set:function(f){f?c():a&&(a=!1,D.removeEventListener("mousemove",v),D.removeEventListener("mousedown",y),D.removeEventListener("mouseup",p),D.removeEventListener("mouseleave",i),D.removeEventListener("mouseenter",i),D.removeEventListener("mouseout",i),D.removeEventListener("mouseover",i),D.removeEventListener("blur",l),D.removeEventListener("keyup",d),D.removeEventListener("keydown",d),D.removeEventListener("keypress",d),D!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",d),window.removeEventListener("keydown",d),window.removeEventListener("keypress",d)))},enumerable:!0},buttons:{get:function(){return T},enumerable:!0},x:{get:function(){return k},enumerable:!0},y:{get:function(){return M},enumerable:!0},mods:{get:function(){return b},enumerable:!0}}),x};var L=m(41926)},44039:function($){var F={left:0,top:0};$.exports=function(m,L,D){L=L||m.currentTarget||m.srcElement,Array.isArray(D)||(D=[0,0]);var E,T=m.clientX||0,k=m.clientY||0,M=(E=L)===window||E===document||E===document.body?F:E.getBoundingClientRect();return D[0]=T-M.left,D[1]=k-M.top,D}},41926:function($,F){function m(L){return L.target||L.srcElement||window}F.buttons=function(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){if((D=L.which)===2)return 4;if(D===3)return 2;if(D>0)return 1<<D-1}else if("button"in L){var D;if((D=L.button)===1)return 4;if(D===2)return 2;if(D>=0)return 1<<D}}return 0},F.element=m,F.x=function(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var D=m(L).getBoundingClientRect();return L.clientX-D.left}return 0},F.y=function(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var D=m(L).getBoundingClientRect();return L.clientY-D.top}return 0}},20573:function($,F,m){var L=m(44626);$.exports=function(D,E,T){typeof D=="function"&&(T=!!E,E=D,D=window);var k=L("ex",D),M=function(b){T&&b.preventDefault();var a=b.deltaX||0,t=b.deltaY||0,u=b.deltaZ||0,i=1;switch(b.deltaMode){case 1:i=k;break;case 2:i=window.innerHeight}if(t*=i,u*=i,(a*=i)||t||u)return E(a,t,u,b)};return D.addEventListener("wheel",M),M}},71116:function($,F,m){var L;(function(D,E,T){E[D]=E[D]||function(){var k,M,b,a=Object.prototype.toString,t=typeof setImmediate<"u"?function(o){return setImmediate(o)}:setTimeout;try{Object.defineProperty({},"x",{}),k=function(o,s,r,g){return Object.defineProperty(o,s,{value:r,writable:!0,configurable:g!==!1})}}catch{k=function(s,r,g){return s[r]=g,s}}function u(o,s){b.add(o,s),M||(M=t(b.drain))}function i(o){var s,r=typeof o;return o==null||r!="object"&&r!="function"||(s=o.then),typeof s=="function"&&s}function l(){for(var o=0;o<this.chain.length;o++)d(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function d(o,s,r){var g,e;try{s===!1?r.reject(o.msg):(g=s===!0?o.msg:s.call(void 0,o.msg))===r.promise?r.reject(TypeError("Promise-chain cycle")):(e=i(g))?e.call(g,r.resolve,r.reject):r.resolve(g)}catch(h){r.reject(h)}}function v(o){var s,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(s=i(o))?u(function(){var g=new c(r);try{s.call(o,function(){v.apply(g,arguments)},function(){y.apply(g,arguments)})}catch(e){y.call(g,e)}}):(r.msg=o,r.state=1,r.chain.length>0&&u(l,r))}catch(g){y.call(new c(r),g)}}}function y(o){var s=this;s.triggered||(s.triggered=!0,s.def&&(s=s.def),s.msg=o,s.state=2,s.chain.length>0&&u(l,s))}function p(o,s,r,g){for(var e=0;e<s.length;e++)(function(h){o.resolve(s[h]).then(function(_){r(h,_)},g)})(e)}function c(o){this.def=o,this.triggered=!1}function x(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var s=new x(this);this.then=function(r,g){var e={success:typeof r!="function"||r,failure:typeof g=="function"&&g};return e.promise=new this.constructor(function(h,_){if(typeof h!="function"||typeof _!="function")throw TypeError("Not a function");e.resolve=h,e.reject=_}),s.chain.push(e),s.state!==0&&u(l,s),e.promise},this.catch=function(r){return this.then(void 0,r)};try{o.call(void 0,function(r){v.call(s,r)},function(r){y.call(s,r)})}catch(r){y.call(s,r)}}b=function(){var o,s,r;function g(e,h){this.fn=e,this.self=h,this.next=void 0}return{add:function(e,h){r=new g(e,h),s?s.next=r:o=r,s=r,r=void 0},drain:function(){var e=o;for(o=s=M=void 0;e;)e.fn.call(e.self),e=e.next}}}();var n=k({},"constructor",f,!1);return f.prototype=n,k(n,"__NPO__",0,!1),k(f,"resolve",function(o){return o&&typeof o=="object"&&o.__NPO__===1?o:new this(function(s,r){if(typeof s!="function"||typeof r!="function")throw TypeError("Not a function");s(o)})}),k(f,"reject",function(o){return new this(function(s,r){if(typeof s!="function"||typeof r!="function")throw TypeError("Not a function");r(o)})}),k(f,"all",function(o){var s=this;return a.call(o)!="[object Array]"?s.reject(TypeError("Not an array")):o.length===0?s.resolve([]):new s(function(r,g){if(typeof r!="function"||typeof g!="function")throw TypeError("Not a function");var e=o.length,h=Array(e),_=0;p(s,o,function(w,S){h[w]=S,++_===e&&r(h)},g)})}),k(f,"race",function(o){var s=this;return a.call(o)!="[object Array]"?s.reject(TypeError("Not an array")):new s(function(r,g){if(typeof r!="function"||typeof g!="function")throw TypeError("Not a function");p(s,o,function(e,h){r(h)},g)})}),f}(),$.exports?$.exports=E[D]:(L=(function(){return E[D]}).call(F,m,F,$))===void 0||($.exports=L)})("Promise",m.g!==void 0?m.g:this)},60265:function($){var F=Math.PI,m=k(120);function L(M,b,a,t){return["C",M,b,a,t,a,t]}function D(M,b,a,t,u,i){return["C",M/3+.6666666666666666*a,b/3+.6666666666666666*t,u/3+.6666666666666666*a,i/3+.6666666666666666*t,u,i]}function E(M,b,a,t,u,i,l,d,v,y){if(y)e=y[0],h=y[1],r=y[2],g=y[3];else{var p=T(M,b,-u);M=p.x,b=p.y;var c=(M-(d=(p=T(d,v,-u)).x))/2,x=(b-(v=p.y))/2,f=c*c/(a*a)+x*x/(t*t);f>1&&(a*=f=Math.sqrt(f),t*=f);var n=a*a,o=t*t,s=(i==l?-1:1)*Math.sqrt(Math.abs((n*o-n*x*x-o*c*c)/(n*x*x+o*c*c)));s==1/0&&(s=1);var r=s*a*x/t+(M+d)/2,g=s*-t*c/a+(b+v)/2,e=Math.asin(((b-g)/t).toFixed(9)),h=Math.asin(((v-g)/t).toFixed(9));(e=M<r?F-e:e)<0&&(e=2*F+e),(h=d<r?F-h:h)<0&&(h=2*F+h),l&&e>h&&(e-=2*F),!l&&h>e&&(h-=2*F)}if(Math.abs(h-e)>m){var _=h,w=d,S=v;h=e+m*(l&&h>e?1:-1);var O=E(d=r+a*Math.cos(h),v=g+t*Math.sin(h),a,t,u,0,l,w,S,[h,_,r,g])}var A=Math.tan((h-e)/4),I=4/3*a*A,B=4/3*t*A,C=[2*M-(M+I*Math.sin(e)),2*b-(b-B*Math.cos(e)),d+I*Math.sin(h),v-B*Math.cos(h),d,v];if(y)return C;O&&(C=C.concat(O));for(var z=0;z<C.length;){var P=T(C[z],C[z+1],u);C[z++]=P.x,C[z++]=P.y}return C}function T(M,b,a){return{x:M*Math.cos(a)-b*Math.sin(a),y:M*Math.sin(a)+b*Math.cos(a)}}function k(M){return M*(F/180)}$.exports=function(M){for(var b,a=[],t=0,u=0,i=0,l=0,d=null,v=null,y=0,p=0,c=0,x=M.length;c<x;c++){var f=M[c],n=f[0];switch(n){case"M":i=f[1],l=f[2];break;case"A":(f=E(y,p,f[1],f[2],k(f[3]),f[4],f[5],f[6],f[7])).unshift("C"),f.length>7&&(a.push(f.splice(0,7)),f.unshift("C"));break;case"S":var o=y,s=p;b!="C"&&b!="S"||(o+=o-t,s+=s-u),f=["C",o,s,f[1],f[2],f[3],f[4]];break;case"T":b=="Q"||b=="T"?(d=2*y-d,v=2*p-v):(d=y,v=p),f=D(y,p,d,v,f[1],f[2]);break;case"Q":d=f[1],v=f[2],f=D(y,p,f[1],f[2],f[3],f[4]);break;case"L":f=L(y,p,f[1],f[2]);break;case"H":f=L(y,p,f[1],p);break;case"V":f=L(y,p,y,f[1]);break;case"Z":f=L(y,p,i,l)}b=n,y=f[f.length-2],p=f[f.length-1],f.length>4?(t=f[f.length-4],u=f[f.length-3]):(t=y,u=p),a.push(f)}return a}},27976:function($){var F=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;$.exports=function(){try{if(!Object.assign)return!1;var D=new String("abc");if(D[5]="de",Object.getOwnPropertyNames(D)[0]==="5")return!1;for(var E={},T=0;T<10;T++)E["_"+String.fromCharCode(T)]=T;if(Object.getOwnPropertyNames(E).map(function(M){return E[M]}).join("")!=="0123456789")return!1;var k={};return"abcdefghijklmnopqrst".split("").forEach(function(M){k[M]=M}),Object.keys(Object.assign({},k)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(D,E){for(var T,k,M=function(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}(D),b=1;b<arguments.length;b++){for(var a in T=Object(arguments[b]))m.call(T,a)&&(M[a]=T[a]);if(F){k=F(T);for(var t=0;t<k.length;t++)L.call(T,k[t])&&(M[k[t]]=T[k[t]])}}return M}},93063:function($){var F=function(m){return m!=m};$.exports=function(m,L){return m===0&&L===0?1/m==1/L:m===L||!(!F(m)||!F(L))}},13969:function($,F,m){var L=m(97936),D=m(87227),E=m(93063),T=m(9622),k=m(79796),M=D(T(),Object);L(M,{getPolyfill:T,implementation:E,shim:k}),$.exports=M},9622:function($,F,m){var L=m(93063);$.exports=function(){return typeof Object.is=="function"?Object.is:L}},79796:function($,F,m){var L=m(9622),D=m(97936);$.exports=function(){var E=L();return D(Object,{is:E},{is:function(){return Object.is!==E}}),E}},61663:function($,F,m){var L;if(!Object.keys){var D=Object.prototype.hasOwnProperty,E=Object.prototype.toString,T=m(52385),k=Object.prototype.propertyIsEnumerable,M=!k.call({toString:null},"toString"),b=k.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(l){var d=l.constructor;return d&&d.prototype===l},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},i=function(){if(typeof window>"u")return!1;for(var l in window)try{if(!u["$"+l]&&D.call(window,l)&&window[l]!==null&&typeof window[l]=="object")try{t(window[l])}catch{return!0}}catch{return!0}return!1}();L=function(l){var d=l!==null&&typeof l=="object",v=E.call(l)==="[object Function]",y=T(l),p=d&&E.call(l)==="[object String]",c=[];if(!d&&!v&&!y)throw new TypeError("Object.keys called on a non-object");var x=b&&v;if(p&&l.length>0&&!D.call(l,0))for(var f=0;f<l.length;++f)c.push(String(f));if(y&&l.length>0)for(var n=0;n<l.length;++n)c.push(String(n));else for(var o in l)x&&o==="prototype"||!D.call(l,o)||c.push(String(o));if(M)for(var s=function(g){if(typeof window>"u"||!i)return t(g);try{return t(g)}catch{return!1}}(l),r=0;r<a.length;++r)s&&a[r]==="constructor"||!D.call(l,a[r])||c.push(a[r]);return c}}$.exports=L},99433:function($,F,m){var L=Array.prototype.slice,D=m(52385),E=Object.keys,T=E?function(M){return E(M)}:m(61663),k=Object.keys;T.shim=function(){if(Object.keys){var M=function(){var b=Object.keys(arguments);return b&&b.length===arguments.length}(1,2);M||(Object.keys=function(b){return D(b)?k(L.call(b)):k(b)})}else Object.keys=T;return Object.keys||T},$.exports=T},52385:function($){var F=Object.prototype.toString;$.exports=function(m){var L=F.call(m),D=L==="[object Arguments]";return D||(D=L!=="[object Array]"&&m!==null&&typeof m=="object"&&typeof m.length=="number"&&m.length>=0&&F.call(m.callee)==="[object Function]"),D}},96927:function($,F,m){var L=m(99433),D=m(59457)(),E=m(63063),T=Object,k=E("Array.prototype.push"),M=E("Object.prototype.propertyIsEnumerable"),b=D?Object.getOwnPropertySymbols:null;$.exports=function(a,t){if(a==null)throw new TypeError("target must be an object");var u=T(a);if(arguments.length===1)return u;for(var i=1;i<arguments.length;++i){var l=T(arguments[i]),d=L(l),v=D&&(Object.getOwnPropertySymbols||b);if(v)for(var y=v(l),p=0;p<y.length;++p){var c=y[p];M(l,c)&&k(d,c)}for(var x=0;x<d.length;++x){var f=d[x];if(M(l,f)){var n=l[f];u[f]=n}}}return u}},68686:function($,F,m){var L=m(96927);$.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var D="abcdefghijklmnopqrst",E=D.split(""),T={},k=0;k<E.length;++k)T[E[k]]=E[k];var M=Object.assign({},T),b="";for(var a in M)b+=a;return D!==b}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var D=Object.preventExtensions({1:2});try{Object.assign(D,"xy")}catch{return D[1]==="y"}return!1}()?L:Object.assign:L}},59811:function($){function F(D,E){if(typeof D!="string")return[D];var T=[D];typeof E=="string"||Array.isArray(E)?E={brackets:E}:E||(E={});var k=E.brackets?Array.isArray(E.brackets)?E.brackets:[E.brackets]:["{}","[]","()"],M=E.escape||"___",b=!!E.flat;k.forEach(function(t){var u=new RegExp(["\\",t[0],"[^\\",t[0],"\\",t[1],"]*\\",t[1]].join("")),i=[];function l(d,v,y){var p=T.push(d.slice(t[0].length,-t[1].length))-1;return i.push(p),M+p+M}T.forEach(function(d,v){for(var y,p=0;d!=y;)if(y=d,d=d.replace(u,l),p++>1e4)throw Error("References have circular dependency. Please, check them.");T[v]=d}),i=i.reverse(),T=T.map(function(d){return i.forEach(function(v){d=d.replace(new RegExp("(\\"+M+v+"\\"+M+")","g"),t[0]+"$1"+t[1])}),d})});var a=new RegExp("\\"+M+"([0-9]+)\\"+M);return b?T:function t(u,i,l){for(var d,v=[],y=0;d=a.exec(u);){if(y++>1e4)throw Error("Circular references in parenthesis");v.push(u.slice(0,d.index)),v.push(t(i[d[1]],i)),u=u.slice(d.index+d[0].length)}return v.push(u),v}(T[0],T)}function m(D,E){if(E&&E.flat){var T,k=E&&E.escape||"___",M=D[0];if(!M)return"";for(var b=new RegExp("\\"+k+"([0-9]+)\\"+k),a=0;M!=T;){if(a++>1e4)throw Error("Circular references in "+D);T=M,M=M.replace(b,t)}return M}return D.reduce(function u(i,l){return Array.isArray(l)&&(l=l.reduce(u,"")),i+l},"");function t(u,i){if(D[i]==null)throw Error("Reference "+i+"is undefined");return D[i]}}function L(D,E){return Array.isArray(D)?m(D,E):F(D,E)}L.parse=F,L.stringify=m,$.exports=L},5137:function($,F,m){var L=m(6807);$.exports=function(D){var E;return arguments.length>1&&(D=arguments),typeof D=="string"?D=D.split(/\s/).map(parseFloat):typeof D=="number"&&(D=[D]),D.length&&typeof D[0]=="number"?E=D.length===1?{width:D[0],height:D[0],x:0,y:0}:D.length===2?{width:D[0],height:D[1],x:0,y:0}:{x:D[0],y:D[1],width:D[2]-D[0]||0,height:D[3]-D[1]||0}:D&&(E={x:(D=L(D,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:D.top||0},D.width==null?D.right?E.width=D.right-E.x:E.width=0:E.width=D.width,D.height==null?D.bottom?E.height=D.bottom-E.y:E.height=0:E.height=D.height),E}},26953:function($){$.exports=function(D){var E=[];return D.replace(m,function(T,k,M){var b=k.toLowerCase();for(M=function(a){var t=a.match(L);return t?t.map(Number):[]}(M),b=="m"&&M.length>2&&(E.push([k].concat(M.splice(0,2))),b="l",k=k=="m"?"l":"L");;){if(M.length==F[b])return M.unshift(k),E.push(M);if(M.length<F[b])throw new Error("malformed path data");E.push([k].concat(M.splice(0,F[b])))}}),E};var F={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},m=/([astvzqmhlc])([^astvzqmhlc]*)/gi,L=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},4957:function($){$.exports=function(F,m){m||(m=[0,""]),F=String(F);var L=parseFloat(F,10);return m[0]=L,m[1]=F.match(/[\d.\-\+]*\s*(.*)/)[1]||"",m}},71879:function($,F,m){var L=m(33282);(function(){var D,E,T,k,M,b;typeof performance<"u"&&performance!==null&&performance.now?$.exports=function(){return performance.now()}:L!=null&&L.hrtime?($.exports=function(){return(D()-M)/1e6},E=L.hrtime,k=(D=function(){var a;return 1e9*(a=E())[0]+a[1]})(),b=1e9*L.uptime(),M=k-b):Date.now?($.exports=function(){return Date.now()-T},T=Date.now()):($.exports=function(){return new Date().getTime()-T},T=new Date().getTime())}).call(this)},6807:function($){$.exports=function(L,D,E){var T,k,M={};if(typeof D=="string"&&(D=m(D)),Array.isArray(D)){var b={};for(k=0;k<D.length;k++)b[D[k]]=!0;D=b}for(T in D)D[T]=m(D[T]);var a={};for(T in D){var t=D[T];if(Array.isArray(t))for(k=0;k<t.length;k++){var u=t[k];if(E&&(a[u]=!0),u in L){if(M[T]=L[u],E)for(var i=k;i<t.length;i++)a[t[i]]=!0;break}}else T in L&&(D[T]&&(M[T]=L[T]),E&&(a[T]=!0))}if(E)for(T in L)a[T]||(M[T]=L[T]);return M};var F={};function m(L){return F[L]?F[L]:(typeof L=="string"&&(L=F[L]=L.split(/\s*,\s*|\s+/)),L)}},52773:function($){$.exports=function(F,m,L,D){var E=F[0],T=F[1],k=!1;L===void 0&&(L=0),D===void 0&&(D=m.length);for(var M=D-L,b=0,a=M-1;b<M;a=b++){var t=m[b+L][0],u=m[b+L][1],i=m[a+L][0],l=m[a+L][1];u>T!=l>T&&E<(i-t)*(T-u)/(l-u)+t&&(k=!k)}return k}},11516:function($,F,m){var L,D=m(42391),E=m(92990),T=m(26202),k=m(22222),M=m(17527),b=m(24491),a=!1,t=E();function u(i,l,d){var v=L.segments(i),y=L.segments(l),p=d(L.combine(v,y));return L.polygon(p)}L={buildLog:function(i){return i===!0?a=D():i===!1&&(a=!1),a!==!1&&a.list},epsilon:function(i){return t.epsilon(i)},segments:function(i){var l=T(!0,t,a);return i.regions.forEach(l.addRegion),{segments:l.calculate(i.inverted),inverted:i.inverted}},combine:function(i,l){return{combined:T(!1,t,a).calculate(i.segments,i.inverted,l.segments,l.inverted),inverted1:i.inverted,inverted2:l.inverted}},selectUnion:function(i){return{segments:M.union(i.combined,a),inverted:i.inverted1||i.inverted2}},selectIntersect:function(i){return{segments:M.intersect(i.combined,a),inverted:i.inverted1&&i.inverted2}},selectDifference:function(i){return{segments:M.difference(i.combined,a),inverted:i.inverted1&&!i.inverted2}},selectDifferenceRev:function(i){return{segments:M.differenceRev(i.combined,a),inverted:!i.inverted1&&i.inverted2}},selectXor:function(i){return{segments:M.xor(i.combined,a),inverted:i.inverted1!==i.inverted2}},polygon:function(i){return{regions:k(i.segments,t,a),inverted:i.inverted}},polygonFromGeoJSON:function(i){return b.toPolygon(L,i)},polygonToGeoJSON:function(i){return b.fromPolygon(L,t,i)},union:function(i,l){return u(i,l,L.selectUnion)},intersect:function(i,l){return u(i,l,L.selectIntersect)},difference:function(i,l){return u(i,l,L.selectDifference)},differenceRev:function(i,l){return u(i,l,L.selectDifferenceRev)},xor:function(i,l){return u(i,l,L.selectXor)}},typeof window=="object"&&(window.PolyBool=L),$.exports=L},42391:function($){$.exports=function(){var F,m=0,L=!1;function D(E,T){return F.list.push({type:E,data:T?JSON.parse(JSON.stringify(T)):void 0}),F}return F={list:[],segmentId:function(){return m++},checkIntersection:function(E,T){return D("check",{seg1:E,seg2:T})},segmentChop:function(E,T){return D("div_seg",{seg:E,pt:T}),D("chop",{seg:E,pt:T})},statusRemove:function(E){return D("pop_seg",{seg:E})},segmentUpdate:function(E){return D("seg_update",{seg:E})},segmentNew:function(E,T){return D("new_seg",{seg:E,primary:T})},segmentRemove:function(E){return D("rem_seg",{seg:E})},tempStatus:function(E,T,k){return D("temp_status",{seg:E,above:T,below:k})},rewind:function(E){return D("rewind",{seg:E})},status:function(E,T,k){return D("status",{seg:E,above:T,below:k})},vert:function(E){return E===L?F:(L=E,D("vert",{x:E}))},log:function(E){return typeof E!="string"&&(E=JSON.stringify(E,!1,"  ")),D("log",{txt:E})},reset:function(){return D("reset")},selected:function(E){return D("selected",{segs:E})},chainStart:function(E){return D("chain_start",{seg:E})},chainRemoveHead:function(E,T){return D("chain_rem_head",{index:E,pt:T})},chainRemoveTail:function(E,T){return D("chain_rem_tail",{index:E,pt:T})},chainNew:function(E,T){return D("chain_new",{pt1:E,pt2:T})},chainMatch:function(E){return D("chain_match",{index:E})},chainClose:function(E){return D("chain_close",{index:E})},chainAddHead:function(E,T){return D("chain_add_head",{index:E,pt:T})},chainAddTail:function(E,T){return D("chain_add_tail",{index:E,pt:T})},chainConnect:function(E,T){return D("chain_con",{index1:E,index2:T})},chainReverse:function(E){return D("chain_rev",{index:E})},chainJoin:function(E,T){return D("chain_join",{index1:E,index2:T})},done:function(){return D("done")}}}},92990:function($){$.exports=function(F){typeof F!="number"&&(F=1e-10);var m={epsilon:function(L){return typeof L=="number"&&(F=L),F},pointAboveOrOnLine:function(L,D,E){var T=D[0],k=D[1],M=E[0],b=E[1],a=L[0];return(M-T)*(L[1]-k)-(b-k)*(a-T)>=-F},pointBetween:function(L,D,E){var T=L[1]-D[1],k=E[0]-D[0],M=L[0]-D[0],b=E[1]-D[1],a=M*k+T*b;return!(a<F||a-(k*k+b*b)>-F)},pointsSameX:function(L,D){return Math.abs(L[0]-D[0])<F},pointsSameY:function(L,D){return Math.abs(L[1]-D[1])<F},pointsSame:function(L,D){return m.pointsSameX(L,D)&&m.pointsSameY(L,D)},pointsCompare:function(L,D){return m.pointsSameX(L,D)?m.pointsSameY(L,D)?0:L[1]<D[1]?-1:1:L[0]<D[0]?-1:1},pointsCollinear:function(L,D,E){var T=L[0]-D[0],k=L[1]-D[1],M=D[0]-E[0],b=D[1]-E[1];return Math.abs(T*b-M*k)<F},linesIntersect:function(L,D,E,T){var k=D[0]-L[0],M=D[1]-L[1],b=T[0]-E[0],a=T[1]-E[1],t=k*a-M*b;if(Math.abs(t)<F)return!1;var u=L[0]-E[0],i=L[1]-E[1],l=(b*i-a*u)/t,d=(k*i-M*u)/t,v={alongA:0,alongB:0,pt:[L[0]+l*k,L[1]+l*M]};return v.alongA=l<=-F?-2:l<F?-1:l-1<=-F?0:l-1<F?1:2,v.alongB=d<=-F?-2:d<F?-1:d-1<=-F?0:d-1<F?1:2,v},pointInsideRegion:function(L,D){for(var E=L[0],T=L[1],k=D[D.length-1][0],M=D[D.length-1][1],b=!1,a=0;a<D.length;a++){var t=D[a][0],u=D[a][1];u-T>F!=M-T>F&&(k-t)*(T-u)/(M-u)+t-E>F&&(b=!b),k=t,M=u}return b}};return m}},24491:function($){var F={toPolygon:function(m,L){function D(k){if(k.length<=0)return m.segments({inverted:!1,regions:[]});function M(t){var u=t.slice(0,t.length-1);return m.segments({inverted:!1,regions:[u]})}for(var b=M(k[0]),a=1;a<k.length;a++)b=m.selectDifference(m.combine(b,M(k[a])));return b}if(L.type==="Polygon")return m.polygon(D(L.coordinates));if(L.type==="MultiPolygon"){for(var E=m.segments({inverted:!1,regions:[]}),T=0;T<L.coordinates.length;T++)E=m.selectUnion(m.combine(E,D(L.coordinates[T])));return m.polygon(E)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(m,L,D){function E(d,v){return L.pointInsideRegion([.5*(d[0][0]+d[1][0]),.5*(d[0][1]+d[1][1])],v)}function T(d){return{region:d,children:[]}}D=m.polygon(m.segments(D));var k=T(null);function M(d,v){for(var y=0;y<d.children.length;y++)if(E(v,(c=d.children[y]).region))return void M(c,v);var p=T(v);for(y=0;y<d.children.length;y++){var c;E((c=d.children[y]).region,v)&&(p.children.push(c),d.children.splice(y,1),y--)}d.children.push(p)}for(var b=0;b<D.regions.length;b++){var a=D.regions[b];a.length<3||M(k,a)}function t(d,v){for(var y=0,p=d[d.length-1][0],c=d[d.length-1][1],x=[],f=0;f<d.length;f++){var n=d[f][0],o=d[f][1];x.push([n,o]),y+=o*p-n*c,p=n,c=o}return y<0!==v&&x.reverse(),x.push([x[0][0],x[0][1]]),x}var u=[];function i(d){var v=[t(d.region,!1)];u.push(v);for(var y=0;y<d.children.length;y++)v.push(l(d.children[y]))}function l(d){for(var v=0;v<d.children.length;v++)i(d.children[v]);return t(d.region,!0)}for(b=0;b<k.children.length;b++)i(k.children[b]);return u.length<=0?{type:"Polygon",coordinates:[]}:u.length==1?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};$.exports=F},26202:function($,F,m){var L=m(48916);$.exports=function(D,E,T){function k(i,l,d){return{id:T?T.segmentId():-1,start:i,end:l,myFill:{above:d.myFill.above,below:d.myFill.below},otherFill:null}}var M=L.create();function b(i,l){M.insertBefore(i,function(d){return v=i.isStart,y=i.pt,p=l,c=d.isStart,x=d.pt,f=d.other.pt,((n=E.pointsCompare(y,x))!==0?n:E.pointsSame(p,f)?0:v!==c?v?1:-1:E.pointAboveOrOnLine(p,c?x:f,c?f:x)?1:-1)<0;var v,y,p,c,x,f,n})}function a(i,l){var d=function(v,y){var p=L.node({isStart:!0,pt:v.start,seg:v,primary:y,other:null,status:null});return b(p,v.end),p}(i,l);return function(v,y,p){var c=L.node({isStart:!1,pt:y.end,seg:y,primary:p,other:v,status:null});v.other=c,b(c,v.pt)}(d,i,l),d}function t(i,l){var d=k(l,i.seg.end,i.seg);return function(v,y){T&&T.segmentChop(v.seg,y),v.other.remove(),v.seg.end=y,v.other.pt=y,b(v.other,v.pt)}(i,l),a(d,i.primary)}function u(i,l){var d=L.create();function v(h){return d.findTransition(function(_){var w,S,O,A,I,B;return w=h,S=_.ev,O=w.seg.start,A=w.seg.end,I=S.seg.start,B=S.seg.end,(E.pointsCollinear(O,I,B)?E.pointsCollinear(A,I,B)||E.pointAboveOrOnLine(A,I,B)?1:-1:E.pointAboveOrOnLine(O,I,B)?1:-1)>0})}function y(h,_){var w=h.seg,S=_.seg,O=w.start,A=w.end,I=S.start,B=S.end;T&&T.checkIntersection(w,S);var C=E.linesIntersect(O,A,I,B);if(C===!1){if(!E.pointsCollinear(O,A,I)||E.pointsSame(O,B)||E.pointsSame(A,I))return!1;var z=E.pointsSame(O,I),P=E.pointsSame(A,B);if(z&&P)return _;var R=!z&&E.pointBetween(O,I,B),N=!P&&E.pointBetween(A,I,B);if(z)return N?t(_,A):t(h,B),_;R&&(P||(N?t(_,A):t(h,B)),t(_,O))}else C.alongA===0&&(C.alongB===-1?t(h,I):C.alongB===0?t(h,C.pt):C.alongB===1&&t(h,B)),C.alongB===0&&(C.alongA===-1?t(_,O):C.alongA===0?t(_,C.pt):C.alongA===1&&t(_,A));return!1}for(var p=[];!M.isEmpty();){var c=M.getHead();if(T&&T.vert(c.pt[0]),c.isStart){let h=function(){if(f){var _=y(c,f);if(_)return _}return!!n&&y(c,n)};T&&T.segmentNew(c.seg,c.primary);var x=v(c),f=x.before?x.before.ev:null,n=x.after?x.after.ev:null;T&&T.tempStatus(c.seg,!!f&&f.seg,!!n&&n.seg);var o,s,r=h();if(r&&(D?(s=c.seg.myFill.below===null||c.seg.myFill.above!==c.seg.myFill.below)&&(r.seg.myFill.above=!r.seg.myFill.above):r.seg.otherFill=c.seg.myFill,T&&T.segmentUpdate(r.seg),c.other.remove(),c.remove()),M.getHead()!==c){T&&T.rewind(c.seg);continue}D?(s=c.seg.myFill.below===null||c.seg.myFill.above!==c.seg.myFill.below,c.seg.myFill.below=n?n.seg.myFill.above:i,c.seg.myFill.above=s?!c.seg.myFill.below:c.seg.myFill.below):c.seg.otherFill===null&&(o=n?c.primary===n.primary?n.seg.otherFill.above:n.seg.myFill.above:c.primary?l:i,c.seg.otherFill={above:o,below:o}),T&&T.status(c.seg,!!f&&f.seg,!!n&&n.seg),c.other.status=x.insert(L.node({ev:c}))}else{var g=c.status;if(g===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(d.exists(g.prev)&&d.exists(g.next)&&y(g.prev.ev,g.next.ev),T&&T.statusRemove(g.ev.seg),g.remove(),!c.primary){var e=c.seg.myFill;c.seg.myFill=c.seg.otherFill,c.seg.otherFill=e}p.push(c.seg)}M.getHead().remove()}return T&&T.done(),p}return D?{addRegion:function(i){for(var l,d,v,y=i[i.length-1],p=0;p<i.length;p++){l=y,y=i[p];var c=E.pointsCompare(l,y);c!==0&&a((d=c<0?l:y,v=c<0?y:l,{id:T?T.segmentId():-1,start:d,end:v,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(i){return u(i,!1)}}:{calculate:function(i,l,d,v){return i.forEach(function(y){a(k(y.start,y.end,y),!0)}),d.forEach(function(y){a(k(y.start,y.end,y),!1)}),u(l,v)}}}},48916:function($){$.exports={create:function(){var F={root:{root:!0,next:null},exists:function(m){return m!==null&&m!==F.root},isEmpty:function(){return F.root.next===null},getHead:function(){return F.root.next},insertBefore:function(m,L){for(var D=F.root,E=F.root.next;E!==null;){if(L(E))return m.prev=E.prev,m.next=E,E.prev.next=m,void(E.prev=m);D=E,E=E.next}D.next=m,m.prev=D,m.next=null},findTransition:function(m){for(var L=F.root,D=F.root.next;D!==null&&!m(D);)L=D,D=D.next;return{before:L===F.root?null:L,after:D,insert:function(E){return E.prev=L,E.next=D,L.next=E,D!==null&&(D.prev=E),E}}}};return F},node:function(F){return F.prev=null,F.next=null,F.remove=function(){F.prev.next=F.next,F.next&&(F.next.prev=F.prev),F.prev=null,F.next=null},F}}},22222:function($){$.exports=function(F,m,L){var D=[],E=[];return F.forEach(function(T){var k=T.start,M=T.end;if(m.pointsSame(k,M))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{L&&L.chainStart(T);for(var b={index:0,matches_head:!1,matches_pt1:!1},a={index:0,matches_head:!1,matches_pt1:!1},t=b,u=0;u<D.length;u++){var i=(p=D[u])[0],l=(p[1],p[p.length-1]);if(p[p.length-2],m.pointsSame(i,k)){if(g(u,!0,!0))break}else if(m.pointsSame(i,M)){if(g(u,!0,!1))break}else if(m.pointsSame(l,k)){if(g(u,!1,!0))break}else if(m.pointsSame(l,M)&&g(u,!1,!1))break}if(t===b)return D.push([k,M]),void(L&&L.chainNew(k,M));if(t===a){L&&L.chainMatch(b.index);var d=b.index,v=b.matches_pt1?M:k,y=b.matches_head,p=D[d],c=y?p[0]:p[p.length-1],x=y?p[1]:p[p.length-2],f=y?p[p.length-1]:p[0],n=y?p[p.length-2]:p[1];return m.pointsCollinear(x,c,v)&&(y?(L&&L.chainRemoveHead(b.index,v),p.shift()):(L&&L.chainRemoveTail(b.index,v),p.pop()),c=x),m.pointsSame(f,v)?(D.splice(d,1),m.pointsCollinear(n,f,c)&&(y?(L&&L.chainRemoveTail(b.index,c),p.pop()):(L&&L.chainRemoveHead(b.index,c),p.shift())),L&&L.chainClose(b.index),void E.push(p)):void(y?(L&&L.chainAddHead(b.index,v),p.unshift(v)):(L&&L.chainAddTail(b.index,v),p.push(v)))}var o=b.index,s=a.index;L&&L.chainConnect(o,s);var r=D[o].length<D[s].length;b.matches_head?a.matches_head?r?(e(o),h(o,s)):(e(s),h(s,o)):h(s,o):a.matches_head?h(o,s):r?(e(o),h(s,o)):(e(s),h(o,s))}function g(_,w,S){return t.index=_,t.matches_head=w,t.matches_pt1=S,t===b?(t=a,!1):(t=null,!0)}function e(_){L&&L.chainReverse(_),D[_].reverse()}function h(_,w){var S=D[_],O=D[w],A=S[S.length-1],I=S[S.length-2],B=O[0],C=O[1];m.pointsCollinear(I,A,B)&&(L&&L.chainRemoveTail(_,A),S.pop(),A=I),m.pointsCollinear(A,B,C)&&(L&&L.chainRemoveHead(w,B),O.shift()),L&&L.chainJoin(_,w),D[_]=S.concat(O),D.splice(w,1)}}),E}},17527:function($){function F(L,D,E){var T=[];return L.forEach(function(k){var M=(k.myFill.above?8:0)+(k.myFill.below?4:0)+(k.otherFill&&k.otherFill.above?2:0)+(k.otherFill&&k.otherFill.below?1:0);D[M]!==0&&T.push({id:E?E.segmentId():-1,start:k.start,end:k.end,myFill:{above:D[M]===1,below:D[M]===2},otherFill:null})}),E&&E.selected(T),T}var m={union:function(L,D){return F(L,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],D)},intersect:function(L,D){return F(L,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],D)},difference:function(L,D){return F(L,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],D)},differenceRev:function(L,D){return F(L,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],D)},xor:function(L,D){return F(L,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],D)}};$.exports=m},33282:function($){var F,m,L=$.exports={};function D(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}function T(d){if(F===setTimeout)return setTimeout(d,0);if((F===D||!F)&&setTimeout)return F=setTimeout,setTimeout(d,0);try{return F(d,0)}catch{try{return F.call(null,d,0)}catch{return F.call(this,d,0)}}}(function(){try{F=typeof setTimeout=="function"?setTimeout:D}catch{F=D}try{m=typeof clearTimeout=="function"?clearTimeout:E}catch{m=E}})();var k,M=[],b=!1,a=-1;function t(){b&&k&&(b=!1,k.length?M=k.concat(M):a=-1,M.length&&u())}function u(){if(!b){var d=T(t);b=!0;for(var v=M.length;v;){for(k=M,M=[];++a<v;)k&&k[a].run();a=-1,v=M.length}k=null,b=!1,function(y){if(m===clearTimeout)return clearTimeout(y);if((m===E||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(y);try{return m(y)}catch{try{return m.call(null,y)}catch{return m.call(this,y)}}}(d)}}function i(d,v){this.fun=d,this.array=v}function l(){}L.nextTick=function(d){var v=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)v[y-1]=arguments[y];M.push(new i(d,v)),M.length!==1||b||T(u)},i.prototype.run=function(){this.fun.apply(null,this.array)},L.title="browser",L.browser=!0,L.env={},L.argv=[],L.version="",L.versions={},L.on=l,L.addListener=l,L.once=l,L.off=l,L.removeListener=l,L.removeAllListeners=l,L.emit=l,L.prependListener=l,L.prependOnceListener=l,L.listeners=function(d){return[]},L.binding=function(d){throw new Error("process.binding is not supported")},L.cwd=function(){return"/"},L.chdir=function(d){throw new Error("process.chdir is not supported")},L.umask=function(){return 0}},16494:function($,F,m){for(var L=m(71879),D=typeof window>"u"?m.g:window,E=["moz","webkit"],T="AnimationFrame",k=D["request"+T],M=D["cancel"+T]||D["cancelRequest"+T],b=0;!k&&b<E.length;b++)k=D[E[b]+"Request"+T],M=D[E[b]+"Cancel"+T]||D[E[b]+"CancelRequest"+T];if(!k||!M){var a=0,t=0,u=[];k=function(i){if(u.length===0){var l=L(),d=Math.max(0,16.666666666666668-(l-a));a=d+l,setTimeout(function(){var v=u.slice(0);u.length=0;for(var y=0;y<v.length;y++)if(!v[y].cancelled)try{v[y].callback(a)}catch(p){setTimeout(function(){throw p},0)}},Math.round(d))}return u.push({handle:++t,callback:i,cancelled:!1}),t},M=function(i){for(var l=0;l<u.length;l++)u[l].handle===i&&(u[l].cancelled=!0)}}$.exports=function(i){return k.call(D,i)},$.exports.cancel=function(){M.apply(D,arguments)},$.exports.polyfill=function(i){i||(i=D),i.requestAnimationFrame=k,i.cancelAnimationFrame=M}},29978:function($,F,m){var L=m(78112),D=m(162),E=m(79788),T=m(6807),k=m(27976),M=m(83473),b=m(51498),a=b.float32,t=b.fract32;$.exports=function(i,l){if(typeof i=="function"?(l||(l={}),l.regl=i):l=i,l.length&&(l.positions=l),!(i=l.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var d,v,y,p,c,x,f=i._gl,n={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},o=[];return p=i.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),v=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),y=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),c=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),x=i.buffer({usage:"static",type:"float",data:u}),e(l),d=i({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:i.prop("range"),lineWidth:i.prop("lineWidth"),capSize:i.prop("capSize"),opacity:i.prop("opacity"),scale:i.prop("scale"),translate:i.prop("translate"),scaleFract:i.prop("scaleFract"),translateFract:i.prop("translateFract"),viewport:function(_,w){return[w.viewport.x,w.viewport.y,_.viewportWidth,_.viewportHeight]}},attributes:{color:{buffer:p,offset:function(_,w){return 4*w.offset},divisor:1},position:{buffer:v,offset:function(_,w){return 8*w.offset},divisor:1},positionFract:{buffer:y,offset:function(_,w){return 8*w.offset},divisor:1},error:{buffer:c,offset:function(_,w){return 16*w.offset},divisor:1},direction:{buffer:x,stride:24,offset:0},lineOffset:{buffer:x,stride:24,offset:8},capOffset:{buffer:x,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:!1,instances:i.prop("count"),count:u.length}),k(s,{update:e,draw:r,destroy:h,regl:i,gl:f,canvas:f.canvas,groups:o}),s;function s(_){_?e(_):_===null&&h(),r()}function r(_){if(typeof _=="number")return g(_);_&&!Array.isArray(_)&&(_=[_]),i._refresh(),o.forEach(function(w,S){w&&(_&&(_[S]?w.draw=!0:w.draw=!1),w.draw?g(S):w.draw=!0)})}function g(_){typeof _=="number"&&(_=o[_]),_!=null&&_&&_.count&&_.color&&_.opacity&&_.positions&&_.positions.length>1&&(_.scaleRatio=[_.scale[0]*_.viewport.width,_.scale[1]*_.viewport.height],d(_),_.after&&_.after(_))}function e(_){if(_){_.length!=null?typeof _[0]=="number"&&(_=[{positions:_}]):Array.isArray(_)||(_=[_]);var w=0,S=0;if(s.groups=o=_.map(function(P,R){var N=o[R];return P&&(typeof P=="function"?P={after:P}:typeof P[0]=="number"&&(P={positions:P}),P=T(P,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),N||(o[R]=N={id:R,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},P=k({},n,P)),E(N,P,[{lineWidth:function(j){return .5*+j},capSize:function(j){return .5*+j},opacity:parseFloat,errors:function(j){return j=M(j),S+=j.length,j},positions:function(j,W){return j=M(j,"float64"),W.count=Math.floor(j.length/2),W.bounds=L(j,2),W.offset=w,w+=W.count,j}},{color:function(j,W){var Y=W.count;if(j||(j="transparent"),!Array.isArray(j)||typeof j[0]=="number"){var J=j;j=Array(Y);for(var G=0;G<Y;G++)j[G]=J}if(j.length<Y)throw Error("Not enough colors");for(var H=new Uint8Array(4*Y),U=0;U<Y;U++){var Z=D(j[U],"uint8");H.set(Z,4*U)}return H},range:function(j,W,Y){var J=W.bounds;return j||(j=J),W.scale=[1/(j[2]-j[0]),1/(j[3]-j[1])],W.translate=[-j[0],-j[1]],W.scaleFract=t(W.scale),W.translateFract=t(W.translate),j},viewport:function(j){var W;return Array.isArray(j)?W={x:j[0],y:j[1],width:j[2]-j[0],height:j[3]-j[1]}:j?(W={x:j.x||j.left||0,y:j.y||j.top||0},j.right?W.width=j.right-W.x:W.width=j.w||j.width||0,j.bottom?W.height=j.bottom-W.y:W.height=j.h||j.height||0):W={x:0,y:0,width:f.drawingBufferWidth,height:f.drawingBufferHeight},W}}])),N}),w||S){var O=o.reduce(function(P,R,N){return P+(R?R.count:0)},0),A=new Float64Array(2*O),I=new Uint8Array(4*O),B=new Float32Array(4*O);o.forEach(function(P,R){if(P){var N=P.positions,j=P.count,W=P.offset,Y=P.color,J=P.errors;j&&(I.set(Y,4*W),B.set(J,4*W),A.set(N,2*W))}});var C=a(A);v(C);var z=t(A,C);y(z),p(I),c(B)}}}function h(){v.destroy(),y.destroy(),p.destroy(),c.destroy(),x.destroy()}};var u=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},49478:function($,F,m){var L=m(162),D=m(78112),E=m(27976),T=m(6807),k=m(83473),M=m(25782),b=m(90956),a=m(51498),t=a.float32,u=a.fract32,i=m(93103),l=m(5137),d=m(33055);function v(y,p){if(!(this instanceof v))return new v(y,p);if(typeof y=="function"?(p||(p={}),p.regl=y):p=y,p.length&&(p.positions=p),!(y=p.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=y._gl,this.regl=y,this.passes=[],this.shaders=v.shaders.has(y)?v.shaders.get(y):v.shaders.set(y,v.createShaders(y)).get(y),this.update(p)}$.exports=v,v.dashMult=2,v.maxPatternLength=256,v.precisionThreshold=3e6,v.maxPoints=1e4,v.maxLines=2048,v.shaders=new i,v.createShaders=function(y){var p,c=y.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),x={primitive:"triangle strip",instances:y.prop("count"),count:4,offset:0,uniforms:{miterMode:function(n,o){return o.join==="round"?2:1},miterLimit:y.prop("miterLimit"),scale:y.prop("scale"),scaleFract:y.prop("scaleFract"),translateFract:y.prop("translateFract"),translate:y.prop("translate"),thickness:y.prop("thickness"),dashTexture:y.prop("dashTexture"),opacity:y.prop("opacity"),pixelRatio:y.context("pixelRatio"),id:y.prop("id"),dashLength:y.prop("dashLength"),viewport:function(n,o){return[o.viewport.x,o.viewport.y,n.viewportWidth,n.viewportHeight]},depth:y.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(n,o){return!o.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:y.prop("viewport")},viewport:y.prop("viewport")},f=y(E({vert:`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:c,divisor:0,stride:8,offset:0},lineTop:{buffer:c,divisor:0,stride:8,offset:4},aCoord:{buffer:y.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:y.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:y.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:y.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:y.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},x));try{p=y(E({cull:{enable:!0,face:"back"},vert:`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:c,divisor:0,stride:8,offset:0},lineTop:{buffer:c,divisor:0,stride:8,offset:4},aColor:{buffer:y.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:y.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:y.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:y.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:y.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:y.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},x))}catch{p=f}return{fill:y({primitive:"triangle",elements:function(n,o){return o.triangles},offset:0,vert:`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,frag:`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,uniforms:{scale:y.prop("scale"),color:y.prop("fill"),scaleFract:y.prop("scaleFract"),translateFract:y.prop("translateFract"),translate:y.prop("translate"),opacity:y.prop("opacity"),pixelRatio:y.context("pixelRatio"),id:y.prop("id"),viewport:function(n,o){return[o.viewport.x,o.viewport.y,n.viewportWidth,n.viewportHeight]}},attributes:{position:{buffer:y.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:y.prop("positionFractBuffer"),stride:8,offset:8}},blend:x.blend,depth:{enable:!1},scissor:x.scissor,stencil:x.stencil,viewport:x.viewport}),rect:f,miter:p}},v.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},v.prototype.render=function(){for(var y,p=[],c=arguments.length;c--;)p[c]=arguments[c];p.length&&(y=this).update.apply(y,p),this.draw()},v.prototype.draw=function(){for(var y=this,p=[],c=arguments.length;c--;)p[c]=arguments[c];return(p.length?p:this.passes).forEach(function(x,f){var n;if(x&&Array.isArray(x))return(n=y).draw.apply(n,x);typeof x=="number"&&(x=y.passes[x]),x&&x.count>1&&x.opacity&&(y.regl._refresh(),x.fill&&x.triangles&&x.triangles.length>2&&y.shaders.fill(x),x.thickness&&(x.scale[0]*x.viewport.width>v.precisionThreshold||x.scale[1]*x.viewport.height>v.precisionThreshold||x.join==="rect"||!x.join&&(x.thickness<=2||x.count>=v.maxPoints)?y.shaders.rect(x):y.shaders.miter(x)))}),this},v.prototype.update=function(y){var p=this;if(y){y.length!=null?typeof y[0]=="number"&&(y=[{positions:y}]):Array.isArray(y)||(y=[y]);var c=this.regl,x=this.gl;if(y.forEach(function(r,g){var e=p.passes[g];if(r!==void 0)if(r!==null){if(typeof r[0]=="number"&&(r={positions:r}),r=T(r,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),e||(p.passes[g]=e={id:g,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:c.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:c.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:c.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:c.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},r=E({},v.defaults,r)),r.thickness!=null&&(e.thickness=parseFloat(r.thickness)),r.opacity!=null&&(e.opacity=parseFloat(r.opacity)),r.miterLimit!=null&&(e.miterLimit=parseFloat(r.miterLimit)),r.overlay!=null&&(e.overlay=!!r.overlay,g<v.maxLines&&(e.depth=2*(v.maxLines-1-g%v.maxLines)/v.maxLines-1)),r.join!=null&&(e.join=r.join),r.hole!=null&&(e.hole=r.hole),r.fill!=null&&(e.fill=r.fill?L(r.fill,"uint8"):null),r.viewport!=null&&(e.viewport=l(r.viewport)),e.viewport||(e.viewport=l([x.drawingBufferWidth,x.drawingBufferHeight])),r.close!=null&&(e.close=r.close),r.positions===null&&(r.positions=[]),r.positions){var h,_;if(r.positions.x&&r.positions.y){var w=r.positions.x,S=r.positions.y;_=e.count=Math.max(w.length,S.length),h=new Float64Array(2*_);for(var O=0;O<_;O++)h[2*O]=w[O],h[2*O+1]=S[O]}else h=k(r.positions,"float64"),_=e.count=Math.floor(h.length/2);var A=e.bounds=D(h,2);if(e.fill){for(var I=[],B={},C=0,z=0,P=0,R=e.count;z<R;z++){var N=h[2*z],j=h[2*z+1];isNaN(N)||isNaN(j)||N==null||j==null?(N=h[2*C],j=h[2*C+1],B[z]=C):C=z,I[P++]=N,I[P++]=j}if(r.splitNull){e.count-1 in B||(B[e.count]=e.count-1);var W=Object.keys(B).map(Number).sort(function(ut,Tt){return ut-Tt}),Y=[],J=0,G=e.hole!=null?e.hole[0]:null;if(G!=null){var H=d(W,function(ut){return ut>=G});(W=W.slice(0,H)).push(G)}for(var U=function(ut){var Tt=I.slice(2*J,2*W[ut]).concat(G?I.slice(2*G):[]),je=(e.hole||[]).map(function($e){return $e-G+(W[ut]-J)}),Le=M(Tt,je);Le=Le.map(function($e){return $e+J+($e+J<W[ut]?0:G-W[ut])}),Y.push.apply(Y,Le),J=W[ut]+1},Z=0;Z<W.length;Z++)U(Z);for(var q=0,Q=Y.length;q<Q;q++)B[Y[q]]!=null&&(Y[q]=B[Y[q]]);e.triangles=Y}else{for(var ne=M(I,e.hole||[]),ie=0,le=ne.length;ie<le;ie++)B[ne[ie]]!=null&&(ne[ie]=B[ne[ie]]);e.triangles=ne}}var fe=new Float64Array(h);b(fe,2,A);var pe=new Float64Array(2*_+6);e.close?h[0]===h[2*_-2]&&h[1]===h[2*_-1]?(pe[0]=fe[2*_-4],pe[1]=fe[2*_-3]):(pe[0]=fe[2*_-2],pe[1]=fe[2*_-1]):(pe[0]=fe[0],pe[1]=fe[1]),pe.set(fe,2),e.close?h[0]===h[2*_-2]&&h[1]===h[2*_-1]?(pe[2*_+2]=fe[2],pe[2*_+3]=fe[3],e.count-=1):(pe[2*_+2]=fe[0],pe[2*_+3]=fe[1],pe[2*_+4]=fe[2],pe[2*_+5]=fe[3]):(pe[2*_+2]=fe[2*_-2],pe[2*_+3]=fe[2*_-1],pe[2*_+4]=fe[2*_-2],pe[2*_+5]=fe[2*_-1]);var me=t(pe);e.positionBuffer(me);var ke=u(pe,me);e.positionFractBuffer(ke)}if(r.range?e.range=r.range:e.range||(e.range=e.bounds),(r.range||r.positions)&&e.count){var ve=e.bounds,he=ve[2]-ve[0],de=ve[3]-ve[1],X=e.range[2]-e.range[0],ae=e.range[3]-e.range[1];e.scale=[he/X,de/ae],e.translate=[-e.range[0]/X+ve[0]/X||0,-e.range[1]/ae+ve[1]/ae||0],e.scaleFract=u(e.scale),e.translateFract=u(e.translate)}if(r.dashes){var K,ge=0;if(!r.dashes||r.dashes.length<2)ge=1,K=new Uint8Array([255,255,255,255,255,255,255,255]);else{ge=0;for(var re=0;re<r.dashes.length;++re)ge+=r.dashes[re];K=new Uint8Array(ge*v.dashMult);for(var ue=0,we=255,Te=0;Te<2;Te++)for(var ee=0;ee<r.dashes.length;++ee){for(var se=0,ce=r.dashes[ee]*v.dashMult*.5;se<ce;++se)K[ue++]=we;we^=255}}e.dashLength=ge,e.dashTexture({channels:1,data:K,width:K.length,height:1,mag:"linear",min:"linear"},0,0)}if(r.color){var be=e.count,Ee=r.color;Ee||(Ee="transparent");var Se=new Uint8Array(4*be+4);if(Array.isArray(Ee)&&typeof Ee[0]!="number"){for(var De=0;De<be;De++){var Ge=L(Ee[De],"uint8");Se.set(Ge,4*De)}Se.set(L(Ee[0],"uint8"),4*be)}else for(var Xe=L(Ee,"uint8"),Ke=0;Ke<be+1;Ke++)Se.set(Xe,4*Ke);e.colorBuffer({usage:"dynamic",type:"uint8",data:Se})}}else p.passes[g]=null}),y.length<this.passes.length){for(var f=y.length;f<this.passes.length;f++){var n=this.passes[f];n&&(n.colorBuffer.destroy(),n.positionBuffer.destroy(),n.dashTexture.destroy())}this.passes.length=y.length}for(var o=[],s=0;s<this.passes.length;s++)this.passes[s]!==null&&o.push(this.passes[s]);return this.passes=o,this}},v.prototype.destroy=function(){return this.passes.forEach(function(y){y.colorBuffer.destroy(),y.positionBuffer.destroy(),y.dashTexture.destroy()}),this.passes.length=0,this}},62172:function($,F,m){function L(f,n){return function(o){if(Array.isArray(o))return o}(f)||function(o,s){var r=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(r!=null){var g,e,h,_,w=[],S=!0,O=!1;try{if(h=(r=r.call(o)).next,s!==0)for(;!(S=(g=h.call(r)).done)&&(w.push(g.value),w.length!==s);S=!0);}catch(A){O=!0,e=A}finally{try{if(!S&&r.return!=null&&(_=r.return(),Object(_)!==_))return}finally{if(O)throw e}}return w}}(f,n)||D(f,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(f,n){if(f){if(typeof f=="string")return E(f,n);var o=Object.prototype.toString.call(f).slice(8,-1);return o==="Object"&&f.constructor&&(o=f.constructor.name),o==="Map"||o==="Set"?Array.from(f):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?E(f,n):void 0}}function E(f,n){(n==null||n>f.length)&&(n=f.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=f[o];return s}var T=m(162),k=m(78112),M=m(46762),b=m(27549),a=m(27976),t=m(76765),u=m(6807),i=m(79788),l=m(83473),d=m(39488),v=m(51498),y=m(5137),p=c;function c(f,n){var o=this;if(!(this instanceof c))return new c(f,n);typeof f=="function"?(n||(n={}),n.regl=f):(n=f,f=null),n&&n.length&&(n.positions=n);var s,r=(f=n.regl)._gl,g=[];this.tooManyColors=d,s=f.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),a(this,{regl:f,gl:r,groups:[],markerCache:[null],markerTextures:[null],palette:g,paletteIds:{},paletteTexture:s,maxColors:255,maxSize:100,canvas:r.canvas}),this.update(n);var e={uniforms:{constPointSize:!!n.constPointSize,opacity:f.prop("opacity"),paletteSize:function(w,S){return[o.tooManyColors?0:255,s.height]},pixelRatio:f.context("pixelRatio"),scale:f.prop("scale"),scaleFract:f.prop("scaleFract"),translate:f.prop("translate"),translateFract:f.prop("translateFract"),markerTexture:f.prop("markerTexture"),paletteTexture:s},attributes:{x:function(w,S){return S.xAttr||{buffer:S.positionBuffer,stride:8,offset:0}},y:function(w,S){return S.yAttr||{buffer:S.positionBuffer,stride:8,offset:4}},xFract:function(w,S){return S.xAttr?{constant:[0,0]}:{buffer:S.positionFractBuffer,stride:8,offset:0}},yFract:function(w,S){return S.yAttr?{constant:[0,0]}:{buffer:S.positionFractBuffer,stride:8,offset:4}},size:function(w,S){return S.size.length?{buffer:S.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*S.size/o.maxSize)]}},borderSize:function(w,S){return S.borderSize.length?{buffer:S.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*S.borderSize/o.maxSize)]}},colorId:function(w,S){return S.color.length?{buffer:S.colorBuffer,stride:o.tooManyColors?8:4,offset:0}:{constant:o.tooManyColors?g.slice(4*S.color,4*S.color+4):[S.color]}},borderColorId:function(w,S){return S.borderColor.length?{buffer:S.colorBuffer,stride:o.tooManyColors?8:4,offset:o.tooManyColors?4:2}:{constant:o.tooManyColors?g.slice(4*S.borderColor,4*S.borderColor+4):[S.borderColor]}},isActive:function(w,S){return S.activation===!0?{constant:[1]}:S.activation?S.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:f.prop("elements"),count:f.prop("count"),offset:f.prop("offset"),primitive:"points"},h=a({},e);h.frag=t([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),h.vert=t([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=f(h);var _=a({},e);_.frag=t([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),_.vert=t([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(_.frag=_.frag.replace("smoothstep","smoothStep"),h.frag=h.frag.replace("smoothstep","smoothStep")),this.drawCircle=f(_)}c.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},c.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},c.prototype.draw=function(){for(var f=this,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var r=this.groups;if(o.length===1&&Array.isArray(o[0])&&(o[0][0]===null||Array.isArray(o[0][0]))&&(o=o[0]),this.regl._refresh(),o.length)for(var g=0;g<o.length;g++)this.drawItem(g,o[g]);else r.forEach(function(e,h){f.drawItem(h)});return this},c.prototype.drawItem=function(f,n){var o,s=this.groups,r=s[f];if(typeof n=="number"&&(f=n,r=s[n],n=null),r&&r.count&&r.opacity){r.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,r,n));for(var g=[],e=1;e<r.activation.length;e++)r.activation[e]&&(r.activation[e]===!0||r.activation[e].data.length)&&g.push.apply(g,function(h){if(Array.isArray(h))return E(h)}(o=this.getMarkerDrawOptions(e,r,n))||function(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}(o)||D(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());g.length&&this.drawMarker(g)}},c.prototype.getMarkerDrawOptions=function(f,n,o){var s=n.range,r=n.tree,g=n.viewport,e=n.activation,h=n.selectionBuffer,_=n.count;if(this.regl,!r)return o?[a({},n,{markerTexture:this.markerTextures[f],activation:e[f],count:o.length,elements:o,offset:0})]:[a({},n,{markerTexture:this.markerTextures[f],activation:e[f],offset:0})];var w=[],S=r.range(s,{lod:!0,px:[(s[2]-s[0])/g.width,(s[3]-s[1])/g.height]});if(o){for(var O=e[f].data,A=new Uint8Array(_),I=0;I<o.length;I++){var B=o[I];A[B]=O?O[B]:1}h.subdata(A)}for(var C=S.length;C--;){var z=L(S[C],2),P=z[0],R=z[1];w.push(a({},n,{markerTexture:this.markerTextures[f],activation:o?h:e[f],offset:P,count:R-P}))}return w},c.prototype.update=function(){for(var f=this,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];if(o.length){o.length===1&&Array.isArray(o[0])&&(o=o[0]);var r=this.groups,g=this.gl,e=this.regl,h=this.maxSize,_=this.maxColors,w=this.palette;this.groups=r=o.map(function(S,O){var A=r[O];if(S===void 0)return A;S===null?S={positions:null}:typeof S=="function"?S={ondraw:S}:typeof S[0]=="number"&&(S={positions:S}),(S=u(S,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(S.positions=[]),S.tooManyColors!=null&&(f.tooManyColors=S.tooManyColors),A||(r[O]=A={id:O,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:e.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:e.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:e.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:e.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:e.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},S=a({},c.defaults,S)),S.positions&&!("marker"in S)&&(S.marker=A.marker,delete A.marker),S.marker&&!("positions"in S)&&(S.positions=A.positions,delete A.positions);var I=0,B=0;if(i(A,S,[{snap:!0,size:function(le,fe){return le==null&&(le=c.defaults.size),I+=le&&le.length?1:0,le},borderSize:function(le,fe){return le==null&&(le=c.defaults.borderSize),I+=le&&le.length?1:0,le},opacity:parseFloat,color:function(le,fe){return le==null&&(le=c.defaults.color),le=f.updateColor(le),B++,le},borderColor:function(le,fe){return le==null&&(le=c.defaults.borderColor),le=f.updateColor(le),B++,le},bounds:function(le,fe,pe){return"range"in pe||(pe.range=null),le},positions:function(le,fe,pe){var me=fe.snap,ke=fe.positionBuffer,ve=fe.positionFractBuffer,he=fe.selectionBuffer;if(le.x||le.y)return le.x.length?fe.xAttr={buffer:e.buffer(le.x),offset:0,stride:4,count:le.x.length}:fe.xAttr={buffer:le.x.buffer,offset:4*le.x.offset||0,stride:4*(le.x.stride||1),count:le.x.count},le.y.length?fe.yAttr={buffer:e.buffer(le.y),offset:0,stride:4,count:le.y.length}:fe.yAttr={buffer:le.y.buffer,offset:4*le.y.offset||0,stride:4*(le.y.stride||1),count:le.y.count},fe.count=Math.max(fe.xAttr.count,fe.yAttr.count),le;le=l(le,"float64");var de=fe.count=Math.floor(le.length/2),X=fe.bounds=de?k(le,2):null;if(pe.range||fe.range||(delete fe.range,pe.range=X),pe.marker||fe.marker||(delete fe.marker,pe.marker=null),me&&(me===!0||de>me)?fe.tree=b(le,{bounds:X}):me&&me.length&&(fe.tree=me),fe.tree){var ae={primitive:"points",usage:"static",data:fe.tree,type:"uint32"};fe.elements?fe.elements(ae):fe.elements=e.elements(ae)}var K=v.float32(le);return ke({data:K,usage:"dynamic"}),ve({data:v.fract32(le,K),usage:"dynamic"}),he({data:new Uint8Array(de),type:"uint8",usage:"stream"}),le}},{marker:function(le,fe,pe){var me=fe.activation;if(me.forEach(function(K){return K&&K.destroy&&K.destroy()}),me.length=0,le&&typeof le[0]!="number"){for(var ke=[],ve=0,he=Math.min(le.length,fe.count);ve<he;ve++){var de=f.addMarker(le[ve]);ke[de]||(ke[de]=new Uint8Array(fe.count)),ke[de][ve]=1}for(var X=0;X<ke.length;X++)if(ke[X]){var ae={data:ke[X],type:"uint8",usage:"static"};me[X]?me[X](ae):me[X]=e.buffer(ae),me[X].data=ke[X]}}else me[f.addMarker(le)]=!0;return le},range:function(le,fe,pe){var me=fe.bounds;if(me)return le||(le=me),fe.scale=[1/(le[2]-le[0]),1/(le[3]-le[1])],fe.translate=[-le[0],-le[1]],fe.scaleFract=v.fract(fe.scale),fe.translateFract=v.fract(fe.translate),le},viewport:function(le){return y(le||[g.drawingBufferWidth,g.drawingBufferHeight])}}]),I){var C=A,z=C.count,P=C.size,R=C.borderSize,N=C.sizeBuffer,j=new Uint8Array(2*z);if(P.length||R.length)for(var W=0;W<z;W++)j[2*W]=Math.round(255*(P[W]==null?P:P[W])/h),j[2*W+1]=Math.round(255*(R[W]==null?R:R[W])/h);N({data:j,usage:"dynamic"})}if(B){var Y,J=A,G=J.count,H=J.color,U=J.borderColor,Z=J.colorBuffer;if(f.tooManyColors){if(H.length||U.length){Y=new Uint8Array(8*G);for(var q=0;q<G;q++){var Q=H[q];Y[8*q]=w[4*Q],Y[8*q+1]=w[4*Q+1],Y[8*q+2]=w[4*Q+2],Y[8*q+3]=w[4*Q+3];var ne=U[q];Y[8*q+4]=w[4*ne],Y[8*q+5]=w[4*ne+1],Y[8*q+6]=w[4*ne+2],Y[8*q+7]=w[4*ne+3]}}}else if(H.length||U.length){Y=new Uint8Array(4*G+2);for(var ie=0;ie<G;ie++)H[ie]!=null&&(Y[4*ie]=H[ie]%_,Y[4*ie+1]=Math.floor(H[ie]/_)),U[ie]!=null&&(Y[4*ie+2]=U[ie]%_,Y[4*ie+3]=Math.floor(U[ie]/_))}Z({data:Y||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return A})}},c.prototype.addMarker=function(f){var n,o=this.markerTextures,s=this.regl,r=this.markerCache,g=f==null?0:r.indexOf(f);if(g>=0)return g;if(f instanceof Uint8Array||f instanceof Uint8ClampedArray)n=f;else{n=new Uint8Array(f.length);for(var e=0,h=f.length;e<h;e++)n[e]=255*f[e]}var _=Math.floor(Math.sqrt(n.length));return g=o.length,r.push(f),o.push(s.texture({channels:1,data:n,radius:_,mag:"linear",min:"linear"})),g},c.prototype.updateColor=function(f){var n=this.paletteIds,o=this.palette,s=this.maxColors;Array.isArray(f)||(f=[f]);var r=[];if(typeof f[0]=="number"){var g=[];if(Array.isArray(f))for(var e=0;e<f.length;e+=4)g.push(f.slice(e,e+4));else for(var h=0;h<f.length;h+=4)g.push(f.subarray(h,h+4));f=g}for(var _=0;_<f.length;_++){var w=f[_];w=T(w,"uint8");var S=M(w,!1);if(n[S]==null){var O=o.length;n[S]=Math.floor(O/4),o[O]=w[0],o[O+1]=w[1],o[O+2]=w[2],o[O+3]=w[3]}r[_]=n[S]}return!this.tooManyColors&&o.length>4*s&&(this.tooManyColors=!0),this.updatePalette(o),r.length===1?r[0]:r},c.prototype.updatePalette=function(f){if(!this.tooManyColors){var n=this.maxColors,o=this.paletteTexture,s=Math.ceil(.25*f.length/n);if(s>1)for(var r=.25*(f=f.slice()).length%n;r<s*n;r++)f.push(0,0,0,0);o.height<s&&o.resize(n,s),o.subimage({width:Math.min(.25*f.length,n),height:s,data:f},0,0)}},c.prototype.destroy=function(){return this.groups.forEach(function(f){f.sizeBuffer.destroy(),f.positionBuffer.destroy(),f.positionFractBuffer.destroy(),f.colorBuffer.destroy(),f.activation.forEach(function(n){return n&&n.destroy&&n.destroy()}),f.selectionBuffer.destroy(),f.elements&&f.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(f){return f&&f.destroy&&f.destroy()}),this};var x=m(27976);$.exports=function(f,n){var o=new p(f,n),s=o.render.bind(o);return x(s,{render:s,update:o.update.bind(o),draw:o.draw.bind(o),destroy:o.destroy.bind(o),regl:o.regl,gl:o.gl,canvas:o.gl.canvas,groups:o.groups,markers:o.markerCache,palette:o.palette}),s}},31239:function($,F,m){var L=m(62172),D=m(6807),E=m(78112),T=m(16494),k=m(27902),M=m(5137),b=m(83473);function a(l,d){if(!(this instanceof a))return new a(l);this.traces=[],this.passes={},this.regl=l,this.scatter=L(l),this.canvas=this.scatter.canvas}function t(l,d,v){return(l.id!=null?l.id:l)<<16|(255&d)<<8|255&v}function u(l,d,v){var y,p,c,x,f=l[d],n=l[v];return f.length>2?(f[0],f[2],y=f[1],p=f[3]):f.length?(y=f[0],p=f[1]):(f.x,y=f.y,f.x,f.width,p=f.y+f.height),n.length>2?(c=n[0],x=n[2],n[1],n[3]):n.length?(c=n[0],x=n[1]):(c=n.x,n.y,x=n.x+n.width,n.y,n.height),[c,y,x,p]}function i(l){if(typeof l=="number")return[l,l,l,l];if(l.length===2)return[l[0],l[1],l[0],l[1]];var d=M(l);return[d.x,d.y,d.x+d.width,d.y+d.height]}$.exports=a,a.prototype.render=function(){for(var l,d=this,v=[],y=arguments.length;y--;)v[y]=arguments[y];return v.length&&(l=this).update.apply(l,v),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=T(function(){d.draw(),d.dirty=!0,d.planned=null})):(this.draw(),this.dirty=!0,T(function(){d.dirty=!1})),this)},a.prototype.update=function(){for(var l,d=[],v=arguments.length;v--;)d[v]=arguments[v];if(d.length){for(var y=0;y<d.length;y++)this.updateItem(y,d[y]);this.traces=this.traces.filter(Boolean);for(var p=[],c=0,x=0;x<this.traces.length;x++){for(var f=this.traces[x],n=this.traces[x].passes,o=0;o<n.length;o++)p.push(this.passes[n[o]]);f.passOffset=c,c+=f.passes.length}return(l=this.scatter).update.apply(l,p),this}},a.prototype.updateItem=function(l,d){var v=this.regl;if(d===null)return this.traces[l]=null,this;if(!d)return this;var y,p=D(d,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),c=this.traces[l]||(this.traces[l]={id:l,buffer:v.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:M([v._gl.drawingBufferWidth,v._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(p.color!=null&&(c.color=p.color),p.size!=null&&(c.size=p.size),p.marker!=null&&(c.marker=p.marker),p.borderColor!=null&&(c.borderColor=p.borderColor),p.borderSize!=null&&(c.borderSize=p.borderSize),p.opacity!=null&&(c.opacity=p.opacity),p.viewport&&(c.viewport=M(p.viewport)),p.diagonal!=null&&(c.diagonal=p.diagonal),p.upper!=null&&(c.upper=p.upper),p.lower!=null&&(c.lower=p.lower),p.data){c.buffer(b(p.data)),c.columns=p.data.length,c.count=p.data[0].length,c.bounds=[];for(var x=0;x<c.columns;x++)c.bounds[x]=E(p.data[x],1)}p.range&&(c.range=p.range,y=c.range&&typeof c.range[0]!="number"),p.domain&&(c.domain=p.domain);var f=!1;p.padding!=null&&(Array.isArray(p.padding)&&p.padding.length===c.columns&&typeof p.padding[p.padding.length-1]=="number"?(c.padding=p.padding.map(i),f=!0):c.padding=i(p.padding));var n=c.columns,o=c.count,s=c.viewport.width,r=c.viewport.height,g=c.viewport.x,e=c.viewport.y,h=s/n,_=r/n;c.passes=[];for(var w=0;w<n;w++)for(var S=0;S<n;S++)if((c.diagonal||S!==w)&&(c.upper||!(w>S))&&(c.lower||!(w<S))){var O=t(c.id,w,S),A=this.passes[O]||(this.passes[O]={});if(p.data&&(p.transpose?A.positions={x:{buffer:c.buffer,offset:S,count:o,stride:n},y:{buffer:c.buffer,offset:w,count:o,stride:n}}:A.positions={x:{buffer:c.buffer,offset:S*o,count:o},y:{buffer:c.buffer,offset:w*o,count:o}},A.bounds=u(c.bounds,w,S)),p.domain||p.viewport||p.data){var I=f?u(c.padding,w,S):c.padding;if(c.domain){var B=u(c.domain,w,S),C=B[0],z=B[1],P=B[2],R=B[3];A.viewport=[g+C*s+I[0],e+z*r+I[1],g+P*s-I[2],e+R*r-I[3]]}else A.viewport=[g+S*h+h*I[0],e+w*_+_*I[1],g+(S+1)*h-h*I[2],e+(w+1)*_-_*I[3]]}p.color&&(A.color=c.color),p.size&&(A.size=c.size),p.marker&&(A.marker=c.marker),p.borderSize&&(A.borderSize=c.borderSize),p.borderColor&&(A.borderColor=c.borderColor),p.opacity&&(A.opacity=c.opacity),p.range&&(A.range=y?u(c.range,w,S):c.range||A.bounds),c.passes.push(O)}return this},a.prototype.draw=function(){for(var l,d=[],v=arguments.length;v--;)d[v]=arguments[v];if(d.length){for(var y=[],p=0;p<d.length;p++)if(typeof d[p]=="number"){var c=this.traces[d[p]],x=c.passes,f=c.passOffset;y.push.apply(y,k(f,f+x.length))}else if(d[p].length){var n=d[p],o=this.traces[p],s=o.passes,r=o.passOffset;s=s.map(function(g,e){y[r+e]=n})}(l=this.scatter).draw.apply(l,y)}else this.scatter.draw();return this},a.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},81330:function($){$.exports=function(){function F(Oe,Be){this.id=U++,this.type=Oe,this.data=Be}function m(Oe){if(Oe.length===0)return[];var Be=Oe.charAt(0),it=Oe.charAt(Oe.length-1);if(1<Oe.length&&Be===it&&(Be==='"'||Be==="'"))return['"'+Oe.substr(1,Oe.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Be=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Oe))return m(Oe.substr(0,Be.index)).concat(m(Be[1])).concat(m(Oe.substr(Be.index+Be[0].length)));if((Be=Oe.split(".")).length===1)return['"'+Oe.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Oe=[],it=0;it<Be.length;++it)Oe=Oe.concat(m(Be[it]));return Oe}function L(Oe){return"["+m(Oe).join("][")+"]"}function D(Oe){return typeof Oe=="string"?Oe.split():Oe}function E(Oe){return typeof Oe=="string"?document.querySelector(Oe):Oe}function T(Oe){var Be,it,tt,ft,pt=Oe||{};Oe={};var _e=[],Ae=[],Ve=typeof window>"u"?1:window.devicePixelRatio,He=!1,We={},Pe=function(Ne){},Ue=function(){};if(typeof pt=="string"?Be=document.querySelector(pt):typeof pt=="object"&&(typeof pt.nodeName=="string"&&typeof pt.appendChild=="function"&&typeof pt.getBoundingClientRect=="function"?Be=pt:typeof pt.drawArrays=="function"||typeof pt.drawElements=="function"?tt=(ft=pt).canvas:("gl"in pt?ft=pt.gl:"canvas"in pt?tt=E(pt.canvas):"container"in pt&&(it=E(pt.container)),"attributes"in pt&&(Oe=pt.attributes),"extensions"in pt&&(_e=D(pt.extensions)),"optionalExtensions"in pt&&(Ae=D(pt.optionalExtensions)),"onDone"in pt&&(Pe=pt.onDone),"profile"in pt&&(He=!!pt.profile),"pixelRatio"in pt&&(Ve=+pt.pixelRatio),"cachedCode"in pt&&(We=pt.cachedCode))),Be&&(Be.nodeName.toLowerCase()==="canvas"?tt=Be:it=Be),!ft){if(!tt){if(!(Be=function(Ne,Ye,Fe){function Ze(){var Lt=window.innerWidth,St=window.innerHeight;Ne!==document.body&&(Lt=(St=vt.getBoundingClientRect()).right-St.left,St=St.bottom-St.top),vt.width=Fe*Lt,vt.height=Fe*St}var rt,vt=document.createElement("canvas");return H(vt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),Ne.appendChild(vt),Ne===document.body&&(vt.style.position="absolute",H(Ne.style,{margin:0,padding:0})),Ne!==document.body&&typeof ResizeObserver=="function"?(rt=new ResizeObserver(function(){setTimeout(Ze)})).observe(Ne):window.addEventListener("resize",Ze,!1),Ze(),{canvas:vt,onDestroy:function(){rt?rt.disconnect():window.removeEventListener("resize",Ze),Ne.removeChild(vt)}}}(it||document.body,0,Ve)))return null;tt=Be.canvas,Ue=Be.onDestroy}Oe.premultipliedAlpha===void 0&&(Oe.premultipliedAlpha=!0),ft=function(Ne,Ye){function Fe(Ze){try{return Ne.getContext(Ze,Ye)}catch{return null}}return Fe("webgl")||Fe("experimental-webgl")||Fe("webgl-experimental")}(tt,Oe)}return ft?{gl:ft,canvas:tt,container:it,extensions:_e,optionalExtensions:Ae,pixelRatio:Ve,profile:He,cachedCode:We,onDone:Pe,onDestroy:Ue}:(Ue(),Pe("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function k(Oe,Be){for(var it=Array(Oe),tt=0;tt<Oe;++tt)it[tt]=Be(tt);return it}function M(Oe){var Be,it;return Be=(65535<Oe)<<4,Be|=it=(255<(Oe>>>=Be))<<3,(Be|=it=(15<(Oe>>>=it))<<2)|(it=(3<(Oe>>>=it))<<1)|Oe>>>it>>1}function b(){function Oe(tt){e:{for(var ft=16;268435456>=ft;ft*=16)if(tt<=ft){tt=ft;break e}tt=0}return 0<(ft=it[M(tt)>>2]).length?ft.pop():new ArrayBuffer(tt)}function Be(tt){it[M(tt.byteLength)>>2].push(tt)}var it=k(8,function(){return[]});return{alloc:Oe,free:Be,allocType:function(tt,ft){var pt=null;switch(tt){case 5120:pt=new Int8Array(Oe(ft),0,ft);break;case 5121:pt=new Uint8Array(Oe(ft),0,ft);break;case 5122:pt=new Int16Array(Oe(2*ft),0,ft);break;case 5123:pt=new Uint16Array(Oe(2*ft),0,ft);break;case 5124:pt=new Int32Array(Oe(4*ft),0,ft);break;case 5125:pt=new Uint32Array(Oe(4*ft),0,ft);break;case 5126:pt=new Float32Array(Oe(4*ft),0,ft);break;default:return null}return pt.length!==ft?pt.subarray(0,ft):pt},freeType:function(tt){Be(tt.buffer)}}}function a(Oe){return!!Oe&&typeof Oe=="object"&&Array.isArray(Oe.shape)&&Array.isArray(Oe.stride)&&typeof Oe.offset=="number"&&Oe.shape.length===Oe.stride.length&&(Array.isArray(Oe.data)||le(Oe.data))}function t(Oe,Be,it,tt,ft,pt){for(var _e=0;_e<Be;++_e)for(var Ae=Oe[_e],Ve=0;Ve<it;++Ve)for(var He=Ae[Ve],We=0;We<tt;++We)ft[pt++]=He[We]}function u(Oe,Be,it,tt,ft){for(var pt=1,_e=it+1;_e<Be.length;++_e)pt*=Be[_e];var Ae=Be[it];if(Be.length-it==4){var Ve=Be[it+1],He=Be[it+2];for(Be=Be[it+3],_e=0;_e<Ae;++_e)t(Oe[_e],Ve,He,Be,tt,ft),ft+=pt}else for(_e=0;_e<Ae;++_e)u(Oe[_e],Be,it+1,tt,ft),ft+=pt}function i(Oe){return 0|me[Object.prototype.toString.call(Oe)]}function l(Oe,Be){for(var it=0;it<Be.length;++it)Oe[it]=Be[it]}function d(Oe,Be,it,tt,ft,pt,_e){for(var Ae=0,Ve=0;Ve<it;++Ve)for(var He=0;He<tt;++He)Oe[Ae++]=Be[ft*Ve+pt*He+_e]}function v(Oe,Be,it,tt){function ft(Pe){this.id=Ve++,this.buffer=Oe.createBuffer(),this.type=Pe,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,it.profile&&(this.stats={size:0})}function pt(Pe,Ue,Ne){Pe.byteLength=Ue.byteLength,Oe.bufferData(Pe.type,Ue,Ne)}function _e(Pe,Ue,Ne,Ye,Fe,Ze){if(Pe.usage=Ne,Array.isArray(Ue)){if(Pe.dtype=Ye||5126,0<Ue.length)if(Array.isArray(Ue[0])){Fe=de(Ue);for(var rt=Ye=1;rt<Fe.length;++rt)Ye*=Fe[rt];Pe.dimension=Ye,pt(Pe,Ue=he(Ue,Fe,Pe.dtype),Ne),Ze?Pe.persistentData=Ue:ne.freeType(Ue)}else typeof Ue[0]=="number"?(Pe.dimension=Fe,l(Fe=ne.allocType(Pe.dtype,Ue.length),Ue),pt(Pe,Fe,Ne),Ze?Pe.persistentData=Fe:ne.freeType(Fe)):le(Ue[0])&&(Pe.dimension=Ue[0].length,Pe.dtype=Ye||i(Ue[0])||5126,pt(Pe,Ue=he(Ue,[Ue.length,Ue[0].length],Pe.dtype),Ne),Ze?Pe.persistentData=Ue:ne.freeType(Ue))}else if(le(Ue))Pe.dtype=Ye||i(Ue),Pe.dimension=Fe,pt(Pe,Ue,Ne),Ze&&(Pe.persistentData=new Uint8Array(new Uint8Array(Ue.buffer)));else if(a(Ue)){Fe=Ue.shape;var vt=Ue.stride,Lt=(rt=Ue.offset,0),St=0,It=0,ot=0;Fe.length===1?(Lt=Fe[0],St=1,It=vt[0],ot=0):Fe.length===2&&(Lt=Fe[0],St=Fe[1],It=vt[0],ot=vt[1]),Pe.dtype=Ye||i(Ue.data)||5126,Pe.dimension=St,d(Fe=ne.allocType(Pe.dtype,Lt*St),Ue.data,Lt,St,It,ot,rt),pt(Pe,Fe,Ne),Ze?Pe.persistentData=Fe:ne.freeType(Fe)}else Ue instanceof ArrayBuffer&&(Pe.dtype=5121,Pe.dimension=Fe,pt(Pe,Ue,Ne),Ze&&(Pe.persistentData=new Uint8Array(new Uint8Array(Ue))))}function Ae(Pe){Be.bufferCount--,tt(Pe),Oe.deleteBuffer(Pe.buffer),Pe.buffer=null,delete He[Pe.id]}var Ve=0,He={};ft.prototype.bind=function(){Oe.bindBuffer(this.type,this.buffer)},ft.prototype.destroy=function(){Ae(this)};var We=[];return it.profile&&(Be.getTotalBufferSize=function(){var Pe=0;return Object.keys(He).forEach(function(Ue){Pe+=He[Ue].stats.size}),Pe}),{create:function(Pe,Ue,Ne,Ye){function Fe(rt){var vt=35044,Lt=null,St=0,It=0,ot=1;return Array.isArray(rt)||le(rt)||a(rt)||rt instanceof ArrayBuffer?Lt=rt:typeof rt=="number"?St=0|rt:rt&&("data"in rt&&(Lt=rt.data),"usage"in rt&&(vt=ve[rt.usage]),"type"in rt&&(It=ke[rt.type]),"dimension"in rt&&(ot=0|rt.dimension),"length"in rt&&(St=0|rt.length)),Ze.bind(),Lt?_e(Ze,Lt,vt,It,ot,Ye):(St&&Oe.bufferData(Ze.type,St,vt),Ze.dtype=It||5121,Ze.usage=vt,Ze.dimension=ot,Ze.byteLength=St),it.profile&&(Ze.stats.size=Ze.byteLength*X[Ze.dtype]),Fe}Be.bufferCount++;var Ze=new ft(Ue);return He[Ze.id]=Ze,Ne||Fe(Pe),Fe._reglType="buffer",Fe._buffer=Ze,Fe.subdata=function(rt,vt){var Lt,St=0|(vt||0);if(Ze.bind(),le(rt)||rt instanceof ArrayBuffer)Oe.bufferSubData(Ze.type,St,rt);else if(Array.isArray(rt)){if(0<rt.length)if(typeof rt[0]=="number"){var It=ne.allocType(Ze.dtype,rt.length);l(It,rt),Oe.bufferSubData(Ze.type,St,It),ne.freeType(It)}else(Array.isArray(rt[0])||le(rt[0]))&&(Lt=de(rt),It=he(rt,Lt,Ze.dtype),Oe.bufferSubData(Ze.type,St,It),ne.freeType(It))}else if(a(rt)){Lt=rt.shape;var ot=rt.stride,xt=It=0,Ut=0,Et=0;Lt.length===1?(It=Lt[0],xt=1,Ut=ot[0],Et=0):Lt.length===2&&(It=Lt[0],xt=Lt[1],Ut=ot[0],Et=ot[1]),Lt=Array.isArray(rt.data)?Ze.dtype:i(rt.data),d(Lt=ne.allocType(Lt,It*xt),rt.data,It,xt,Ut,Et,rt.offset),Oe.bufferSubData(Ze.type,St,Lt),ne.freeType(Lt)}return Fe},it.profile&&(Fe.stats=Ze.stats),Fe.destroy=function(){Ae(Ze)},Fe},createStream:function(Pe,Ue){var Ne=We.pop();return Ne||(Ne=new ft(Pe)),Ne.bind(),_e(Ne,Ue,35040,0,1,!1),Ne},destroyStream:function(Pe){We.push(Pe)},clear:function(){fe(He).forEach(Ae),We.forEach(Ae)},getBuffer:function(Pe){return Pe&&Pe._buffer instanceof ft?Pe._buffer:null},restore:function(){fe(He).forEach(function(Pe){Pe.buffer=Oe.createBuffer(),Oe.bindBuffer(Pe.type,Pe.buffer),Oe.bufferData(Pe.type,Pe.persistentData||Pe.byteLength,Pe.usage)})},_initBuffer:_e}}function y(Oe,Be,it,tt){function ft(Pe){this.id=Ve++,Ae[this.id]=this,this.buffer=Pe,this.primType=4,this.type=this.vertCount=0}function pt(Pe,Ue,Ne,Ye,Fe,Ze,rt){var vt;if(Pe.buffer.bind(),Ue?((vt=rt)||le(Ue)&&(!a(Ue)||le(Ue.data))||(vt=Be.oes_element_index_uint?5125:5123),it._initBuffer(Pe.buffer,Ue,Ne,vt,3)):(Oe.bufferData(34963,Ze,Ne),Pe.buffer.dtype=vt||5121,Pe.buffer.usage=Ne,Pe.buffer.dimension=3,Pe.buffer.byteLength=Ze),vt=rt,!rt){switch(Pe.buffer.dtype){case 5121:case 5120:vt=5121;break;case 5123:case 5122:vt=5123;break;case 5125:case 5124:vt=5125}Pe.buffer.dtype=vt}Pe.type=vt,0>(Ue=Fe)&&(Ue=Pe.buffer.byteLength,vt===5123?Ue>>=1:vt===5125&&(Ue>>=2)),Pe.vertCount=Ue,Ue=Ye,0>Ye&&(Ue=4,(Ye=Pe.buffer.dimension)===1&&(Ue=0),Ye===2&&(Ue=1),Ye===3&&(Ue=4)),Pe.primType=Ue}function _e(Pe){tt.elementsCount--,delete Ae[Pe.id],Pe.buffer.destroy(),Pe.buffer=null}var Ae={},Ve=0,He={uint8:5121,uint16:5123};Be.oes_element_index_uint&&(He.uint32=5125),ft.prototype.bind=function(){this.buffer.bind()};var We=[];return{create:function(Pe,Ue){function Ne(Ze){if(Ze)if(typeof Ze=="number")Ye(Ze),Fe.primType=4,Fe.vertCount=0|Ze,Fe.type=5121;else{var rt=null,vt=35044,Lt=-1,St=-1,It=0,ot=0;Array.isArray(Ze)||le(Ze)||a(Ze)?rt=Ze:("data"in Ze&&(rt=Ze.data),"usage"in Ze&&(vt=ve[Ze.usage]),"primitive"in Ze&&(Lt=ae[Ze.primitive]),"count"in Ze&&(St=0|Ze.count),"type"in Ze&&(ot=He[Ze.type]),"length"in Ze?It=0|Ze.length:(It=St,ot===5123||ot===5122?It*=2:ot!==5125&&ot!==5124||(It*=4))),pt(Fe,rt,vt,Lt,St,It,ot)}else Ye(),Fe.primType=4,Fe.vertCount=0,Fe.type=5121;return Ne}var Ye=it.create(null,34963,!0),Fe=new ft(Ye._buffer);return tt.elementsCount++,Ne(Pe),Ne._reglType="elements",Ne._elements=Fe,Ne.subdata=function(Ze,rt){return Ye.subdata(Ze,rt),Ne},Ne.destroy=function(){_e(Fe)},Ne},createStream:function(Pe){var Ue=We.pop();return Ue||(Ue=new ft(it.create(null,34963,!0,!1)._buffer)),pt(Ue,Pe,35040,-1,-1,0,0),Ue},destroyStream:function(Pe){We.push(Pe)},getElements:function(Pe){return typeof Pe=="function"&&Pe._elements instanceof ft?Pe._elements:null},clear:function(){fe(Ae).forEach(_e)}}}function p(Oe){for(var Be=ne.allocType(5123,Oe.length),it=0;it<Oe.length;++it)if(isNaN(Oe[it]))Be[it]=65535;else if(Oe[it]===1/0)Be[it]=31744;else if(Oe[it]===-1/0)Be[it]=64512;else{K[0]=Oe[it];var tt=(pt=ge[0])>>>31<<15,ft=(pt<<1>>>24)-127,pt=pt>>13&1023;Be[it]=-24>ft?tt:-14>ft?tt+(pt+1024>>-14-ft):15<ft?tt+31744:tt+(ft+15<<10)+pt}return Be}function c(Oe){return Array.isArray(Oe)||le(Oe)}function x(Oe){return"[object "+Oe+"]"}function f(Oe){return Array.isArray(Oe)&&(Oe.length===0||typeof Oe[0]=="number")}function n(Oe){return!(!Array.isArray(Oe)||Oe.length===0||!c(Oe[0]))}function o(Oe){return Object.prototype.toString.call(Oe)}function s(Oe){if(!Oe)return!1;var Be=o(Oe);return 0<=Se.indexOf(Be)||f(Oe)||n(Oe)||a(Oe)}function r(Oe,Be){Oe.type===36193?(Oe.data=p(Be),ne.freeType(Be)):Oe.data=Be}function g(Oe,Be,it,tt,ft,pt){if(Oe=Ge[Oe]!==void 0?Ge[Oe]:we[Oe]*De[Be],pt&&(Oe*=6),ft){for(tt=0;1<=it;)tt+=Oe*it*it,it/=2;return tt}return Oe*it*tt}function e(Oe,Be,it,tt,ft,pt,_e){function Ae(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Ve(dt,Zt){dt.internalformat=Zt.internalformat,dt.format=Zt.format,dt.type=Zt.type,dt.compressed=Zt.compressed,dt.premultiplyAlpha=Zt.premultiplyAlpha,dt.flipY=Zt.flipY,dt.unpackAlignment=Zt.unpackAlignment,dt.colorSpace=Zt.colorSpace,dt.width=Zt.width,dt.height=Zt.height,dt.channels=Zt.channels}function He(dt,Zt){if(typeof Zt=="object"&&Zt){"premultiplyAlpha"in Zt&&(dt.premultiplyAlpha=Zt.premultiplyAlpha),"flipY"in Zt&&(dt.flipY=Zt.flipY),"alignment"in Zt&&(dt.unpackAlignment=Zt.alignment),"colorSpace"in Zt&&(dt.colorSpace=qt[Zt.colorSpace]),"type"in Zt&&(dt.type=Xt[Zt.type]);var qe=dt.width,nt=dt.height,_t=dt.channels,zt=!1;"shape"in Zt?(qe=Zt.shape[0],nt=Zt.shape[1],Zt.shape.length===3&&(_t=Zt.shape[2],zt=!0)):("radius"in Zt&&(qe=nt=Zt.radius),"width"in Zt&&(qe=Zt.width),"height"in Zt&&(nt=Zt.height),"channels"in Zt&&(_t=Zt.channels,zt=!0)),dt.width=0|qe,dt.height=0|nt,dt.channels=0|_t,qe=!1,"format"in Zt&&(qe=Zt.format,nt=dt.internalformat=$t[qe],dt.format=bn[nt],qe in Xt&&!("type"in Zt)&&(dt.type=Xt[qe]),qe in pn&&(dt.compressed=!0),qe=!0),!zt&&qe?dt.channels=we[dt.format]:zt&&!qe&&dt.channels!==ue[dt.format]&&(dt.format=dt.internalformat=ue[dt.channels])}}function We(dt){Oe.pixelStorei(37440,dt.flipY),Oe.pixelStorei(37441,dt.premultiplyAlpha),Oe.pixelStorei(37443,dt.colorSpace),Oe.pixelStorei(3317,dt.unpackAlignment)}function Pe(){Ae.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ue(dt,Zt){var qe=null;if(s(Zt)?qe=Zt:Zt&&(He(dt,Zt),"x"in Zt&&(dt.xOffset=0|Zt.x),"y"in Zt&&(dt.yOffset=0|Zt.y),s(Zt.data)&&(qe=Zt.data)),Zt.copy){var nt=ft.viewportWidth,_t=ft.viewportHeight;dt.width=dt.width||nt-dt.xOffset,dt.height=dt.height||_t-dt.yOffset,dt.needsCopy=!0}else if(qe){if(le(qe))dt.channels=dt.channels||4,dt.data=qe,"type"in Zt||dt.type!==5121||(dt.type=0|me[Object.prototype.toString.call(qe)]);else if(f(qe)){switch(dt.channels=dt.channels||4,_t=(nt=qe).length,dt.type){case 5121:case 5123:case 5125:case 5126:(_t=ne.allocType(dt.type,_t)).set(nt),dt.data=_t;break;case 36193:dt.data=p(nt)}dt.alignment=1,dt.needsFree=!0}else if(a(qe)){nt=qe.data,Array.isArray(nt)||dt.type!==5121||(dt.type=0|me[Object.prototype.toString.call(nt)]),_t=qe.shape;var zt,Bt,Vt,Nt,Mt=qe.stride;_t.length===3?(Vt=_t[2],Nt=Mt[2]):Nt=Vt=1,zt=_t[0],Bt=_t[1],_t=Mt[0],Mt=Mt[1],dt.alignment=1,dt.width=zt,dt.height=Bt,dt.channels=Vt,dt.format=dt.internalformat=ue[Vt],dt.needsFree=!0,zt=Nt,qe=qe.offset,Vt=dt.width,Nt=dt.height,Bt=dt.channels;for(var lt=ne.allocType(dt.type===36193?5126:dt.type,Vt*Nt*Bt),Qe=0,bt=0;bt<Nt;++bt)for(var Gt=0;Gt<Vt;++Gt)for(var en=0;en<Bt;++en)lt[Qe++]=nt[_t*Gt+Mt*bt+zt*en+qe];r(dt,lt)}else if(o(qe)===Te||o(qe)===ee||o(qe)===se)o(qe)===Te||o(qe)===ee?dt.element=qe:dt.element=qe.canvas,dt.width=dt.element.width,dt.height=dt.element.height,dt.channels=4;else if(o(qe)===ce)dt.element=qe,dt.width=qe.width,dt.height=qe.height,dt.channels=4;else if(o(qe)===be)dt.element=qe,dt.width=qe.naturalWidth,dt.height=qe.naturalHeight,dt.channels=4;else if(o(qe)===Ee)dt.element=qe,dt.width=qe.videoWidth,dt.height=qe.videoHeight,dt.channels=4;else if(n(qe)){for(nt=dt.width||qe[0].length,_t=dt.height||qe.length,Mt=dt.channels,Mt=c(qe[0][0])?Mt||qe[0][0].length:Mt||1,zt=pe.shape(qe),Vt=1,Nt=0;Nt<zt.length;++Nt)Vt*=zt[Nt];Vt=ne.allocType(dt.type===36193?5126:dt.type,Vt),pe.flatten(qe,zt,"",Vt),r(dt,Vt),dt.alignment=1,dt.width=nt,dt.height=_t,dt.channels=Mt,dt.format=dt.internalformat=ue[Mt],dt.needsFree=!0}}else dt.width=dt.width||1,dt.height=dt.height||1,dt.channels=dt.channels||4}function Ne(dt,Zt,qe,nt,_t){var zt=dt.element,Bt=dt.data,Vt=dt.internalformat,Nt=dt.format,Mt=dt.type,lt=dt.width,Qe=dt.height;We(dt),zt?Oe.texSubImage2D(Zt,_t,qe,nt,Nt,Mt,zt):dt.compressed?Oe.compressedTexSubImage2D(Zt,_t,qe,nt,Vt,lt,Qe,Bt):dt.needsCopy?(tt(),Oe.copyTexSubImage2D(Zt,_t,qe,nt,dt.xOffset,dt.yOffset,lt,Qe)):Oe.texSubImage2D(Zt,_t,qe,nt,lt,Qe,Nt,Mt,Bt)}function Ye(){return wn.pop()||new Pe}function Fe(dt){dt.needsFree&&ne.freeType(dt.data),Pe.call(dt),wn.push(dt)}function Ze(){Ae.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function rt(dt,Zt,qe){var nt=dt.images[0]=Ye();dt.mipmask=1,nt.width=dt.width=Zt,nt.height=dt.height=qe,nt.channels=dt.channels=4}function vt(dt,Zt){var qe=null;if(s(Zt))Ve(qe=dt.images[0]=Ye(),dt),Ue(qe,Zt),dt.mipmask=1;else if(He(dt,Zt),Array.isArray(Zt.mipmap))for(var nt=Zt.mipmap,_t=0;_t<nt.length;++_t)Ve(qe=dt.images[_t]=Ye(),dt),qe.width>>=_t,qe.height>>=_t,Ue(qe,nt[_t]),dt.mipmask|=1<<_t;else Ve(qe=dt.images[0]=Ye(),dt),Ue(qe,Zt),dt.mipmask=1;Ve(dt,dt.images[0])}function Lt(dt,Zt){for(var qe=dt.images,nt=0;nt<qe.length&&qe[nt];++nt){var _t=qe[nt],zt=Zt,Bt=nt,Vt=_t.element,Nt=_t.data,Mt=_t.internalformat,lt=_t.format,Qe=_t.type,bt=_t.width,Gt=_t.height;We(_t),Vt?Oe.texImage2D(zt,Bt,lt,lt,Qe,Vt):_t.compressed?Oe.compressedTexImage2D(zt,Bt,Mt,bt,Gt,0,Nt):_t.needsCopy?(tt(),Oe.copyTexImage2D(zt,Bt,lt,_t.xOffset,_t.yOffset,bt,Gt,0)):Oe.texImage2D(zt,Bt,lt,bt,Gt,0,lt,Qe,Nt||null)}}function St(){var dt=Sn.pop()||new Ze;Ae.call(dt);for(var Zt=dt.mipmask=0;16>Zt;++Zt)dt.images[Zt]=null;return dt}function It(dt){for(var Zt=dt.images,qe=0;qe<Zt.length;++qe)Zt[qe]&&Fe(Zt[qe]),Zt[qe]=null;Sn.push(dt)}function ot(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function xt(dt,Zt){"min"in Zt&&(dt.minFilter=Jt[Zt.min],0<=re.indexOf(dt.minFilter)&&!("faces"in Zt)&&(dt.genMipmaps=!0)),"mag"in Zt&&(dt.magFilter=jt[Zt.mag]);var qe=dt.wrapS,nt=dt.wrapT;if("wrap"in Zt){var _t=Zt.wrap;typeof _t=="string"?qe=nt=Wt[_t]:Array.isArray(_t)&&(qe=Wt[_t[0]],nt=Wt[_t[1]])}else"wrapS"in Zt&&(qe=Wt[Zt.wrapS]),"wrapT"in Zt&&(nt=Wt[Zt.wrapT]);if(dt.wrapS=qe,dt.wrapT=nt,"anisotropic"in Zt&&(dt.anisotropic=Zt.anisotropic),"mipmap"in Zt){switch(qe=!1,typeof Zt.mipmap){case"string":dt.mipmapHint=wt[Zt.mipmap],qe=dt.genMipmaps=!0;break;case"boolean":qe=dt.genMipmaps=Zt.mipmap;break;case"object":dt.genMipmaps=!1,qe=!0}!qe||"min"in Zt||(dt.minFilter=9984)}}function Ut(dt,Zt){Oe.texParameteri(Zt,10241,dt.minFilter),Oe.texParameteri(Zt,10240,dt.magFilter),Oe.texParameteri(Zt,10242,dt.wrapS),Oe.texParameteri(Zt,10243,dt.wrapT),Be.ext_texture_filter_anisotropic&&Oe.texParameteri(Zt,34046,dt.anisotropic),dt.genMipmaps&&(Oe.hint(33170,dt.mipmapHint),Oe.generateMipmap(Zt))}function Et(dt){Ae.call(this),this.mipmask=0,this.internalformat=6408,this.id=kn++,this.refCount=1,this.target=dt,this.texture=Oe.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ot,_e.profile&&(this.stats={size:0})}function mt(dt){Oe.activeTexture(33984),Oe.bindTexture(dt.target,dt.texture)}function kt(){var dt=jn[0];dt?Oe.bindTexture(dt.target,dt.texture):Oe.bindTexture(3553,null)}function ht(dt){var Zt=dt.texture,qe=dt.unit,nt=dt.target;0<=qe&&(Oe.activeTexture(33984+qe),Oe.bindTexture(nt,null),jn[qe]=null),Oe.deleteTexture(Zt),dt.texture=null,dt.params=null,dt.pixels=null,dt.refCount=0,delete Ln[dt.id],pt.textureCount--}var wt={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Wt={repeat:10497,clamp:33071,mirror:33648},jt={nearest:9728,linear:9729},Jt=H({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},jt),qt={none:0,browser:37444},Xt={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},$t={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},pn={};Be.ext_srgb&&($t.srgb=35904,$t.srgba=35906),Be.oes_texture_float&&(Xt.float32=Xt.float=5126),Be.oes_texture_half_float&&(Xt.float16=Xt["half float"]=36193),Be.webgl_depth_texture&&(H($t,{depth:6402,"depth stencil":34041}),H(Xt,{uint16:5123,uint32:5125,"depth stencil":34042})),Be.webgl_compressed_texture_s3tc&&H(pn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Be.webgl_compressed_texture_atc&&H(pn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Be.webgl_compressed_texture_pvrtc&&H(pn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Be.webgl_compressed_texture_etc1&&(pn["rgb etc1"]=36196);var An=Array.prototype.slice.call(Oe.getParameter(34467));Object.keys(pn).forEach(function(dt){var Zt=pn[dt];0<=An.indexOf(Zt)&&($t[dt]=Zt)});var rn=Object.keys($t);it.textureFormats=rn;var ln=[];Object.keys($t).forEach(function(dt){ln[$t[dt]]=dt});var gn=[];Object.keys(Xt).forEach(function(dt){gn[Xt[dt]]=dt});var xn=[];Object.keys(jt).forEach(function(dt){xn[jt[dt]]=dt});var sn=[];Object.keys(Jt).forEach(function(dt){sn[Jt[dt]]=dt});var fn=[];Object.keys(Wt).forEach(function(dt){fn[Wt[dt]]=dt});var bn=rn.reduce(function(dt,Zt){var qe=$t[Zt];return qe===6409||qe===6406||qe===6409||qe===6410||qe===6402||qe===34041||Be.ext_srgb&&(qe===35904||qe===35906)?dt[qe]=qe:qe===32855||0<=Zt.indexOf("rgba")?dt[qe]=6408:dt[qe]=6407,dt},{}),wn=[],Sn=[],kn=0,Ln={},zn=it.maxTextureUnits,jn=Array(zn).map(function(){return null});return H(Et.prototype,{bind:function(){this.bindCount+=1;var dt=this.unit;if(0>dt){for(var Zt=0;Zt<zn;++Zt){var qe=jn[Zt];if(qe){if(0<qe.bindCount)continue;qe.unit=-1}jn[Zt]=this,dt=Zt;break}_e.profile&&pt.maxTextureUnits<dt+1&&(pt.maxTextureUnits=dt+1),this.unit=dt,Oe.activeTexture(33984+dt),Oe.bindTexture(this.target,this.texture)}return dt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&ht(this)}}),_e.profile&&(pt.getTotalTextureSize=function(){var dt=0;return Object.keys(Ln).forEach(function(Zt){dt+=Ln[Zt].stats.size}),dt}),{create2D:function(dt,Zt){function qe(_t,zt){var Bt=nt.texInfo;ot.call(Bt);var Vt=St();return typeof _t=="number"?rt(Vt,0|_t,typeof zt=="number"?0|zt:0|_t):_t?(xt(Bt,_t),vt(Vt,_t)):rt(Vt,1,1),Bt.genMipmaps&&(Vt.mipmask=(Vt.width<<1)-1),nt.mipmask=Vt.mipmask,Ve(nt,Vt),nt.internalformat=Vt.internalformat,qe.width=Vt.width,qe.height=Vt.height,mt(nt),Lt(Vt,3553),Ut(Bt,3553),kt(),It(Vt),_e.profile&&(nt.stats.size=g(nt.internalformat,nt.type,Vt.width,Vt.height,Bt.genMipmaps,!1)),qe.format=ln[nt.internalformat],qe.type=gn[nt.type],qe.mag=xn[Bt.magFilter],qe.min=sn[Bt.minFilter],qe.wrapS=fn[Bt.wrapS],qe.wrapT=fn[Bt.wrapT],qe}var nt=new Et(3553);return Ln[nt.id]=nt,pt.textureCount++,qe(dt,Zt),qe.subimage=function(_t,zt,Bt,Vt){zt|=0,Bt|=0,Vt|=0;var Nt=Ye();return Ve(Nt,nt),Nt.width=0,Nt.height=0,Ue(Nt,_t),Nt.width=Nt.width||(nt.width>>Vt)-zt,Nt.height=Nt.height||(nt.height>>Vt)-Bt,mt(nt),Ne(Nt,3553,zt,Bt,Vt),kt(),Fe(Nt),qe},qe.resize=function(_t,zt){var Bt=0|_t,Vt=0|zt||Bt;if(Bt===nt.width&&Vt===nt.height)return qe;qe.width=nt.width=Bt,qe.height=nt.height=Vt,mt(nt);for(var Nt=0;nt.mipmask>>Nt;++Nt){var Mt=Bt>>Nt,lt=Vt>>Nt;if(!Mt||!lt)break;Oe.texImage2D(3553,Nt,nt.format,Mt,lt,0,nt.format,nt.type,null)}return kt(),_e.profile&&(nt.stats.size=g(nt.internalformat,nt.type,Bt,Vt,!1,!1)),qe},qe._reglType="texture2d",qe._texture=nt,_e.profile&&(qe.stats=nt.stats),qe.destroy=function(){nt.decRef()},qe},createCube:function(dt,Zt,qe,nt,_t,zt){function Bt(Mt,lt,Qe,bt,Gt,en){var Qt,Kt=Vt.texInfo;for(ot.call(Kt),Qt=0;6>Qt;++Qt)Nt[Qt]=St();if(typeof Mt!="number"&&Mt){if(typeof Mt=="object")if(lt)vt(Nt[0],Mt),vt(Nt[1],lt),vt(Nt[2],Qe),vt(Nt[3],bt),vt(Nt[4],Gt),vt(Nt[5],en);else if(xt(Kt,Mt),He(Vt,Mt),"faces"in Mt)for(Mt=Mt.faces,Qt=0;6>Qt;++Qt)Ve(Nt[Qt],Vt),vt(Nt[Qt],Mt[Qt]);else for(Qt=0;6>Qt;++Qt)vt(Nt[Qt],Mt)}else for(Mt=0|Mt||1,Qt=0;6>Qt;++Qt)rt(Nt[Qt],Mt,Mt);for(Ve(Vt,Nt[0]),Vt.mipmask=Kt.genMipmaps?(Nt[0].width<<1)-1:Nt[0].mipmask,Vt.internalformat=Nt[0].internalformat,Bt.width=Nt[0].width,Bt.height=Nt[0].height,mt(Vt),Qt=0;6>Qt;++Qt)Lt(Nt[Qt],34069+Qt);for(Ut(Kt,34067),kt(),_e.profile&&(Vt.stats.size=g(Vt.internalformat,Vt.type,Bt.width,Bt.height,Kt.genMipmaps,!0)),Bt.format=ln[Vt.internalformat],Bt.type=gn[Vt.type],Bt.mag=xn[Kt.magFilter],Bt.min=sn[Kt.minFilter],Bt.wrapS=fn[Kt.wrapS],Bt.wrapT=fn[Kt.wrapT],Qt=0;6>Qt;++Qt)It(Nt[Qt]);return Bt}var Vt=new Et(34067);Ln[Vt.id]=Vt,pt.cubeCount++;var Nt=Array(6);return Bt(dt,Zt,qe,nt,_t,zt),Bt.subimage=function(Mt,lt,Qe,bt,Gt){Qe|=0,bt|=0,Gt|=0;var en=Ye();return Ve(en,Vt),en.width=0,en.height=0,Ue(en,lt),en.width=en.width||(Vt.width>>Gt)-Qe,en.height=en.height||(Vt.height>>Gt)-bt,mt(Vt),Ne(en,34069+Mt,Qe,bt,Gt),kt(),Fe(en),Bt},Bt.resize=function(Mt){if((Mt|=0)!==Vt.width){Bt.width=Vt.width=Mt,Bt.height=Vt.height=Mt,mt(Vt);for(var lt=0;6>lt;++lt)for(var Qe=0;Vt.mipmask>>Qe;++Qe)Oe.texImage2D(34069+lt,Qe,Vt.format,Mt>>Qe,Mt>>Qe,0,Vt.format,Vt.type,null);return kt(),_e.profile&&(Vt.stats.size=g(Vt.internalformat,Vt.type,Bt.width,Bt.height,!1,!0)),Bt}},Bt._reglType="textureCube",Bt._texture=Vt,_e.profile&&(Bt.stats=Vt.stats),Bt.destroy=function(){Vt.decRef()},Bt},clear:function(){for(var dt=0;dt<zn;++dt)Oe.activeTexture(33984+dt),Oe.bindTexture(3553,null),jn[dt]=null;fe(Ln).forEach(ht),pt.cubeCount=0,pt.textureCount=0},getTexture:function(dt){return null},restore:function(){for(var dt=0;dt<zn;++dt){var Zt=jn[dt];Zt&&(Zt.bindCount=0,Zt.unit=-1,jn[dt]=null)}fe(Ln).forEach(function(qe){qe.texture=Oe.createTexture(),Oe.bindTexture(qe.target,qe.texture);for(var nt=0;32>nt;++nt)if(qe.mipmask&1<<nt)if(qe.target===3553)Oe.texImage2D(3553,nt,qe.internalformat,qe.width>>nt,qe.height>>nt,0,qe.internalformat,qe.type,null);else for(var _t=0;6>_t;++_t)Oe.texImage2D(34069+_t,nt,qe.internalformat,qe.width>>nt,qe.height>>nt,0,qe.internalformat,qe.type,null);Ut(qe.texInfo,qe.target)})},refresh:function(){for(var dt=0;dt<zn;++dt){var Zt=jn[dt];Zt&&(Zt.bindCount=0,Zt.unit=-1,jn[dt]=null),Oe.activeTexture(33984+dt),Oe.bindTexture(3553,null),Oe.bindTexture(34067,null)}}}}function h(Oe,Be,it,tt,ft,pt){function _e(Et,mt,kt){this.target=Et,this.texture=mt,this.renderbuffer=kt;var ht=Et=0;mt?(Et=mt.width,ht=mt.height):kt&&(Et=kt.width,ht=kt.height),this.width=Et,this.height=ht}function Ae(Et){Et&&(Et.texture&&Et.texture._texture.decRef(),Et.renderbuffer&&Et.renderbuffer._renderbuffer.decRef())}function Ve(Et,mt,kt){Et&&(Et.texture?Et.texture._texture.refCount+=1:Et.renderbuffer._renderbuffer.refCount+=1)}function He(Et,mt){mt&&(mt.texture?Oe.framebufferTexture2D(36160,Et,mt.target,mt.texture._texture.texture,0):Oe.framebufferRenderbuffer(36160,Et,36161,mt.renderbuffer._renderbuffer.renderbuffer))}function We(Et){var mt=3553,kt=null,ht=null,wt=Et;return typeof Et=="object"&&(wt=Et.data,"target"in Et&&(mt=0|Et.target)),(Et=wt._reglType)==="texture2d"||Et==="textureCube"?kt=wt:Et==="renderbuffer"&&(ht=wt,mt=36161),new _e(mt,kt,ht)}function Pe(Et,mt,kt,ht,wt){return kt?((Et=tt.create2D({width:Et,height:mt,format:ht,type:wt}))._texture.refCount=0,new _e(3553,Et,null)):((Et=ft.create({width:Et,height:mt,format:ht}))._renderbuffer.refCount=0,new _e(36161,null,Et))}function Ue(Et){return Et&&(Et.texture||Et.renderbuffer)}function Ne(Et,mt,kt){Et&&(Et.texture?Et.texture.resize(mt,kt):Et.renderbuffer&&Et.renderbuffer.resize(mt,kt),Et.width=mt,Et.height=kt)}function Ye(){this.id=xt++,Ut[this.id]=this,this.framebuffer=Oe.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Fe(Et){Et.colorAttachments.forEach(Ae),Ae(Et.depthAttachment),Ae(Et.stencilAttachment),Ae(Et.depthStencilAttachment)}function Ze(Et){Oe.deleteFramebuffer(Et.framebuffer),Et.framebuffer=null,pt.framebufferCount--,delete Ut[Et.id]}function rt(Et){var mt;Oe.bindFramebuffer(36160,Et.framebuffer);var kt=Et.colorAttachments;for(mt=0;mt<kt.length;++mt)He(36064+mt,kt[mt]);for(mt=kt.length;mt<it.maxColorAttachments;++mt)Oe.framebufferTexture2D(36160,36064+mt,3553,null,0);Oe.framebufferTexture2D(36160,33306,3553,null,0),Oe.framebufferTexture2D(36160,36096,3553,null,0),Oe.framebufferTexture2D(36160,36128,3553,null,0),He(36096,Et.depthAttachment),He(36128,Et.stencilAttachment),He(33306,Et.depthStencilAttachment),Oe.checkFramebufferStatus(36160),Oe.isContextLost(),Oe.bindFramebuffer(36160,Lt.next?Lt.next.framebuffer:null),Lt.cur=Lt.next,Oe.getError()}function vt(Et,mt){function kt(wt,Wt){var jt,Jt=0,qt=0,Xt=!0,$t=!0;jt=null;var pn=!0,An="rgba",rn="uint8",ln=1,gn=null,xn=null,sn=null,fn=!1;typeof wt=="number"?(Jt=0|wt,qt=0|Wt||Jt):wt?("shape"in wt?(Jt=(qt=wt.shape)[0],qt=qt[1]):("radius"in wt&&(Jt=qt=wt.radius),"width"in wt&&(Jt=wt.width),"height"in wt&&(qt=wt.height)),("color"in wt||"colors"in wt)&&(jt=wt.color||wt.colors,Array.isArray(jt)),jt||("colorCount"in wt&&(ln=0|wt.colorCount),"colorTexture"in wt&&(pn=!!wt.colorTexture,An="rgba4"),"colorType"in wt&&(rn=wt.colorType,!pn)&&(rn==="half float"||rn==="float16"?An="rgba16f":rn!=="float"&&rn!=="float32"||(An="rgba32f")),"colorFormat"in wt&&(An=wt.colorFormat,0<=St.indexOf(An)?pn=!0:0<=It.indexOf(An)&&(pn=!1))),("depthTexture"in wt||"depthStencilTexture"in wt)&&(fn=!(!wt.depthTexture&&!wt.depthStencilTexture)),"depth"in wt&&(typeof wt.depth=="boolean"?Xt=wt.depth:(gn=wt.depth,$t=!1)),"stencil"in wt&&(typeof wt.stencil=="boolean"?$t=wt.stencil:(xn=wt.stencil,Xt=!1)),"depthStencil"in wt&&(typeof wt.depthStencil=="boolean"?Xt=$t=wt.depthStencil:(sn=wt.depthStencil,$t=Xt=!1))):Jt=qt=1;var bn=null,wn=null,Sn=null,kn=null;if(Array.isArray(jt))bn=jt.map(We);else if(jt)bn=[We(jt)];else for(bn=Array(ln),jt=0;jt<ln;++jt)bn[jt]=Pe(Jt,qt,pn,An,rn);for(Jt=Jt||bn[0].width,qt=qt||bn[0].height,gn?wn=We(gn):Xt&&!$t&&(wn=Pe(Jt,qt,fn,"depth","uint32")),xn?Sn=We(xn):$t&&!Xt&&(Sn=Pe(Jt,qt,!1,"stencil","uint8")),sn?kn=We(sn):!gn&&!xn&&$t&&Xt&&(kn=Pe(Jt,qt,fn,"depth stencil","depth stencil")),Xt=null,jt=0;jt<bn.length;++jt)Ve(bn[jt]),bn[jt]&&bn[jt].texture&&($t=ut[bn[jt].texture._texture.format]*Tt[bn[jt].texture._texture.type],Xt===null&&(Xt=$t));return Ve(wn),Ve(Sn),Ve(kn),Fe(ht),ht.width=Jt,ht.height=qt,ht.colorAttachments=bn,ht.depthAttachment=wn,ht.stencilAttachment=Sn,ht.depthStencilAttachment=kn,kt.color=bn.map(Ue),kt.depth=Ue(wn),kt.stencil=Ue(Sn),kt.depthStencil=Ue(kn),kt.width=ht.width,kt.height=ht.height,rt(ht),kt}var ht=new Ye;return pt.framebufferCount++,kt(Et,mt),H(kt,{resize:function(wt,Wt){var jt=Math.max(0|wt,1),Jt=Math.max(0|Wt||jt,1);if(jt===ht.width&&Jt===ht.height)return kt;for(var qt=ht.colorAttachments,Xt=0;Xt<qt.length;++Xt)Ne(qt[Xt],jt,Jt);return Ne(ht.depthAttachment,jt,Jt),Ne(ht.stencilAttachment,jt,Jt),Ne(ht.depthStencilAttachment,jt,Jt),ht.width=kt.width=jt,ht.height=kt.height=Jt,rt(ht),kt},_reglType:"framebuffer",_framebuffer:ht,destroy:function(){Ze(ht),Fe(ht)},use:function(wt){Lt.setFBO({framebuffer:kt},wt)}})}var Lt={cur:null,next:null,dirty:!1,setFBO:null},St=["rgba"],It=["rgba4","rgb565","rgb5 a1"];Be.ext_srgb&&It.push("srgba"),Be.ext_color_buffer_half_float&&It.push("rgba16f","rgb16f"),Be.webgl_color_buffer_float&&It.push("rgba32f");var ot=["uint8"];Be.oes_texture_half_float&&ot.push("half float","float16"),Be.oes_texture_float&&ot.push("float","float32");var xt=0,Ut={};return H(Lt,{getFramebuffer:function(Et){return typeof Et=="function"&&Et._reglType==="framebuffer"&&(Et=Et._framebuffer)instanceof Ye?Et:null},create:vt,createCube:function(Et){function mt(ht){var wt,Wt={color:null},jt=0,Jt=null;wt="rgba";var qt="uint8",Xt=1;if(typeof ht=="number"?jt=0|ht:ht?("shape"in ht?jt=ht.shape[0]:("radius"in ht&&(jt=0|ht.radius),"width"in ht?jt=0|ht.width:"height"in ht&&(jt=0|ht.height)),("color"in ht||"colors"in ht)&&(Jt=ht.color||ht.colors,Array.isArray(Jt)),Jt||("colorCount"in ht&&(Xt=0|ht.colorCount),"colorType"in ht&&(qt=ht.colorType),"colorFormat"in ht&&(wt=ht.colorFormat)),"depth"in ht&&(Wt.depth=ht.depth),"stencil"in ht&&(Wt.stencil=ht.stencil),"depthStencil"in ht&&(Wt.depthStencil=ht.depthStencil)):jt=1,Jt)if(Array.isArray(Jt))for(ht=[],wt=0;wt<Jt.length;++wt)ht[wt]=Jt[wt];else ht=[Jt];else for(ht=Array(Xt),Jt={radius:jt,format:wt,type:qt},wt=0;wt<Xt;++wt)ht[wt]=tt.createCube(Jt);for(Wt.color=Array(ht.length),wt=0;wt<ht.length;++wt)Xt=ht[wt],jt=jt||Xt.width,Wt.color[wt]={target:34069,data:ht[wt]};for(wt=0;6>wt;++wt){for(Xt=0;Xt<ht.length;++Xt)Wt.color[Xt].target=34069+wt;0<wt&&(Wt.depth=kt[0].depth,Wt.stencil=kt[0].stencil,Wt.depthStencil=kt[0].depthStencil),kt[wt]?kt[wt](Wt):kt[wt]=vt(Wt)}return H(mt,{width:jt,height:jt,color:ht})}var kt=Array(6);return mt(Et),H(mt,{faces:kt,resize:function(ht){var wt=0|ht;if(wt===mt.width)return mt;var Wt=mt.color;for(ht=0;ht<Wt.length;++ht)Wt[ht].resize(wt);for(ht=0;6>ht;++ht)kt[ht].resize(wt);return mt.width=mt.height=wt,mt},_reglType:"framebufferCube",destroy:function(){kt.forEach(function(ht){ht.destroy()})}})},clear:function(){fe(Ut).forEach(Ze)},restore:function(){Lt.cur=null,Lt.next=null,Lt.dirty=!0,fe(Ut).forEach(function(Et){Et.framebuffer=Oe.createFramebuffer(),rt(Et)})}})}function _(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function w(Oe,Be,it,tt,ft,pt,_e){function Ae(){this.id=++We,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ne=Be.oes_vertex_array_object;this.vao=Ne?Ne.createVertexArrayOES():null,Pe[this.id]=this,this.buffers=[]}var Ve=it.maxAttributes,He=Array(Ve);for(it=0;it<Ve;++it)He[it]=new _;var We=0,Pe={},Ue={Record:_,scope:{},state:He,currentVAO:null,targetVAO:null,restore:Be.oes_vertex_array_object?function(){Be.oes_vertex_array_object&&fe(Pe).forEach(function(Ne){Ne.refresh()})}:function(){},createVAO:function(Ne){function Ye(Ze){var rt;Array.isArray(Ze)?(rt=Ze,Fe.elements&&Fe.ownsElements&&Fe.elements.destroy(),Fe.elements=null,Fe.ownsElements=!1,Fe.offset=0,Fe.count=0,Fe.instances=-1,Fe.primitive=4):(Ze.elements?(rt=Ze.elements,Fe.ownsElements?(typeof rt=="function"&&rt._reglType==="elements"?Fe.elements.destroy():Fe.elements(rt),Fe.ownsElements=!1):pt.getElements(Ze.elements)?(Fe.elements=Ze.elements,Fe.ownsElements=!1):(Fe.elements=pt.create(Ze.elements),Fe.ownsElements=!0)):(Fe.elements=null,Fe.ownsElements=!1),rt=Ze.attributes,Fe.offset=0,Fe.count=-1,Fe.instances=-1,Fe.primitive=4,Fe.elements&&(Fe.count=Fe.elements._elements.vertCount,Fe.primitive=Fe.elements._elements.primType),"offset"in Ze&&(Fe.offset=0|Ze.offset),"count"in Ze&&(Fe.count=0|Ze.count),"instances"in Ze&&(Fe.instances=0|Ze.instances),"primitive"in Ze&&(Fe.primitive=ae[Ze.primitive])),Ze={};var vt=Fe.attributes;vt.length=rt.length;for(var Lt=0;Lt<rt.length;++Lt){var St,It=rt[Lt],ot=vt[Lt]=new _,xt=It.data||It;Array.isArray(xt)||le(xt)||a(xt)?(Fe.buffers[Lt]&&(St=Fe.buffers[Lt],le(xt)&&St._buffer.byteLength>=xt.byteLength?St.subdata(xt):(St.destroy(),Fe.buffers[Lt]=null)),Fe.buffers[Lt]||(St=Fe.buffers[Lt]=ft.create(It,34962,!1,!0)),ot.buffer=ft.getBuffer(St),ot.size=0|ot.buffer.dimension,ot.normalized=!1,ot.type=ot.buffer.dtype,ot.offset=0,ot.stride=0,ot.divisor=0,ot.state=1,Ze[Lt]=1):ft.getBuffer(It)?(ot.buffer=ft.getBuffer(It),ot.size=0|ot.buffer.dimension,ot.normalized=!1,ot.type=ot.buffer.dtype,ot.offset=0,ot.stride=0,ot.divisor=0,ot.state=1):ft.getBuffer(It.buffer)?(ot.buffer=ft.getBuffer(It.buffer),ot.size=0|(+It.size||ot.buffer.dimension),ot.normalized=!!It.normalized||!1,ot.type="type"in It?ke[It.type]:ot.buffer.dtype,ot.offset=0|(It.offset||0),ot.stride=0|(It.stride||0),ot.divisor=0|(It.divisor||0),ot.state=1):"x"in It&&(ot.x=+It.x||0,ot.y=+It.y||0,ot.z=+It.z||0,ot.w=+It.w||0,ot.state=2)}for(St=0;St<Fe.buffers.length;++St)!Ze[St]&&Fe.buffers[St]&&(Fe.buffers[St].destroy(),Fe.buffers[St]=null);return Fe.refresh(),Ye}var Fe=new Ae;return tt.vaoCount+=1,Ye.destroy=function(){for(var Ze=0;Ze<Fe.buffers.length;++Ze)Fe.buffers[Ze]&&Fe.buffers[Ze].destroy();Fe.buffers.length=0,Fe.ownsElements&&(Fe.elements.destroy(),Fe.elements=null,Fe.ownsElements=!1),Fe.destroy()},Ye._vao=Fe,Ye._reglType="vao",Ye(Ne)},getVAO:function(Ne){return typeof Ne=="function"&&Ne._vao?Ne._vao:null},destroyBuffer:function(Ne){for(var Ye=0;Ye<He.length;++Ye){var Fe=He[Ye];Fe.buffer===Ne&&(Oe.disableVertexAttribArray(Ye),Fe.buffer=null)}},setVAO:Be.oes_vertex_array_object?function(Ne){if(Ne!==Ue.currentVAO){var Ye=Be.oes_vertex_array_object;Ne?Ye.bindVertexArrayOES(Ne.vao):Ye.bindVertexArrayOES(null),Ue.currentVAO=Ne}}:function(Ne){if(Ne!==Ue.currentVAO){if(Ne)Ne.bindAttrs();else{for(var Ye=Be.angle_instanced_arrays,Fe=0;Fe<He.length;++Fe){var Ze=He[Fe];Ze.buffer?(Oe.enableVertexAttribArray(Fe),Ze.buffer.bind(),Oe.vertexAttribPointer(Fe,Ze.size,Ze.type,Ze.normalized,Ze.stride,Ze.offfset),Ye&&Ze.divisor&&Ye.vertexAttribDivisorANGLE(Fe,Ze.divisor)):(Oe.disableVertexAttribArray(Fe),Oe.vertexAttrib4f(Fe,Ze.x,Ze.y,Ze.z,Ze.w))}_e.elements?Oe.bindBuffer(34963,_e.elements.buffer.buffer):Oe.bindBuffer(34963,null)}Ue.currentVAO=Ne}},clear:Be.oes_vertex_array_object?function(){fe(Pe).forEach(function(Ne){Ne.destroy()})}:function(){}};return Ae.prototype.bindAttrs=function(){for(var Ne=Be.angle_instanced_arrays,Ye=this.attributes,Fe=0;Fe<Ye.length;++Fe){var Ze=Ye[Fe];Ze.buffer?(Oe.enableVertexAttribArray(Fe),Oe.bindBuffer(34962,Ze.buffer.buffer),Oe.vertexAttribPointer(Fe,Ze.size,Ze.type,Ze.normalized,Ze.stride,Ze.offset),Ne&&Ze.divisor&&Ne.vertexAttribDivisorANGLE(Fe,Ze.divisor)):(Oe.disableVertexAttribArray(Fe),Oe.vertexAttrib4f(Fe,Ze.x,Ze.y,Ze.z,Ze.w))}for(Ne=Ye.length;Ne<Ve;++Ne)Oe.disableVertexAttribArray(Ne);(Ne=pt.getElements(this.elements))?Oe.bindBuffer(34963,Ne.buffer.buffer):Oe.bindBuffer(34963,null)},Ae.prototype.refresh=function(){var Ne=Be.oes_vertex_array_object;Ne&&(Ne.bindVertexArrayOES(this.vao),this.bindAttrs(),Ue.currentVAO=null,Ne.bindVertexArrayOES(null))},Ae.prototype.destroy=function(){if(this.vao){var Ne=Be.oes_vertex_array_object;this===Ue.currentVAO&&(Ue.currentVAO=null,Ne.bindVertexArrayOES(null)),Ne.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Pe[this.id]&&(delete Pe[this.id],--tt.vaoCount)},Ue}function S(Oe,Be,it,tt){function ft(Ye,Fe,Ze,rt){this.name=Ye,this.id=Fe,this.location=Ze,this.info=rt}function pt(Ye,Fe){for(var Ze=0;Ze<Ye.length;++Ze)if(Ye[Ze].id===Fe.id)return void(Ye[Ze].location=Fe.location);Ye.push(Fe)}function _e(Ye,Fe,Ze){if(!(vt=(Ze=Ye===35632?He:We)[Fe])){var rt=Be.str(Fe),vt=Oe.createShader(Ye);Oe.shaderSource(vt,rt),Oe.compileShader(vt),Ze[Fe]=vt}return vt}function Ae(Ye,Fe){this.id=Ne++,this.fragId=Ye,this.vertId=Fe,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,tt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ve(Ye,Fe,Ze){var rt;rt=_e(35632,Ye.fragId);var vt=_e(35633,Ye.vertId);if(Fe=Ye.program=Oe.createProgram(),Oe.attachShader(Fe,rt),Oe.attachShader(Fe,vt),Ze)for(rt=0;rt<Ze.length;++rt)vt=Ze[rt],Oe.bindAttribLocation(Fe,vt[0],vt[1]);Oe.linkProgram(Fe),vt=Oe.getProgramParameter(Fe,35718),tt.profile&&(Ye.stats.uniformsCount=vt);var Lt=Ye.uniforms;for(rt=0;rt<vt;++rt)if(Ze=Oe.getActiveUniform(Fe,rt))if(1<Ze.size)for(var St=0;St<Ze.size;++St){var It=Ze.name.replace("[0]","["+St+"]");pt(Lt,new ft(It,Be.id(It),Oe.getUniformLocation(Fe,It),Ze))}else pt(Lt,new ft(Ze.name,Be.id(Ze.name),Oe.getUniformLocation(Fe,Ze.name),Ze));for(vt=Oe.getProgramParameter(Fe,35721),tt.profile&&(Ye.stats.attributesCount=vt),Ye=Ye.attributes,rt=0;rt<vt;++rt)(Ze=Oe.getActiveAttrib(Fe,rt))&&pt(Ye,new ft(Ze.name,Be.id(Ze.name),Oe.getAttribLocation(Fe,Ze.name),Ze))}var He={},We={},Pe={},Ue=[],Ne=0;return tt.profile&&(it.getMaxUniformsCount=function(){var Ye=0;return Ue.forEach(function(Fe){Fe.stats.uniformsCount>Ye&&(Ye=Fe.stats.uniformsCount)}),Ye},it.getMaxAttributesCount=function(){var Ye=0;return Ue.forEach(function(Fe){Fe.stats.attributesCount>Ye&&(Ye=Fe.stats.attributesCount)}),Ye}),{clear:function(){var Ye=Oe.deleteShader.bind(Oe);fe(He).forEach(Ye),He={},fe(We).forEach(Ye),We={},Ue.forEach(function(Fe){Oe.deleteProgram(Fe.program)}),Ue.length=0,Pe={},it.shaderCount=0},program:function(Ye,Fe,Ze,rt){var vt=Pe[Fe];vt||(vt=Pe[Fe]={});var Lt=vt[Ye];if(Lt&&(Lt.refCount++,!rt))return Lt;var St=new Ae(Fe,Ye);return it.shaderCount++,Ve(St,Ze,rt),Lt||(vt[Ye]=St),Ue.push(St),H(St,{destroy:function(){if(St.refCount--,0>=St.refCount){Oe.deleteProgram(St.program);var It=Ue.indexOf(St);Ue.splice(It,1),it.shaderCount--}0>=vt[St.vertId].refCount&&(Oe.deleteShader(We[St.vertId]),delete We[St.vertId],delete Pe[St.fragId][St.vertId]),Object.keys(Pe[St.fragId]).length||(Oe.deleteShader(He[St.fragId]),delete He[St.fragId],delete Pe[St.fragId])}})},restore:function(){He={},We={};for(var Ye=0;Ye<Ue.length;++Ye)Ve(Ue[Ye],null,Ue[Ye].attributes.map(function(Fe){return[Fe.location,Fe.name]}))},shader:_e,frag:-1,vert:-1}}function O(Oe,Be,it,tt,ft,pt,_e){function Ae(Ve){var He;He=Be.next===null?5121:Be.next.colorAttachments[0].texture._texture.type;var We=0,Pe=0,Ue=tt.framebufferWidth,Ne=tt.framebufferHeight,Ye=null;return le(Ve)?Ye=Ve:Ve&&(We=0|Ve.x,Pe=0|Ve.y,Ue=0|(Ve.width||tt.framebufferWidth-We),Ne=0|(Ve.height||tt.framebufferHeight-Pe),Ye=Ve.data||null),it(),Ve=Ue*Ne*4,Ye||(He===5121?Ye=new Uint8Array(Ve):He===5126&&(Ye=Ye||new Float32Array(Ve))),Oe.pixelStorei(3333,4),Oe.readPixels(We,Pe,Ue,Ne,6408,He,Ye),Ye}return function(Ve){return Ve&&"framebuffer"in Ve?function(He){var We;return Be.setFBO({framebuffer:He.framebuffer},function(){We=Ae(He)}),We}(Ve):Ae(Ve)}}function A(Oe,Be){return Oe>>>Be|Oe<<32-Be}function I(Oe,Be){var it=(65535&Oe)+(65535&Be);return(Oe>>16)+(Be>>16)+(it>>16)<<16|65535&it}function B(Oe){return Array.prototype.slice.call(Oe)}function C(Oe){return B(Oe).join("")}function z(Oe){function Be(){var We=[],Pe=[];return H(function(){We.push.apply(We,B(arguments))},{def:function(){var Ue="v"+ft++;return Pe.push(Ue),0<arguments.length&&(We.push(Ue,"="),We.push.apply(We,B(arguments)),We.push(";")),Ue},toString:function(){return C([0<Pe.length?"var "+Pe.join(",")+";":"",C(We)])}})}function it(){function We(Fe,Ze){Ue(Fe,Ze,"=",Pe.def(Fe,Ze),";")}var Pe=Be(),Ue=Be(),Ne=Pe.toString,Ye=Ue.toString;return H(function(){Pe.apply(Pe,B(arguments))},{def:Pe.def,entry:Pe,exit:Ue,save:We,set:function(Fe,Ze,rt){We(Fe,Ze),Pe(Fe,Ze,"=",rt,";")},toString:function(){return Ne()+Ye()}})}var tt=Oe&&Oe.cache,ft=0,pt=[],_e=[],Ae=[],Ve=Be(),He={};return{global:Ve,link:function(We,Pe){var Ue=Pe&&Pe.stable;if(!Ue){for(var Ne=0;Ne<_e.length;++Ne)if(_e[Ne]===We&&!Ae[Ne])return pt[Ne]}return Ne="g"+ft++,pt.push(Ne),_e.push(We),Ae.push(Ue),Ne},block:Be,proc:function(We,Pe){function Ue(){var Ze="a"+Ne.length;return Ne.push(Ze),Ze}var Ne=[];Pe=Pe||0;for(var Ye=0;Ye<Pe;++Ye)Ue();var Fe=(Ye=it()).toString;return He[We]=H(Ye,{arg:Ue,toString:function(){return C(["function(",Ne.join(),"){",Fe(),"}"])}})},scope:it,cond:function(){var We=C(arguments),Pe=it(),Ue=it(),Ne=Pe.toString,Ye=Ue.toString;return H(Pe,{then:function(){return Pe.apply(Pe,B(arguments)),this},else:function(){return Ue.apply(Ue,B(arguments)),this},toString:function(){var Fe=Ye();return Fe&&(Fe="else{"+Fe+"}"),C(["if(",We,"){",Ne(),"}",Fe])}})},compile:function(){var We=['"use strict";',Ve,"return {"];Object.keys(He).forEach(function(Ne){We.push('"',Ne,'":',He[Ne].toString(),",")}),We.push("}");var Pe,Ue=C(We).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return tt&&(Pe=function(Ne){for(var Ye,Fe="",Ze=0;Ze<Ne.length;Ze++)Ye=Ne.charCodeAt(Ze),Fe+="0123456789abcdef".charAt(Ye>>>4&15)+"0123456789abcdef".charAt(15&Ye);return Fe}(function(Ne){for(var Ye=Array(Ne.length>>2),Fe=0;Fe<Ye.length;Fe++)Ye[Fe]=0;for(Fe=0;Fe<8*Ne.length;Fe+=8)Ye[Fe>>5]|=(255&Ne.charCodeAt(Fe/8))<<24-Fe%32;var Ze,rt,vt,Lt,St,It,ot,xt,Ut,Et,mt,kt=8*Ne.length;for(Ne=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Fe=Array(64),Ye[kt>>5]|=128<<24-kt%32,Ye[15+(kt+64>>9<<4)]=kt,xt=0;xt<Ye.length;xt+=16){for(kt=Ne[0],Ze=Ne[1],rt=Ne[2],vt=Ne[3],Lt=Ne[4],St=Ne[5],It=Ne[6],ot=Ne[7],Ut=0;64>Ut;Ut++){var ht;16>Ut?Fe[Ut]=Ye[Ut+xt]:(Et=Ut,mt=I(mt=A(mt=Fe[Ut-2],17)^A(mt,19)^mt>>>10,Fe[Ut-7]),ht=A(ht=Fe[Ut-15],7)^A(ht,18)^ht>>>3,Fe[Et]=I(I(mt,ht),Fe[Ut-16])),Et=I(I(I(I(ot,Et=A(Et=Lt,6)^A(Et,11)^A(Et,25)),Lt&St^~Lt&It),je[Ut]),Fe[Ut]),mt=I(ot=A(ot=kt,2)^A(ot,13)^A(ot,22),kt&Ze^kt&rt^Ze&rt),ot=It,It=St,St=Lt,Lt=I(vt,Et),vt=rt,rt=Ze,Ze=kt,kt=I(Et,mt)}Ne[0]=I(kt,Ne[0]),Ne[1]=I(Ze,Ne[1]),Ne[2]=I(rt,Ne[2]),Ne[3]=I(vt,Ne[3]),Ne[4]=I(Lt,Ne[4]),Ne[5]=I(St,Ne[5]),Ne[6]=I(It,Ne[6]),Ne[7]=I(ot,Ne[7])}for(Ye="",Fe=0;Fe<32*Ne.length;Fe+=8)Ye+=String.fromCharCode(Ne[Fe>>5]>>>24-Fe%32&255);return Ye}(function(Ne){for(var Ye,Fe,Ze="",rt=-1;++rt<Ne.length;)Ye=Ne.charCodeAt(rt),Fe=rt+1<Ne.length?Ne.charCodeAt(rt+1):0,55296<=Ye&&56319>=Ye&&56320<=Fe&&57343>=Fe&&(Ye=65536+((1023&Ye)<<10)+(1023&Fe),rt++),127>=Ye?Ze+=String.fromCharCode(Ye):2047>=Ye?Ze+=String.fromCharCode(192|Ye>>>6&31,128|63&Ye):65535>=Ye?Ze+=String.fromCharCode(224|Ye>>>12&15,128|Ye>>>6&63,128|63&Ye):2097151>=Ye&&(Ze+=String.fromCharCode(240|Ye>>>18&7,128|Ye>>>12&63,128|Ye>>>6&63,128|63&Ye));return Ze}(Ue))),tt[Pe])?tt[Pe].apply(null,_e):(Ue=Function.apply(null,pt.concat(Ue)),tt&&(tt[Pe]=Ue),Ue.apply(null,_e))}}}function P(Oe){return Array.isArray(Oe)||le(Oe)||a(Oe)}function R(Oe){return Oe.sort(function(Be,it){return Be==="viewport"?-1:it==="viewport"?1:Be<it?-1:1})}function N(Oe,Be,it,tt){this.thisDep=Oe,this.contextDep=Be,this.propDep=it,this.append=tt}function j(Oe){return Oe&&!(Oe.thisDep||Oe.contextDep||Oe.propDep)}function W(Oe){return new N(!1,!1,!1,Oe)}function Y(Oe,Be){var it=Oe.type;if(it===0)return new N(!0,1<=(it=Oe.data.length),2<=it,Be);if(it===4)return new N((it=Oe.data).thisDep,it.contextDep,it.propDep,Be);if(it===5)return new N(!1,!1,!1,Be);if(it===6){for(var tt=it=!1,ft=!1,pt=0;pt<Oe.data.length;++pt){var _e=Oe.data[pt];_e.type===1?ft=!0:_e.type===2?tt=!0:_e.type===3?it=!0:_e.type===0?(it=!0,1<=(_e=_e.data)&&(tt=!0),2<=_e&&(ft=!0)):_e.type===4&&(it=it||_e.data.thisDep,tt=tt||_e.data.contextDep,ft=ft||_e.data.propDep)}return new N(it,tt,ft,Be)}return new N(it===3,it===2,it===1,Be)}function J(Oe,Be,it,tt,ft,pt,_e,Ae,Ve,He,We,Pe,Ue,Ne,Ye,Fe){function Ze(qe){return qe.replace(".","_")}function rt(qe,nt,_t){var zt=Ze(qe);kn.push(qe),Sn[zt]=wn[zt]=!!_t,Ln[zt]=nt}function vt(qe,nt,_t){var zt=Ze(qe);kn.push(qe),Array.isArray(_t)?(wn[zt]=_t.slice(),Sn[zt]=_t.slice()):wn[zt]=Sn[zt]=_t,zn[zt]=nt}function Lt(){var qe=z({cache:Ye}),nt=qe.link,_t=qe.global;qe.id=Zt++,qe.batchId="0";var zt=nt(jn),Bt=qe.shared={props:"a0"};Object.keys(jn).forEach(function(Qe){Bt[Qe]=_t.def(zt,".",Qe)});var Vt=qe.next={},Nt=qe.current={};Object.keys(zn).forEach(function(Qe){Array.isArray(wn[Qe])&&(Vt[Qe]=_t.def(Bt.next,".",Qe),Nt[Qe]=_t.def(Bt.current,".",Qe))});var Mt=qe.constants={};Object.keys(dt).forEach(function(Qe){Mt[Qe]=_t.def(JSON.stringify(dt[Qe]))}),qe.invoke=function(Qe,bt){switch(bt.type){case 0:var Gt=["this",Bt.context,Bt.props,qe.batchId];return Qe.def(nt(bt.data),".call(",Gt.slice(0,Math.max(bt.data.length+1,4)),")");case 1:return Qe.def(Bt.props,bt.data);case 2:return Qe.def(Bt.context,bt.data);case 3:return Qe.def("this",bt.data);case 4:return bt.data.append(qe,Qe),bt.data.ref;case 5:return bt.data.toString();case 6:return bt.data.map(function(en){return qe.invoke(Qe,en)})}},qe.attribCache={};var lt={};return qe.scopeAttrib=function(Qe){if((Qe=Be.id(Qe))in lt)return lt[Qe];var bt=He.scope[Qe];return bt||(bt=He.scope[Qe]=new gn),lt[Qe]=nt(bt)},qe}function St(qe,nt){var _t=qe.static,zt=qe.dynamic;if("framebuffer"in _t){var Bt=_t.framebuffer;return Bt?(Bt=Ae.getFramebuffer(Bt),W(function(Nt,Mt){var lt=Nt.link(Bt),Qe=Nt.shared;return Mt.set(Qe.framebuffer,".next",lt),Qe=Qe.context,Mt.set(Qe,".framebufferWidth",lt+".width"),Mt.set(Qe,".framebufferHeight",lt+".height"),lt})):W(function(Nt,Mt){var lt=Nt.shared;return Mt.set(lt.framebuffer,".next","null"),lt=lt.context,Mt.set(lt,".framebufferWidth",lt+".drawingBufferWidth"),Mt.set(lt,".framebufferHeight",lt+".drawingBufferHeight"),"null"})}if("framebuffer"in zt){var Vt=zt.framebuffer;return Y(Vt,function(Nt,Mt){var lt=Nt.invoke(Mt,Vt),Qe=Nt.shared,bt=Qe.framebuffer;return lt=Mt.def(bt,".getFramebuffer(",lt,")"),Mt.set(bt,".next",lt),Qe=Qe.context,Mt.set(Qe,".framebufferWidth",lt+"?"+lt+".width:"+Qe+".drawingBufferWidth"),Mt.set(Qe,".framebufferHeight",lt+"?"+lt+".height:"+Qe+".drawingBufferHeight"),lt})}return null}function It(qe,nt,_t){function zt(Qe){if(Qe in Bt){var bt=Be.id(Bt[Qe]);return(Qe=W(function(){return bt})).id=bt,Qe}if(Qe in Vt){var Gt=Vt[Qe];return Y(Gt,function(en,Qt){var Kt=en.invoke(Qt,Gt);return Qt.def(en.shared.strings,".id(",Kt,")")})}return null}var Bt=qe.static,Vt=qe.dynamic,Nt=zt("frag"),Mt=zt("vert"),lt=null;return j(Nt)&&j(Mt)?(lt=We.program(Mt.id,Nt.id,null,_t),qe=W(function(Qe,bt){return Qe.link(lt)})):qe=new N(Nt&&Nt.thisDep||Mt&&Mt.thisDep,Nt&&Nt.contextDep||Mt&&Mt.contextDep,Nt&&Nt.propDep||Mt&&Mt.propDep,function(Qe,bt){var Gt,en,Qt=Qe.shared.shader;return Gt=Nt?Nt.append(Qe,bt):bt.def(Qt,".","frag"),en=Mt?Mt.append(Qe,bt):bt.def(Qt,".","vert"),bt.def(Qt+".program("+en+","+Gt+")")}),{frag:Nt,vert:Mt,progVar:qe,program:lt}}function ot(qe,nt){function _t(Kt,on){if(Kt in zt){var an=0|zt[Kt];return on?Vt.offset=an:Vt.instances=an,W(function(cn,hn){return on&&(cn.OFFSET=an),an})}if(Kt in Bt){var dn=Bt[Kt];return Y(dn,function(cn,hn){var mn=cn.invoke(hn,dn);return on&&(cn.OFFSET=mn),mn})}if(on){if(lt)return W(function(cn,hn){return cn.OFFSET=0});if(Nt)return new N(Mt.thisDep,Mt.contextDep,Mt.propDep,function(cn,hn){return hn.def(cn.shared.vao+".currentVAO?"+cn.shared.vao+".currentVAO.offset:0")})}else if(Nt)return new N(Mt.thisDep,Mt.contextDep,Mt.propDep,function(cn,hn){return hn.def(cn.shared.vao+".currentVAO?"+cn.shared.vao+".currentVAO.instances:-1")});return null}var zt=qe.static,Bt=qe.dynamic,Vt={},Nt=!1,Mt=function(){if("vao"in zt){var Kt=zt.vao;return Kt!==null&&He.getVAO(Kt)===null&&(Kt=He.createVAO(Kt)),Nt=!0,Vt.vao=Kt,W(function(an){var dn=He.getVAO(Kt);return dn?an.link(dn):"null"})}if("vao"in Bt){Nt=!0;var on=Bt.vao;return Y(on,function(an,dn){var cn=an.invoke(dn,on);return dn.def(an.shared.vao+".getVAO("+cn+")")})}return null}(),lt=!1,Qe=function(){if("elements"in zt){var Kt=zt.elements;if(Vt.elements=Kt,P(Kt)){var on=Vt.elements=pt.create(Kt,!0);Kt=pt.getElements(on),lt=!0}else Kt&&(Kt=pt.getElements(Kt),lt=!0);return on=W(function(dn,cn){if(Kt){var hn=dn.link(Kt);return dn.ELEMENTS=hn}return dn.ELEMENTS=null}),on.value=Kt,on}if("elements"in Bt){lt=!0;var an=Bt.elements;return Y(an,function(dn,cn){var hn=(mn=dn.shared).isBufferArgs,mn=mn.elements,Fn=dn.invoke(cn,an),Rn=cn.def("null");return hn=cn.def(hn,"(",Fn,")"),Fn=dn.cond(hn).then(Rn,"=",mn,".createStream(",Fn,");").else(Rn,"=",mn,".getElements(",Fn,");"),cn.entry(Fn),cn.exit(dn.cond(hn).then(mn,".destroyStream(",Rn,");")),dn.ELEMENTS=Rn})}return Nt?new N(Mt.thisDep,Mt.contextDep,Mt.propDep,function(dn,cn){return cn.def(dn.shared.vao+".currentVAO?"+dn.shared.elements+".getElements("+dn.shared.vao+".currentVAO.elements):null")}):null}(),bt=_t("offset",!0),Gt=function(){if("primitive"in zt){var Kt=zt.primitive;return Vt.primitive=Kt,W(function(an,dn){return ae[Kt]})}if("primitive"in Bt){var on=Bt.primitive;return Y(on,function(an,dn){var cn=an.constants.primTypes,hn=an.invoke(dn,on);return dn.def(cn,"[",hn,"]")})}return lt?j(Qe)?Qe.value?W(function(an,dn){return dn.def(an.ELEMENTS,".primType")}):W(function(){return 4}):new N(Qe.thisDep,Qe.contextDep,Qe.propDep,function(an,dn){var cn=an.ELEMENTS;return dn.def(cn,"?",cn,".primType:",4)}):Nt?new N(Mt.thisDep,Mt.contextDep,Mt.propDep,function(an,dn){return dn.def(an.shared.vao+".currentVAO?"+an.shared.vao+".currentVAO.primitive:4")}):null}(),en=function(){if("count"in zt){var Kt=0|zt.count;return Vt.count=Kt,W(function(){return Kt})}if("count"in Bt){var on=Bt.count;return Y(on,function(an,dn){return an.invoke(dn,on)})}return lt?j(Qe)?Qe?bt?new N(bt.thisDep,bt.contextDep,bt.propDep,function(an,dn){return dn.def(an.ELEMENTS,".vertCount-",an.OFFSET)}):W(function(an,dn){return dn.def(an.ELEMENTS,".vertCount")}):W(function(){return-1}):new N(Qe.thisDep||bt.thisDep,Qe.contextDep||bt.contextDep,Qe.propDep||bt.propDep,function(an,dn){var cn=an.ELEMENTS;return an.OFFSET?dn.def(cn,"?",cn,".vertCount-",an.OFFSET,":-1"):dn.def(cn,"?",cn,".vertCount:-1")}):Nt?new N(Mt.thisDep,Mt.contextDep,Mt.propDep,function(an,dn){return dn.def(an.shared.vao,".currentVAO?",an.shared.vao,".currentVAO.count:-1")}):null}(),Qt=_t("instances",!1);return{elements:Qe,primitive:Gt,count:en,instances:Qt,offset:bt,vao:Mt,vaoActive:Nt,elementsActive:lt,static:Vt}}function xt(qe,nt){var _t=qe.static,zt=qe.dynamic,Bt={};return Object.keys(_t).forEach(function(Vt){var Nt=_t[Vt],Mt=Be.id(Vt),lt=new gn;if(P(Nt))lt.state=1,lt.buffer=ft.getBuffer(ft.create(Nt,34962,!1,!0)),lt.type=0;else if(bt=ft.getBuffer(Nt))lt.state=1,lt.buffer=bt,lt.type=0;else if("constant"in Nt){var Qe=Nt.constant;lt.buffer="null",lt.state=2,typeof Qe=="number"?lt.x=Qe:Le.forEach(function(an,dn){dn<Qe.length&&(lt[an]=Qe[dn])})}else{var bt=P(Nt.buffer)?ft.getBuffer(ft.create(Nt.buffer,34962,!1,!0)):ft.getBuffer(Nt.buffer),Gt=0|Nt.offset,en=0|Nt.stride,Qt=0|Nt.size,Kt=!!Nt.normalized,on=0;"type"in Nt&&(on=ke[Nt.type]),Nt=0|Nt.divisor,lt.buffer=bt,lt.state=1,lt.size=Qt,lt.normalized=Kt,lt.type=on||bt.dtype,lt.offset=Gt,lt.stride=en,lt.divisor=Nt}Bt[Vt]=W(function(an,dn){var cn=an.attribCache;if(Mt in cn)return cn[Mt];var hn={isStream:!1};return Object.keys(lt).forEach(function(mn){hn[mn]=lt[mn]}),lt.buffer&&(hn.buffer=an.link(lt.buffer),hn.type=hn.type||hn.buffer+".dtype"),cn[Mt]=hn})}),Object.keys(zt).forEach(function(Vt){var Nt=zt[Vt];Bt[Vt]=Y(Nt,function(Mt,lt){function Qe(cn){lt(Kt[cn],"=",bt,".",cn,"|0;")}var bt=Mt.invoke(lt,Nt),Gt=Mt.shared,en=Mt.constants,Qt=Gt.isBufferArgs,Kt=(Gt=Gt.buffer,{isStream:lt.def(!1)}),on=new gn;on.state=1,Object.keys(on).forEach(function(cn){Kt[cn]=lt.def(""+on[cn])});var an=Kt.buffer,dn=Kt.type;return lt("if(",Qt,"(",bt,")){",Kt.isStream,"=true;",an,"=",Gt,".createStream(",34962,",",bt,");",dn,"=",an,".dtype;","}else{",an,"=",Gt,".getBuffer(",bt,");","if(",an,"){",dn,"=",an,".dtype;",'}else if("constant" in ',bt,"){",Kt.state,"=",2,";","if(typeof "+bt+'.constant === "number"){',Kt[Le[0]],"=",bt,".constant;",Le.slice(1).map(function(cn){return Kt[cn]}).join("="),"=0;","}else{",Le.map(function(cn,hn){return Kt[cn]+"="+bt+".constant.length>"+hn+"?"+bt+".constant["+hn+"]:0;"}).join(""),"}}else{","if(",Qt,"(",bt,".buffer)){",an,"=",Gt,".createStream(",34962,",",bt,".buffer);","}else{",an,"=",Gt,".getBuffer(",bt,".buffer);","}",dn,'="type" in ',bt,"?",en.glTypes,"[",bt,".type]:",an,".dtype;",Kt.normalized,"=!!",bt,".normalized;"),Qe("size"),Qe("offset"),Qe("stride"),Qe("divisor"),lt("}}"),lt.exit("if(",Kt.isStream,"){",Gt,".destroyStream(",an,");","}"),Kt})}),Bt}function Ut(qe,nt,_t,zt,Bt){function Vt(on){var an=Mt[on];an&&(Qe[on]=an)}var Nt=function(on,an){if(typeof(dn=on.static).frag=="string"&&typeof dn.vert=="string"){if(0<Object.keys(an.dynamic).length)return null;var dn=an.static,cn=Object.keys(dn);if(0<cn.length&&typeof dn[cn[0]]=="number"){for(var hn=[],mn=0;mn<cn.length;++mn)hn.push([0|dn[cn[mn]],cn[mn]]);return hn}}return null}(qe,nt),Mt=function(on,an,dn){function cn(Rn){if(Rn in hn){var un=hn[Rn];Rn=!0;var Mn,Pn,Vn=0|un.x,qn=0|un.y;return"width"in un?Mn=0|un.width:Rn=!1,"height"in un?Pn=0|un.height:Rn=!1,new N(!Rn&&an&&an.thisDep,!Rn&&an&&an.contextDep,!Rn&&an&&an.propDep,function(lr,er){var Zn=lr.shared.context,br=Mn;"width"in un||(br=er.def(Zn,".","framebufferWidth","-",Vn));var In=Pn;return"height"in un||(In=er.def(Zn,".","framebufferHeight","-",qn)),[Vn,qn,br,In]})}if(Rn in mn){var Xn=mn[Rn];return Rn=Y(Xn,function(lr,er){var Zn=lr.invoke(er,Xn),br=lr.shared.context,In=er.def(Zn,".x|0"),rr=er.def(Zn,".y|0");return[In,rr,er.def('"width" in ',Zn,"?",Zn,".width|0:","(",br,".","framebufferWidth","-",In,")"),Zn=er.def('"height" in ',Zn,"?",Zn,".height|0:","(",br,".","framebufferHeight","-",rr,")")]}),an&&(Rn.thisDep=Rn.thisDep||an.thisDep,Rn.contextDep=Rn.contextDep||an.contextDep,Rn.propDep=Rn.propDep||an.propDep),Rn}return an?new N(an.thisDep,an.contextDep,an.propDep,function(lr,er){var Zn=lr.shared.context;return[0,0,er.def(Zn,".","framebufferWidth"),er.def(Zn,".","framebufferHeight")]}):null}var hn=on.static,mn=on.dynamic;if(on=cn("viewport")){var Fn=on;on=new N(on.thisDep,on.contextDep,on.propDep,function(Rn,un){var Mn=Fn.append(Rn,un),Pn=Rn.shared.context;return un.set(Pn,".viewportWidth",Mn[2]),un.set(Pn,".viewportHeight",Mn[3]),Mn})}return{viewport:on,scissor_box:cn("scissor.box")}}(qe,Gt=St(qe)),lt=ot(qe),Qe=function(on,an){var dn=on.static,cn=on.dynamic,hn={};return kn.forEach(function(mn){function Fn(un,Mn){if(mn in dn){var Pn=un(dn[mn]);hn[Rn]=W(function(){return Pn})}else if(mn in cn){var Vn=cn[mn];hn[Rn]=Y(Vn,function(qn,Xn){return Mn(qn,Xn,qn.invoke(Xn,Vn))})}}var Rn=Ze(mn);switch(mn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return Fn(function(un){return un},function(un,Mn,Pn){return Pn});case"depth.func":return Fn(function(un){return Ot[un]},function(un,Mn,Pn){return Mn.def(un.constants.compareFuncs,"[",Pn,"]")});case"depth.range":return Fn(function(un){return un},function(un,Mn,Pn){return[Mn.def("+",Pn,"[0]"),Mn=Mn.def("+",Pn,"[1]")]});case"blend.func":return Fn(function(un){return[st["srcRGB"in un?un.srcRGB:un.src],st["dstRGB"in un?un.dstRGB:un.dst],st["srcAlpha"in un?un.srcAlpha:un.src],st["dstAlpha"in un?un.dstAlpha:un.dst]]},function(un,Mn,Pn){function Vn(er,Zn){return Mn.def('"',er,Zn,'" in ',Pn,"?",Pn,".",er,Zn,":",Pn,".",er)}un=un.constants.blendFuncs;var qn=Vn("src","RGB"),Xn=Vn("dst","RGB"),lr=(qn=Mn.def(un,"[",qn,"]"),Mn.def(un,"[",Vn("src","Alpha"),"]"));return[qn,Xn=Mn.def(un,"[",Xn,"]"),lr,un=Mn.def(un,"[",Vn("dst","Alpha"),"]")]});case"blend.equation":return Fn(function(un){return typeof un=="string"?[xn[un],xn[un]]:typeof un=="object"?[xn[un.rgb],xn[un.alpha]]:void 0},function(un,Mn,Pn){var Vn=un.constants.blendEquations,qn=Mn.def(),Xn=Mn.def();return(un=un.cond("typeof ",Pn,'==="string"')).then(qn,"=",Xn,"=",Vn,"[",Pn,"];"),un.else(qn,"=",Vn,"[",Pn,".rgb];",Xn,"=",Vn,"[",Pn,".alpha];"),Mn(un),[qn,Xn]});case"blend.color":return Fn(function(un){return k(4,function(Mn){return+un[Mn]})},function(un,Mn,Pn){return k(4,function(Vn){return Mn.def("+",Pn,"[",Vn,"]")})});case"stencil.mask":return Fn(function(un){return 0|un},function(un,Mn,Pn){return Mn.def(Pn,"|0")});case"stencil.func":return Fn(function(un){return[Ot[un.cmp||"keep"],un.ref||0,"mask"in un?un.mask:-1]},function(un,Mn,Pn){return[un=Mn.def('"cmp" in ',Pn,"?",un.constants.compareFuncs,"[",Pn,".cmp]",":",7680),Mn.def(Pn,".ref|0"),Mn=Mn.def('"mask" in ',Pn,"?",Pn,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return Fn(function(un){return[mn==="stencil.opBack"?1029:1028,Je[un.fail||"keep"],Je[un.zfail||"keep"],Je[un.zpass||"keep"]]},function(un,Mn,Pn){function Vn(Xn){return Mn.def('"',Xn,'" in ',Pn,"?",qn,"[",Pn,".",Xn,"]:",7680)}var qn=un.constants.stencilOps;return[mn==="stencil.opBack"?1029:1028,Vn("fail"),Vn("zfail"),Vn("zpass")]});case"polygonOffset.offset":return Fn(function(un){return[0|un.factor,0|un.units]},function(un,Mn,Pn){return[Mn.def(Pn,".factor|0"),Mn=Mn.def(Pn,".units|0")]});case"cull.face":return Fn(function(un){var Mn=0;return un==="front"?Mn=1028:un==="back"&&(Mn=1029),Mn},function(un,Mn,Pn){return Mn.def(Pn,'==="front"?',1028,":",1029)});case"frontFace":return Fn(function(un){return at[un]},function(un,Mn,Pn){return Mn.def(Pn+'==="cw"?2304:2305')});case"colorMask":return Fn(function(un){return un.map(function(Mn){return!!Mn})},function(un,Mn,Pn){return k(4,function(Vn){return"!!"+Pn+"["+Vn+"]"})});case"sample.coverage":return Fn(function(un){return["value"in un?un.value:1,!!un.invert]},function(un,Mn,Pn){return[Mn.def('"value" in ',Pn,"?+",Pn,".value:1"),Mn=Mn.def("!!",Pn,".invert")]})}}),hn}(qe),bt=It(qe,0,Nt);Vt("viewport"),Vt(Ze("scissor.box"));var Gt,en=0<Object.keys(Qe).length;if((Gt={framebuffer:Gt,draw:lt,shader:bt,state:Qe,dirty:en,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(on){var an,dn=on.static;if(on=on.dynamic,"profile"in dn){var cn=!!dn.profile;(an=W(function(mn,Fn){return cn})).enable=cn}else if("profile"in on){var hn=on.profile;an=Y(hn,function(mn,Fn){return mn.invoke(Fn,hn)})}return an}(qe),Gt.uniforms=function(on,an){var dn=on.static,cn=on.dynamic,hn={};return Object.keys(dn).forEach(function(mn){var Fn,Rn=dn[mn];if(typeof Rn=="number"||typeof Rn=="boolean")Fn=W(function(){return Rn});else if(typeof Rn=="function"){var un=Rn._reglType;un==="texture2d"||un==="textureCube"?Fn=W(function(Mn){return Mn.link(Rn)}):un!=="framebuffer"&&un!=="framebufferCube"||(Fn=W(function(Mn){return Mn.link(Rn.color[0])}))}else c(Rn)&&(Fn=W(function(Mn){return Mn.global.def("[",k(Rn.length,function(Pn){return Rn[Pn]}),"]")}));Fn.value=Rn,hn[mn]=Fn}),Object.keys(cn).forEach(function(mn){var Fn=cn[mn];hn[mn]=Y(Fn,function(Rn,un){return Rn.invoke(un,Fn)})}),hn}(_t),Gt.drawVAO=Gt.scopeVAO=lt.vao,!Gt.drawVAO&&bt.program&&!Nt&&it.angle_instanced_arrays&&lt.static.elements){var Qt=!0;if(qe=bt.program.attributes.map(function(on){return on=nt.static[on],Qt=Qt&&!!on,on}),Qt&&0<qe.length){var Kt=He.getVAO(He.createVAO({attributes:qe,elements:lt.static.elements}));Gt.drawVAO=new N(null,null,null,function(on,an){return on.link(Kt)}),Gt.useVAO=!0}}return Nt?Gt.useVAO=!0:Gt.attributes=xt(nt),Gt.context=function(on){var an=on.static,dn=on.dynamic,cn={};return Object.keys(an).forEach(function(hn){var mn=an[hn];cn[hn]=W(function(Fn,Rn){return typeof mn=="number"||typeof mn=="boolean"?""+mn:Fn.link(mn)})}),Object.keys(dn).forEach(function(hn){var mn=dn[hn];cn[hn]=Y(mn,function(Fn,Rn){return Fn.invoke(Rn,mn)})}),cn}(zt),Gt}function Et(qe,nt,_t){var zt=qe.shared.context,Bt=qe.scope();Object.keys(_t).forEach(function(Vt){nt.save(zt,"."+Vt);var Nt=_t[Vt].append(qe,nt);Array.isArray(Nt)?Bt(zt,".",Vt,"=[",Nt.join(),"];"):Bt(zt,".",Vt,"=",Nt,";")}),nt(Bt)}function mt(qe,nt,_t,zt){var Bt,Vt=(Mt=qe.shared).gl,Nt=Mt.framebuffer;fn&&(Bt=nt.def(Mt.extensions,".webgl_draw_buffers"));var Mt=(lt=qe.constants).drawBuffer,lt=lt.backBuffer;qe=_t?_t.append(qe,nt):nt.def(Nt,".next"),zt||nt("if(",qe,"!==",Nt,".cur){"),nt("if(",qe,"){",Vt,".bindFramebuffer(",36160,",",qe,".framebuffer);"),fn&&nt(Bt,".drawBuffersWEBGL(",Mt,"[",qe,".colorAttachments.length]);"),nt("}else{",Vt,".bindFramebuffer(",36160,",null);"),fn&&nt(Bt,".drawBuffersWEBGL(",lt,");"),nt("}",Nt,".cur=",qe,";"),zt||nt("}")}function kt(qe,nt,_t){var zt=qe.shared,Bt=zt.gl,Vt=qe.current,Nt=qe.next,Mt=zt.current,lt=zt.next,Qe=qe.cond(Mt,".dirty");kn.forEach(function(bt){var Gt,en;if(!((bt=Ze(bt))in _t.state))if(bt in Nt){Gt=Nt[bt],en=Vt[bt];var Qt=k(wn[bt].length,function(Kt){return Qe.def(Gt,"[",Kt,"]")});Qe(qe.cond(Qt.map(function(Kt,on){return Kt+"!=="+en+"["+on+"]"}).join("||")).then(Bt,".",zn[bt],"(",Qt,");",Qt.map(function(Kt,on){return en+"["+on+"]="+Kt}).join(";"),";"))}else Gt=Qe.def(lt,".",bt),Qt=qe.cond(Gt,"!==",Mt,".",bt),Qe(Qt),bt in Ln?Qt(qe.cond(Gt).then(Bt,".enable(",Ln[bt],");").else(Bt,".disable(",Ln[bt],");"),Mt,".",bt,"=",Gt,";"):Qt(Bt,".",zn[bt],"(",Gt,");",Mt,".",bt,"=",Gt,";")}),Object.keys(_t.state).length===0&&Qe(Mt,".dirty=false;"),nt(Qe)}function ht(qe,nt,_t,zt){var Bt,Vt=qe.shared,Nt=qe.current,Mt=Vt.current,lt=Vt.gl;R(Object.keys(_t)).forEach(function(Qe){var bt=_t[Qe];if(!zt||zt(bt)){var Gt=bt.append(qe,nt);if(Ln[Qe]){var en=Ln[Qe];j(bt)?(Bt=qe.link(Gt,{stable:!0}),nt(qe.cond(Bt).then(lt,".enable(",en,");").else(lt,".disable(",en,");")),nt(Mt,".",Qe,"=",Bt,";")):(nt(qe.cond(Gt).then(lt,".enable(",en,");").else(lt,".disable(",en,");")),nt(Mt,".",Qe,"=",Gt,";"))}else if(c(Gt)){var Qt=Nt[Qe];nt(lt,".",zn[Qe],"(",Gt,");",Gt.map(function(Kt,on){return Qt+"["+on+"]="+Kt}).join(";"),";")}else j(bt)?(Bt=qe.link(Gt,{stable:!0}),nt(lt,".",zn[Qe],"(",Bt,");",Mt,".",Qe,"=",Bt,";")):nt(lt,".",zn[Qe],"(",Gt,");",Mt,".",Qe,"=",Gt,";")}})}function wt(qe,nt){sn&&(qe.instancing=nt.def(qe.shared.extensions,".angle_instanced_arrays"))}function Wt(qe,nt,_t,zt,Bt){function Vt(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Nt(on){on(Qe=nt.def(),"=",Vt(),";"),typeof Bt=="string"?on(en,".count+=",Bt,";"):on(en,".count++;"),Ne&&(zt?on(bt=nt.def(),"=",Kt,".getNumPendingQueries();"):on(Kt,".beginQuery(",en,");"))}function Mt(on){on(en,".cpuTime+=",Vt(),"-",Qe,";"),Ne&&(zt?on(Kt,".pushScopeStats(",bt,",",Kt,".getNumPendingQueries(),",en,");"):on(Kt,".endQuery();"))}function lt(on){var an=nt.def(Qt,".profile");nt(Qt,".profile=",on,";"),nt.exit(Qt,".profile=",an,";")}var Qe,bt,Gt=qe.shared,en=qe.stats,Qt=Gt.current,Kt=Gt.timer;if(_t=_t.profile){if(j(_t))return void(_t.enable?(Nt(nt),Mt(nt.exit),lt("true")):lt("false"));lt(_t=_t.append(qe,nt))}else _t=nt.def(Qt,".profile");Nt(Gt=qe.block()),nt("if(",_t,"){",Gt,"}"),Mt(qe=qe.block()),nt.exit("if(",_t,"){",qe,"}")}function jt(qe,nt,_t,zt,Bt){function Vt(Mt,lt,Qe){function bt(){nt("if(!",Kt,".buffer){",en,".enableVertexAttribArray(",Qt,");}");var cn,hn=Qe.type;cn=Qe.size?nt.def(Qe.size,"||",lt):lt,nt("if(",Kt,".type!==",hn,"||",Kt,".size!==",cn,"||",dn.map(function(mn){return Kt+"."+mn+"!=="+Qe[mn]}).join("||"),"){",en,".bindBuffer(",34962,",",on,".buffer);",en,".vertexAttribPointer(",[Qt,cn,hn,Qe.normalized,Qe.stride,Qe.offset],");",Kt,".type=",hn,";",Kt,".size=",cn,";",dn.map(function(mn){return Kt+"."+mn+"="+Qe[mn]+";"}).join(""),"}"),sn&&(hn=Qe.divisor,nt("if(",Kt,".divisor!==",hn,"){",qe.instancing,".vertexAttribDivisorANGLE(",[Qt,hn],");",Kt,".divisor=",hn,";}"))}function Gt(){nt("if(",Kt,".buffer){",en,".disableVertexAttribArray(",Qt,");",Kt,".buffer=null;","}if(",Le.map(function(cn,hn){return Kt+"."+cn+"!=="+an[hn]}).join("||"),"){",en,".vertexAttrib4f(",Qt,",",an,");",Le.map(function(cn,hn){return Kt+"."+cn+"="+an[hn]+";"}).join(""),"}")}var en=Nt.gl,Qt=nt.def(Mt,".location"),Kt=nt.def(Nt.attributes,"[",Qt,"]");Mt=Qe.state;var on=Qe.buffer,an=[Qe.x,Qe.y,Qe.z,Qe.w],dn=["buffer","normalized","offset","stride"];Mt===1?bt():Mt===2?Gt():(nt("if(",Mt,"===",1,"){"),bt(),nt("}else{"),Gt(),nt("}"))}var Nt=qe.shared;zt.forEach(function(Mt){var lt,Qe=Mt.name,bt=_t.attributes[Qe];if(bt){if(!Bt(bt))return;lt=bt.append(qe,nt)}else{if(!Bt(gt))return;var Gt=qe.scopeAttrib(Qe);lt={},Object.keys(new gn).forEach(function(en){lt[en]=nt.def(Gt,".",en)})}Vt(qe.link(Mt),function(en){switch(en){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Mt.info.type),lt)})}function Jt(qe,nt,_t,zt,Bt,Vt){for(var Nt,Mt=qe.shared,lt=Mt.gl,Qe=0;Qe<zt.length;++Qe){var bt,Gt=(Kt=zt[Qe]).name,en=Kt.info.type,Qt=_t.uniforms[Gt],Kt=qe.link(Kt)+".location";if(Qt){if(!Bt(Qt))continue;if(j(Qt)){if(Gt=Qt.value,en===35678||en===35680)nt(lt,".uniform1i(",Kt,",",(en=qe.link(Gt._texture||Gt.color[0]._texture))+".bind());"),nt.exit(en,".unbind();");else if(en===35674||en===35675||en===35676)Qt=2,en===35675?Qt=3:en===35676&&(Qt=4),nt(lt,".uniformMatrix",Qt,"fv(",Kt,",false,",Gt=qe.global.def("new Float32Array(["+Array.prototype.slice.call(Gt)+"])"),");");else{switch(en){case 5126:Nt="1f";break;case 35664:Nt="2f";break;case 35665:Nt="3f";break;case 35666:Nt="4f";break;case 35670:case 5124:Nt="1i";break;case 35671:case 35667:Nt="2i";break;case 35672:case 35668:Nt="3i";break;case 35673:case 35669:Nt="4i"}nt(lt,".uniform",Nt,"(",Kt,",",c(Gt)?Array.prototype.slice.call(Gt):Gt,");")}continue}bt=Qt.append(qe,nt)}else{if(!Bt(gt))continue;bt=nt.def(Mt.uniforms,"[",Be.id(Gt),"]")}switch(en===35678?nt("if(",bt,"&&",bt,'._reglType==="framebuffer"){',bt,"=",bt,".color[0];","}"):en===35680&&nt("if(",bt,"&&",bt,'._reglType==="framebufferCube"){',bt,"=",bt,".color[0];","}"),Gt=1,en){case 35678:case 35680:en=nt.def(bt,"._texture"),nt(lt,".uniform1i(",Kt,",",en,".bind());"),nt.exit(en,".unbind();");continue;case 5124:case 35670:Nt="1i";break;case 35667:case 35671:Nt="2i",Gt=2;break;case 35668:case 35672:Nt="3i",Gt=3;break;case 35669:case 35673:Nt="4i",Gt=4;break;case 5126:Nt="1f";break;case 35664:Nt="2f",Gt=2;break;case 35665:Nt="3f",Gt=3;break;case 35666:Nt="4f",Gt=4;break;case 35674:Nt="Matrix2fv";break;case 35675:Nt="Matrix3fv";break;case 35676:Nt="Matrix4fv"}if(Nt.charAt(0)==="M"){nt(lt,".uniform",Nt,"(",Kt,","),Kt=Math.pow(en-35674+2,2);var on=qe.global.def("new Float32Array(",Kt,")");Array.isArray(bt)?nt("false,(",k(Kt,function(dn){return on+"["+dn+"]="+bt[dn]}),",",on,")"):nt("false,(Array.isArray(",bt,")||",bt," instanceof Float32Array)?",bt,":(",k(Kt,function(dn){return on+"["+dn+"]="+bt+"["+dn+"]"}),",",on,")"),nt(");")}else{if(1<Gt){en=[];var an=[];for(Qt=0;Qt<Gt;++Qt)Array.isArray(bt)?an.push(bt[Qt]):an.push(nt.def(bt+"["+Qt+"]")),Vt&&en.push(nt.def());Vt&&nt("if(!",qe.batchId,"||",en.map(function(dn,cn){return dn+"!=="+an[cn]}).join("||"),"){",en.map(function(dn,cn){return dn+"="+an[cn]+";"}).join("")),nt(lt,".uniform",Nt,"(",Kt,",",an.join(","),");")}else Vt&&(en=nt.def(),nt("if(!",qe.batchId,"||",en,"!==",bt,"){",en,"=",bt,";")),nt(lt,".uniform",Nt,"(",Kt,",",bt,");");Vt&&nt("}")}}}function qt(qe,nt,_t,zt){function Bt(hn){var mn=en[hn];return mn?mn.contextDep&&zt.contextDynamic||mn.propDep?mn.append(qe,_t):mn.append(qe,nt):nt.def(Gt,".",hn)}function Vt(){function hn(){_t(lt,".drawElementsInstancedANGLE(",[Kt,an,dn,on+"<<(("+dn+"-5121)>>1)",Mt],");")}function mn(){_t(lt,".drawArraysInstancedANGLE(",[Kt,on,an,Mt],");")}Qt&&Qt!=="null"?cn?hn():(_t("if(",Qt,"){"),hn(),_t("}else{"),mn(),_t("}")):mn()}function Nt(){function hn(){_t(bt+".drawElements("+[Kt,an,dn,on+"<<(("+dn+"-5121)>>1)"]+");")}function mn(){_t(bt+".drawArrays("+[Kt,on,an]+");")}Qt&&Qt!=="null"?cn?hn():(_t("if(",Qt,"){"),hn(),_t("}else{"),mn(),_t("}")):mn()}var Mt,lt,Qe=qe.shared,bt=Qe.gl,Gt=Qe.draw,en=zt.draw,Qt=function(){var hn=en.elements,mn=nt;return hn?((hn.contextDep&&zt.contextDynamic||hn.propDep)&&(mn=_t),hn=hn.append(qe,mn),en.elementsActive&&mn("if("+hn+")"+bt+".bindBuffer(34963,"+hn+".buffer.buffer);")):(hn=mn.def(),mn(hn,"=",Gt,".","elements",";","if(",hn,"){",bt,".bindBuffer(",34963,",",hn,".buffer.buffer);}","else if(",Qe.vao,".currentVAO){",hn,"=",qe.shared.elements+".getElements("+Qe.vao,".currentVAO.elements);",bn?"":"if("+hn+")"+bt+".bindBuffer(34963,"+hn+".buffer.buffer);","}")),hn}(),Kt=Bt("primitive"),on=Bt("offset"),an=function(){var hn=en.count,mn=nt;return hn?((hn.contextDep&&zt.contextDynamic||hn.propDep)&&(mn=_t),hn=hn.append(qe,mn)):hn=mn.def(Gt,".","count"),hn}();if(typeof an=="number"){if(an===0)return}else _t("if(",an,"){"),_t.exit("}");sn&&(Mt=Bt("instances"),lt=qe.instancing);var dn=Qt+".type",cn=en.elements&&j(en.elements)&&!en.vaoActive;sn&&(typeof Mt!="number"||0<=Mt)?typeof Mt=="string"?(_t("if(",Mt,">0){"),Vt(),_t("}else if(",Mt,"<0){"),Nt(),_t("}")):Vt():Nt()}function Xt(qe,nt,_t,zt,Bt){return Bt=(nt=Lt()).proc("body",Bt),sn&&(nt.instancing=Bt.def(nt.shared.extensions,".angle_instanced_arrays")),qe(nt,Bt,_t,zt),nt.compile().body}function $t(qe,nt,_t,zt){wt(qe,nt),_t.useVAO?_t.drawVAO?nt(qe.shared.vao,".setVAO(",_t.drawVAO.append(qe,nt),");"):nt(qe.shared.vao,".setVAO(",qe.shared.vao,".targetVAO);"):(nt(qe.shared.vao,".setVAO(null);"),jt(qe,nt,_t,zt.attributes,function(){return!0})),Jt(qe,nt,_t,zt.uniforms,function(){return!0},!1),qt(qe,nt,nt,_t)}function pn(qe,nt,_t,zt){function Bt(){return!0}qe.batchId="a1",wt(qe,nt),jt(qe,nt,_t,zt.attributes,Bt),Jt(qe,nt,_t,zt.uniforms,Bt,!1),qt(qe,nt,nt,_t)}function An(qe,nt,_t,zt){function Bt(Gt){return Gt.contextDep&&Nt||Gt.propDep}function Vt(Gt){return!Bt(Gt)}wt(qe,nt);var Nt=_t.contextDep,Mt=nt.def(),lt=nt.def();qe.shared.props=lt,qe.batchId=Mt;var Qe=qe.scope(),bt=qe.scope();nt(Qe.entry,"for(",Mt,"=0;",Mt,"<","a1",";++",Mt,"){",lt,"=","a0","[",Mt,"];",bt,"}",Qe.exit),_t.needsContext&&Et(qe,bt,_t.context),_t.needsFramebuffer&&mt(qe,bt,_t.framebuffer),ht(qe,bt,_t.state,Bt),_t.profile&&Bt(_t.profile)&&Wt(qe,bt,_t,!1,!0),zt?(_t.useVAO?_t.drawVAO?Bt(_t.drawVAO)?bt(qe.shared.vao,".setVAO(",_t.drawVAO.append(qe,bt),");"):Qe(qe.shared.vao,".setVAO(",_t.drawVAO.append(qe,Qe),");"):Qe(qe.shared.vao,".setVAO(",qe.shared.vao,".targetVAO);"):(Qe(qe.shared.vao,".setVAO(null);"),jt(qe,Qe,_t,zt.attributes,Vt),jt(qe,bt,_t,zt.attributes,Bt)),Jt(qe,Qe,_t,zt.uniforms,Vt,!1),Jt(qe,bt,_t,zt.uniforms,Bt,!0),qt(qe,Qe,bt,_t)):(nt=qe.global.def("{}"),zt=_t.shader.progVar.append(qe,bt),lt=bt.def(zt,".id"),Qe=bt.def(nt,"[",lt,"]"),bt(qe.shared.gl,".useProgram(",zt,".program);","if(!",Qe,"){",Qe,"=",nt,"[",lt,"]=",qe.link(function(Gt){return Xt(pn,qe,_t,Gt,2)}),"(",zt,");}",Qe,".call(this,a0[",Mt,"],",Mt,");"))}function rn(qe,nt){function _t(Mt){var lt=nt.shader[Mt];lt&&(lt=lt.append(qe,zt),isNaN(lt)?zt.set(Bt.shader,"."+Mt,lt):zt.set(Bt.shader,"."+Mt,qe.link(lt,{stable:!0})))}var zt=qe.proc("scope",3);qe.batchId="a2";var Bt=qe.shared,Vt=Bt.current;if(Et(qe,zt,nt.context),nt.framebuffer&&nt.framebuffer.append(qe,zt),R(Object.keys(nt.state)).forEach(function(Mt){var lt=nt.state[Mt],Qe=lt.append(qe,zt);c(Qe)?Qe.forEach(function(bt,Gt){isNaN(bt)?zt.set(qe.next[Mt],"["+Gt+"]",bt):zt.set(qe.next[Mt],"["+Gt+"]",qe.link(bt,{stable:!0}))}):j(lt)?zt.set(Bt.next,"."+Mt,qe.link(Qe,{stable:!0})):zt.set(Bt.next,"."+Mt,Qe)}),Wt(qe,zt,nt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Mt){var lt=nt.draw[Mt];lt&&(lt=lt.append(qe,zt),isNaN(lt)?zt.set(Bt.draw,"."+Mt,lt):zt.set(Bt.draw,"."+Mt,qe.link(lt),{stable:!0}))}),Object.keys(nt.uniforms).forEach(function(Mt){var lt=nt.uniforms[Mt].append(qe,zt);Array.isArray(lt)&&(lt="["+lt.map(function(Qe){return isNaN(Qe)?Qe:qe.link(Qe,{stable:!0})})+"]"),zt.set(Bt.uniforms,"["+qe.link(Be.id(Mt),{stable:!0})+"]",lt)}),Object.keys(nt.attributes).forEach(function(Mt){var lt=nt.attributes[Mt].append(qe,zt),Qe=qe.scopeAttrib(Mt);Object.keys(new gn).forEach(function(bt){zt.set(Qe,"."+bt,lt[bt])})}),nt.scopeVAO){var Nt=nt.scopeVAO.append(qe,zt);isNaN(Nt)?zt.set(Bt.vao,".targetVAO",Nt):zt.set(Bt.vao,".targetVAO",qe.link(Nt,{stable:!0}))}_t("vert"),_t("frag"),0<Object.keys(nt.state).length&&(zt(Vt,".dirty=true;"),zt.exit(Vt,".dirty=true;")),zt("a1(",qe.shared.context,",a0,",qe.batchId,");")}function ln(qe,nt,_t){var zt=nt.static[_t];if(zt&&function(bt){if(typeof bt=="object"&&!c(bt)){for(var Gt=Object.keys(bt),en=0;en<Gt.length;++en)if(Z.isDynamic(bt[Gt[en]]))return!0;return!1}}(zt)){var Bt=qe.global,Vt=Object.keys(zt),Nt=!1,Mt=!1,lt=!1,Qe=qe.global.def("{}");Vt.forEach(function(bt){var Gt=zt[bt];if(Z.isDynamic(Gt))typeof Gt=="function"&&(Gt=zt[bt]=Z.unbox(Gt)),bt=Y(Gt,null),Nt=Nt||bt.thisDep,lt=lt||bt.propDep,Mt=Mt||bt.contextDep;else{switch(Bt(Qe,".",bt,"="),typeof Gt){case"number":Bt(Gt);break;case"string":Bt('"',Gt,'"');break;case"object":Array.isArray(Gt)&&Bt("[",Gt.join(),"]");break;default:Bt(qe.link(Gt))}Bt(";")}}),nt.dynamic[_t]=new Z.DynamicVariable(4,{thisDep:Nt,contextDep:Mt,propDep:lt,ref:Qe,append:function(bt,Gt){Vt.forEach(function(en){var Qt=zt[en];Z.isDynamic(Qt)&&(Qt=bt.invoke(Gt,Qt),Gt(Qe,".",en,"=",Qt,";"))})}}),delete nt.static[_t]}}var gn=He.Record,xn={add:32774,subtract:32778,"reverse subtract":32779};it.ext_blend_minmax&&(xn.min=32775,xn.max=32776);var sn=it.angle_instanced_arrays,fn=it.webgl_draw_buffers,bn=it.oes_vertex_array_object,wn={dirty:!0,profile:Fe.profile},Sn={},kn=[],Ln={},zn={};rt("dither",3024),rt("blend.enable",3042),vt("blend.color","blendColor",[0,0,0,0]),vt("blend.equation","blendEquationSeparate",[32774,32774]),vt("blend.func","blendFuncSeparate",[1,0,1,0]),rt("depth.enable",2929,!0),vt("depth.func","depthFunc",513),vt("depth.range","depthRange",[0,1]),vt("depth.mask","depthMask",!0),vt("colorMask","colorMask",[!0,!0,!0,!0]),rt("cull.enable",2884),vt("cull.face","cullFace",1029),vt("frontFace","frontFace",2305),vt("lineWidth","lineWidth",1),rt("polygonOffset.enable",32823),vt("polygonOffset.offset","polygonOffset",[0,0]),rt("sample.alpha",32926),rt("sample.enable",32928),vt("sample.coverage","sampleCoverage",[1,!1]),rt("stencil.enable",2960),vt("stencil.mask","stencilMask",-1),vt("stencil.func","stencilFunc",[519,0,-1]),vt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),vt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),rt("scissor.enable",3089),vt("scissor.box","scissor",[0,0,Oe.drawingBufferWidth,Oe.drawingBufferHeight]),vt("viewport","viewport",[0,0,Oe.drawingBufferWidth,Oe.drawingBufferHeight]);var jn={gl:Oe,context:Ue,strings:Be,next:Sn,current:wn,draw:Pe,elements:pt,buffer:ft,shader:We,attributes:He.state,vao:He,uniforms:Ve,framebuffer:Ae,extensions:it,timer:Ne,isBufferArgs:P},dt={primTypes:ae,compareFuncs:Ot,blendFuncs:st,blendEquations:xn,stencilOps:Je,glTypes:ke,orientationType:at};fn&&(dt.backBuffer=[1029],dt.drawBuffer=k(tt.maxDrawbuffers,function(qe){return qe===0?[0]:k(qe,function(nt){return 36064+nt})}));var Zt=0;return{next:Sn,current:wn,procs:function(){var qe=Lt(),nt=qe.proc("poll"),_t=qe.proc("refresh"),zt=qe.block();nt(zt),_t(zt);var Bt,Vt=(lt=qe.shared).gl,Nt=lt.next,Mt=lt.current;zt(Mt,".dirty=false;"),mt(qe,nt),mt(qe,_t,null,!0),sn&&(Bt=qe.link(sn)),it.oes_vertex_array_object&&_t(qe.link(it.oes_vertex_array_object),".bindVertexArrayOES(null);");var lt=_t.def(lt.attributes),Qe=_t.def(0),bt=qe.cond(Qe,".buffer");bt.then(Vt,".enableVertexAttribArray(i);",Vt,".bindBuffer(",34962,",",Qe,".buffer.buffer);",Vt,".vertexAttribPointer(i,",Qe,".size,",Qe,".type,",Qe,".normalized,",Qe,".stride,",Qe,".offset);").else(Vt,".disableVertexAttribArray(i);",Vt,".vertexAttrib4f(i,",Qe,".x,",Qe,".y,",Qe,".z,",Qe,".w);",Qe,".buffer=null;");var Gt=qe.link(tt.maxAttributes,{stable:!0});return _t("for(var i=0;i<",Gt,";++i){",Qe,"=",lt,"[i];",bt,"}"),sn&&_t("for(var i=0;i<",Gt,";++i){",Bt,".vertexAttribDivisorANGLE(i,",lt,"[i].divisor);","}"),_t(qe.shared.vao,".currentVAO=null;",qe.shared.vao,".setVAO(",qe.shared.vao,".targetVAO);"),Object.keys(Ln).forEach(function(en){var Qt=Ln[en],Kt=zt.def(Nt,".",en),on=qe.block();on("if(",Kt,"){",Vt,".enable(",Qt,")}else{",Vt,".disable(",Qt,")}",Mt,".",en,"=",Kt,";"),_t(on),nt("if(",Kt,"!==",Mt,".",en,"){",on,"}")}),Object.keys(zn).forEach(function(en){var Qt,Kt,on=zn[en],an=wn[en],dn=qe.block();dn(Vt,".",on,"("),c(an)?(on=an.length,Qt=qe.global.def(Nt,".",en),Kt=qe.global.def(Mt,".",en),dn(k(on,function(cn){return Qt+"["+cn+"]"}),");",k(on,function(cn){return Kt+"["+cn+"]="+Qt+"["+cn+"];"}).join("")),nt("if(",k(on,function(cn){return Qt+"["+cn+"]!=="+Kt+"["+cn+"]"}).join("||"),"){",dn,"}")):(Qt=zt.def(Nt,".",en),Kt=zt.def(Mt,".",en),dn(Qt,");",Mt,".",en,"=",Qt,";"),nt("if(",Qt,"!==",Kt,"){",dn,"}")),_t(dn)}),qe.compile()}(),compile:function(qe,nt,_t,zt,Bt){var Vt=Lt();Vt.stats=Vt.link(Bt),Object.keys(nt.static).forEach(function(Mt){ln(Vt,nt,Mt)}),$e.forEach(function(Mt){ln(Vt,qe,Mt)});var Nt=Ut(qe,nt,_t,zt);return Nt.shader.program&&(Nt.shader.program.attributes.sort(function(Mt,lt){return Mt.name<lt.name?-1:1}),Nt.shader.program.uniforms.sort(function(Mt,lt){return Mt.name<lt.name?-1:1})),function(Mt,lt){var Qe=Mt.proc("draw",1);wt(Mt,Qe),Et(Mt,Qe,lt.context),mt(Mt,Qe,lt.framebuffer),kt(Mt,Qe,lt),ht(Mt,Qe,lt.state),Wt(Mt,Qe,lt,!1,!0);var bt=lt.shader.progVar.append(Mt,Qe);if(Qe(Mt.shared.gl,".useProgram(",bt,".program);"),lt.shader.program)$t(Mt,Qe,lt,lt.shader.program);else{Qe(Mt.shared.vao,".setVAO(null);");var Gt=Mt.global.def("{}"),en=Qe.def(bt,".id"),Qt=Qe.def(Gt,"[",en,"]");Qe(Mt.cond(Qt).then(Qt,".call(this,a0);").else(Qt,"=",Gt,"[",en,"]=",Mt.link(function(Kt){return Xt($t,Mt,lt,Kt,1)}),"(",bt,");",Qt,".call(this,a0);"))}0<Object.keys(lt.state).length&&Qe(Mt.shared.current,".dirty=true;"),Mt.shared.vao&&Qe(Mt.shared.vao,".setVAO(null);")}(Vt,Nt),rn(Vt,Nt),function(Mt,lt){function Qe(an){return an.contextDep&&Gt||an.propDep}var bt=Mt.proc("batch",2);Mt.batchId="0",wt(Mt,bt);var Gt=!1,en=!0;Object.keys(lt.context).forEach(function(an){Gt=Gt||lt.context[an].propDep}),Gt||(Et(Mt,bt,lt.context),en=!1);var Qt=!1;if((Kt=lt.framebuffer)?(Kt.propDep?Gt=Qt=!0:Kt.contextDep&&Gt&&(Qt=!0),Qt||mt(Mt,bt,Kt)):mt(Mt,bt,null),lt.state.viewport&&lt.state.viewport.propDep&&(Gt=!0),kt(Mt,bt,lt),ht(Mt,bt,lt.state,function(an){return!Qe(an)}),lt.profile&&Qe(lt.profile)||Wt(Mt,bt,lt,!1,"a1"),lt.contextDep=Gt,lt.needsContext=en,lt.needsFramebuffer=Qt,(en=lt.shader.progVar).contextDep&&Gt||en.propDep)An(Mt,bt,lt,null);else if(en=en.append(Mt,bt),bt(Mt.shared.gl,".useProgram(",en,".program);"),lt.shader.program)An(Mt,bt,lt,lt.shader.program);else{bt(Mt.shared.vao,".setVAO(null);");var Kt=Mt.global.def("{}"),on=(Qt=bt.def(en,".id"),bt.def(Kt,"[",Qt,"]"));bt(Mt.cond(on).then(on,".call(this,a0,a1);").else(on,"=",Kt,"[",Qt,"]=",Mt.link(function(an){return Xt(An,Mt,lt,an,2)}),"(",en,");",on,".call(this,a0,a1);"))}0<Object.keys(lt.state).length&&bt(Mt.shared.current,".dirty=true;"),Mt.shared.vao&&bt(Mt.shared.vao,".setVAO(null);")}(Vt,Nt),H(Vt.compile(),{destroy:function(){Nt.shader.program.destroy()}})}}}function G(Oe,Be){for(var it=0;it<Oe.length;++it)if(Oe[it]===Be)return it;return-1}var H=function(Oe,Be){for(var it=Object.keys(Be),tt=0;tt<it.length;++tt)Oe[it[tt]]=Be[it[tt]];return Oe},U=0,Z={DynamicVariable:F,define:function(Oe,Be){return new F(Oe,L(Be+""))},isDynamic:function(Oe){return typeof Oe=="function"&&!Oe._reglType||Oe instanceof F},unbox:function Oe(Be,it){return typeof Be=="function"?new F(0,Be):typeof Be=="number"||typeof Be=="boolean"?new F(5,Be):Array.isArray(Be)?new F(6,Be.map(function(tt,ft){return Oe(tt)})):Be instanceof F?Be:void 0},accessor:L},q={next:typeof requestAnimationFrame=="function"?function(Oe){return requestAnimationFrame(Oe)}:function(Oe){return setTimeout(Oe,16)},cancel:typeof cancelAnimationFrame=="function"?function(Oe){return cancelAnimationFrame(Oe)}:clearTimeout},Q=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ne=b();ne.zero=b();var ie=function(Oe,Be){var it=1;Be.ext_texture_filter_anisotropic&&(it=Oe.getParameter(34047));var tt=1,ft=1;Be.webgl_draw_buffers&&(tt=Oe.getParameter(34852),ft=Oe.getParameter(36063));var pt=!!Be.oes_texture_float;if(pt){pt=Oe.createTexture(),Oe.bindTexture(3553,pt),Oe.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var _e=Oe.createFramebuffer();if(Oe.bindFramebuffer(36160,_e),Oe.framebufferTexture2D(36160,36064,3553,pt,0),Oe.bindTexture(3553,null),Oe.checkFramebufferStatus(36160)!==36053)pt=!1;else{Oe.viewport(0,0,1,1),Oe.clearColor(1,0,0,1),Oe.clear(16384);var Ae=ne.allocType(5126,4);Oe.readPixels(0,0,1,1,6408,5126,Ae),Oe.getError()?pt=!1:(Oe.deleteFramebuffer(_e),Oe.deleteTexture(pt),pt=Ae[0]===1),ne.freeType(Ae)}}return Ae=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Ae=Oe.createTexture(),_e=ne.allocType(5121,36),Oe.activeTexture(33984),Oe.bindTexture(34067,Ae),Oe.texImage2D(34069,0,6408,3,3,0,6408,5121,_e),ne.freeType(_e),Oe.bindTexture(34067,null),Oe.deleteTexture(Ae),Ae=!Oe.getError()),{colorBits:[Oe.getParameter(3410),Oe.getParameter(3411),Oe.getParameter(3412),Oe.getParameter(3413)],depthBits:Oe.getParameter(3414),stencilBits:Oe.getParameter(3415),subpixelBits:Oe.getParameter(3408),extensions:Object.keys(Be).filter(function(Ve){return!!Be[Ve]}),maxAnisotropic:it,maxDrawbuffers:tt,maxColorAttachments:ft,pointSizeDims:Oe.getParameter(33901),lineWidthDims:Oe.getParameter(33902),maxViewportDims:Oe.getParameter(3386),maxCombinedTextureUnits:Oe.getParameter(35661),maxCubeMapSize:Oe.getParameter(34076),maxRenderbufferSize:Oe.getParameter(34024),maxTextureUnits:Oe.getParameter(34930),maxTextureSize:Oe.getParameter(3379),maxAttributes:Oe.getParameter(34921),maxVertexUniforms:Oe.getParameter(36347),maxVertexTextureUnits:Oe.getParameter(35660),maxVaryingVectors:Oe.getParameter(36348),maxFragmentUniforms:Oe.getParameter(36349),glsl:Oe.getParameter(35724),renderer:Oe.getParameter(7937),vendor:Oe.getParameter(7936),version:Oe.getParameter(7938),readFloat:pt,npotTextureCube:Ae}},le=function(Oe){return Oe instanceof Uint8Array||Oe instanceof Uint16Array||Oe instanceof Uint32Array||Oe instanceof Int8Array||Oe instanceof Int16Array||Oe instanceof Int32Array||Oe instanceof Float32Array||Oe instanceof Float64Array||Oe instanceof Uint8ClampedArray},fe=function(Oe){return Object.keys(Oe).map(function(Be){return Oe[Be]})},pe={shape:function(Oe){for(var Be=[];Oe.length;Oe=Oe[0])Be.push(Oe.length);return Be},flatten:function(Oe,Be,it,tt){var ft=1;if(Be.length)for(var pt=0;pt<Be.length;++pt)ft*=Be[pt];else ft=0;switch(it=tt||ne.allocType(it,ft),Be.length){case 0:break;case 1:for(tt=Be[0],Be=0;Be<tt;++Be)it[Be]=Oe[Be];break;case 2:for(tt=Be[0],Be=Be[1],pt=ft=0;pt<tt;++pt)for(var _e=Oe[pt],Ae=0;Ae<Be;++Ae)it[ft++]=_e[Ae];break;case 3:t(Oe,Be[0],Be[1],Be[2],it,0);break;default:u(Oe,Be,0,it,0)}return it}},me={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ke={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ve={dynamic:35048,stream:35040,static:35044},he=pe.flatten,de=pe.shape,X=[];X[5120]=1,X[5122]=2,X[5124]=4,X[5121]=1,X[5123]=2,X[5125]=4,X[5126]=4;var ae={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},K=new Float32Array(1),ge=new Uint32Array(K.buffer),re=[9984,9986,9985,9987],ue=[0,6409,6410,6407,6408],we={};we[6409]=we[6406]=we[6402]=1,we[34041]=we[6410]=2,we[6407]=we[35904]=3,we[6408]=we[35906]=4;var Te=x("HTMLCanvasElement"),ee=x("OffscreenCanvas"),se=x("CanvasRenderingContext2D"),ce=x("ImageBitmap"),be=x("HTMLImageElement"),Ee=x("HTMLVideoElement"),Se=Object.keys(me).concat([Te,ee,se,ce,be,Ee]),De=[];De[5121]=1,De[5126]=4,De[36193]=2,De[5123]=2,De[5125]=4;var Ge=[];Ge[32854]=2,Ge[32855]=2,Ge[36194]=2,Ge[34041]=4,Ge[33776]=.5,Ge[33777]=.5,Ge[33778]=1,Ge[33779]=1,Ge[35986]=.5,Ge[35987]=1,Ge[34798]=1,Ge[35840]=.5,Ge[35841]=.25,Ge[35842]=.5,Ge[35843]=.25,Ge[36196]=.5;var Xe=[];Xe[32854]=2,Xe[32855]=2,Xe[36194]=2,Xe[33189]=2,Xe[36168]=1,Xe[34041]=4,Xe[35907]=4,Xe[34836]=16,Xe[34842]=8,Xe[34843]=6;var Ke=function(Oe,Be,it,tt,ft){function pt(Pe){this.id=He++,this.refCount=1,this.renderbuffer=Pe,this.format=32854,this.height=this.width=0,ft.profile&&(this.stats={size:0})}function _e(Pe){var Ue=Pe.renderbuffer;Oe.bindRenderbuffer(36161,null),Oe.deleteRenderbuffer(Ue),Pe.renderbuffer=null,Pe.refCount=0,delete We[Pe.id],tt.renderbufferCount--}var Ae={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Be.ext_srgb&&(Ae.srgba=35907),Be.ext_color_buffer_half_float&&(Ae.rgba16f=34842,Ae.rgb16f=34843),Be.webgl_color_buffer_float&&(Ae.rgba32f=34836);var Ve=[];Object.keys(Ae).forEach(function(Pe){Ve[Ae[Pe]]=Pe});var He=0,We={};return pt.prototype.decRef=function(){0>=--this.refCount&&_e(this)},ft.profile&&(tt.getTotalRenderbufferSize=function(){var Pe=0;return Object.keys(We).forEach(function(Ue){Pe+=We[Ue].stats.size}),Pe}),{create:function(Pe,Ue){function Ne(Fe,Ze){var rt=0,vt=0,Lt=32854;if(typeof Fe=="object"&&Fe?("shape"in Fe?(rt=0|(vt=Fe.shape)[0],vt=0|vt[1]):("radius"in Fe&&(rt=vt=0|Fe.radius),"width"in Fe&&(rt=0|Fe.width),"height"in Fe&&(vt=0|Fe.height)),"format"in Fe&&(Lt=Ae[Fe.format])):typeof Fe=="number"?(rt=0|Fe,vt=typeof Ze=="number"?0|Ze:rt):Fe||(rt=vt=1),rt!==Ye.width||vt!==Ye.height||Lt!==Ye.format)return Ne.width=Ye.width=rt,Ne.height=Ye.height=vt,Ye.format=Lt,Oe.bindRenderbuffer(36161,Ye.renderbuffer),Oe.renderbufferStorage(36161,Lt,rt,vt),ft.profile&&(Ye.stats.size=Xe[Ye.format]*Ye.width*Ye.height),Ne.format=Ve[Ye.format],Ne}var Ye=new pt(Oe.createRenderbuffer());return We[Ye.id]=Ye,tt.renderbufferCount++,Ne(Pe,Ue),Ne.resize=function(Fe,Ze){var rt=0|Fe,vt=0|Ze||rt;return rt===Ye.width&&vt===Ye.height||(Ne.width=Ye.width=rt,Ne.height=Ye.height=vt,Oe.bindRenderbuffer(36161,Ye.renderbuffer),Oe.renderbufferStorage(36161,Ye.format,rt,vt),ft.profile&&(Ye.stats.size=Xe[Ye.format]*Ye.width*Ye.height)),Ne},Ne._reglType="renderbuffer",Ne._renderbuffer=Ye,ft.profile&&(Ne.stats=Ye.stats),Ne.destroy=function(){Ye.decRef()},Ne},clear:function(){fe(We).forEach(_e)},restore:function(){fe(We).forEach(function(Pe){Pe.renderbuffer=Oe.createRenderbuffer(),Oe.bindRenderbuffer(36161,Pe.renderbuffer),Oe.renderbufferStorage(36161,Pe.format,Pe.width,Pe.height)}),Oe.bindRenderbuffer(36161,null)}}},ut=[];ut[6408]=4,ut[6407]=3;var Tt=[];Tt[5121]=1,Tt[5126]=4,Tt[36193]=2;var je=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Le=["x","y","z","w"],$e="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),st={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ot={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Je={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},at={cw:2304,ccw:2305},gt=new N(!1,!1,!1,function(){});return function(Oe){function Be(){if(pn.length===0)St&&St.update(),gn=null;else{gn=q.next(Be),We();for(var sn=pn.length-1;0<=sn;--sn){var fn=pn[sn];fn&&fn(Ut,null,0)}Ne.flush(),St&&St.update()}}function it(){!gn&&0<pn.length&&(gn=q.next(Be))}function tt(){gn&&(q.cancel(Be),gn=null)}function ft(sn){sn.preventDefault(),tt(),An.forEach(function(fn){fn()})}function pt(sn){Ne.getError(),Fe.restore(),wt.restore(),mt.restore(),Wt.restore(),jt.restore(),Jt.restore(),ht.restore(),St&&St.restore(),qt.procs.refresh(),it(),rn.forEach(function(fn){fn()})}function _e(sn){function fn(qe,nt){var _t={},zt={};return Object.keys(qe).forEach(function(Bt){var Vt=qe[Bt];if(Z.isDynamic(Vt))zt[Bt]=Z.unbox(Vt,Bt);else{if(nt&&Array.isArray(Vt)){for(var Nt=0;Nt<Vt.length;++Nt)if(Z.isDynamic(Vt[Nt]))return void(zt[Bt]=Z.unbox(Vt,Bt))}_t[Bt]=Vt}}),{dynamic:zt,static:_t}}var bn=fn(sn.context||{},!0),wn=fn(sn.uniforms||{},!0),Sn=fn(sn.attributes||{},!1);sn=fn(function(qe){function nt(zt){if(zt in _t){var Bt=_t[zt];delete _t[zt],Object.keys(Bt).forEach(function(Vt){_t[zt+"."+Vt]=Bt[Vt]})}}var _t=H({},qe);return delete _t.uniforms,delete _t.attributes,delete _t.context,delete _t.vao,"stencil"in _t&&_t.stencil.op&&(_t.stencil.opBack=_t.stencil.opFront=_t.stencil.op,delete _t.stencil.op),nt("blend"),nt("depth"),nt("cull"),nt("stencil"),nt("polygonOffset"),nt("scissor"),nt("sample"),"vao"in qe&&(_t.vao=qe.vao),_t}(sn),!1);var kn={gpuTime:0,cpuTime:0,count:0},Ln=qt.compile(sn,Sn,wn,bn,kn),zn=Ln.draw,jn=Ln.batch,dt=Ln.scope,Zt=[];return H(function(qe,nt){var _t;if(typeof qe=="function")return dt.call(this,null,qe,0);if(typeof nt=="function")if(typeof qe=="number")for(_t=0;_t<qe;++_t)dt.call(this,null,nt,_t);else{if(!Array.isArray(qe))return dt.call(this,qe,nt,0);for(_t=0;_t<qe.length;++_t)dt.call(this,qe[_t],nt,_t)}else if(typeof qe=="number"){if(0<qe)return jn.call(this,function(zt){for(;Zt.length<zt;)Zt.push(null);return Zt}(0|qe),0|qe)}else{if(!Array.isArray(qe))return zn.call(this,qe);if(qe.length)return jn.call(this,qe,qe.length)}},{stats:kn,destroy:function(){Ln.destroy()}})}function Ae(sn,fn){var bn=0;qt.procs.poll();var wn=fn.color;wn&&(Ne.clearColor(+wn[0]||0,+wn[1]||0,+wn[2]||0,+wn[3]||0),bn|=16384),"depth"in fn&&(Ne.clearDepth(+fn.depth),bn|=256),"stencil"in fn&&(Ne.clearStencil(0|fn.stencil),bn|=1024),Ne.clear(bn)}function Ve(sn){return pn.push(sn),it(),{cancel:function(){var fn=G(pn,sn);pn[fn]=function bn(){var wn=G(pn,bn);pn[wn]=pn[pn.length-1],--pn.length,0>=pn.length&&tt()}}}}function He(){var sn=Xt.viewport,fn=Xt.scissor_box;sn[0]=sn[1]=fn[0]=fn[1]=0,Ut.viewportWidth=Ut.framebufferWidth=Ut.drawingBufferWidth=sn[2]=fn[2]=Ne.drawingBufferWidth,Ut.viewportHeight=Ut.framebufferHeight=Ut.drawingBufferHeight=sn[3]=fn[3]=Ne.drawingBufferHeight}function We(){Ut.tick+=1,Ut.time=Ue(),He(),qt.procs.poll()}function Pe(){Wt.refresh(),He(),qt.procs.refresh(),St&&St.update()}function Ue(){return(Q()-It)/1e3}if(!(Oe=T(Oe)))return null;var Ne=Oe.gl,Ye=Ne.getContextAttributes();Ne.isContextLost();var Fe=function(sn,fn){function bn(Ln){var zn;Ln=Ln.toLowerCase();try{zn=wn[Ln]=sn.getExtension(Ln)}catch{}return!!zn}for(var wn={},Sn=0;Sn<fn.extensions.length;++Sn){var kn=fn.extensions[Sn];if(!bn(kn))return fn.onDestroy(),fn.onDone('"'+kn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return fn.optionalExtensions.forEach(bn),{extensions:wn,restore:function(){Object.keys(wn).forEach(function(Ln){if(wn[Ln]&&!bn(Ln))throw Error("(regl): error restoring extension "+Ln)})}}}(Ne,Oe);if(!Fe)return null;var Ze=function(){var sn={"":0},fn=[""];return{id:function(bn){var wn=sn[bn];return wn||(wn=sn[bn]=fn.length,fn.push(bn),wn)},str:function(bn){return fn[bn]}}}(),rt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},vt=Oe.cachedCode||{},Lt=Fe.extensions,St=function(sn,fn){function bn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function wn(Zt,qe,nt){var _t=Ln.pop()||new bn;_t.startQueryIndex=Zt,_t.endQueryIndex=qe,_t.sum=0,_t.stats=nt,zn.push(_t)}if(!fn.ext_disjoint_timer_query)return null;var Sn=[],kn=[],Ln=[],zn=[],jn=[],dt=[];return{beginQuery:function(Zt){var qe=Sn.pop()||fn.ext_disjoint_timer_query.createQueryEXT();fn.ext_disjoint_timer_query.beginQueryEXT(35007,qe),kn.push(qe),wn(kn.length-1,kn.length,Zt)},endQuery:function(){fn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:wn,update:function(){var Zt,qe;if((Zt=kn.length)!==0){dt.length=Math.max(dt.length,Zt+1),jn.length=Math.max(jn.length,Zt+1),jn[0]=0;var nt=dt[0]=0;for(qe=Zt=0;qe<kn.length;++qe){var _t=kn[qe];fn.ext_disjoint_timer_query.getQueryObjectEXT(_t,34919)?(nt+=fn.ext_disjoint_timer_query.getQueryObjectEXT(_t,34918),Sn.push(_t)):kn[Zt++]=_t,jn[qe+1]=nt,dt[qe+1]=Zt}for(kn.length=Zt,qe=Zt=0;qe<zn.length;++qe){var zt=(nt=zn[qe]).startQueryIndex;_t=nt.endQueryIndex,nt.sum+=jn[_t]-jn[zt],zt=dt[zt],(_t=dt[_t])===zt?(nt.stats.gpuTime+=nt.sum/1e6,Ln.push(nt)):(nt.startQueryIndex=zt,nt.endQueryIndex=_t,zn[Zt++]=nt)}zn.length=Zt}},getNumPendingQueries:function(){return kn.length},clear:function(){Sn.push.apply(Sn,kn);for(var Zt=0;Zt<Sn.length;Zt++)fn.ext_disjoint_timer_query.deleteQueryEXT(Sn[Zt]);kn.length=0,Sn.length=0},restore:function(){kn.length=0,Sn.length=0}}}(0,Lt),It=Q(),ot=Ne.drawingBufferWidth,xt=Ne.drawingBufferHeight,Ut={tick:0,time:0,viewportWidth:ot,viewportHeight:xt,framebufferWidth:ot,framebufferHeight:xt,drawingBufferWidth:ot,drawingBufferHeight:xt,pixelRatio:Oe.pixelRatio},Et=(ot={elements:null,primitive:4,count:-1,offset:0,instances:-1},ie(Ne,Lt)),mt=v(Ne,rt,Oe,function(sn){return ht.destroyBuffer(sn)}),kt=y(Ne,Lt,mt,rt),ht=w(Ne,Lt,Et,rt,mt,kt,ot),wt=S(Ne,Ze,rt,Oe),Wt=e(Ne,Lt,Et,function(){qt.procs.poll()},Ut,rt,Oe),jt=Ke(Ne,Lt,0,rt,Oe),Jt=h(Ne,Lt,Et,Wt,jt,rt),qt=J(Ne,Ze,Lt,Et,mt,kt,0,Jt,{},ht,wt,ot,Ut,St,vt,Oe),Xt=(Ze=O(Ne,Jt,qt.procs.poll,Ut),qt.next),$t=Ne.canvas,pn=[],An=[],rn=[],ln=[Oe.onDestroy],gn=null;$t&&($t.addEventListener("webglcontextlost",ft,!1),$t.addEventListener("webglcontextrestored",pt,!1));var xn=Jt.setFBO=_e({framebuffer:Z.define.call(null,1,"framebuffer")});return Pe(),Ye=H(_e,{clear:function(sn){if("framebuffer"in sn)if(sn.framebuffer&&sn.framebuffer_reglType==="framebufferCube")for(var fn=0;6>fn;++fn)xn(H({framebuffer:sn.framebuffer.faces[fn]},sn),Ae);else xn(sn,Ae);else Ae(0,sn)},prop:Z.define.bind(null,1),context:Z.define.bind(null,2),this:Z.define.bind(null,3),draw:_e({}),buffer:function(sn){return mt.create(sn,34962,!1,!1)},elements:function(sn){return kt.create(sn,!1)},texture:Wt.create2D,cube:Wt.createCube,renderbuffer:jt.create,framebuffer:Jt.create,framebufferCube:Jt.createCube,vao:ht.createVAO,attributes:Ye,frame:Ve,on:function(sn,fn){var bn;switch(sn){case"frame":return Ve(fn);case"lost":bn=An;break;case"restore":bn=rn;break;case"destroy":bn=ln}return bn.push(fn),{cancel:function(){for(var wn=0;wn<bn.length;++wn)if(bn[wn]===fn){bn[wn]=bn[bn.length-1],bn.pop();break}}}},limits:Et,hasExtension:function(sn){return 0<=Et.extensions.indexOf(sn.toLowerCase())},read:Ze,destroy:function(){pn.length=0,tt(),$t&&($t.removeEventListener("webglcontextlost",ft),$t.removeEventListener("webglcontextrestored",pt)),wt.clear(),Jt.clear(),jt.clear(),ht.clear(),Wt.clear(),kt.clear(),mt.clear(),St&&St.clear(),ln.forEach(function(sn){sn()})},_gl:Ne,_refresh:Pe,poll:function(){We(),St&&St.update()},now:Ue,stats:rt,getCachedCode:function(){return vt},preloadCachedCode:function(sn){Object.entries(sn).forEach(function(fn){vt[fn[0]]=fn[1]})}}),Oe.onDone(null,Ye),Ye}}()},73285:function($,F,m){var L=m(71129),D=m(70973),E=m(74268)(),T=m(52991),k=m(48631),M=L("%Math.floor%");$.exports=function(b,a){if(typeof b!="function")throw new k("`fn` is not a function");if(typeof a!="number"||a<0||a>4294967295||M(a)!==a)throw new k("`length` must be a positive 32-bit integer");var t=arguments.length>2&&!!arguments[2],u=!0,i=!0;if("length"in b&&T){var l=T(b,"length");l&&!l.configurable&&(u=!1),l&&!l.writable&&(i=!1)}return(u||i||!t)&&(E?D(b,"length",a,!0,!0):D(b,"length",a)),b}},28089:function($,F,m){var L=m(59811);$.exports=function(D,E,T){if(D==null)throw Error("First argument should be a string");if(E==null)throw Error("Separator should be a string or a RegExp");T?(typeof T=="string"||Array.isArray(T))&&(T={ignore:T}):T={},T.escape==null&&(T.escape=!0),T.ignore==null?T.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof T.ignore=="string"&&(T.ignore=[T.ignore]),T.ignore=T.ignore.map(function(i){return i.length===1&&(i+=i),i}));var k=L.parse(D,{flat:!0,brackets:T.ignore}),M=k[0].split(E);if(T.escape){for(var b=[],a=0;a<M.length;a++){var t=M[a],u=M[a+1];t[t.length-1]==="\\"&&t[t.length-2]!=="\\"?(b.push(t+E+u),a++):b.push(t)}M=b}for(a=0;a<M.length;a++)k[0]=M[a],M[a]=L.stringify(k,{flat:!0});return M}},13193:function($,F,m){m.r(F);var L=2*Math.PI,D=function(k,M,b,a,t,u,i){var l=k.x,d=k.y;return{x:a*(l*=M)-t*(d*=b)+u,y:t*l+a*d+i}},E=function(k,M){var b=M===1.5707963267948966?.551915024494:M===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(M/4),a=Math.cos(k),t=Math.sin(k),u=Math.cos(k+M),i=Math.sin(k+M);return[{x:a-t*b,y:t+a*b},{x:u+i*b,y:i-u*b},{x:u,y:i}]},T=function(k,M,b,a){var t=k*b+M*a;return t>1&&(t=1),t<-1&&(t=-1),(k*a-M*b<0?-1:1)*Math.acos(t)};F.default=function(k){var M=k.px,b=k.py,a=k.cx,t=k.cy,u=k.rx,i=k.ry,l=k.xAxisRotation,d=l===void 0?0:l,v=k.largeArcFlag,y=v===void 0?0:v,p=k.sweepFlag,c=p===void 0?0:p,x=[];if(u===0||i===0)return[];var f=Math.sin(d*L/360),n=Math.cos(d*L/360),o=n*(M-a)/2+f*(b-t)/2,s=-f*(M-a)/2+n*(b-t)/2;if(o===0&&s===0)return[];u=Math.abs(u),i=Math.abs(i);var r=Math.pow(o,2)/Math.pow(u,2)+Math.pow(s,2)/Math.pow(i,2);r>1&&(u*=Math.sqrt(r),i*=Math.sqrt(r));var g=function(B,C,z,P,R,N,j,W,Y,J,G,H){var U=Math.pow(R,2),Z=Math.pow(N,2),q=Math.pow(G,2),Q=Math.pow(H,2),ne=U*Z-U*Q-Z*q;ne<0&&(ne=0),ne/=U*Q+Z*q;var ie=(ne=Math.sqrt(ne)*(j===W?-1:1))*R/N*H,le=ne*-N/R*G,fe=J*ie-Y*le+(B+z)/2,pe=Y*ie+J*le+(C+P)/2,me=(G-ie)/R,ke=(H-le)/N,ve=(-G-ie)/R,he=(-H-le)/N,de=T(1,0,me,ke),X=T(me,ke,ve,he);return W===0&&X>0&&(X-=L),W===1&&X<0&&(X+=L),[fe,pe,de,X]}(M,b,a,t,u,i,y,c,f,n,o,s),e=function(B,C){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return function(z,P){var R=[],N=!0,j=!1,W=void 0;try{for(var Y,J=z[Symbol.iterator]();!(N=(Y=J.next()).done)&&(R.push(Y.value),!P||R.length!==P);N=!0);}catch(G){j=!0,W=G}finally{try{!N&&J.return&&J.return()}finally{if(j)throw W}}return R}(B,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(g,4),h=e[0],_=e[1],w=e[2],S=e[3],O=Math.abs(S)/(L/4);Math.abs(1-O)<1e-7&&(O=1);var A=Math.max(Math.ceil(O),1);S/=A;for(var I=0;I<A;I++)x.push(E(w,S)),w+=S;return x.map(function(B){var C=D(B[0],u,i,n,f,h,_),z=C.x,P=C.y,R=D(B[1],u,i,n,f,h,_),N=R.x,j=R.y,W=D(B[2],u,i,n,f,h,_);return{x1:z,y1:P,x2:N,y2:j,x:W.x,y:W.y}})}},97251:function($,F,m){var L=m(26953),D=m(16844),E=m(41883),T=m(13986),k=m(85672);$.exports=function(M){if(Array.isArray(M)&&M.length===1&&typeof M[0]=="string"&&(M=M[0]),typeof M=="string"&&(k(T(M),"String is not an SVG path."),M=L(M)),k(Array.isArray(M),"Argument should be a string or an array of path segments."),M=D(M),!(M=E(M)).length)return[0,0,0,0];for(var b=[1/0,1/0,-1/0,-1/0],a=0,t=M.length;a<t;a++)for(var u=M[a].slice(1),i=0;i<u.length;i+=2)u[i+0]<b[0]&&(b[0]=u[i+0]),u[i+1]<b[1]&&(b[1]=u[i+1]),u[i+0]>b[2]&&(b[2]=u[i+0]),u[i+1]>b[3]&&(b[3]=u[i+1]);return b}},41883:function($,F,m){$.exports=function(T){for(var k,M=[],b=0,a=0,t=0,u=0,i=null,l=null,d=0,v=0,y=0,p=T.length;y<p;y++){var c=T[y],x=c[0];switch(x){case"M":t=c[1],u=c[2];break;case"A":var f=L({px:d,py:v,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!f.length)continue;for(var n,o=0;o<f.length;o++)c=["C",(n=f[o]).x1,n.y1,n.x2,n.y2,n.x,n.y],o<f.length-1&&M.push(c);break;case"S":var s=d,r=v;k!="C"&&k!="S"||(s+=s-b,r+=r-a),c=["C",s,r,c[1],c[2],c[3],c[4]];break;case"T":k=="Q"||k=="T"?(i=2*d-i,l=2*v-l):(i=d,l=v),c=E(d,v,i,l,c[1],c[2]);break;case"Q":i=c[1],l=c[2],c=E(d,v,c[1],c[2],c[3],c[4]);break;case"L":c=D(d,v,c[1],c[2]);break;case"H":c=D(d,v,c[1],v);break;case"V":c=D(d,v,d,c[1]);break;case"Z":c=D(d,v,t,u)}k=x,d=c[c.length-2],v=c[c.length-1],c.length>4?(b=c[c.length-4],a=c[c.length-3]):(b=d,a=v),M.push(c)}return M};var L=m(13193);function D(T,k,M,b){return["C",T,k,M,b,M,b]}function E(T,k,M,b,a,t){return["C",T/3+.6666666666666666*M,k/3+.6666666666666666*b,a/3+.6666666666666666*M,t/3+.6666666666666666*b,a,t]}},96021:function($,F,m){var L,D=m(97251),E=m(26953),T=m(95620),k=m(13986),M=m(88772),b=document.createElement("canvas"),a=b.getContext("2d");$.exports=function(t,u){if(!k(t))throw Error("Argument should be valid svg path string");var i,l;u||(u={}),u.shape?(i=u.shape[0],l=u.shape[1]):(i=b.width=u.w||u.width||200,l=b.height=u.h||u.height||200);var d=Math.min(i,l),v=u.stroke||0,y=u.viewbox||u.viewBox||D(t),p=[i/(y[2]-y[0]),l/(y[3]-y[1])],c=Math.min(p[0]||0,p[1]||0)/2;if(a.fillStyle="black",a.fillRect(0,0,i,l),a.fillStyle="white",v&&(typeof v!="number"&&(v=1),a.strokeStyle=v>0?"white":"black",a.lineWidth=Math.abs(v)),a.translate(.5*i,.5*l),a.scale(c,c),function(){if(L!=null)return L;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return L=!1;var o=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(o);var s=n.getImageData(0,0,1,1);return L=s&&s.data&&s.data[3]===255}()){var x=new Path2D(t);a.fill(x),v&&a.stroke(x)}else{var f=E(t);T(a,f),a.fill(),v&&a.stroke()}return a.setTransform(1,0,0,1,0,0),M(a,{cutoff:u.cutoff!=null?u.cutoff:.5,radius:u.radius!=null?u.radius:.5*d})}},65657:function($,F,m){var L;(function(D){var E=/^\s+/,T=/\s+$/,k=0,M=D.round,b=D.min,a=D.max,t=D.random;function u(G,H){if(H=H||{},(G=G||"")instanceof u)return G;if(!(this instanceof u))return new u(G,H);var U=function(Z){var q,Q,ne,ie={r:0,g:0,b:0},le=1,fe=null,pe=null,me=null,ke=!1,ve=!1;return typeof Z=="string"&&(Z=function(he){he=he.replace(E,"").replace(T,"").toLowerCase();var de,X=!1;if(w[he])he=w[he],X=!0;else if(he=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(de=Y.rgb.exec(he))?{r:de[1],g:de[2],b:de[3]}:(de=Y.rgba.exec(he))?{r:de[1],g:de[2],b:de[3],a:de[4]}:(de=Y.hsl.exec(he))?{h:de[1],s:de[2],l:de[3]}:(de=Y.hsla.exec(he))?{h:de[1],s:de[2],l:de[3],a:de[4]}:(de=Y.hsv.exec(he))?{h:de[1],s:de[2],v:de[3]}:(de=Y.hsva.exec(he))?{h:de[1],s:de[2],v:de[3],a:de[4]}:(de=Y.hex8.exec(he))?{r:B(de[1]),g:B(de[2]),b:B(de[3]),a:R(de[4]),format:X?"name":"hex8"}:(de=Y.hex6.exec(he))?{r:B(de[1]),g:B(de[2]),b:B(de[3]),format:X?"name":"hex"}:(de=Y.hex4.exec(he))?{r:B(de[1]+""+de[1]),g:B(de[2]+""+de[2]),b:B(de[3]+""+de[3]),a:R(de[4]+""+de[4]),format:X?"name":"hex8"}:!!(de=Y.hex3.exec(he))&&{r:B(de[1]+""+de[1]),g:B(de[2]+""+de[2]),b:B(de[3]+""+de[3]),format:X?"name":"hex"}}(Z)),typeof Z=="object"&&(J(Z.r)&&J(Z.g)&&J(Z.b)?(q=Z.r,Q=Z.g,ne=Z.b,ie={r:255*A(q,255),g:255*A(Q,255),b:255*A(ne,255)},ke=!0,ve=String(Z.r).substr(-1)==="%"?"prgb":"rgb"):J(Z.h)&&J(Z.s)&&J(Z.v)?(fe=z(Z.s),pe=z(Z.v),ie=function(he,de,X){he=6*A(he,360),de=A(de,100),X=A(X,100);var ae=D.floor(he),K=he-ae,ge=X*(1-de),re=X*(1-K*de),ue=X*(1-(1-K)*de),we=ae%6;return{r:255*[X,re,ge,ge,ue,X][we],g:255*[ue,X,X,re,ge,ge][we],b:255*[ge,ge,ue,X,X,re][we]}}(Z.h,fe,pe),ke=!0,ve="hsv"):J(Z.h)&&J(Z.s)&&J(Z.l)&&(fe=z(Z.s),me=z(Z.l),ie=function(he,de,X){var ae,K,ge;function re(Te,ee,se){return se<0&&(se+=1),se>1&&(se-=1),se<1/6?Te+6*(ee-Te)*se:se<.5?ee:se<2/3?Te+(ee-Te)*(2/3-se)*6:Te}if(he=A(he,360),de=A(de,100),X=A(X,100),de===0)ae=K=ge=X;else{var ue=X<.5?X*(1+de):X+de-X*de,we=2*X-ue;ae=re(we,ue,he+1/3),K=re(we,ue,he),ge=re(we,ue,he-1/3)}return{r:255*ae,g:255*K,b:255*ge}}(Z.h,fe,me),ke=!0,ve="hsl"),Z.hasOwnProperty("a")&&(le=Z.a)),le=O(le),{ok:ke,format:Z.format||ve,r:b(255,a(ie.r,0)),g:b(255,a(ie.g,0)),b:b(255,a(ie.b,0)),a:le}}(G);this._originalInput=G,this._r=U.r,this._g=U.g,this._b=U.b,this._a=U.a,this._roundA=M(100*this._a)/100,this._format=H.format||U.format,this._gradientType=H.gradientType,this._r<1&&(this._r=M(this._r)),this._g<1&&(this._g=M(this._g)),this._b<1&&(this._b=M(this._b)),this._ok=U.ok,this._tc_id=k++}function i(G,H,U){G=A(G,255),H=A(H,255),U=A(U,255);var Z,q,Q=a(G,H,U),ne=b(G,H,U),ie=(Q+ne)/2;if(Q==ne)Z=q=0;else{var le=Q-ne;switch(q=ie>.5?le/(2-Q-ne):le/(Q+ne),Q){case G:Z=(H-U)/le+(H<U?6:0);break;case H:Z=(U-G)/le+2;break;case U:Z=(G-H)/le+4}Z/=6}return{h:Z,s:q,l:ie}}function l(G,H,U){G=A(G,255),H=A(H,255),U=A(U,255);var Z,q,Q=a(G,H,U),ne=b(G,H,U),ie=Q,le=Q-ne;if(q=Q===0?0:le/Q,Q==ne)Z=0;else{switch(Q){case G:Z=(H-U)/le+(H<U?6:0);break;case H:Z=(U-G)/le+2;break;case U:Z=(G-H)/le+4}Z/=6}return{h:Z,s:q,v:ie}}function d(G,H,U,Z){var q=[C(M(G).toString(16)),C(M(H).toString(16)),C(M(U).toString(16))];return Z&&q[0].charAt(0)==q[0].charAt(1)&&q[1].charAt(0)==q[1].charAt(1)&&q[2].charAt(0)==q[2].charAt(1)?q[0].charAt(0)+q[1].charAt(0)+q[2].charAt(0):q.join("")}function v(G,H,U,Z){return[C(P(Z)),C(M(G).toString(16)),C(M(H).toString(16)),C(M(U).toString(16))].join("")}function y(G,H){H=H===0?0:H||10;var U=u(G).toHsl();return U.s-=H/100,U.s=I(U.s),u(U)}function p(G,H){H=H===0?0:H||10;var U=u(G).toHsl();return U.s+=H/100,U.s=I(U.s),u(U)}function c(G){return u(G).desaturate(100)}function x(G,H){H=H===0?0:H||10;var U=u(G).toHsl();return U.l+=H/100,U.l=I(U.l),u(U)}function f(G,H){H=H===0?0:H||10;var U=u(G).toRgb();return U.r=a(0,b(255,U.r-M(-H/100*255))),U.g=a(0,b(255,U.g-M(-H/100*255))),U.b=a(0,b(255,U.b-M(-H/100*255))),u(U)}function n(G,H){H=H===0?0:H||10;var U=u(G).toHsl();return U.l-=H/100,U.l=I(U.l),u(U)}function o(G,H){var U=u(G).toHsl(),Z=(U.h+H)%360;return U.h=Z<0?360+Z:Z,u(U)}function s(G){var H=u(G).toHsl();return H.h=(H.h+180)%360,u(H)}function r(G){var H=u(G).toHsl(),U=H.h;return[u(G),u({h:(U+120)%360,s:H.s,l:H.l}),u({h:(U+240)%360,s:H.s,l:H.l})]}function g(G){var H=u(G).toHsl(),U=H.h;return[u(G),u({h:(U+90)%360,s:H.s,l:H.l}),u({h:(U+180)%360,s:H.s,l:H.l}),u({h:(U+270)%360,s:H.s,l:H.l})]}function e(G){var H=u(G).toHsl(),U=H.h;return[u(G),u({h:(U+72)%360,s:H.s,l:H.l}),u({h:(U+216)%360,s:H.s,l:H.l})]}function h(G,H,U){H=H||6,U=U||30;var Z=u(G).toHsl(),q=360/U,Q=[u(G)];for(Z.h=(Z.h-(q*H>>1)+720)%360;--H;)Z.h=(Z.h+q)%360,Q.push(u(Z));return Q}function _(G,H){H=H||6;for(var U=u(G).toHsv(),Z=U.h,q=U.s,Q=U.v,ne=[],ie=1/H;H--;)ne.push(u({h:Z,s:q,v:Q})),Q=(Q+ie)%1;return ne}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var G=this.toRgb();return(299*G.r+587*G.g+114*G.b)/1e3},getLuminance:function(){var G,H,U,Z=this.toRgb();return G=Z.r/255,H=Z.g/255,U=Z.b/255,.2126*(G<=.03928?G/12.92:D.pow((G+.055)/1.055,2.4))+.7152*(H<=.03928?H/12.92:D.pow((H+.055)/1.055,2.4))+.0722*(U<=.03928?U/12.92:D.pow((U+.055)/1.055,2.4))},setAlpha:function(G){return this._a=O(G),this._roundA=M(100*this._a)/100,this},toHsv:function(){var G=l(this._r,this._g,this._b);return{h:360*G.h,s:G.s,v:G.v,a:this._a}},toHsvString:function(){var G=l(this._r,this._g,this._b),H=M(360*G.h),U=M(100*G.s),Z=M(100*G.v);return this._a==1?"hsv("+H+", "+U+"%, "+Z+"%)":"hsva("+H+", "+U+"%, "+Z+"%, "+this._roundA+")"},toHsl:function(){var G=i(this._r,this._g,this._b);return{h:360*G.h,s:G.s,l:G.l,a:this._a}},toHslString:function(){var G=i(this._r,this._g,this._b),H=M(360*G.h),U=M(100*G.s),Z=M(100*G.l);return this._a==1?"hsl("+H+", "+U+"%, "+Z+"%)":"hsla("+H+", "+U+"%, "+Z+"%, "+this._roundA+")"},toHex:function(G){return d(this._r,this._g,this._b,G)},toHexString:function(G){return"#"+this.toHex(G)},toHex8:function(G){return function(H,U,Z,q,Q){var ne=[C(M(H).toString(16)),C(M(U).toString(16)),C(M(Z).toString(16)),C(P(q))];return Q&&ne[0].charAt(0)==ne[0].charAt(1)&&ne[1].charAt(0)==ne[1].charAt(1)&&ne[2].charAt(0)==ne[2].charAt(1)&&ne[3].charAt(0)==ne[3].charAt(1)?ne[0].charAt(0)+ne[1].charAt(0)+ne[2].charAt(0)+ne[3].charAt(0):ne.join("")}(this._r,this._g,this._b,this._a,G)},toHex8String:function(G){return"#"+this.toHex8(G)},toRgb:function(){return{r:M(this._r),g:M(this._g),b:M(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+M(this._r)+", "+M(this._g)+", "+M(this._b)+")":"rgba("+M(this._r)+", "+M(this._g)+", "+M(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:M(100*A(this._r,255))+"%",g:M(100*A(this._g,255))+"%",b:M(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+M(100*A(this._r,255))+"%, "+M(100*A(this._g,255))+"%, "+M(100*A(this._b,255))+"%)":"rgba("+M(100*A(this._r,255))+"%, "+M(100*A(this._g,255))+"%, "+M(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(S[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(G){var H="#"+v(this._r,this._g,this._b,this._a),U=H,Z=this._gradientType?"GradientType = 1, ":"";if(G){var q=u(G);U="#"+v(q._r,q._g,q._b,q._a)}return"progid:DXImageTransform.Microsoft.gradient("+Z+"startColorstr="+H+",endColorstr="+U+")"},toString:function(G){var H=!!G;G=G||this._format;var U=!1,Z=this._a<1&&this._a>=0;return H||!Z||G!=="hex"&&G!=="hex6"&&G!=="hex3"&&G!=="hex4"&&G!=="hex8"&&G!=="name"?(G==="rgb"&&(U=this.toRgbString()),G==="prgb"&&(U=this.toPercentageRgbString()),G!=="hex"&&G!=="hex6"||(U=this.toHexString()),G==="hex3"&&(U=this.toHexString(!0)),G==="hex4"&&(U=this.toHex8String(!0)),G==="hex8"&&(U=this.toHex8String()),G==="name"&&(U=this.toName()),G==="hsl"&&(U=this.toHslString()),G==="hsv"&&(U=this.toHsvString()),U||this.toHexString()):G==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(G,H){var U=G.apply(null,[this].concat([].slice.call(H)));return this._r=U._r,this._g=U._g,this._b=U._b,this.setAlpha(U._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(n,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(o,arguments)},_applyCombination:function(G,H){return G.apply(null,[this].concat([].slice.call(H)))},analogous:function(){return this._applyCombination(h,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(_,arguments)},splitcomplement:function(){return this._applyCombination(e,arguments)},triad:function(){return this._applyCombination(r,arguments)},tetrad:function(){return this._applyCombination(g,arguments)}},u.fromRatio=function(G,H){if(typeof G=="object"){var U={};for(var Z in G)G.hasOwnProperty(Z)&&(U[Z]=Z==="a"?G[Z]:z(G[Z]));G=U}return u(G,H)},u.equals=function(G,H){return!(!G||!H)&&u(G).toRgbString()==u(H).toRgbString()},u.random=function(){return u.fromRatio({r:t(),g:t(),b:t()})},u.mix=function(G,H,U){U=U===0?0:U||50;var Z=u(G).toRgb(),q=u(H).toRgb(),Q=U/100;return u({r:(q.r-Z.r)*Q+Z.r,g:(q.g-Z.g)*Q+Z.g,b:(q.b-Z.b)*Q+Z.b,a:(q.a-Z.a)*Q+Z.a})},u.readability=function(G,H){var U=u(G),Z=u(H);return(D.max(U.getLuminance(),Z.getLuminance())+.05)/(D.min(U.getLuminance(),Z.getLuminance())+.05)},u.isReadable=function(G,H,U){var Z,q,Q,ne,ie,le=u.readability(G,H);switch(q=!1,(Q=U,(ne=((Q=Q||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&ne!=="AAA"&&(ne="AA"),(ie=(Q.size||"small").toLowerCase())!=="small"&&ie!=="large"&&(ie="small"),Z={level:ne,size:ie}).level+Z.size){case"AAsmall":case"AAAlarge":q=le>=4.5;break;case"AAlarge":q=le>=3;break;case"AAAsmall":q=le>=7}return q},u.mostReadable=function(G,H,U){var Z,q,Q,ne,ie=null,le=0;q=(U=U||{}).includeFallbackColors,Q=U.level,ne=U.size;for(var fe=0;fe<H.length;fe++)(Z=u.readability(G,H[fe]))>le&&(le=Z,ie=u(H[fe]));return u.isReadable(G,ie,{level:Q,size:ne})||!q?ie:(U.includeFallbackColors=!1,u.mostReadable(G,["#fff","#000"],U))};var w=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=u.hexNames=function(G){var H={};for(var U in G)G.hasOwnProperty(U)&&(H[G[U]]=U);return H}(w);function O(G){return G=parseFloat(G),(isNaN(G)||G<0||G>1)&&(G=1),G}function A(G,H){(function(Z){return typeof Z=="string"&&Z.indexOf(".")!=-1&&parseFloat(Z)===1})(G)&&(G="100%");var U=function(Z){return typeof Z=="string"&&Z.indexOf("%")!=-1}(G);return G=b(H,a(0,parseFloat(G))),U&&(G=parseInt(G*H,10)/100),D.abs(G-H)<1e-6?1:G%H/parseFloat(H)}function I(G){return b(1,a(0,G))}function B(G){return parseInt(G,16)}function C(G){return G.length==1?"0"+G:""+G}function z(G){return G<=1&&(G=100*G+"%"),G}function P(G){return D.round(255*parseFloat(G)).toString(16)}function R(G){return B(G)/255}var N,j,W,Y=(j="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",W="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+W),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+W),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+W),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function J(G){return!!Y.CSS_UNIT.exec(G)}$.exports?$.exports=u:(L=(function(){return u}).call(F,m,F,$))===void 0||($.exports=L)})(Math)},51498:function($){$.exports=m,$.exports.float32=$.exports.float=m,$.exports.fract32=$.exports.fract=function(L,D){if(L.length){if(L instanceof Float32Array)return new Float32Array(L.length);D instanceof Float32Array||(D=m(L));for(var E=0,T=D.length;E<T;E++)D[E]=L[E]-D[E];return D}return m(L-m(L))};var F=new Float32Array(1);function m(L){return L.length?L instanceof Float32Array?L:new Float32Array(L):(F[0]=L,F[0])}},44626:function($,F,m){var L=m(4957);$.exports=T;var D=96;function E(k,M){var b=L(getComputedStyle(k).getPropertyValue(M));return b[0]*T(b[1],k)}function T(k,M){switch(M=M||document.body,k=(k||"px").trim().toLowerCase(),M!==window&&M!==document||(M=document.body),k){case"%":return M.clientHeight/100;case"ch":case"ex":return function(b,a){var t=document.createElement("div");t.style["font-size"]="128"+b,a.appendChild(t);var u=E(t,"font-size")/128;return a.removeChild(t),u}(k,M);case"em":return E(M,"font-size");case"rem":return E(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return D;case"cm":return D/2.54;case"mm":return D/25.4;case"pt":return D/72;case"pc":return D/6}return 1}},64276:function($,F,m){var L=m(31350);$.exports=function(D){if(typeof D!="function"||!hasOwnProperty.call(D,"length"))return!1;try{if(typeof D.length!="number"||typeof D.call!="function"||typeof D.apply!="function")return!1}catch{return!1}return!L(D)}},99497:function($,F,m){var L=m(80299),D=m(76481),E=m(58698),T=m(60461),k=function(M,b){return M.replace("%v",T(b))};$.exports=function(M,b,a){if(!D(a))throw new TypeError(k(b,M));if(!L(M)){if("default"in a)return a.default;if(a.isOptional)return null}var t=E(a.errorMessage);throw L(t)||(t=b),new TypeError(k(t,M))}},78696:function($){$.exports=function(F){try{return F.toString()}catch{try{return String(F)}catch{return null}}}},60461:function($,F,m){var L=m(78696),D=/[\n\r\u2028\u2029]/g;$.exports=function(E){var T=L(E);return T===null?"<Non-coercible to string value>":(T.length>100&&(T=T.slice(0,99)+""),T=T.replace(D,function(k){switch(k){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},76481:function($,F,m){var L=m(80299),D={object:!0,function:!0,undefined:!0};$.exports=function(E){return!!L(E)&&hasOwnProperty.call(D,typeof E)}},6887:function($,F,m){var L=m(99497),D=m(63461);$.exports=function(E){return D(E)?E:L(E,"%v is not a plain function",arguments[1])}},63461:function($,F,m){var L=m(64276),D=/^\s*class[\s{/}]/,E=Function.prototype.toString;$.exports=function(T){return!!L(T)&&!D.test(E.call(T))}},31350:function($,F,m){var L=m(76481);$.exports=function(D){if(!L(D))return!1;try{return!!D.constructor&&D.constructor.prototype===D}catch{return!1}}},58698:function($,F,m){var L=m(80299),D=m(76481),E=Object.prototype.toString;$.exports=function(T){if(!L(T))return null;if(D(T)){var k=T.toString;if(typeof k!="function"||k===E)return null}try{return""+T}catch{return null}}},9557:function($,F,m){var L=m(99497),D=m(80299);$.exports=function(E){return D(E)?E:L(E,"Cannot use %v",arguments[1])}},80299:function($){$.exports=function(F){return F!=null}},66127:function($,F,m){var L=m(54689),D=m(49523),E=m(45708).hp;m.g.__TYPEDARRAY_POOL||(m.g.__TYPEDARRAY_POOL={UINT8:D([32,0]),UINT16:D([32,0]),UINT32:D([32,0]),BIGUINT64:D([32,0]),INT8:D([32,0]),INT16:D([32,0]),INT32:D([32,0]),BIGINT64:D([32,0]),FLOAT:D([32,0]),DOUBLE:D([32,0]),DATA:D([32,0]),UINT8C:D([32,0]),BUFFER:D([32,0])});var T=typeof Uint8ClampedArray<"u",k=typeof BigUint64Array<"u",M=typeof BigInt64Array<"u",b=m.g.__TYPEDARRAY_POOL;b.UINT8C||(b.UINT8C=D([32,0])),b.BIGUINT64||(b.BIGUINT64=D([32,0])),b.BIGINT64||(b.BIGINT64=D([32,0])),b.BUFFER||(b.BUFFER=D([32,0]));var a=b.DATA,t=b.BUFFER;function u(e){if(e){var h=e.length||e.byteLength,_=L.log2(h);a[_].push(e)}}function i(e){e=L.nextPow2(e);var h=L.log2(e),_=a[h];return _.length>0?_.pop():new ArrayBuffer(e)}function l(e){return new Uint8Array(i(e),0,e)}function d(e){return new Uint16Array(i(2*e),0,e)}function v(e){return new Uint32Array(i(4*e),0,e)}function y(e){return new Int8Array(i(e),0,e)}function p(e){return new Int16Array(i(2*e),0,e)}function c(e){return new Int32Array(i(4*e),0,e)}function x(e){return new Float32Array(i(4*e),0,e)}function f(e){return new Float64Array(i(8*e),0,e)}function n(e){return T?new Uint8ClampedArray(i(e),0,e):l(e)}function o(e){return k?new BigUint64Array(i(8*e),0,e):null}function s(e){return M?new BigInt64Array(i(8*e),0,e):null}function r(e){return new DataView(i(e),0,e)}function g(e){e=L.nextPow2(e);var h=L.log2(e),_=t[h];return _.length>0?_.pop():new E(e)}F.free=function(e){if(E.isBuffer(e))t[L.log2(e.length)].push(e);else{if(Object.prototype.toString.call(e)!=="[object ArrayBuffer]"&&(e=e.buffer),!e)return;var h=e.length||e.byteLength,_=0|L.log2(h);a[_].push(e)}},F.freeUint8=F.freeUint16=F.freeUint32=F.freeBigUint64=F.freeInt8=F.freeInt16=F.freeInt32=F.freeBigInt64=F.freeFloat32=F.freeFloat=F.freeFloat64=F.freeDouble=F.freeUint8Clamped=F.freeDataView=function(e){u(e.buffer)},F.freeArrayBuffer=u,F.freeBuffer=function(e){t[L.log2(e.length)].push(e)},F.malloc=function(e,h){if(h===void 0||h==="arraybuffer")return i(e);switch(h){case"uint8":return l(e);case"uint16":return d(e);case"uint32":return v(e);case"int8":return y(e);case"int16":return p(e);case"int32":return c(e);case"float":case"float32":return x(e);case"double":case"float64":return f(e);case"uint8_clamped":return n(e);case"bigint64":return s(e);case"biguint64":return o(e);case"buffer":return g(e);case"data":case"dataview":return r(e);default:return null}return null},F.mallocArrayBuffer=i,F.mallocUint8=l,F.mallocUint16=d,F.mallocUint32=v,F.mallocInt8=y,F.mallocInt16=p,F.mallocInt32=c,F.mallocFloat32=F.mallocFloat=x,F.mallocFloat64=F.mallocDouble=f,F.mallocUint8Clamped=n,F.mallocBigUint64=o,F.mallocBigInt64=s,F.mallocDataView=r,F.mallocBuffer=g,F.clearCache=function(){for(var e=0;e<32;++e)b.UINT8[e].length=0,b.UINT16[e].length=0,b.UINT32[e].length=0,b.INT8[e].length=0,b.INT16[e].length=0,b.INT32[e].length=0,b.FLOAT[e].length=0,b.DOUBLE[e].length=0,b.BIGUINT64[e].length=0,b.BIGINT64[e].length=0,b.UINT8C[e].length=0,a[e].length=0,t[e].length=0}},80886:function($){var F=/[\'\"]/;$.exports=function(m){return m?(F.test(m.charAt(0))&&(m=m.substr(1)),F.test(m.charAt(m.length-1))&&(m=m.substr(0,m.length-1)),m):""}},79788:function($){$.exports=function(F,m,L){Array.isArray(L)||(L=[].slice.call(arguments,2));for(var D=0,E=L.length;D<E;D++){var T=L[D];for(var k in T)if((m[k]===void 0||Array.isArray(m[k])||F[k]!==m[k])&&k in m){var M;if(T[k]===!0)M=m[k];else if(T[k]===!1||typeof T[k]=="function"&&(M=T[k](m[k],F,m))===void 0)continue;F[k]=M}}return F}},44123:function($){$.exports=function(F){return F&&typeof F=="object"&&typeof F.copy=="function"&&typeof F.fill=="function"&&typeof F.readUInt8=="function"}},15724:function($,F,m){var L=m(40280),D=m(80340),E=m(96835),T=m(15628);function k(A){return A.call.bind(A)}var M=typeof BigInt<"u",b=typeof Symbol<"u",a=k(Object.prototype.toString),t=k(Number.prototype.valueOf),u=k(String.prototype.valueOf),i=k(Boolean.prototype.valueOf);if(M)var l=k(BigInt.prototype.valueOf);if(b)var d=k(Symbol.prototype.valueOf);function v(A,I){if(typeof A!="object")return!1;try{return I(A),!0}catch{return!1}}function y(A){return a(A)==="[object Map]"}function p(A){return a(A)==="[object Set]"}function c(A){return a(A)==="[object WeakMap]"}function x(A){return a(A)==="[object WeakSet]"}function f(A){return a(A)==="[object ArrayBuffer]"}function n(A){return typeof ArrayBuffer<"u"&&(f.working?f(A):A instanceof ArrayBuffer)}function o(A){return a(A)==="[object DataView]"}function s(A){return typeof DataView<"u"&&(o.working?o(A):A instanceof DataView)}F.isArgumentsObject=L,F.isGeneratorFunction=D,F.isTypedArray=T,F.isPromise=function(A){return typeof Promise<"u"&&A instanceof Promise||A!==null&&typeof A=="object"&&typeof A.then=="function"&&typeof A.catch=="function"},F.isArrayBufferView=function(A){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(A):T(A)||s(A)},F.isUint8Array=function(A){return E(A)==="Uint8Array"},F.isUint8ClampedArray=function(A){return E(A)==="Uint8ClampedArray"},F.isUint16Array=function(A){return E(A)==="Uint16Array"},F.isUint32Array=function(A){return E(A)==="Uint32Array"},F.isInt8Array=function(A){return E(A)==="Int8Array"},F.isInt16Array=function(A){return E(A)==="Int16Array"},F.isInt32Array=function(A){return E(A)==="Int32Array"},F.isFloat32Array=function(A){return E(A)==="Float32Array"},F.isFloat64Array=function(A){return E(A)==="Float64Array"},F.isBigInt64Array=function(A){return E(A)==="BigInt64Array"},F.isBigUint64Array=function(A){return E(A)==="BigUint64Array"},y.working=typeof Map<"u"&&y(new Map),F.isMap=function(A){return typeof Map<"u"&&(y.working?y(A):A instanceof Map)},p.working=typeof Set<"u"&&p(new Set),F.isSet=function(A){return typeof Set<"u"&&(p.working?p(A):A instanceof Set)},c.working=typeof WeakMap<"u"&&c(new WeakMap),F.isWeakMap=function(A){return typeof WeakMap<"u"&&(c.working?c(A):A instanceof WeakMap)},x.working=typeof WeakSet<"u"&&x(new WeakSet),F.isWeakSet=function(A){return x(A)},f.working=typeof ArrayBuffer<"u"&&f(new ArrayBuffer),F.isArrayBuffer=n,o.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&o(new DataView(new ArrayBuffer(1),0,1)),F.isDataView=s;var r=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function g(A){return a(A)==="[object SharedArrayBuffer]"}function e(A){return r!==void 0&&(g.working===void 0&&(g.working=g(new r)),g.working?g(A):A instanceof r)}function h(A){return v(A,t)}function _(A){return v(A,u)}function w(A){return v(A,i)}function S(A){return M&&v(A,l)}function O(A){return b&&v(A,d)}F.isSharedArrayBuffer=e,F.isAsyncFunction=function(A){return a(A)==="[object AsyncFunction]"},F.isMapIterator=function(A){return a(A)==="[object Map Iterator]"},F.isSetIterator=function(A){return a(A)==="[object Set Iterator]"},F.isGeneratorObject=function(A){return a(A)==="[object Generator]"},F.isWebAssemblyCompiledModule=function(A){return a(A)==="[object WebAssembly.Module]"},F.isNumberObject=h,F.isStringObject=_,F.isBooleanObject=w,F.isBigIntObject=S,F.isSymbolObject=O,F.isBoxedPrimitive=function(A){return h(A)||_(A)||w(A)||S(A)||O(A)},F.isAnyArrayBuffer=function(A){return typeof Uint8Array<"u"&&(n(A)||e(A))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(A){Object.defineProperty(F,A,{enumerable:!1,value:function(){throw new Error(A+" is not supported in userland")}})})},56557:function($,F,m){var L=m(33282),D=Object.getOwnPropertyDescriptors||function(O){for(var A=Object.keys(O),I={},B=0;B<A.length;B++)I[A[B]]=Object.getOwnPropertyDescriptor(O,A[B]);return I},E=/%[sdj%]/g;F.format=function(O){if(!c(O)){for(var A=[],I=0;I<arguments.length;I++)A.push(b(arguments[I]));return A.join(" ")}I=1;for(var B=arguments,C=B.length,z=String(O).replace(E,function(R){if(R==="%%")return"%";if(I>=C)return R;switch(R){case"%s":return String(B[I++]);case"%d":return Number(B[I++]);case"%j":try{return JSON.stringify(B[I++])}catch{return"[Circular]"}default:return R}}),P=B[I];I<C;P=B[++I])y(P)||!n(P)?z+=" "+P:z+=" "+b(P);return z},F.deprecate=function(O,A){if(L!==void 0&&L.noDeprecation===!0)return O;if(L===void 0)return function(){return F.deprecate(O,A).apply(this,arguments)};var I=!1;return function(){if(!I){if(L.throwDeprecation)throw new Error(A);L.traceDeprecation?console.trace(A):console.error(A),I=!0}return O.apply(this,arguments)}};var T={},k=/^$/;if(L.env.NODE_DEBUG){var M=L.env.NODE_DEBUG;M=M.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),k=new RegExp("^"+M+"$","i")}function b(O,A){var I={seen:[],stylize:t};return arguments.length>=3&&(I.depth=arguments[2]),arguments.length>=4&&(I.colors=arguments[3]),v(A)?I.showHidden=A:A&&F._extend(I,A),x(I.showHidden)&&(I.showHidden=!1),x(I.depth)&&(I.depth=2),x(I.colors)&&(I.colors=!1),x(I.customInspect)&&(I.customInspect=!0),I.colors&&(I.stylize=a),u(I,O,I.depth)}function a(O,A){var I=b.styles[A];return I?"\x1B["+b.colors[I][0]+"m"+O+"\x1B["+b.colors[I][1]+"m":O}function t(O,A){return O}function u(O,A,I){if(O.customInspect&&A&&r(A.inspect)&&A.inspect!==F.inspect&&(!A.constructor||A.constructor.prototype!==A)){var B=A.inspect(I,O);return c(B)||(B=u(O,B,I)),B}var C=function(J,G){if(x(G))return J.stylize("undefined","undefined");if(c(G)){var H="'"+JSON.stringify(G).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(H,"string")}return p(G)?J.stylize(""+G,"number"):v(G)?J.stylize(""+G,"boolean"):y(G)?J.stylize("null","null"):void 0}(O,A);if(C)return C;var z=Object.keys(A),P=function(J){var G={};return J.forEach(function(H,U){G[H]=!0}),G}(z);if(O.showHidden&&(z=Object.getOwnPropertyNames(A)),s(A)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return i(A);if(z.length===0){if(r(A)){var R=A.name?": "+A.name:"";return O.stylize("[Function"+R+"]","special")}if(f(A))return O.stylize(RegExp.prototype.toString.call(A),"regexp");if(o(A))return O.stylize(Date.prototype.toString.call(A),"date");if(s(A))return i(A)}var N,j="",W=!1,Y=["{","}"];return d(A)&&(W=!0,Y=["[","]"]),r(A)&&(j=" [Function"+(A.name?": "+A.name:"")+"]"),f(A)&&(j=" "+RegExp.prototype.toString.call(A)),o(A)&&(j=" "+Date.prototype.toUTCString.call(A)),s(A)&&(j=" "+i(A)),z.length!==0||W&&A.length!=0?I<0?f(A)?O.stylize(RegExp.prototype.toString.call(A),"regexp"):O.stylize("[Object]","special"):(O.seen.push(A),N=W?function(J,G,H,U,Z){for(var q=[],Q=0,ne=G.length;Q<ne;++Q)_(G,String(Q))?q.push(l(J,G,H,U,String(Q),!0)):q.push("");return Z.forEach(function(ie){ie.match(/^\d+$/)||q.push(l(J,G,H,U,ie,!0))}),q}(O,A,I,P,z):z.map(function(J){return l(O,A,I,P,J,W)}),O.seen.pop(),function(J,G,H){return J.reduce(function(U,Z){return Z.indexOf(`
`),U+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?H[0]+(G===""?"":G+`
 `)+" "+J.join(`,
  `)+" "+H[1]:H[0]+G+" "+J.join(", ")+" "+H[1]}(N,j,Y)):Y[0]+j+Y[1]}function i(O){return"["+Error.prototype.toString.call(O)+"]"}function l(O,A,I,B,C,z){var P,R,N;if((N=Object.getOwnPropertyDescriptor(A,C)||{value:A[C]}).get?R=N.set?O.stylize("[Getter/Setter]","special"):O.stylize("[Getter]","special"):N.set&&(R=O.stylize("[Setter]","special")),_(B,C)||(P="["+C+"]"),R||(O.seen.indexOf(N.value)<0?(R=y(I)?u(O,N.value,null):u(O,N.value,I-1)).indexOf(`
`)>-1&&(R=z?R.split(`
`).map(function(j){return"  "+j}).join(`
`).slice(2):`
`+R.split(`
`).map(function(j){return"   "+j}).join(`
`)):R=O.stylize("[Circular]","special")),x(P)){if(z&&C.match(/^\d+$/))return R;(P=JSON.stringify(""+C)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(P=P.slice(1,-1),P=O.stylize(P,"name")):(P=P.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),P=O.stylize(P,"string"))}return P+": "+R}function d(O){return Array.isArray(O)}function v(O){return typeof O=="boolean"}function y(O){return O===null}function p(O){return typeof O=="number"}function c(O){return typeof O=="string"}function x(O){return O===void 0}function f(O){return n(O)&&g(O)==="[object RegExp]"}function n(O){return typeof O=="object"&&O!==null}function o(O){return n(O)&&g(O)==="[object Date]"}function s(O){return n(O)&&(g(O)==="[object Error]"||O instanceof Error)}function r(O){return typeof O=="function"}function g(O){return Object.prototype.toString.call(O)}function e(O){return O<10?"0"+O.toString(10):O.toString(10)}F.debuglog=function(O){if(O=O.toUpperCase(),!T[O])if(k.test(O)){var A=L.pid;T[O]=function(){var I=F.format.apply(F,arguments);console.error("%s %d: %s",O,A,I)}}else T[O]=function(){};return T[O]},F.inspect=b,b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},b.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},F.types=m(15724),F.isArray=d,F.isBoolean=v,F.isNull=y,F.isNullOrUndefined=function(O){return O==null},F.isNumber=p,F.isString=c,F.isSymbol=function(O){return typeof O=="symbol"},F.isUndefined=x,F.isRegExp=f,F.types.isRegExp=f,F.isObject=n,F.isDate=o,F.types.isDate=o,F.isError=s,F.types.isNativeError=s,F.isFunction=r,F.isPrimitive=function(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||O===void 0},F.isBuffer=m(44123);var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(O,A){return Object.prototype.hasOwnProperty.call(O,A)}F.log=function(){var O,A;console.log("%s - %s",(A=[e((O=new Date).getHours()),e(O.getMinutes()),e(O.getSeconds())].join(":"),[O.getDate(),h[O.getMonth()],A].join(" ")),F.format.apply(F,arguments))},F.inherits=m(28062),F._extend=function(O,A){if(!A||!n(A))return O;for(var I=Object.keys(A),B=I.length;B--;)O[I[B]]=A[I[B]];return O};var w=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function S(O,A){if(!O){var I=new Error("Promise was rejected with a falsy value");I.reason=O,O=I}return A(O)}F.promisify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');if(w&&O[w]){var A;if(typeof(A=O[w])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(A,w,{value:A,enumerable:!1,writable:!1,configurable:!0}),A}function A(){for(var I,B,C=new Promise(function(R,N){I=R,B=N}),z=[],P=0;P<arguments.length;P++)z.push(arguments[P]);z.push(function(R,N){R?B(R):I(N)});try{O.apply(this,z)}catch(R){B(R)}return C}return Object.setPrototypeOf(A,Object.getPrototypeOf(O)),w&&Object.defineProperty(A,w,{value:A,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(A,D(O))},F.promisify.custom=w,F.callbackify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function A(){for(var I=[],B=0;B<arguments.length;B++)I.push(arguments[B]);var C=I.pop();if(typeof C!="function")throw new TypeError("The last argument must be of type Function");var z=this,P=function(){return C.apply(z,arguments)};O.apply(this,I).then(function(R){L.nextTick(P.bind(null,null,R))},function(R){L.nextTick(S.bind(null,R,P))})}return Object.setPrototypeOf(A,Object.getPrototypeOf(O)),Object.defineProperties(A,D(O)),A}},22248:function($,F,m){var L=m(72880);$.exports=function(D){return L("webgl",D)}},96835:function($,F,m){var L=m(61262),D=m(70085),E=m(87227),T=m(63063),k=m(52991),M=T("Object.prototype.toString"),b=m(36912)(),a=typeof globalThis>"u"?m.g:globalThis,t=D(),u=T("String.prototype.slice"),i=Object.getPrototypeOf,l=T("Array.prototype.indexOf",!0)||function(v,y){for(var p=0;p<v.length;p+=1)if(v[p]===y)return p;return-1},d={__proto__:null};L(t,b&&k&&i?function(v){var y=new a[v];if(Symbol.toStringTag in y){var p=i(y),c=k(p,Symbol.toStringTag);if(!c){var x=i(p);c=k(x,Symbol.toStringTag)}d["$"+v]=E(c.get)}}:function(v){var y=new a[v],p=y.slice||y.set;p&&(d["$"+v]=E(p))}),$.exports=function(v){if(!v||typeof v!="object")return!1;if(!b){var y=u(M(v),8,-1);return l(t,y)>-1?y:y==="Object"&&function(p){var c=!1;return L(d,function(x,f){if(!c)try{x(p),c=u(f,1)}catch{}}),c}(v)}return k?function(p){var c=!1;return L(d,function(x,f){if(!c)try{"$"+x(p)===f&&(c=u(f,1))}catch{}}),c}(v):null}},1401:function($,F,m){var L=m(24453),D=m(27976),E=L.instance();function T(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}T.prototype=new L.baseCalendar,D(T.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(i,l){if(typeof i=="string"){var d=i.match(M);return d?d[0]:""}var v=this._validateYear(i),y=i.month(),p=""+this.toChineseMonth(v,y);return l&&p.length<2&&(p="0"+p),this.isIntercalaryMonth(v,y)&&(p+="i"),p},monthNames:function(i){if(typeof i=="string"){var l=i.match(b);return l?l[0]:""}var d=this._validateYear(i),v=i.month(),y=["","","","","","","","","","","",""][this.toChineseMonth(d,v)-1];return this.isIntercalaryMonth(d,v)&&(y=""+y),y},monthNamesShort:function(i){if(typeof i=="string"){var l=i.match(a);return l?l[0]:""}var d=this._validateYear(i),v=i.month(),y=["","","","","","","","","","","",""][this.toChineseMonth(d,v)-1];return this.isIntercalaryMonth(d,v)&&(y=""+y),y},parseMonth:function(i,l){i=this._validateYear(i);var d,v=parseInt(l);if(isNaN(v))l[0]===""&&(d=!0,l=l.substring(1)),l[l.length-1]===""&&(l=l.substring(0,l.length-1)),v=1+["","","","","","","","","","","",""].indexOf(l);else{var y=l[l.length-1];d=y==="i"||y==="I"}return this.toMonthIndex(i,v,d)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(i,l){if(i.year&&(i=i.year()),typeof i!="number"||i<1888||i>2111)throw l.replace(/\{0\}/,this.local.name);return i},toMonthIndex:function(i,l,d){var v=this.intercalaryMonth(i);if(d&&l!==v||l<1||l>12)throw L.local.invalidMonth.replace(/\{0\}/,this.local.name);return v?!d&&l<=v?l-1:l:l-1},toChineseMonth:function(i,l){i.year&&(l=(i=i.year()).month());var d=this.intercalaryMonth(i);if(l<0||l>(d?12:11))throw L.local.invalidMonth.replace(/\{0\}/,this.local.name);return d?l<d?l+1:l:l+1},intercalaryMonth:function(i){return i=this._validateYear(i),t[i-t[0]]>>13},isIntercalaryMonth:function(i,l){i.year&&(l=(i=i.year()).month());var d=this.intercalaryMonth(i);return!!d&&d===l},leapYear:function(i){return this.intercalaryMonth(i)!==0},weekOfYear:function(i,l,d){var v,y=this._validateYear(i,L.local.invalidyear),p=u[y-u[0]],c=p>>9&4095,x=p>>5&15,f=31&p;(v=E.newDate(c,x,f)).add(4-(v.dayOfWeek()||7),"d");var n=this.toJD(i,l,d)-v.toJD();return 1+Math.floor(n/7)},monthsInYear:function(i){return this.leapYear(i)?13:12},daysInMonth:function(i,l){i.year&&(l=i.month(),i=i.year()),i=this._validateYear(i);var d=t[i-t[0]];if(l>(d>>13?12:11))throw L.local.invalidMonth.replace(/\{0\}/,this.local.name);return d&1<<12-l?30:29},weekDay:function(i,l,d){return(this.dayOfWeek(i,l,d)||7)<6},toJD:function(i,l,d){var v=this._validate(i,p,d,L.local.invalidDate);i=this._validateYear(v.year()),l=v.month(),d=v.day();var y=this.isIntercalaryMonth(i,l),p=this.toChineseMonth(i,l),c=function(x,f,n,o,s){var r,g,e;if(typeof x=="object")g=x,r=f||{};else{var h;if(!(typeof x=="number"&&x>=1888&&x<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof f=="number"&&f>=1&&f<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof n=="number"&&n>=1&&n<=30))throw new Error("Lunar day outside range 1 - 30");typeof o=="object"?(h=!1,r=o):(h=!!o,r={}),g={year:x,month:f,day:n,isIntercalary:h}}e=g.day-1;var _,w=t[g.year-t[0]],S=w>>13;_=S&&(g.month>S||g.isIntercalary)?g.month:g.month-1;for(var O=0;O<_;O++)e+=w&1<<12-O?30:29;var A=u[g.year-u[0]],I=new Date(A>>9&4095,(A>>5&15)-1,(31&A)+e);return r.year=I.getFullYear(),r.month=1+I.getMonth(),r.day=I.getDate(),r}(i,p,d,y);return E.toJD(c.year,c.month,c.day)},fromJD:function(i){var l=E.fromJD(i),d=function(y,p,c,x){var f,n;if(typeof y=="object")f=y,n=p||{};else{if(!(typeof y=="number"&&y>=1888&&y<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof p=="number"&&p>=1&&p<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof c=="number"&&c>=1&&c<=31))throw new Error("Solar day outside range 1 - 31");f={year:y,month:p,day:c},n={}}var o=u[f.year-u[0]],s=f.year<<9|f.month<<5|f.day;n.year=s>=o?f.year:f.year-1,o=u[n.year-u[0]];var r,g=new Date(o>>9&4095,(o>>5&15)-1,31&o),e=new Date(f.year,f.month-1,f.day);r=Math.round((e-g)/864e5);var h,_=t[n.year-t[0]];for(h=0;h<13;h++){var w=_&1<<12-h?30:29;if(r<w)break;r-=w}var S=_>>13;return!S||h<S?(n.isIntercalary=!1,n.month=1+h):h===S?(n.isIntercalary=!0,n.month=h):(n.isIntercalary=!1,n.month=h),n.day=1+r,n}(l.year(),l.month(),l.day()),v=this.toMonthIndex(d.year,d.month,d.isIntercalary);return this.newDate(d.year,v,d.day)},fromString:function(i){var l=i.match(k),d=this._validateYear(+l[1]),v=+l[2],y=!!l[3],p=this.toMonthIndex(d,v,y),c=+l[4];return this.newDate(d,p,c)},add:function(i,l,d){var v=i.year(),y=i.month(),p=this.isIntercalaryMonth(v,y),c=this.toChineseMonth(v,y),x=Object.getPrototypeOf(T.prototype).add.call(this,i,l,d);if(d==="y"){var f=x.year(),n=x.month(),o=this.isIntercalaryMonth(f,c),s=p&&o?this.toMonthIndex(f,c,!0):this.toMonthIndex(f,c,!1);s!==n&&x.month(s)}return x}});var k=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,M=/^\d?\d[iI]?/m,b=/^??[]?/m,a=/^??[]?/m;L.calendars.chinese=T;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],u=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},72210:function($,F,m){var L=m(24453),D=m(27976);function E(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}E.prototype=new L.baseCalendar,D(E.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var k=this._validate(T,this.minMonth,this.minDay,L.local.invalidYear);return(T=k.year()+(k.year()<0?1:0))%4==3||T%4==-1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,L.local.invalidYear||L.regionalOptions[""].invalidYear),13},weekOfYear:function(T,k,M){var b=this.newDate(T,k,M);return b.add(-b.dayOfWeek(),"d"),Math.floor((b.dayOfYear()-1)/7)+1},daysInMonth:function(T,k){var M=this._validate(T,k,this.minDay,L.local.invalidMonth);return this.daysPerMonth[M.month()-1]+(M.month()===13&&this.leapYear(M.year())?1:0)},weekDay:function(T,k,M){return(this.dayOfWeek(T,k,M)||7)<6},toJD:function(T,k,M){var b=this._validate(T,k,M,L.local.invalidDate);return(T=b.year())<0&&T++,b.day()+30*(b.month()-1)+365*(T-1)+Math.floor(T/4)+this.jdEpoch-1},fromJD:function(T){var k=Math.floor(T)+.5-this.jdEpoch,M=Math.floor((k-Math.floor((k+366)/1461))/365)+1;M<=0&&M--,k=Math.floor(T)+.5-this.newDate(M,1,1).toJD();var b=Math.floor(k/30)+1,a=k-30*(b-1)+1;return this.newDate(M,b,a)}}),L.calendars.coptic=E},28569:function($,F,m){var L=m(24453),D=m(27976);function E(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}E.prototype=new L.baseCalendar,D(E.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(k){return this._validate(k,this.minMonth,this.minDay,L.local.invalidYear),!1},monthsInYear:function(k){return this._validate(k,this.minMonth,this.minDay,L.local.invalidYear),13},daysInYear:function(k){return this._validate(k,this.minMonth,this.minDay,L.local.invalidYear),400},weekOfYear:function(k,M,b){var a=this.newDate(k,M,b);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/8)+1},daysInMonth:function(k,M){var b=this._validate(k,M,this.minDay,L.local.invalidMonth);return this.daysPerMonth[b.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(k,M,b){return(this._validate(k,M,b,L.local.invalidDate).day()+1)%8},weekDay:function(k,M,b){var a=this.dayOfWeek(k,M,b);return a>=2&&a<=6},extraInfo:function(k,M,b){var a=this._validate(k,M,b,L.local.invalidDate);return{century:T[Math.floor((a.year()-1)/100)+1]||""}},toJD:function(k,M,b){var a=this._validate(k,M,b,L.local.invalidDate);return k=a.year()+(a.year()<0?1:0),M=a.month(),(b=a.day())+(M>1?16:0)+(M>2?32*(M-2):0)+400*(k-1)+this.jdEpoch-1},fromJD:function(k){k=Math.floor(k+.5)-Math.floor(this.jdEpoch)-1;var M=Math.floor(k/400)+1;k-=400*(M-1),k+=k>15?16:0;var b=Math.floor(k/32)+1,a=k-32*(b-1)+1;return this.newDate(M<=0?M-1:M,b,a)}});var T={20:"Fruitbat",21:"Anchovy"};L.calendars.discworld=E},81133:function($,F,m){var L=m(24453),D=m(27976);function E(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}E.prototype=new L.baseCalendar,D(E.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var k=this._validate(T,this.minMonth,this.minDay,L.local.invalidYear);return(T=k.year()+(k.year()<0?1:0))%4==3||T%4==-1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,L.local.invalidYear||L.regionalOptions[""].invalidYear),13},weekOfYear:function(T,k,M){var b=this.newDate(T,k,M);return b.add(-b.dayOfWeek(),"d"),Math.floor((b.dayOfYear()-1)/7)+1},daysInMonth:function(T,k){var M=this._validate(T,k,this.minDay,L.local.invalidMonth);return this.daysPerMonth[M.month()-1]+(M.month()===13&&this.leapYear(M.year())?1:0)},weekDay:function(T,k,M){return(this.dayOfWeek(T,k,M)||7)<6},toJD:function(T,k,M){var b=this._validate(T,k,M,L.local.invalidDate);return(T=b.year())<0&&T++,b.day()+30*(b.month()-1)+365*(T-1)+Math.floor(T/4)+this.jdEpoch-1},fromJD:function(T){var k=Math.floor(T)+.5-this.jdEpoch,M=Math.floor((k-Math.floor((k+366)/1461))/365)+1;M<=0&&M--,k=Math.floor(T)+.5-this.newDate(M,1,1).toJD();var b=Math.floor(k/30)+1,a=k-30*(b-1)+1;return this.newDate(M,b,a)}}),L.calendars.ethiopian=E},78295:function($,F,m){var L=m(24453),D=m(27976);function E(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}function T(k,M){return k-M*Math.floor(k/M)}E.prototype=new L.baseCalendar,D(E.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var M=this._validate(k,this.minMonth,this.minDay,L.local.invalidYear);return this._leapYear(M.year())},_leapYear:function(k){return T(7*(k=k<0?k+1:k)+1,19)<7},monthsInYear:function(k){return this._validate(k,this.minMonth,this.minDay,L.local.invalidYear),this._leapYear(k.year?k.year():k)?13:12},weekOfYear:function(k,M,b){var a=this.newDate(k,M,b);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(k){return k=this._validate(k,this.minMonth,this.minDay,L.local.invalidYear).year(),this.toJD(k===-1?1:k+1,7,1)-this.toJD(k,7,1)},daysInMonth:function(k,M){return k.year&&(M=k.month(),k=k.year()),this._validate(k,M,this.minDay,L.local.invalidMonth),M===12&&this.leapYear(k)||M===8&&T(this.daysInYear(k),10)===5?30:M===9&&T(this.daysInYear(k),10)===3?29:this.daysPerMonth[M-1]},weekDay:function(k,M,b){return this.dayOfWeek(k,M,b)!==6},extraInfo:function(k,M,b){var a=this._validate(k,M,b,L.local.invalidDate);return{yearType:(this.leapYear(a)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(a)%10-3]}},toJD:function(k,M,b){var a=this._validate(k,M,b,L.local.invalidDate);k=a.year(),M=a.month(),b=a.day();var t=k<=0?k+1:k,u=this.jdEpoch+this._delay1(t)+this._delay2(t)+b+1;if(M<7){for(var i=7;i<=this.monthsInYear(k);i++)u+=this.daysInMonth(k,i);for(i=1;i<M;i++)u+=this.daysInMonth(k,i)}else for(i=7;i<M;i++)u+=this.daysInMonth(k,i);return u},_delay1:function(k){var M=Math.floor((235*k-234)/19),b=12084+13753*M,a=29*M+Math.floor(b/25920);return T(3*(a+1),7)<3&&a++,a},_delay2:function(k){var M=this._delay1(k-1),b=this._delay1(k);return this._delay1(k+1)-b==356?2:b-M==382?1:0},fromJD:function(k){k=Math.floor(k)+.5;for(var M=Math.floor(98496*(k-this.jdEpoch)/35975351)-1;k>=this.toJD(M===-1?1:M+1,7,1);)M++;for(var b=k<this.toJD(M,1,1)?7:1;k>this.toJD(M,b,this.daysInMonth(M,b));)b++;var a=k-this.toJD(M,b,1)+1;return this.newDate(M,b,a)}}),L.calendars.hebrew=E},25512:function($,F,m){var L=m(24453),D=m(27976);function E(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}E.prototype=new L.baseCalendar,D(E.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){return(11*this._validate(T,this.minMonth,this.minDay,L.local.invalidYear).year()+14)%30<11},weekOfYear:function(T,k,M){var b=this.newDate(T,k,M);return b.add(-b.dayOfWeek(),"d"),Math.floor((b.dayOfYear()-1)/7)+1},daysInYear:function(T){return this.leapYear(T)?355:354},daysInMonth:function(T,k){var M=this._validate(T,k,this.minDay,L.local.invalidMonth);return this.daysPerMonth[M.month()-1]+(M.month()===12&&this.leapYear(M.year())?1:0)},weekDay:function(T,k,M){return this.dayOfWeek(T,k,M)!==5},toJD:function(T,k,M){var b=this._validate(T,k,M,L.local.invalidDate);return T=b.year(),k=b.month(),T=T<=0?T+1:T,(M=b.day())+Math.ceil(29.5*(k-1))+354*(T-1)+Math.floor((3+11*T)/30)+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T)+.5;var k=Math.floor((30*(T-this.jdEpoch)+10646)/10631);k=k<=0?k-1:k;var M=Math.min(12,Math.ceil((T-29-this.toJD(k,1,1))/29.5)+1),b=T-this.toJD(k,M,1)+1;return this.newDate(k,M,b)}}),L.calendars.islamic=E},42645:function($,F,m){var L=m(24453),D=m(27976);function E(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}E.prototype=new L.baseCalendar,D(E.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var k=this._validate(T,this.minMonth,this.minDay,L.local.invalidYear);return(T=k.year()<0?k.year()+1:k.year())%4==0},weekOfYear:function(T,k,M){var b=this.newDate(T,k,M);return b.add(4-(b.dayOfWeek()||7),"d"),Math.floor((b.dayOfYear()-1)/7)+1},daysInMonth:function(T,k){var M=this._validate(T,k,this.minDay,L.local.invalidMonth);return this.daysPerMonth[M.month()-1]+(M.month()===2&&this.leapYear(M.year())?1:0)},weekDay:function(T,k,M){return(this.dayOfWeek(T,k,M)||7)<6},toJD:function(T,k,M){var b=this._validate(T,k,M,L.local.invalidDate);return T=b.year(),k=b.month(),M=b.day(),T<0&&T++,k<=2&&(T--,k+=12),Math.floor(365.25*(T+4716))+Math.floor(30.6001*(k+1))+M-1524.5},fromJD:function(T){var k=Math.floor(T+.5)+1524,M=Math.floor((k-122.1)/365.25),b=Math.floor(365.25*M),a=Math.floor((k-b)/30.6001),t=a-Math.floor(a<14?1:13),u=M-Math.floor(t>2?4716:4715),i=k-b-Math.floor(30.6001*a);return u<=0&&u--,this.newDate(u,t,i)}}),L.calendars.julian=E},62324:function($,F,m){var L=m(24453),D=m(27976);function E(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function T(M,b){return M-b*Math.floor(M/b)}function k(M,b){return T(M-1,b)+1}E.prototype=new L.baseCalendar,D(E.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,L.local.invalidYear),!1},formatYear:function(M){M=this._validate(M,this.minMonth,this.minDay,L.local.invalidYear).year();var b=Math.floor(M/400);return M%=400,M+=M<0?400:0,b+"."+Math.floor(M/20)+"."+M%20},forYear:function(M){if((M=M.split(".")).length<3)throw"Invalid Mayan year";for(var b=0,a=0;a<M.length;a++){var t=parseInt(M[a],10);if(Math.abs(t)>19||a>0&&t<0)throw"Invalid Mayan year";b=20*b+t}return b},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,L.local.invalidYear),18},weekOfYear:function(M,b,a){return this._validate(M,b,a,L.local.invalidDate),0},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,L.local.invalidYear),360},daysInMonth:function(M,b){return this._validate(M,b,this.minDay,L.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(M,b,a){return this._validate(M,b,a,L.local.invalidDate).day()},weekDay:function(M,b,a){return this._validate(M,b,a,L.local.invalidDate),!0},extraInfo:function(M,b,a){var t=this._validate(M,b,a,L.local.invalidDate).toJD(),u=this._toHaab(t),i=this._toTzolkin(t);return{haabMonthName:this.local.haabMonths[u[0]-1],haabMonth:u[0],haabDay:u[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(M){var b=T(8+(M-=this.jdEpoch)+340,365);return[Math.floor(b/20)+1,T(b,20)]},_toTzolkin:function(M){return[k(20+(M-=this.jdEpoch),20),k(M+4,13)]},toJD:function(M,b,a){var t=this._validate(M,b,a,L.local.invalidDate);return t.day()+20*t.month()+360*t.year()+this.jdEpoch},fromJD:function(M){M=Math.floor(M)+.5-this.jdEpoch;var b=Math.floor(M/360);M%=360,M+=M<0?360:0;var a=Math.floor(M/20),t=M%20;return this.newDate(b,a,t)}}),L.calendars.mayan=E},91662:function($,F,m){var L=m(24453),D=m(27976);function E(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}E.prototype=new L.baseCalendar;var T=L.instance("gregorian");D(E.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var M=this._validate(k,this.minMonth,this.minDay,L.local.invalidYear||L.regionalOptions[""].invalidYear);return T.leapYear(M.year()+(M.year()<1?1:0)+1469)},weekOfYear:function(k,M,b){var a=this.newDate(k,M,b);return a.add(1-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(k,M){var b=this._validate(k,M,this.minDay,L.local.invalidMonth);return this.daysPerMonth[b.month()-1]+(b.month()===12&&this.leapYear(b.year())?1:0)},weekDay:function(k,M,b){return(this.dayOfWeek(k,M,b)||7)<6},toJD:function(k,M,b){var a=this._validate(k,M,b,L.local.invalidMonth);(k=a.year())<0&&k++;for(var t=a.day(),u=1;u<a.month();u++)t+=this.daysPerMonth[u-1];return t+T.toJD(k+1468,3,13)},fromJD:function(k){k=Math.floor(k+.5);for(var M=Math.floor((k-(this.jdEpoch-1))/366);k>=this.toJD(M+1,1,1);)M++;for(var b=k-Math.floor(this.toJD(M,1,1)+.5)+1,a=1;b>this.daysInMonth(M,a);)b-=this.daysInMonth(M,a),a++;return this.newDate(M,a,b)}}),L.calendars.nanakshahi=E},66445:function($,F,m){var L=m(24453),D=m(27976);function E(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}E.prototype=new L.baseCalendar,D(E.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(T){return this.daysInYear(T)!==this.daysPerYear},weekOfYear:function(T,k,M){var b=this.newDate(T,k,M);return b.add(-b.dayOfWeek(),"d"),Math.floor((b.dayOfYear()-1)/7)+1},daysInYear:function(T){if(T=this._validate(T,this.minMonth,this.minDay,L.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[T]===void 0)return this.daysPerYear;for(var k=0,M=this.minMonth;M<=12;M++)k+=this.NEPALI_CALENDAR_DATA[T][M];return k},daysInMonth:function(T,k){return T.year&&(k=T.month(),T=T.year()),this._validate(T,k,this.minDay,L.local.invalidMonth),this.NEPALI_CALENDAR_DATA[T]===void 0?this.daysPerMonth[k-1]:this.NEPALI_CALENDAR_DATA[T][k]},weekDay:function(T,k,M){return this.dayOfWeek(T,k,M)!==6},toJD:function(T,k,M){var b=this._validate(T,k,M,L.local.invalidDate);T=b.year(),k=b.month(),M=b.day();var a=L.instance(),t=0,u=k,i=T;this._createMissingCalendarData(T);var l=T-(u>9||u===9&&M>=this.NEPALI_CALENDAR_DATA[i][0]?56:57);for(k!==9&&(t=M,u--);u!==9;)u<=0&&(u=12,i--),t+=this.NEPALI_CALENDAR_DATA[i][u],u--;return k===9?(t+=M-this.NEPALI_CALENDAR_DATA[i][0])<0&&(t+=a.daysInYear(l)):t+=this.NEPALI_CALENDAR_DATA[i][9]-this.NEPALI_CALENDAR_DATA[i][0],a.newDate(l,1,1).add(t,"d").toJD()},fromJD:function(T){var k=L.instance().fromJD(T),M=k.year(),b=k.dayOfYear(),a=M+56;this._createMissingCalendarData(a);for(var t=9,u=this.NEPALI_CALENDAR_DATA[a][0],i=this.NEPALI_CALENDAR_DATA[a][t]-u+1;b>i;)++t>12&&(t=1,a++),i+=this.NEPALI_CALENDAR_DATA[a][t];var l=this.NEPALI_CALENDAR_DATA[a][t]-(i-b);return this.newDate(a,t,l)},_createMissingCalendarData:function(T){var k=this.daysPerMonth.slice(0);k.unshift(17);for(var M=T-1;M<T+2;M++)this.NEPALI_CALENDAR_DATA[M]===void 0&&(this.NEPALI_CALENDAR_DATA[M]=k)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),L.calendars.nepali=E},50506:function($,F,m){var L=m(24453),D=m(27976);function E(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}function T(k,M){return k-M*Math.floor(k/M)}E.prototype=new L.baseCalendar,D(E.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(k){var M=this._validate(k,this.minMonth,this.minDay,L.local.invalidYear);return 682*((M.year()-(M.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(k,M,b){var a=this.newDate(k,M,b);return a.add(-(a.dayOfWeek()+1)%7,"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(k,M){var b=this._validate(k,M,this.minDay,L.local.invalidMonth);return this.daysPerMonth[b.month()-1]+(b.month()===12&&this.leapYear(b.year())?1:0)},weekDay:function(k,M,b){return this.dayOfWeek(k,M,b)!==5},toJD:function(k,M,b){var a=this._validate(k,M,b,L.local.invalidDate);k=a.year(),M=a.month(),b=a.day();var t=k-(k>=0?474:473),u=474+T(t,2820);return b+(M<=7?31*(M-1):30*(M-1)+6)+Math.floor((682*u-110)/2816)+365*(u-1)+1029983*Math.floor(t/2820)+this.jdEpoch-1},fromJD:function(k){var M=(k=Math.floor(k)+.5)-this.toJD(475,1,1),b=Math.floor(M/1029983),a=T(M,1029983),t=2820;if(a!==1029982){var u=Math.floor(a/366),i=T(a,366);t=Math.floor((2134*u+2816*i+2815)/1028522)+u+1}var l=t+2820*b+474;l=l<=0?l-1:l;var d=k-this.toJD(l,1,1)+1,v=d<=186?Math.ceil(d/31):Math.ceil((d-6)/30),y=k-this.toJD(l,v,1)+1;return this.newDate(l,v,y)}}),L.calendars.persian=E,L.calendars.jalali=E},84756:function($,F,m){var L=m(24453),D=m(27976),E=L.instance();function T(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}T.prototype=new L.baseCalendar,D(T.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(k){var M=this._validate(k,this.minMonth,this.minDay,L.local.invalidYear);return k=this._t2gYear(M.year()),E.leapYear(k)},weekOfYear:function(k,M,b){var a=this._validate(k,this.minMonth,this.minDay,L.local.invalidYear);return k=this._t2gYear(a.year()),E.weekOfYear(k,a.month(),a.day())},daysInMonth:function(k,M){var b=this._validate(k,M,this.minDay,L.local.invalidMonth);return this.daysPerMonth[b.month()-1]+(b.month()===2&&this.leapYear(b.year())?1:0)},weekDay:function(k,M,b){return(this.dayOfWeek(k,M,b)||7)<6},toJD:function(k,M,b){var a=this._validate(k,M,b,L.local.invalidDate);return k=this._t2gYear(a.year()),E.toJD(k,a.month(),a.day())},fromJD:function(k){var M=E.fromJD(k),b=this._g2tYear(M.year());return this.newDate(b,M.month(),M.day())},_t2gYear:function(k){return k+this.yearsOffset+(k>=-this.yearsOffset&&k<=-1?1:0)},_g2tYear:function(k){return k-this.yearsOffset-(k>=1&&k<=this.yearsOffset?1:0)}}),L.calendars.taiwan=T},41858:function($,F,m){var L=m(24453),D=m(27976),E=L.instance();function T(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}T.prototype=new L.baseCalendar,D(T.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var M=this._validate(k,this.minMonth,this.minDay,L.local.invalidYear);return k=this._t2gYear(M.year()),E.leapYear(k)},weekOfYear:function(k,M,b){var a=this._validate(k,this.minMonth,this.minDay,L.local.invalidYear);return k=this._t2gYear(a.year()),E.weekOfYear(k,a.month(),a.day())},daysInMonth:function(k,M){var b=this._validate(k,M,this.minDay,L.local.invalidMonth);return this.daysPerMonth[b.month()-1]+(b.month()===2&&this.leapYear(b.year())?1:0)},weekDay:function(k,M,b){return(this.dayOfWeek(k,M,b)||7)<6},toJD:function(k,M,b){var a=this._validate(k,M,b,L.local.invalidDate);return k=this._t2gYear(a.year()),E.toJD(k,a.month(),a.day())},fromJD:function(k){var M=E.fromJD(k),b=this._g2tYear(M.year());return this.newDate(b,M.month(),M.day())},_t2gYear:function(k){return k-this.yearsOffset-(k>=1&&k<=this.yearsOffset?1:0)},_g2tYear:function(k){return k+this.yearsOffset+(k>=-this.yearsOffset&&k<=-1?1:0)}}),L.calendars.thai=T},57985:function($,F,m){var L=m(24453),D=m(27976);function E(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}E.prototype=new L.baseCalendar,D(E.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(k){var M=this._validate(k,this.minMonth,this.minDay,L.local.invalidYear);return this.daysInYear(M.year())===355},weekOfYear:function(k,M,b){var a=this.newDate(k,M,b);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(k){for(var M=0,b=1;b<=12;b++)M+=this.daysInMonth(k,b);return M},daysInMonth:function(k,M){for(var b=this._validate(k,M,this.minDay,L.local.invalidMonth).toJD()-24e5+.5,a=0,t=0;t<T.length;t++){if(T[t]>b)return T[a]-T[a-1];a++}return 30},weekDay:function(k,M,b){return this.dayOfWeek(k,M,b)!==5},toJD:function(k,M,b){var a=this._validate(k,M,b,L.local.invalidDate),t=12*(a.year()-1)+a.month()-15292;return a.day()+T[t-1]-1+24e5-.5},fromJD:function(k){for(var M=k-24e5+.5,b=0,a=0;a<T.length&&!(T[a]>M);a++)b++;var t=b+15292,u=Math.floor((t-1)/12),i=u+1,l=t-12*u,d=M-T[b-1]+1;return this.newDate(i,l,d)},isValid:function(k,M,b){var a=L.baseCalendar.prototype.isValid.apply(this,arguments);return a&&(a=(k=k.year!=null?k.year:k)>=1276&&k<=1500),a},_validate:function(k,M,b,a){var t=L.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw a.replace(/\{0\}/,this.local.name);return t}}),L.calendars.ummalqura=E;var T=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},24453:function($,F,m){var L=m(27976);function D(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function E(a,t,u,i){if(this._calendar=a,this._year=t,this._month=u,this._day=i,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(b.local.invalidDate||b.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function T(a,t){return"000000".substring(0,t-(a=""+a).length)+a}function k(){this.shortYearCutoff="+10"}function M(a){this.local=this.regionalOptions[a]||this.regionalOptions[""]}L(D.prototype,{instance:function(a,t){a=(a||"gregorian").toLowerCase(),t=t||"";var u=this._localCals[a+"-"+t];if(!u&&this.calendars[a]&&(u=new this.calendars[a](t),this._localCals[a+"-"+t]=u),!u)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,a);return u},newDate:function(a,t,u,i,l){return(i=(a!=null&&a.year?a.calendar():typeof i=="string"?this.instance(i,l):i)||this.instance()).newDate(a,t,u)},substituteDigits:function(a){return function(t){return(t+"").replace(/[0-9]/g,function(u){return a[u]})}},substituteChineseDigits:function(a,t){return function(u){for(var i="",l=0;u>0;){var d=u%10;i=(d===0?"":a[d]+t[l])+i,l++,u=Math.floor(u/10)}return i.indexOf(a[1]+t[1])===0&&(i=i.substr(1)),i||a[0]}}}),L(E.prototype,{newDate:function(a,t,u){return this._calendar.newDate(a??this,t,u)},year:function(a){return arguments.length===0?this._year:this.set(a,"y")},month:function(a){return arguments.length===0?this._month:this.set(a,"m")},day:function(a){return arguments.length===0?this._day:this.set(a,"d")},date:function(a,t,u){if(!this._calendar.isValid(a,t,u))throw(b.local.invalidDate||b.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=a,this._month=t,this._day=u,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(a,t){return this._calendar.add(this,a,t)},set:function(a,t){return this._calendar.set(this,a,t)},compareTo:function(a){if(this._calendar.name!==a._calendar.name)throw(b.local.differentCalendars||b.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,a._calendar.local.name);var t=this._year!==a._year?this._year-a._year:this._month!==a._month?this.monthOfYear()-a.monthOfYear():this._day-a._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(a){return this._calendar.fromJD(a)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(a){return this._calendar.fromJSDate(a)},toString:function(){return(this.year()<0?"-":"")+T(Math.abs(this.year()),4)+"-"+T(this.month(),2)+"-"+T(this.day(),2)}}),L(k.prototype,{_validateLevel:0,newDate:function(a,t,u){return a==null?this.today():(a.year&&(this._validate(a,t,u,b.local.invalidDate||b.regionalOptions[""].invalidDate),u=a.day(),t=a.month(),a=a.year()),new E(this,a,t,u))},today:function(){return this.fromJSDate(new Date)},epoch:function(a){return this._validate(a,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+T(Math.abs(t.year()),4)},monthsInYear:function(a){return this._validate(a,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear),12},monthOfYear:function(a,t){var u=this._validate(a,t,this.minDay,b.local.invalidMonth||b.regionalOptions[""].invalidMonth);return(u.month()+this.monthsInYear(u)-this.firstMonth)%this.monthsInYear(u)+this.minMonth},fromMonthOfYear:function(a,t){var u=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(a)+this.minMonth;return this._validate(a,u,this.minDay,b.local.invalidMonth||b.regionalOptions[""].invalidMonth),u},daysInYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(a,t,u){var i=this._validate(a,t,u,b.local.invalidDate||b.regionalOptions[""].invalidDate);return i.toJD()-this.newDate(i.year(),this.fromMonthOfYear(i.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(a,t,u){var i=this._validate(a,t,u,b.local.invalidDate||b.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(i))+2)%this.daysInWeek()},extraInfo:function(a,t,u){return this._validate(a,t,u,b.local.invalidDate||b.regionalOptions[""].invalidDate),{}},add:function(a,t,u){return this._validate(a,this.minMonth,this.minDay,b.local.invalidDate||b.regionalOptions[""].invalidDate),this._correctAdd(a,this._add(a,t,u),t,u)},_add:function(a,t,u){if(this._validateLevel++,u==="d"||u==="w"){var i=a.toJD()+t*(u==="w"?this.daysInWeek():1),l=a.calendar().fromJD(i);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var d=a.year()+(u==="y"?t:0),v=a.monthOfYear()+(u==="m"?t:0);l=a.day(),u==="y"?(a.month()!==this.fromMonthOfYear(d,v)&&(v=this.newDate(d,a.month(),this.minDay).monthOfYear()),v=Math.min(v,this.monthsInYear(d)),l=Math.min(l,this.daysInMonth(d,this.fromMonthOfYear(d,v)))):u==="m"&&(function(p){for(;v<p.minMonth;)d--,v+=p.monthsInYear(d);for(var c=p.monthsInYear(d);v>c-1+p.minMonth;)d++,v-=c,c=p.monthsInYear(d)}(this),l=Math.min(l,this.daysInMonth(d,this.fromMonthOfYear(d,v))));var y=[d,this.fromMonthOfYear(d,v),l];return this._validateLevel--,y}catch(p){throw this._validateLevel--,p}},_correctAdd:function(a,t,u,i){if(!(this.hasYearZero||i!=="y"&&i!=="m"||t[0]!==0&&a.year()>0==t[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[i],d=u<0?-1:1;t=this._add(a,u*l[0]+d*l[1],l[2])}return a.date(t[0],t[1],t[2])},set:function(a,t,u){this._validate(a,this.minMonth,this.minDay,b.local.invalidDate||b.regionalOptions[""].invalidDate);var i=u==="y"?t:a.year(),l=u==="m"?t:a.month(),d=u==="d"?t:a.day();return u!=="y"&&u!=="m"||(d=Math.min(d,this.daysInMonth(i,l))),a.date(i,l,d)},isValid:function(a,t,u){this._validateLevel++;var i=this.hasYearZero||a!==0;if(i){var l=this.newDate(a,t,this.minDay);i=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(l)&&u>=this.minDay&&u-this.minDay<this.daysInMonth(l)}return this._validateLevel--,i},toJSDate:function(a,t,u){var i=this._validate(a,t,u,b.local.invalidDate||b.regionalOptions[""].invalidDate);return b.instance().fromJD(this.toJD(i)).toJSDate()},fromJSDate:function(a){return this.fromJD(b.instance().fromJSDate(a).toJD())},_validate:function(a,t,u,i){if(a.year){if(this._validateLevel===0&&this.name!==a.calendar().name)throw(b.local.differentCalendars||b.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,a.calendar().local.name);return a}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(a,t,u))throw i.replace(/\{0\}/,this.local.name);var l=this.newDate(a,t,u);return this._validateLevel--,l}catch(d){throw this._validateLevel--,d}}}),M.prototype=new k,L(M.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear);return(a=t.year()+(t.year()<0?1:0))%4==0&&(a%100!=0||a%400==0)},weekOfYear:function(a,t,u){var i=this.newDate(a,t,u);return i.add(4-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(a,t){var u=this._validate(a,t,this.minDay,b.local.invalidMonth||b.regionalOptions[""].invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(a,t,u){return(this.dayOfWeek(a,t,u)||7)<6},toJD:function(a,t,u){var i=this._validate(a,t,u,b.local.invalidDate||b.regionalOptions[""].invalidDate);a=i.year(),t=i.month(),u=i.day(),a<0&&a++,t<3&&(t+=12,a--);var l=Math.floor(a/100),d=2-l+Math.floor(l/4);return Math.floor(365.25*(a+4716))+Math.floor(30.6001*(t+1))+u+d-1524.5},fromJD:function(a){var t=Math.floor(a+.5),u=Math.floor((t-186721625e-2)/36524.25),i=1524+(u=t+1+u-Math.floor(u/4)),l=Math.floor((i-122.1)/365.25),d=Math.floor(365.25*l),v=Math.floor((i-d)/30.6001),y=i-d-Math.floor(30.6001*v),p=v-(v>13.5?13:1),c=l-(p>2.5?4716:4715);return c<=0&&c--,this.newDate(c,p,y)},toJSDate:function(a,t,u){var i=this._validate(a,t,u,b.local.invalidDate||b.regionalOptions[""].invalidDate),l=new Date(i.year(),i.month()-1,i.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(a){return this.newDate(a.getFullYear(),a.getMonth()+1,a.getDate())}});var b=$.exports=new D;b.cdate=E,b.baseCalendar=k,b.calendars.gregorian=M},23428:function($,F,m){var L=m(27976),D=m(24453);L(D.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),D.local=D.regionalOptions[""],L(D.cdate.prototype,{formatDate:function(E,T){return typeof E!="string"&&(T=E,E=""),this._calendar.formatDate(E||"",this,T)}}),L(D.baseCalendar.prototype,{UNIX_EPOCH:D.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:D.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(E,T,k){if(typeof E!="string"&&(k=T,T=E,E=""),!T)return"";if(T.calendar()!==this)throw D.local.invalidFormat||D.regionalOptions[""].invalidFormat;E=E||this.local.dateFormat;for(var M,b,a,t=(k=k||{}).dayNamesShort||this.local.dayNamesShort,u=k.dayNames||this.local.dayNames,i=k.monthNumbers||this.local.monthNumbers,l=k.monthNamesShort||this.local.monthNamesShort,d=k.monthNames||this.local.monthNames,v=(k.calculateWeek||this.local.calculateWeek,function(g,e){for(var h=1;r+h<E.length&&E.charAt(r+h)===g;)h++;return r+=h-1,Math.floor(h/(e||1))>1}),y=function(g,e,h,_){var w=""+e;if(v(g,_))for(;w.length<h;)w="0"+w;return w},p=this,c=function(g){return typeof i=="function"?i.call(p,g,v("m")):n(y("m",g.month(),2))},x=function(g,e){return e?typeof d=="function"?d.call(p,g):d[g.month()-p.minMonth]:typeof l=="function"?l.call(p,g):l[g.month()-p.minMonth]},f=this.local.digits,n=function(g){return k.localNumbers&&f?f(g):g},o="",s=!1,r=0;r<E.length;r++)if(s)E.charAt(r)!=="'"||v("'")?o+=E.charAt(r):s=!1;else switch(E.charAt(r)){case"d":o+=n(y("d",T.day(),2));break;case"D":o+=(M=T.dayOfWeek(),b=t,a=u,v("D")?a[M]:b[M]);break;case"o":o+=y("o",T.dayOfYear(),3);break;case"w":o+=y("w",T.weekOfYear(),2);break;case"m":o+=c(T);break;case"M":o+=x(T,v("M"));break;case"y":o+=v("y",2)?T.year():(T.year()%100<10?"0":"")+T.year()%100;break;case"Y":v("Y",2),o+=T.formatYear();break;case"J":o+=T.toJD();break;case"@":o+=(T.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(T.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":v("'")?o+="'":s=!0;break;default:o+=E.charAt(r)}return o},parseDate:function(E,T,k){if(T==null)throw D.local.invalidArguments||D.regionalOptions[""].invalidArguments;if((T=typeof T=="object"?T.toString():T+"")==="")return null;E=E||this.local.dateFormat;var M=(k=k||{}).shortYearCutoff||this.shortYearCutoff;M=typeof M!="string"?M:this.today().year()%100+parseInt(M,10);for(var b=k.dayNamesShort||this.local.dayNamesShort,a=k.dayNames||this.local.dayNames,t=k.parseMonth||this.local.parseMonth,u=k.monthNumbers||this.local.monthNumbers,i=k.monthNamesShort||this.local.monthNamesShort,l=k.monthNames||this.local.monthNames,d=-1,v=-1,y=-1,p=-1,c=-1,x=!1,f=!1,n=function(A,I){for(var B=1;w+B<E.length&&E.charAt(w+B)===A;)B++;return w+=B-1,Math.floor(B/(I||1))>1},o=function(A,I){var B=n(A,I),C=[2,3,B?4:2,B?4:2,10,11,20]["oyYJ@!".indexOf(A)+1],z=new RegExp("^-?\\d{1,"+C+"}"),P=T.substring(_).match(z);if(!P)throw(D.local.missingNumberAt||D.regionalOptions[""].missingNumberAt).replace(/\{0\}/,_);return _+=P[0].length,parseInt(P[0],10)},s=this,r=function(){if(typeof u=="function"){n("m");var A=u.call(s,T.substring(_));return _+=A.length,A}return o("m")},g=function(A,I,B,C){for(var z=n(A,C)?B:I,P=0;P<z.length;P++)if(T.substr(_,z[P].length).toLowerCase()===z[P].toLowerCase())return _+=z[P].length,P+s.minMonth;throw(D.local.unknownNameAt||D.regionalOptions[""].unknownNameAt).replace(/\{0\}/,_)},e=function(){if(typeof l=="function"){var A=n("M")?l.call(s,T.substring(_)):i.call(s,T.substring(_));return _+=A.length,A}return g("M",i,l)},h=function(){if(T.charAt(_)!==E.charAt(w))throw(D.local.unexpectedLiteralAt||D.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,_);_++},_=0,w=0;w<E.length;w++)if(f)E.charAt(w)!=="'"||n("'")?h():f=!1;else switch(E.charAt(w)){case"d":p=o("d");break;case"D":g("D",b,a);break;case"o":c=o("o");break;case"w":o("w");break;case"m":y=r();break;case"M":y=e();break;case"y":var S=w;x=!n("y",2),w=S,v=o("y",2);break;case"Y":v=o("Y",2);break;case"J":d=o("J")+.5,T.charAt(_)==="."&&(_++,o("J"));break;case"@":d=o("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":d=o("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":_=T.length;break;case"'":n("'")?h():f=!0;break;default:h()}if(_<T.length)throw D.local.unexpectedText||D.regionalOptions[""].unexpectedText;if(v===-1?v=this.today().year():v<100&&x&&(v+=M===-1?1900:this.today().year()-this.today().year()%100-(v<=M?0:100)),typeof y=="string"&&(y=t.call(this,v,y)),c>-1){y=1,p=c;for(var O=this.daysInMonth(v,y);p>O;O=this.daysInMonth(v,y))y++,p-=O}return d>-1?this.fromJD(d):this.newDate(v,y,p)},determineDate:function(E,T,k,M,b){k&&typeof k!="object"&&(b=M,M=k,k=null),typeof M!="string"&&(b=M,M="");var a=this;return T=T?T.newDate():null,E==null?T:typeof E=="string"?function(t){try{return a.parseDate(M,t,b)}catch{}for(var u=((t=t.toLowerCase()).match(/^c/)&&k?k.newDate():null)||a.today(),i=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=i.exec(t);l;)u.add(parseInt(l[1],10),l[2]||"d"),l=i.exec(t);return u}(E):typeof E=="number"?isNaN(E)||E===1/0||E===-1/0?T:a.today().add(E,"d"):a.newDate(E)}})},96144:function($,F,m){m.r(F);var L=m(85072),D=m.n(L),E=m(97825),T=m.n(E),k=m(77659),M=m.n(k),b=m(55056),a=m.n(b),t=m(10540),u=m.n(t),i=m(41113),l=m.n(i),d=m(5955),v={};v.styleTagTransform=l(),v.setAttributes=a(),v.insert=M().bind(null,"head"),v.domAPI=T(),v.insertStyleElement=u(),D()(d.A,v),F.default=d.A&&d.A.locals?d.A.locals:void 0},85072:function($){var F=[];function m(E){for(var T=-1,k=0;k<F.length;k++)if(F[k].identifier===E){T=k;break}return T}function L(E,T){for(var k={},M=[],b=0;b<E.length;b++){var a=E[b],t=T.base?a[0]+T.base:a[0],u=k[t]||0,i="".concat(t," ").concat(u);k[t]=u+1;var l=m(i),d={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(l!==-1)F[l].references++,F[l].updater(d);else{var v=D(d,T);T.byIndex=b,F.splice(b,0,{identifier:i,updater:v,references:1})}M.push(i)}return M}function D(E,T){var k=T.domAPI(T);return k.update(E),function(M){if(M){if(M.css===E.css&&M.media===E.media&&M.sourceMap===E.sourceMap&&M.supports===E.supports&&M.layer===E.layer)return;k.update(E=M)}else k.remove()}}$.exports=function(E,T){var k=L(E=E||[],T=T||{});return function(M){M=M||[];for(var b=0;b<k.length;b++){var a=m(k[b]);F[a].references--}for(var t=L(M,T),u=0;u<k.length;u++){var i=m(k[u]);F[i].references===0&&(F[i].updater(),F.splice(i,1))}k=t}}},77659:function($){var F={};$.exports=function(m,L){var D=function(E){if(F[E]===void 0){var T=document.querySelector(E);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}F[E]=T}return F[E]}(m);if(!D)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");D.appendChild(L)}},10540:function($){$.exports=function(F){var m=document.createElement("style");return F.setAttributes(m,F.attributes),F.insert(m,F.options),m}},55056:function($,F,m){$.exports=function(L){var D=m.nc;D&&L.setAttribute("nonce",D)}},97825:function($){$.exports=function(F){if(typeof document>"u")return{update:function(){},remove:function(){}};var m=F.insertStyleElement(F);return{update:function(L){(function(D,E,T){var k="";T.supports&&(k+="@supports (".concat(T.supports,") {")),T.media&&(k+="@media ".concat(T.media," {"));var M=T.layer!==void 0;M&&(k+="@layer".concat(T.layer.length>0?" ".concat(T.layer):""," {")),k+=T.css,M&&(k+="}"),T.media&&(k+="}"),T.supports&&(k+="}");var b=T.sourceMap;b&&typeof btoa<"u"&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),E.styleTagTransform(k,D,E.options)})(m,F,L)},remove:function(){(function(L){if(L.parentNode===null)return!1;L.parentNode.removeChild(L)})(m)}}}},41113:function($){$.exports=function(F,m){if(m.styleSheet)m.styleSheet.cssText=F;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(F))}}},25446:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2722%27 height=%2722%27 fill=%27%23333%27 viewBox=%270 0 22 22%27%3E%3Cpath d=%27m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0%27/%3E%3C/svg%3E"},56694:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2722%27 height=%2722%27 fill=%27%2333b5e5%27 viewBox=%270 0 22 22%27%3E%3Cpath d=%27m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0%27/%3E%3C/svg%3E"},26117:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2724%27 height=%2724%27 fill-rule=%27evenodd%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E%3C/svg%3E"},66311:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2724%27 height=%2724%27 fill=%27%23fff%27 fill-rule=%27evenodd%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E%3C/svg%3E"},24420:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},77035:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z%27/%3E%3C/svg%3E"},43470:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5%27/%3E%3C/svg%3E"},13490:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z%27/%3E%3C/svg%3E"},80216:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27m10.5 14 4-8 4 8z%27/%3E%3Cpath fill=%27%23ccc%27 d=%27m10.5 16 4 8 4-8z%27/%3E%3C/svg%3E"},47695:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%2333b5e5%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3C/svg%3E"},92228:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%2333b5e5%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},43737:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23666%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath fill=%27red%27 d=%27m14 5 1 1-9 9-1-1z%27/%3E%3C/svg%3E"},48460:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23999%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath fill=%27red%27 d=%27m14 5 1 1-9 9-1-1z%27/%3E%3C/svg%3E"},75796:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23aaa%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath fill=%27red%27 d=%27m14 5 1 1-9 9-1-1z%27/%3E%3C/svg%3E"},28869:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23e54e33%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3C/svg%3E"},9819:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23e58978%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},30557:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},68164:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z%27/%3E%3C/svg%3E"},64665:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5%27/%3E%3C/svg%3E"},91413:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z%27/%3E%3C/svg%3E"},13913:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z%27/%3E%3C/svg%3E"},61907:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27m10.5 14 4-8 4 8z%27/%3E%3Cpath fill=%27%23ccc%27 d=%27m10.5 16 4 8 4-8z%27/%3E%3C/svg%3E"},56539:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},4890:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z%27/%3E%3C/svg%3E"},13363:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5%27/%3E%3C/svg%3E"},47603:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z%27/%3E%3C/svg%3E"},64643:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z%27/%3E%3C/svg%3E"},68605:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27m10.5 14 4-8 4 8z%27/%3E%3Cpath fill=%27%23ccc%27 d=%27m10.5 16 4 8 4-8z%27/%3E%3C/svg%3E"},47914:function($){$.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2788%27 height=%2723%27 fill=%27none%27%3E%3Cpath fill=%27%23000%27 fill-opacity=%27.4%27 fill-rule=%27evenodd%27 d=%27M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z%27/%3E%3Cpath fill=%27%23fff%27 d=%27m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z%27/%3E%3Cpath fill=%27%23e1e3e9%27 d=%27M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z%27/%3E%3Cpath d=%27M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z%27 style=%27fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001%27/%3E%3Cg style=%27stroke-width:1.12603545%27%3E%3Cpath d=%27M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668%27 style=%27color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto%27 transform=%27translate%2815.553 2.85%29scale%28.88807%29%27/%3E%3Cpath d=%27M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3%27 style=%27clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4%27 transform=%27translate%2815.553 2.85%29scale%28.88807%29%27/%3E%3Cpath d=%27M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z%27 style=%27clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4%27 transform=%27translate%2815.553 2.85%29scale%28.88807%29%27/%3E%3C/g%3E%3C/svg%3E"},70085:function($,F,m){var L=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],D=typeof globalThis>"u"?m.g:globalThis;$.exports=function(){for(var E=[],T=0;T<L.length;T++)typeof D[L[T]]=="function"&&(E[E.length]=L[T]);return E}},23648:function($){$.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},2362:function($){$.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},87486:function($){$.exports=JSON.parse('["normal","italic","oblique"]')},99803:function($){$.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},54324:function($){$.exports=JSON.parse('["inherit","initial","unset"]')},94316:function($){$.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},xr={};function or($){var F=xr[$];if(F!==void 0)return F.exports;var m=xr[$]={id:$,exports:{}};return Cr[$].call(m.exports,m,m.exports,or),m.exports}return or.m=Cr,or.n=function($){var F=$&&$.__esModule?function(){return $.default}:function(){return $};return or.d(F,{a:F}),F},or.d=function($,F){for(var m in F)or.o(F,m)&&!or.o($,m)&&Object.defineProperty($,m,{enumerable:!0,get:F[m]})},or.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),or.o=function($,F){return Object.prototype.hasOwnProperty.call($,F)},or.r=function($){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})},or.b=document.baseURI||self.location.href,or.nc=void 0,or(58336)}()})})(mi);var yi=mi.exports;const Eo=ko(yi),Co=So({__proto__:null,default:Eo},[yi]);export{Co as p};
